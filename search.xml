<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[[Swift5.1] 4-Êûö‰∏æ]]></title>
    <url>%2F2020%2F05%2F31%2FSwift5-1-4-%E6%9E%9A%E4%B8%BE%2F</url>
    <content type="text"><![CDATA[Êûö‰∏æÁöÑÂü∫Êú¨Áî®Ê≥ïenum Direction { case north case south case east case west } Á≠â‰ª∑‰∫é‰∏äËæπ‰ª£Á†Å enum Direction { case north, south, east, west } var dir = Direction.west dir = Direction.east dir = .north print(dir) // north switch dir { case .north: print("north") case .south: print("south") case .east: print("east") case .west: print("west") } ÂÖ≥ËÅîÂÄºÔºàAssociated ValuesÔºâ ÊúâÊó∂Â∞ÜÊûö‰∏æÁöÑÊàêÂëòÂÄºË∑üÂÖ∂‰ªñÁ±ªÂûãÁöÑÂÄºÂÖ≥ËÅîÂ≠òÂÇ®Âú®‰∏ÄËµ∑Ôºå‰ºöÈùûÂ∏∏ÊúâÁî® enum Score { case points(Int) case grade(Character) } var score = Score.points(96) score = .grade("A") switch score { case let .points(i): print(i, "points") case let .grade(i): print("grade", i) } // grade A ÂøÖË¶ÅÊó∂let‰πüÂèØ‰ª•Êîπ‰∏∫var enum Date { case digit(year: Int, month: Int, day: Int) case string(String) } var date = Date.digit(year: 2011, month: 9, day: 10) date = .string("2011-09-10") switch date { case .digit(let year, let month, let day): print(year, month, day) case let .string(value): print(value) } // 2011-09-10 ÂÖ≥ËÅîÂÄº‰∏æ‰æã enum Password { case number(Int, Int, Int, Int) case gesture(String) } var pwd = Password.number(3, 5, 7, 8) pwd = .gesture("12369") switch pwd { case let .number(n1, n2, n3, n4): print("number is ", n1, n2, n3, n4) case let .gesture(str): print("gesture is", str) } // gesture is 12369 ÂéüÂßãÂÄºÔºàRaw ValuesÔºâ Êûö‰∏æÊàêÂëòÂèØ‰ª•‰ΩøÁî®Áõ∏ÂêåÁ±ªÂûãÁöÑÈªòËÆ§ÂÄºÈ¢ÑÂÖàÂØπÂ∫îÔºåËøô‰∏™ÈªòËÆ§ÂÄºÂè´ÂÅöÔºöÂéüÂßãÂÄº enum PokerSuit : Character { case spade = "‚ô†" case heart = "‚ô•" case diamond = "‚ô¶" case club = "‚ô£" } var suit = PokerSuit.spade print(suit) // spade print(suit.rawValue) // ‚ô† print(PokerSuit.club.rawValue) // ‚ô£ enum Grade : String { case perfect = "A" case great = "B" case good = "C" case bad = "D" } print(Grade.perfect.rawValue) // A print(Grade.great.rawValue) // B print(Grade.good.rawValue) // C print(Grade.bad.rawValue) // D Ê≥®ÊÑèÔºöÂéüÂßãÂÄº‰∏çÂç†Áî®Êûö‰∏æÂèòÈáèÁöÑÂÜÖÂ≠ò ÂÖ≥ËÅîÂÄº‰∏éÂéüÂßãÂÄºÂå∫Âà´:Â¶ÇÊûúÊûö‰∏æÂèòÈáèÊòØÂÖ≥ËÅîÂÄº,ÂèØ‰ª•‰º†ÂÖ•ÂÖ∑‰ΩìÂÄºËøõË°åÂÖ≥ËÅî, ‰º†ÂÖ•ÁöÑÂÄº‰ºöÊîæÂú®Êûö‰∏æÂèòÈáèÂÜÖÂ≠òÈáåÈù¢ . Â¶ÇÊûúÊûö‰∏æÁ±ªÂûãÂêéÊúâÂÜíÂè∑ËøôÁßçÂè´ÂéüÂßãÂÄº, ÂéüÂßãÂÄºÊØè‰∏™ÊàêÂëò‰∏ÄÂºÄÂßãÂ∞±ÁªëÂÆöÊ≠ªÂÖ≥ËÅîÂ•ΩÁöÑ, ÂéüÂßãÂÄº‰∏çÂç†Áî®Êûö‰∏æÂèòÈáèÁöÑÂÜÖÂ≠ò. ÈöêÂºèÂéüÂßãÂÄºÔºàImplicitly Assigned Raw ValuesÔºâ Â¶ÇÊûúÊûö‰∏æÁöÑÂéüÂßãÂÄºÁ±ªÂûãÊòØInt„ÄÅStringÔºåSwift‰ºöËá™Âä®ÂàÜÈÖçÂéüÂßãÂÄº enum Direction : String { case north = "north" case south = "south" case east = "east" case west = "west" } Á≠â‰ª∑‰∫é enum Direction : String { case north, south, east, west } print(Direction.north) // north print(Direction.north.rawValue) // north enum Season : Int { case spring, summer, autumn, winter } print(Season.spring.rawValue) //0 print(Season.summer.rawValue) //1 print(Season.autumn.rawValue) //2 print(Season.winter.rawValue) //3 enum Season : Int { case spring = 1, summer, autumn = 4, winter } print(Season.spring.rawValue) // 1 print(Season.summer.rawValue) // 2 print(Season.autumn.rawValue) // 4 print(Season.winter.rawValue) // 5 ÈÄíÂΩíÊûö‰∏æÔºàRecursive EnumerationÔºâÈÄíÂΩíÊûö‰∏æÂâçÈúÄË¶ÅÂä†ÂÖ≥ÈîÆÂ≠óindirect indirect enum ArithExpr { case number(Int) case sum(ArithExpr, ArithExpr) case difference(ArithExpr, ArithExpr) } enum ArithExpr { case number(Int) indirect case sum(ArithExpr, ArithExpr) indirect case difference(ArithExpr, ArithExpr) } let five = ArithExpr.number(5) let four = ArithExpr.number(4) let two = ArithExpr.number(2) let sum = ArithExpr.sum(five, four) let difference = ArithExpr.difference(sum, two) func calculate(_ expr: ArithExpr) -> Int { switch expr { case let .number(value): return value case let .sum(left, right): return calculate(left) + calculate(right) case let .difference(left, right): return calculate(left) - calculate(right) } } calculate(difference) //7 MemoryLayoutÂèØ‰ª•‰ΩøÁî®MemoryLayoutËé∑ÂèñÊï∞ÊçÆÁ±ªÂûãÂç†Áî®ÁöÑÂÜÖÂ≠òÂ§ßÂ∞è enum Password { case number(Int, Int, Int, Int) case other } MemoryLayout&lt;Password>.stride // 40, ÂàÜÈÖçÂç†Áî®ÁöÑÁ©∫Èó¥Â§ßÂ∞è MemoryLayout&lt;Password>.size // 33, ÂÆûÈôÖÁî®Âà∞ÁöÑÁ©∫Èó¥Â§ßÂ∞è MemoryLayout&lt;Password>.alignment // 8, ÂØπÈΩêÂèÇÊï∞ var pwd = Password.number(9, 8, 6, 4) pwd = .other MemoryLayout.stride(ofValue: pwd) // 40 MemoryLayout.size(ofValue: pwd) // 33 MemoryLayout.alignment(ofValue: pwd) // 8 ÊÄùËÄÉ‰∏ãÈù¢Êûö‰∏æÂèòÈáèÁöÑÂÜÖÂ≠òÂ∏ÉÂ±Ä?enum TestEnum { case test1, test2, test3 } var t = TestEnum.test1 t = .test2 t = .test3 enum TestEnum : Int { case test1 = 1, test2 = 2, test3 = 3 } var t = TestEnum.test1 t = .test2 t = .test3 enum TestEnum { case test } var t = TestEnum.test enum TestEnum { case test(Int) } var t = TestEnum.test(10) enum TestEnum { case test1(Int, Int, Int) case test2(Int, Int) case test3(Int) case test4(Bool) case test5 } var e = TestEnum.test1(1, 2, 3) e = .test2(4, 5) e = .test3(6) e = .test4(true) e = .test5 ÂÆÉ‰ª¨ÁöÑswitchËØ≠Âè•Â∫ïÂ±ÇÂèàÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºü Ëøõ‰∏ÄÊ≠•ËßÇÂØü‰∏ãÈù¢Êûö‰∏æÁöÑÂÜÖÂ≠òÂ∏ÉÂ±Äenum TestEnum { case test0 case test1 case test2 case test4(Int) case test5(Int, Int) case test6(Int, Int, Int, Bool) } enum TestEnum { case test0 case test1 case test2 case test4(Int) case test5(Int, Int) case test6(Int, Bool, Int) } enum TestEnum { case test0 case test1 case test2 case test4(Int) case test5(Int, Int) case test6(Int, Int, Bool, Int) }]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Swift5.1</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[Swift5.1] 3-ÂáΩÊï∞]]></title>
    <url>%2F2020%2F05%2F31%2FSwift5-1-3-%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[ÂáΩÊï∞ÂÆö‰πâ ÂΩ¢ÂèÇÈªòËÆ§ÊòØletÔºå‰πüÂè™ËÉΩÊòØlet func pi() -> Double { return 3.14 } func sum(v1: Int, v2: Int) -> Int { return v1 + v2 } sum(v1: 10, v2: 20) Êó†ËøîÂõûÂÄº func sayHello() -> Void { print("Hello") } func sayHello() -> () { print("Hello") } func sayHello() { print("Hello") } ËøîÂõûÂÄºÔºàÔºâÂÆûË¥®ÊòØÁ©∫ÂÖÉÁªÑ ÈöêÂºèËøîÂõûÔºàImplicit ReturnÔºâ Â¶ÇÊûúÊï¥‰∏™ÂáΩÊï∞‰ΩìÊòØ‰∏Ä‰∏™Âçï‰∏ÄË°®ËææÂºèÔºåÈÇ£‰πàÂáΩÊï∞‰ºöÈöêÂºèËøîÂõûËøô‰∏™Ë°®ËææÂºèÔºåÂèØ‰ª•ÁúÅÁï•return func sum(v1: Int, v2: Int) -> Int { v1 + v2 } sum(v1: 10, v2: 20) // 30 ËøîÂõûÂÖÉÁªÑÔºöÂÆûÁé∞Â§öËøîÂõûÂÄºfunc calculate(v1:Int, v2: Int) -> (sum: Int, difference: Int, average: Int) { let sum = v1 + v2 return (sum, v1 - v2, sum >> 1) } let result = calculate(v1: 20, v2: 10) result.sum // 30 result.difference // 10 result.average // 15 ÂáΩÊï∞ÁöÑÊñáÊ°£Ê≥®Èáä//ÂáΩÊï∞ÁöÑÊñáÊ°£Ê≥®Èáä /// Ê±ÇÂíå„ÄêÊ¶ÇËø∞„Äë /// /// Â∞Ü2‰∏™Êï¥Êï∞Áõ∏Âä†„ÄêÊõ¥ËØ¶ÁªÜÁöÑÊèèËø∞„Äë /// /// - Parameter v1: Á¨¨1‰∏™Êï¥Êï∞ /// - Parameter v2: Á¨¨2‰∏™Êï¥Êï∞ /// - Returns: 2‰∏™Êï¥Êï∞ÁöÑÂíå /// /// - Note:‰º†ÂÖ•2‰∏™Êï¥Êï∞Âç≥ÂèØ„ÄêÊâπÊ≥®„Äë /// func sum(v1: Int, v2: Int) -> Int { v1 + v2 } ÂèÇËÄÉ: https://swift.org/documentation/api-design-guidelines/ ÂèÇÊï∞Ê†áÁ≠æÔºàArgument LabelÔºâ ÂèØ‰ª•‰øÆÊîπÂèÇÊï∞Ê†áÁ≠æ //time Áî®Âú®ÂáΩÊï∞‰Ωì‰∏≠Ôºå atÁî®Âú®ÂáΩÊï∞Ë∞ÉÁî® func goToWork(at time: String) { print("this time is \(time)") } goToWork(at: "08:00") // this time is 08:00 ÂèØ‰ª•‰ΩøÁî®‰∏ãÂàíÁ∫ø _ ÁúÅÁï•ÂèÇÊï∞Ê†áÁ≠æ func sum(_ v1:Int, _ v2:Int) -> Int { v1 + v2 } sum(10, 20) ÈªòËÆ§ÂèÇÊï∞ÂÄºÔºàDefault Parameter ValueÔºâ ÂèÇÊï∞ÂèØ‰ª•ÊúâÈªòËÆ§ÂÄº func check(name: String = "nobody", age: Int, job: String = "none") { print("name=\(name), age=\(age), job=\(job)") } check(name: "Jack", age: 20, job: "Doctor") // name=Jack, age=20, job=Doctor check(name: "Rose", age: 18) // name=Rose, age=18, job=none check(age: 10, job: "Batman") // name=nobody, age=10, job=Batman check(age: 15) // name=nobody, age=15, job=none C++ÁöÑÈªòËÆ§ÂèÇÊï∞ÂÄºÊúâ‰∏™ÈôêÂà∂ÔºöÂøÖÈ°ª‰ªéÂè≥ÂæÄÂ∑¶ËÆæÁΩÆ„ÄÇÁî±‰∫éSwiftÊã•ÊúâÂèÇÊï∞Ê†áÁ≠æÔºåÂõ†Ê≠§Âπ∂Ê≤°ÊúâÊ≠§Á±ªÈôêÂà∂ ‰ΩÜÊòØÂú®ÁúÅÁï•ÂèÇÊï∞Ê†áÁ≠æÊó∂ÔºåÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑèÔºåÈÅøÂÖçÂá∫Èîô ËøôÈáåÁöÑmiddle‰∏çÂèØ‰ª•ÁúÅÁï•ÂèÇÊï∞Ê†áÁ≠æ func test(_ first: Int = 10, middle: Int, _ last: Int = 30) { } test(middle: 20) ÂèØÂèòÂèÇÊï∞ÔºàVariadic ParameterÔºâfunc sum(_ numbers: Int...) -> Int { var total = 0 for number in numbers { total += number } return total } sum(10, 20, 30, 40) // 100 ‰∏Ä‰∏™ÂáΩÊï∞ÊúÄÂ§öÂè™ËÉΩÊúâ1‰∏™ÂèØÂèòÂèÇÊï∞ Á¥ßË∑üÂú®ÂèØÂèòÂèÇÊï∞ÂêéÈù¢ÁöÑÂèÇÊï∞‰∏çËÉΩÁúÅÁï•ÂèÇÊï∞Ê†áÁ≠æ // ÂèÇÊï∞string‰∏çËÉΩÁúÅÁï•Ê†áÁ≠æ func test(_ numbers: Int..., string: String, _ other: String) { } test(10, 20, 30, string: "Jack", "Rose") SwiftËá™Â∏¶ÁöÑprintÂáΩÊï∞/// - Parameters: /// - items: Zero or more items to print. /// - separator: A string to print between each item. The default is a single /// space (`" "`). /// - terminator: The string to print after all items have been printed. The /// default is a newline (`"\n"`). public func print(_ items: Any..., separator: String = " ", terminator: String = "\n") print(1, 2, 3, 4, 5) //1 2 3 4 5 print(1, 2, 3, 4, 5, separator: "_") //1_2_3_4_5 print("My name is Jake.", terminator: "") print("My age is 18.") // My name is Jake.My age is 18. ËæìÂÖ•ËæìÂá∫ÂèÇÊï∞ÔºàIn-Out ParameterÔºâ ÂèØ‰ª•Áî®inoutÂÆö‰πâ‰∏Ä‰∏™ËæìÂÖ•ËæìÂá∫ÂèÇÊï∞ÔºöÂèØ‰ª•Âú®ÂáΩÊï∞ÂÜÖÈÉ®‰øÆÊîπÂ§ñÈÉ®ÂÆûÂèÇÁöÑÂÄº func swapValues(_ v1: inout Int, _ v2: inout Int) { let tmp = v1 v1 = v2 v2 = tmp } var num1 = 10 var num2 = 20 swapValues(&amp;num1, &amp;num2) func swapValues(_ v1: inout Int, _ v2 : inout Int) { (v1, v2) = (v2, v1) } ÂèØÂèòÂèÇÊï∞‰∏çËÉΩÊ†áËÆ∞‰∏∫inout inoutÂèÇÊï∞‰∏çËÉΩÊúâÈªòËÆ§ÂÄº inoutÂèÇÊï∞Âè™ËÉΩ‰º†ÂÖ•ÂèØ‰ª•Ë¢´Â§öÊ¨°ËµãÂÄºÁöÑ ‰∏äËæπÊâÄÁ§∫‰ª£Á†Å‰∏≠inoutÂèÇÊï∞ÁöÑÊú¨Ë¥®ÊòØÂú∞ÂùÄ‰º†ÈÄíÔºàÂºïÁî®‰º†ÈÄíÔºâ Â¶ÇÊûú‰º†ÈÄíÁªôinoutÂèÇÊï∞ÊòØËÆ°ÁÆóÂ±ûÊÄß, ÊúâÁõëÂê¨Âô®ÁöÑÂ±ûÊÄßÁ≠âÂÜÖÂÆπ, ÂÖ∂Êú¨Ë¥®Âπ∂ÈùûÂºïÁî®‰º†ÈÄí,Âú®[Â±ûÊÄß]Á´†ËäÇÂú®ÂÅöËØ¶ÁªÜËÆ≤Ëß£ ÂáΩÊï∞ÈáçËΩΩÔºàFunction OverloadÔºâËßÑÂàô: ÂáΩÊï∞ÂêçÁõ∏Âêå ÂèÇÊï∞‰∏™Êï∞‰∏çÂêå || ÂèÇÊï∞Á±ªÂûã‰∏çÂêå || ÂèÇÊï∞Ê†áÁ≠æ‰∏çÂêå func sum(v1: Int, v2: Int) -> Int { v1 + v2 } func sum(v1: Int, v2: Int, v3: Int) -> Int { v1 + v2 + v3 } // ÂèÇÊï∞‰∏™Êï∞‰∏çÂêå func sum(v1: Int, v2: Double) -> Double { Double(v1) + v2 } // ÂèÇÊï∞Á±ªÂûã‰∏çÂêå func sum(v1: Double, v2: Int) -> Double { v1 + Double(v2) } // ÂèÇÊï∞Á±ªÂûã‰∏çÂêå func sum(_ v1: Int, _ v2: Int) -> Int { v1 + v2 } // ÂèÇÊï∞Ê†áÁ≠æ‰∏çÂêå func sum(a: Int, b: Int) -> Int { a + b } // ÂèÇÊï∞Ê†áÁ≠æ‰∏çÂêå sum(v1: 10, v2: 20) // 30 sum(v1: 10, v2: 20, v3: 30) // 60 sum(v1: 10, v2: 20.0) // 30.0 sum(v1: 10.0, v2: 20) // 30.0 sum(10, 20) // 30 sum(a: 10, b: 20) // 30 ÂáΩÊï∞ÈáçËΩΩÊ≥®ÊÑèÁÇπ ËøîÂõûÂÄºÁ±ªÂûã‰∏éÂáΩÊï∞ÈáçËΩΩÊó†ÂÖ≥ ÈªòËÆ§ÂèÇÊï∞ÂÄºÂíåÂáΩÊï∞ÈáçËΩΩ‰∏ÄËµ∑‰ΩøÁî®‰∫ßÁîü‰∫å‰πâÊÄßÊó∂ÔºåÁºñËØëÂô®Âπ∂‰∏ç‰ºöÊä•ÈîôÔºàÂú®C++‰∏≠‰ºöÊä•ÈîôÔºâ func sum(v1: Int, v2: Int) -> Int { v1 + v2 } func sum(v1: Int, v2: Int, v3: Int = 10) -> Int { v1 + v2 + v3 } // ‰ºöË∞ÉÁî®sum(v1: Int, v2: Int) sum(v1: 10, v2: 20) ÂèØÂèòÂèÇÊï∞„ÄÅÁúÅÁï•ÂèÇÊï∞Ê†áÁ≠æ„ÄÅÂáΩÊï∞ÈáçËΩΩ‰∏ÄËµ∑‰ΩøÁî®‰∫ßÁîü‰∫å‰πâÊÄßÊó∂ÔºåÁºñËØëÂô®ÊúâÂèØËÉΩ‰ºöÊä•Èîô func sum(v1: Int, v2: Int) -> Int { v1 + v2 } func sum(_ v1: Int, _ v2: Int) -> Int { v1 + v2 } func sum(_ numbers: Int...) -> Int { var total = 0 for number in numbers { total += number } return total } // error: ambiguous use of 'sum' sum(10, 20) ÂÜÖËÅîÂáΩÊï∞ÔºàInline FunctionÔºâÂ¶ÇÊûúÂºÄÂêØ‰∫ÜÁºñËØëÂô®‰ºòÂåñÔºàReleaseÊ®°ÂºèÈªòËÆ§‰ºöÂºÄÂêØ‰ºòÂåñÔºâÔºåÁºñËØëÂô®‰ºöËá™Âä®Â∞ÜÊüê‰∫õÂáΩÊï∞ÂèòÊàêÂÜÖËÅîÂáΩÊï∞ Â∞ÜÂáΩÊï∞Ë∞ÉÁî®Â±ïÂºÄÊàêÂáΩÊï∞‰Ωì Âì™‰∫õÂáΩÊï∞‰∏ç‰ºöË¢´Ëá™Âä®ÂÜÖËÅîÔºü ÂáΩÊï∞‰ΩìÊØîËæÉÈïø ÂåÖÂê´ÈÄíÂΩíË∞ÉÁî® ÂåÖÂê´Âä®ÊÄÅÊ¥æÂèë @inline Ê∞∏Ëøú‰∏ç‰ºöË¢´ÂÜÖËÅîÔºàÂç≥‰ΩøÂºÄÂêØ‰∫ÜÁºñËØëÂô®‰ºòÂåñÔºâ @inline(never) func test() { print("test") } ÂºÄÂêØÁºñËØëÂô®‰ºòÂåñÂêéÔºåÂç≥‰Ωø‰ª£Á†ÅÂæàÈïøÔºå‰πü‰ºöË¢´ÂÜÖËÅîÔºàÈÄíÂΩíË∞ÉÁî®ÂáΩÊï∞„ÄÅÂä®ÊÄÅÊ¥æÂèëÁöÑÂáΩÊï∞Èô§Â§ñÔºâ @inline( always) func test() { print("test") } Âú®ReleaseÊ®°Âºè‰∏ãÔºåÁºñËØëÂô®Â∑≤ÁªèÂºÄÂêØ‰ºòÂåñÔºå‰ºöËá™Âä®ÂÜ≥ÂÆöÂì™‰∫õÂáΩÊï∞ÈúÄË¶ÅÂÜÖËÅîÔºåÂõ†Ê≠§Ê≤°ÂøÖË¶Å‰ΩøÁî®@inline ÂáΩÊï∞Á±ªÂûãÔºàFunction TypeÔºâÊØè‰∏Ä‰∏™ÂáΩÊï∞ÈÉΩÊòØÊúâÁ±ªÂûãÁöÑÔºåÂáΩÊï∞Á±ªÂûãÁî±ÂΩ¢ÂºèÂèÇÊï∞Á±ªÂûã„ÄÅËøîÂõûÂÄºÁ±ªÂûãÁªÑÊàê func test() { } // () -> Void ÊàñËÄÖ () -> () func sum(a:Int, b:Int) -> Int{ a + b } //(Int, Int) -> Int // ÂÆö‰πâÂèòÈáè var fn: (Int, Int) -> Int = sum fn(2, 3) // 5ÔºåË∞ÉÁî®Êó∂‰∏çÈúÄË¶ÅÂèÇÊï∞Ê†áÁ≠æ ÂáΩÊï∞Á±ªÂûã‰Ωú‰∏∫ÂáΩÊï∞ÂèÇÊï∞func sum(v1: Int, v2: Int) -> Int { v1 + v2 } func difference(v1: Int, v2: Int) -> Int { v1 - v2 } func printResult(_ mathFn: (Int, Int) -> Int, _ a: Int, _ b: Int) { print("Result: \(mathFn(a, b))") } printResult(sum, 5, 2) // Result: 7 printResult(difference, 5, 2) // Result: 3 ÂáΩÊï∞Á±ªÂûã‰Ωú‰∏∫ÂáΩÊï∞ËøîÂõûÂÄº ËøîÂõûÂÄºÊòØÂáΩÊï∞Á±ªÂûãÁöÑÂáΩÊï∞ÔºåÂè´ÂÅöÈ´òÈò∂ÂáΩÊï∞ÔºàHigher-Order FunctionÔºâ func next(_ input: Int) -> Int { input + 1 } func previous(_ input: Int) -> Int { input - 1 } func forward(_ forward: Bool) -> (Int) -> Int { forward ? next : previous } forward(true)(3) // 4 forward(false)(3) // 2 typealias typealiasÁî®Êù•ÁªôÁ±ªÂûãËµ∑Âà´Âêç typealias Byte = Int8 typealias Short = Int16 typealias Long = Int64 ÁªôÂÖÉÁªÑËµ∑Âà´Âêç typealias Date = (year: Int, month: Int, day: Int) func test(_ date: Date) { print(date.0) print(date.year) } test((2011, 9, 10)) ÁªôÂáΩÊï∞Á±ªÂûãËµ∑Âà´Âêç typealias IntFn = (Int, Int) -> Int func difference(v1: Int, v2: Int) -> Int { v1 - v2 } let fn: IntFn = difference fn(20, 10) // 10 func setFn(_ fn: IntFn) {} setFn(difference) func getFn() -> IntFn { difference } ÊåâÁÖßSwiftÊ†áÂáÜÂ∫ìÁöÑÂÆö‰πâÔºåVoidÂ∞±ÊòØÁ©∫ÂÖÉÁªÑ() public typealias Void = () ÂµåÂ•óÂáΩÊï∞ÔºàNested FunctionÔºâ Â∞ÜÂáΩÊï∞ÂÆö‰πâÂú®ÂáΩÊï∞ÂÜÖÈÉ® func forward(_ forward: Bool) -> (Int) -> Int { func next(_ input: Int) -> Int { input + 1 } func previous(_ input: Int) -> Int { input - 1 } return forward ? next : previous } forward(true)(3) // 4 forward(false)(3) // 2]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Swift5.1</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[Swift5.1] 2-ÊµÅÁ®ãÊéßÂà∂]]></title>
    <url>%2F2020%2F05%2F30%2FSwift5-1-2-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅif-else ËØ≠Âè•let age = 4 if age >= 22 { print("Get married") } else if age >= 18 { print("Being a adult") } else if age >= 7 { print("Go to school") } else { print("Just a child") } ifÂêéÈù¢ÁöÑÊù°‰ª∂ÂèØ‰ª•ÁúÅÁï•Â∞èÊã¨Âè∑ Êù°‰ª∂ÂêéÈù¢ÁöÑÂ§ßÊã¨Âè∑‰∏çÂèØ‰ª•ÁúÅÁï• ifÂêéÈù¢ÁöÑÊù°‰ª∂Âè™ËÉΩÊòØBoolÁ±ªÂûã ‰∫å„ÄÅwhileÂæ™ÁéØËØ≠Âè•var num = 5 while num > 0 { print("num is \(num)") num -= 1 } // ÊâìÂç∞5Ê¨° var num = -1 repeat { print("num is \(num)") }while num > 0 //ÊâìÂç∞1Ê¨° // num is -1 repeat-while Áõ∏ÂΩì‰∫éCËØ≠Ë®Ä‰∏≠ÁöÑdo-while ËøôÈáå‰∏çÁî®num‚Äì ,Âõ†‰∏∫‰ªéswift3ÂºÄÂßã,ÂéªÈô§Ëá™Â¢û(++) „ÄÅ Ëá™Âáè(‚Äì) ËøêÁÆóÁ¨¶ ‰∏â„ÄÅforÂæ™ÁéØËØ≠Âè•1)Âå∫Èó¥ËøêÁÆóÁ¨¶: a‚Ä¶b ‰ª£Ë°® a &lt;= ÂèñÂÄº &lt;= blet name = ["Anna", "Alex", "Brian", "Jack"] for i in 0...3 { print(names[i]) } //Anna Alex Brian Jack Â∏∏ÈáèÂ≠òÂÇ®ÈÅçÂéÜËåÉÂõ¥ let name = ["Anna", "Alex", "Brian", "Jack"] let range = 1...3 //CloseRang&lt;Int> for i in range { print(names[i]) } //Alex Brian Jack Â∏∏ÈáèÂíåÂèòÈáèÂÆö‰πâÂèñÂÄºËåÉÂõ¥ let a = 1 var b = 2 for i in a...b { print(names[i]) } // Alex Brian for i in a...3 { print(names[i]) } // Alex Brian Jack i ÈªòËÆ§Â∞±ÊòØlet , ÊúâÈúÄË¶ÅÊó∂ÂèØ‰ª•Â£∞Êòé‰∏∫var for var i in 1...3 { i += 5 print(i) } // 6 7 8 Âæ™ÁéØ‰∏≠Áî®‰∏çÂà∞ i ÂèØ‰ª•Áî®_ÁúÅÁï• for _ in 1...3 { print("for") } //ÊâìÂç∞3Ê¨° 2)ÂçäÂºÄÂå∫Èó¥ËøêÁÆóÁ¨¶: a‚Ä¶b , a &lt;= ÂèñÂÄº &lt; bfor i in 1..&lt;5 { print(i) } // 1 2 3 4 3) for -Âå∫Èó¥ËøêÁÆóÁ¨¶Áî®Âú®Êï∞ÁªÑ‰∏älet names = ["Anna", "Alex", "Brian", "Jack"] for name in names[0...3] { print(name) } //Anna Alex Brian Jack Âçï‰æßÂå∫Èó¥: ËÆ©Âå∫Èó¥ÊúùÂêå‰∏Ä‰∏™ÊñπÂêëÂ∞ΩÂèØËÉΩÁöÑËøú for name in names[2...] { print(name) } // Brian Jack for name in names[2...] { print(name) } // Brian Jack for name in names[...2] { print(name) } // Anna Alex Brian for name in names[..&lt;2] { print(name) } // Anna Alex let range = ...5 range.contains(7) //false range.contains(4) //ture range.contains(-2) //ture 4) Âå∫Èó¥Á±ªÂûã Èó≠Âå∫Èó¥Á±ªÂûã ClosedRange&lt;Int&gt; ÂçäÂºÄÂçäÈó≠Âå∫Èó¥Á±ªÂûã Range&lt;Int&gt; Âçï‰æßÂå∫Èó¥Á±ªÂûã PartialRangeThrough&lt;Int&gt; let range1 : ClosedRange&lt;Int> = 1...3 let range2 : Range&lt;Int> = 1..&lt;3 let range3 : PartialRangeThrough&lt;Int> = ...5 Â≠óÁ¨¶„ÄÅÂ≠óÁ¨¶‰∏≤‰πüËÉΩ‰ΩøÁî®Âå∫Èó¥ËøêÁÆóÁ¨¶, ‰ΩÜÈªòËÆ§‰∏çËÉΩÁî®Âú®for-in‰∏≠ let stringRange1 = "cc"..."ff" // ClosedRange&lt;String> stringRange1.contains("cb") //false stringRange1.contains("dz") //true stringRange1.contains("fg") //false let stringRange2 = "a"..."f" stringRange2.contains("d") //true stringRange2.contains("h") //false \0Âà∞~ÂõäËøá‰∫ÜÊâÄÊúâÂèØËÉΩË¶ÅÁî®Âà∞ÁöÑASCIIÂ≠óÁ¨¶ let characterRange:ClosedRange&lt;Character> = "\0"..."~" characterRange.contains("G") //true 5) Â∏¶Èó¥ÈöîÁöÑÂå∫Èó¥ÂÄºlet hours = 11 let hourInterval = 2 //tickMark ÁöÑÂèñÂÄº: ‰ªé4ÂºÄÂßã, Á¥ØÂä†2, ‰∏çË∂ÖËøá11 for tickMark in stride(from: 4, to: hours, by: hourInterval) { print(tickMark) } // 4 6 8 10 Âõõ„ÄÅSwitchËØ≠Âè•1)Â∏∏ËßÑÁî®Ê≥ï case„ÄÅdefaultÂêéÈù¢‰∏çËÉΩÂÜôÂ§ßÊã¨Âè∑ var number = 1 switch number { case 1: print(" ") break case 2: print("number is 2") break default: print("number is other") break } // number is 1 ÈªòËÆ§ÂèØ‰ª•‰∏çÂÜôbreak,Âπ∂‰∏ç‰ºöË¥ØÁ©øÂà∞ÂêéÈù¢ÁöÑÊù°‰ª∂ switch number { case 1: print(" ") case 2: print("number is 2") default: print("number is other") } // number is 1 2) fallthrough ‰ΩøÁî®fallthroughÂèØ‰ª•ÂÆûÁé∞Ë¥ØÁ©øÊïàÊûú var number = 1 switch number { case 1: print("number is 1") fallthrough case 2: print("number is 2") default: print("number is other") } // number is 1 // number is 2 3) switchÊ≥®ÊÑèÁÇπ switch ÂøÖÈ°ªË¶Å‰øùËØÅËÉΩÂ§ÑÁêÜÊâÄÊúâÊÉÖÂÜµ case „ÄÅdefaultË¶ÅÂêéÈù¢Ëá≥Â∞ëË¶ÅÊúâ‰∏ÄÊù°ËØ≠Âè• Â¶ÇÊûú‰∏çÊÉ≥ÂÅö‰ªª‰Ωï‰∫ã, Âä†‰∏™breakÂç≥ÂèØ var number = 1 switch number { case 1: print("number is 1") fallthrough case 2: print("number is 2") default: break } Â¶ÇÊûúËÉΩ‰øùËØÅÂ∑≤Â§ÑÁêÜÊâÄÊúâÊÉÖÂÜµ, ‰πüÂèØ‰ª•‰∏çÂøÖ‰ΩøÁî®default enum Answer {case right, wrong} let answer = Answer.right switch answer { case Answer.right: print("right") default: print("wrong") } Áî±‰∫éÂ∑≤Á°ÆÂÆöanswerÊòØAnswerÁ±ªÂûã, Âõ†Ê≠§ÂèØ‰ª•ÁúÅÁï•Answer enum Answer {case right, wrong} let answer = Answer.right switch answer { case .right: print("right") case .wrong: print("wrong") } 4)Â§çÂêàÊù°‰ª∂switch‰πüÊîØÊåÅCharacter String Á±ªÂûã let string = "Jack" switch string { case "Jack": fallthrough case "Rose": print("Right person") default: break } //Right person switch string { case "Jack", "Rose": print("Right person") default: break } //Right person let character : Character = "a" switch character { case "a", "A": print("The letter A") default: print("Not the letter a") } //The letter A 5) Âå∫Èó¥ÂåπÈÖç ÂÖÉÁªÑÂåπÈÖçlet count = 62 switch count { case 0: print("none") case 1..&lt;5: print("a few") case 5..&lt;12: print("several") case 12..&lt;100: print("dozens of") case 100..&lt;1000: print("hundreds of") default: print("many") } // dozens of ÂèØ‰ª•‰ΩøÁî®‰∏ãÂàíÁ∫øÊàñÁï•Êüê‰∏™ÂÄº ÂÖ≥‰∫écaseÂåπÈÖçÈóÆÈ¢ò, Â±û‰∫éÊ®°ÂºèÂåπÈÖç(Pattern Matching)ÁöÑËåÉÁï¥, ‰ª•Âêé‰ºöÂÜçÊ¨°ËØ¶ÁªÜÂ±ïÂºÄËÆ≤Ëß£ let point = (1, 1) switch point { case (0, 0): print("the origin") case (_, 0): print("on the x-axis") case (0, _): print("on the y-axis") case (-2...2 , -2...2): print("inside the box") default: print("outside of the box") } //inside the box 6) ÂÄºÁªëÂÆö ÂøÖË¶ÅÊó∂let ‰πüÂèØ‰ª•Êîπ‰∏∫var let point = (2, 0) switch point { case (let x , 0): print("on the x-axis with an x value of \(x)") case (0 , let y): print("on the y-axis with an y value of \(y)") case let(x , y): print("somewhere else at (\(x), \(y))") } // on the x-axis with an x value of 2 ‰∫î„ÄÅwhereËØ≠Âè•let point = (1, -1) switch point { case let (x, y) where x == y: print("on the line x == y") case let (x, y) where x == -y: print("on the line x == -y") case let (x, y): print("(\(x), \(y)) is just some arbitrary point") } // on the line x == -y Â∞ÜÊâÄÊúâÊ≠£Êï∞Âä†Ëµ∑Êù• var numbers = [10, 20, -10, -20, 30, -30] var sum = 0 for num in numbers where num > 0 { //‰ΩøÁî®whereËøáÊª§num sum += num } print(sum) //60 ÂÖ≠„ÄÅÊ†áÁ≠æËØ≠Âè•outer: for i in 1...4 { for k in 1...4 { if k == 3 { continue outer } if i == 3 { break outer } print("i == \(i), k == \(k)") } }]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Swift5.1</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[Swift5.1] 1-Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã]]></title>
    <url>%2F2020%2F05%2F30%2FSwift5-1-1-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[SwiftÂºÄÊ∫êÂ∫ì print ÂáΩÊï∞ ‰∏çÁî®ÁºñÂÜômainÂáΩÊï∞, SwiftÂ∞ÜÂÖ®Â±ÄËåÉÂõ¥ÂÜÖÁöÑÈ¶ñÂè•ÂèØÊâßË°å‰ª£Á†Å‰Ωú‰∏∫Á®ãÂ∫èÂÖ•Âè£. ‰∏ÄÂè•‰ª£Á†ÅÂ∞æÈÉ®ÂèØ‰ª•ÁúÅÁï•ÂàÜÂè∑ , Â§öÂè•‰ª£Á†ÅÂÜôÂà∞Âêå‰∏ÄË°åÊó∂ÂøÖÈ°ªÁî®ÂàÜÂè∑( ; )ÈöîÂºÄ Áî®varÂÆö‰πâÂèòÈáè, letÂÆö‰πâÂ∏∏Èáè, ÁºñËØëÂô®ËÉΩËá™Âä®Êé®Êñ≠Âá∫ÂèòÈáè\Â∏∏ÈáèÁöÑÁ±ªÂûã let a = 1 let b = 2 let c = a + b c + = 3 ÊãºÊé•ÊâìÂç∞ var a = 10 print("Hello World! - \(a)") //ÊâìÂç∞ Hello World! - 10 Playground Âø´Êç∑ÈîÆ PlaygroundÂèØ‰ª•Âø´ÈÄüÈ¢ÑËßà‰ª£Á†ÅÊïàÊûú, ÊòØÂ≠¶‰π†ËØ≠Ê≥ïÁöÑÂ•ΩÂ∏ÆÊâã Command + Shift + Enter: ËøêË°åÊï¥‰∏™Playground Shift + Enter ËøêË°åÊà™Ê≠¢Âà∞Êüê‰∏ÄË°å‰ª£Á†Å Ê≥®Èáä// ÂçïË°åÊ≥®Èáä /* Â§öË°åÊ≥®Èáä */ /* a /* Â§öË°åÊ≥®ÈáäÂµåÂ•ó */ b */ Ê≥®ÈáäÊîØÊåÅmarkupËØ≠Ê≥ï, Á±ª‰ººmarkload ÂºÄÂêØmarkupÊ∏≤ÊüìÊïàÊûú: Editor -&gt; Show Rendered Markup Ê≥®ÊÑè: Markup Âè™Âú®Playground Â∏∏Èáè Â∏∏ÈáèÂè™ËÉΩËµãÂÄº‰∏ÄÊ¨° Â∏∏ÈáèÁöÑÂÄº‰∏çË¶ÅÊ±ÇÂú®ÁºñËØëÊó∂ÊúüÁ°ÆÂÆö, ‰ΩÜ‰ΩøÁî®‰πãÂâçÂøÖÈ°ªËµãÂÄº1Ê¨° let age = 10 let age2 : Int age2 = 20 func getAge() -> Int{ return 30; } let age3 = getAge() Â∏∏Èáè, ÂèòÈáèÂú®ÂàùÂßãÂåñÂâç, ÈÉΩ‰∏çËÉΩ‰ΩøÁî® let age : Int var height : Int print(age) //ÈîôËØØÊèêÁ§∫: Constant 'age' used before being initialized print(height) //ÈîôËØØÊèêÁ§∫: Variable 'height' used before being initialized ÂÆö‰πâÂ∏∏ÈáèÊó∂ÔºåÈúÄË¶ÅÊòéÁ°ÆÁ±ªÂûã let age age = 18 //ÈîôËØØÊèêÁ§∫ Found an unexpected second identifier in constant declaration; is there an accidental break? Ê†áËØÜÁ¨¶ Ê†áËØÜÁ¨¶(ÊØîÂ¶ÇÂ∏∏ÈáèÂêç„ÄÅÂèòÈáèÂêç„ÄÅ ÂáΩÊï∞Âêç)Âá†‰πéÂèØ‰ª•‰ΩøÁî®‰ªª‰ΩïÂ≠óÁ¨¶ Ê†áËØÜÁ¨¶‰∏çËÉΩ‰ª•Êï∞Â≠óÂºÄÂ§¥, ‰∏çËÉΩÂåÖÂê´Á©∫ÁôΩÂ≠óÁ¨¶„ÄÅ Âà∂Ë°®Á¨¶„ÄÅ ÁÆ≠Â§¥ÁÅØÁâπÊÆäÂ≠óÁ¨¶ func üê±üçâ() { print("888") } üê±üçâ() let ü•õ = "milk" var üç∫ = "bear" Êï∞ÊçÆÁ±ªÂûã Êï¥Êï∞Á±ªÂûã: Int8„ÄÅInt16„ÄÅInt32„ÄÅInt64„ÄÅUInt8„ÄÅUInt16„ÄÅUInt32„ÄÅUInt64 Âú®32bitÂπ≥Âè∞ÔºåIntÁ≠â‰ª∑‰∫éInt32; Âú®64bitÂπ≥Âè∞ÔºåIntÁ≠â‰ª∑‰∫éInt64 Êï¥Êï∞ÁöÑÊúÄÂÄºÔºöUInt8.max„ÄÅInt16.min ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÈÉΩÊòØÁõ¥Êé•‰ΩøÁî®IntÂç≥ÂèØ ÊµÆÁÇπÁ±ªÂûãÔºöFloat, 32‰ΩçÔºåÁ≤æÂ∫¶Âè™Êúâ6‰ΩçÔºõ Double, 64‰ΩçÔºåÁ≤æÂ∫¶Ëá≥Â∞ë15‰Ωç Â≠óÈù¢Èáè Â∏ÉÂ∞î let bool = true //ÂèñÂèçÊòØfalse Â≠óÁ¨¶‰∏≤ let string = "‰Ω†Â•Ω" Â≠óÁ¨¶(ÂèØÂ≠òÂÇ®ASCIIÂ≠óÁ¨¶„ÄÅUnicodeÂ≠óÁ¨¶) let character: Character = "üçé" Êï¥Êï∞ let intDecimal = 18 //ÂçÅËøõÂà∂ let intBinary = 0b10001 //‰∫åËøõÂà∂ let intOctal = 0o33 //ÂÖ´ËøõÂà∂ let intHexadecimal = 0x13 //ÂçÅÂÖ≠ËøõÂà∂ Êï¥Êï∞ÂíåÊµÆÁÇπÊï∞ÂèØ‰ª•Ê∑ªÂä†È¢ùÂ§ñÁöÑÈõ∂ÊàñËÄÖÊ∑ªÂä†‰∏ãÂàíÁ∫øÊù•Â¢ûÂº∫ÂèØËØªÊÄß 100_1000„ÄÅ1_000_000.000_000_1„ÄÅ000123.456 ÊµÆÁÇπÊï∞ let doubleDecimal = 123.0 //ÂçÅËøõÂà∂ÔºåÁ≠â‰ª∑‰∫é1.23e2, 0.0123Á≠â‰ª∑‰∫é1.23e-2 let doubleHexadecimal1 = 0xFp2 //ÂçÅÂÖ≠ËøõÂà∂ÔºåÊÑèÂë≥ÁùÄ15*2^2, Áõ∏ÂΩì‰∫éÂçÅËøõÂà∂60.0 let doubleHexadecimal2 = 0xFp-2 //ÂçÅÂÖ≠ËøõÂà∂ÔºåÊÑèÂë≥ÁùÄ15*2^-2, Áõ∏ÂΩì‰∫éÂçÅËøõÂà∂3.75 ‰ª•‰∏ãË°®Á§∫12.3456ÂçÅËøõÂà∂Ôºö12.3456 1.23456e1ÂçÅÂÖ≠ËøõÂà∂Ôºö0xC.3p0 Êï∞ÁªÑ let array = [1, 3, 5, 7, 9] Â≠óÂÖ∏ let dictionary = ["age" : 18, "height" : 177, "weight": 130] Á±ªÂûãËΩ¨Êç¢ Êï¥Êï∞ËΩ¨Êç¢ let int1: UInt16 = 2_000 let int2: UInt8 = 1 let int3 = int1 + UInt16(int2) //2001 Êï¥Êï∞ ÊµÆÁÇπÊï∞ËΩ¨Êç¢ let int = 3 let double = 0.14157 let pi = Double(int) + double //3.14157 let intPi = Int(pi) //3 Â≠óÈù¢ÈáèÂèØ‰ª•Áõ¥Êé•Áõ∏Âä†, ‰ª•‰∏∫Êï∞Â≠óÂ≠óÈù¢ÈáèÊú¨Ë∫´Ê≤°ÊúâÊòéÁ°ÆÁöÑÁ±ªÂûã let result = 3 + 0.14159 //3.14159 ÂÖÉÁªÑ//ÈÄöËøá‰∏ãÊ†áËÆøÈóÆÂÖÉÁªÑÂÖÉÁ¥† let http404Error = (404, "Not Found") print("The status code is \(http40Error.0)") //The status code is 404 //Â∞Ühttp404Error‰∏≠ÂÖÉÁ¥†, ‰∏Ä‰∏ÄÂØπÂ∫îÁªôÊñ∞ÂÖÉÁªÑÂÖÉÁ¥† let (statusCode, statusMessage) = http404Error print("The status code is \(statusCode)") // The status code is 404 // _‰ª£Ë°®Á¨¨‰∫å‰∏™ÂèÇÊï∞‰∏çÊé•Êî∂ let (justTheStatusCode, _) = http404Error //‰ª•Ê†áÁ≠æÂΩ¢ÂºèÂàùÂßãÂåñÂÖÉÁªÑ, ÂèØ‰ª•ÈÄöËøáÊ†áÁ≠æËÆøÈóÆÂÖÉÁ¥† let http200Status = (statusCode:200, description:"OK") print("The status code is \(http200Status.statusCode)") //The status code is 200]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>Swift5.1</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨12Á´† Á¨¨‰∏âÊñπÊ°ÜÊû∂Áõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F29%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC12%E7%AB%A0-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Ê≥®ÊÑèÔºöÊú¨Êñá‰∏ªËÆ≤Á¨¨‰∏âÊñπÊ°ÜÊû∂Áõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨AFNetworking„ÄÅSDWebImageView„ÄÅReactive Cocoa„ÄÅAsyncDisplayKit„ÄÇ ‰∏Ä„ÄÅAFNetworking1„ÄÅAFNÊ°ÜÊû∂ÂõæÈóÆÈ¢ò:AFNetworkingÊï¥‰ΩìÊ°ÜÊû∂ÊòØÊÄéÊ†∑ÁöÑ? ‰ºöËØùÂ±Ç:NSURLSession ÁΩëÁªúÁõëÂê¨Ê®°Âùó:ÁõëÂê¨ÁΩëÁªúÂèòÂåñ ËøõË°åÈÄªËæëÂ§ÑÁêÜ ÁΩëÁªúÂÆâÂÖ®Ê®°Âùó: ËØ∑Ê±ÇÂ∫èÂàóÂåñ ÂìçÂ∫îÂ∫èÂàóÂåñ UIKitÈõÜÊàêÊ®°Âùó 2„ÄÅAFN‰∏ªË¶ÅÁ±ªÂÖ≥Á≥ªÂõæ AFURLSessionManager ÂäüËÉΩ ÂàõÂª∫ÂíåÁÆ°ÁêÜNSURLSession„ÄÅNSURLSessionTask ÂÆûÁé∞NSURLSessionDelegateÁ≠âÂçèËÆÆÁöÑ‰ª£ÁêÜÊñπÊ≥ï .Áî®Êù•Â§ÑÁêÜÁΩëÁªúËØ∑Ê±ÇËøáÁ®ã‰∏≠ÈáçÂÆöÂêë, Ê†∏ÂøÉÁöÑÁΩëÁªúÂìçÂ∫îÊï∞ÊçÆÂ§ÑÁêÜ. ÂºïÂÖ•AFSecurityPolicy‰øùËØÅËØ∑Ê±ÇÂÆâÂÖ®.ÊØîÂ¶ÇÂèëÈÄÅhttpsËØ∑Ê±ÇÊó∂, ‰ºöÊ∂âÂèäËØÅ‰π¶Ê†°È™å, ÂÖ¨Èí•È™åËØÅÁ≠â ÂºïÂÖ•AFNetworkReachabilityManagerÁõëÊéßÁΩëÁªúÁä∂ÊÄÅ ÂèëÈÄÅ‰∏Ä‰∏™GETÊñπÂºèÁöÑHTTPËØ∑Ê±Ç ‰∫å„ÄÅSDWebImageView ÂºÇÊ≠•‰∏ãËΩΩÂõæÁâáÂπ∂‰∏îÊîØÊåÅÁºìÂ≠òÁöÑÊ°ÜÊû∂ Ê°ÜÊû∂ÁÆÄÂõæ UIImageView+ WebCache : SDWebImageManager : Ê†∏ÂøÉÂ∑•‰ΩúÁ±ª SDImageCache : ÂõæÁâáÁºìÂ≠ò: Á£ÅÁõòÁºìÂ≠òÂ§ÑÁêÜ + ÂÜÖÂ≠òÁºìÂ≠òÂ§ÑÁêÜ SDWebImageDownloader: ÂõæÁâá‰∏ãËΩΩÂô® Âä†ËΩΩÂõæÁâáÊµÅÁ®ã1.È¶ñÂÖàÊ†πÊçÆÁõ∏Â∫îÂõæÁâáËØ∑Ê±ÇURLÊâÄÂØπÂ∫îÁöÑkey, Êü•ÊâæÂÜÖÂ≠òÁºìÂ≠ò, Â¶ÇÊûúÊâæÂà∞ËøîÂõûÁªôË∞ÉÁî®Êñπ2.Â¶ÇÊûúÊ≤°ÊúâÊü•ÊâæÂà∞,Êü•ÊâæÁ£ÅÁõòÁºìÂ≠ò,Â¶ÇÊûúÊâæÂà∞ËøîÂõûÁªôË∞ÉÁî®Êñπ3.Â¶ÇÊûúÁ£ÅÁõòÁºìÂ≠òÊ≤°ÊúâÊü•ÊâæÂà∞,Â∞±ËøõË°åÁõ∏Â∫îÁöÑÁΩëÁªú‰∏ãËΩΩ ‰∏â„ÄÅReactive CocoaÂáΩÊï∞ÂìçÂ∫îÂºèÁºñÁ®ãÊ°ÜÊû∂ Ê¶ÇÂøµRACÈ¶ñÂÖàÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂìçÂ∫îÂºèÁºñÁ®ãÁöÑÁ¨¨‰∏âÊñπÂ∫ì 1)‰ø°Âè∑RAC‰∏≠ÁöÑÊ†∏ÂøÉÁ±ªRACSignal ,RACSignalÁªßÊâøËá™RACStreamRACSignal‰∏ªË¶ÅÊúâ4‰∏™Â≠êÁ±ª: RACDynamicSignal: RACReturnSignal: RACEmptySignal RACErrorSignal ‰ø°Âè∑‰ª£Ë°®‰∏ÄËøû‰∏≤ÁöÑÁä∂ÊÄÅ,Ëøô‰πà‰∏Ä‰∏™Á±ªÁöÑÂ∞ÅË£Ö. Âú®Áä∂ÊÄÅÊîπÂèòÊòØ,ÂØπÂ∫îÁöÑËÆ¢ÈòÖËÄÖRACSubScriberÂ∞±‰ºöÊî∂Âà∞ÈÄöÁü•ÊâßË°åÁõ∏Â∫îÁöÑÂëΩ‰ª§ RAC‰ΩøÁî®Á±ªÁ∞áÊ®°Âºè, ÊäΩË±°Â∑•ÂéÇÊ®°Âºè. ËøîÂõûÁöÑÂØπË±°ÈÉΩÊòØÂêå‰∏Ä‰∏™ÂØπË±°, ÂÆûÈôÖ‰∏äÈÄöËøá‰∏çÂêåÊñπÊ≥ïÂàõÂª∫Âá∫Êù•ÁöÑÂÖ∑‰ΩìÂØπË±°‰πü‰∏çÂêå. 2)ËÆ¢ÈòÖRACSubScriberÈóÆÈ¢ò:ÊÄéÊ†∑ÂÆûÁé∞ËÆ¢ÈòÖ? ÈóÆÈ¢ò:ËÆ¢ÈòÖÂÜÖÈÉ®ÊâßË°åÂéüÁêÜ? ‰∫ßÁîüRACSubScriberÁ±ªÂêé, ÂÜÖÈÉ®ÊåÅÊúâ‰∏Ä‰∏™blockÁ±ªÂûãÁöÑÊàêÂëòÂèòÈáèdidSubscribe, Ë∞ÉÁî®RACSubScriber ÁöÑsendNextÊñπÊ≥ïÊó∂ÂÆûÈôÖË∞ÉÁî®ÂÜÖÈÉ®‰øùÂ≠òÁöÑblock { [RACSignal return:@3]; [RACSignal subScribedNext:^(id x){ NSLog(@&quot;%@&quot;, x); }] } Âõõ„ÄÅAsyncDisplayKit ÊèêÂçáiOSÁïåÈù¢Ê∏≤ÊüìÊÄßËÉΩÁöÑ‰∏Ä‰∏™Ê°ÜÊû∂ 1„ÄÅASDKÂ§ÑÁêÜÈóÆÈ¢òÈóÆÈ¢ò: AsyncDisplayKit‰∏ªË¶ÅÂ§ÑÁêÜ‰ªÄ‰πàÈóÆÈ¢ò? ‰∏ªË¶ÅÈÄöËøáÂáèËΩª‰∏ªÁ∫øÁ®ãÂéãÂäõ, Â∞ÜÊõ¥Â§öÁöÑ‰∫ãÊÉÖÂ∞ΩÈáèÊå™Âà∞Â≠êÁ∫øÁ®ãÂéªÂÅö.‰∏ªË¶ÅÂàÜ3ÊñπÈù¢:1&gt; Layout Ëß£ÂÜ≥Â∏ÉÂ±ÄÁöÑËÄóÊó∂ËøêÁÆó: ÊñáÊú¨ÂÆΩÈ´òËÆ°ÁÆóÂíåËßÜÂõæÂ∏ÉÂ±ÄËÆ°ÁÆó.ÂÆûÈôÖ‰∏äÂ∞ÜÊñáÊú¨ËÆ°ÁÆóÂíåÂ∏ÉÂ±ÄËÆ°ÁÆóÁî±‰∏ªÁ∫øÁ®ãËøÅÁßªÂà∞Â≠êÁ∫øÁ®ã,Êù•ÂáèÂ∞ë‰∏ªÁ∫øÁ®ãÁöÑÂ∑•‰ΩúÊ∂àËÄó, ËÖæÊå™Âá∫Êõ¥Â§öÊó∂Èó¥ÂìçÂ∫îÁî®Êà∑‰∫§‰∫í.2&gt; Rendering Ê∏≤Êüì: ÊñáÊú¨Ê∏≤Êüì , ÂõæÁâáËß£Á†ÅÂíåÂõæÂΩ¢ÁªòÂà∂.3&gt; UIKit Objects: ÂØπË±°ÂàõÂª∫ ÂØπË±°Ë∞ÉÊï¥ ÂØπË±°ÈîÄÊØÅ 2„ÄÅASDKÂü∫Êú¨ÂéüÁêÜ Âü∫Êú¨ÂéüÁêÜ: ÈíàÂØπASNodeÁöÑ‰øÆÊîπÂíåÊèê‰∫§, ‰ºöÂØπÂÖ∂ËøõË°åÂ∞ÅË£ÖÂπ∂Êèê‰∫§Âà∞‰∏Ä‰∏™ÂÖ®Â±ÄÂÆπÂô®‰∏≠ ASDK‰πüÂú®RunLoop‰∏≠Ê≥®ÂÜå‰∏Ä‰∏™Observer ÂΩìRunLoopËøõÂÖ•‰ºëÁú†Ââç, ASDKÊâßË°åËØ•loopÂÜÖÊèê‰∫§ÁöÑÊâÄÊúâ‰ªªÂä° Á¨¨‰∏âÊñπÊ°ÜÊû∂Èù¢ËØïÊÄªÁªì:ÈóÆÈ¢ò:AFNetworkingÁöÑÊï¥‰ΩìÁªìÊûÑÊòØÊÄéÊ†∑ÁöÑ? ÈóÆÈ¢ò:SDWebImageÊòØÊÄéÊ†∑Âä†ËΩΩÂõæÁâáÁöÑ?(ÂõæÁâáÂä†ËΩΩÊµÅÁ®ã) ÈóÆÈ¢ò:RACÁöÑ‰ø°Âè∑ËÆ¢ÈòÖÊòØ‰ªÄ‰πàÊÑèÊÄù?Á≠î:‰ø°Âè∑‰∏ÄËøû‰∏≤Áä∂ÊÄÅÁöÑÊäΩË±°, ËÆ¢ÈòÖ‰ø°Âè∑ÈÄöËøáRACSubScriberÂÆûÁé∞, RACSubScriberÂÜÖÈÉ®ÊåÅÊúâ‰∏Ä‰∏™blockÁ±ªÂûãÁöÑÊàêÂëòÂèòÈáèdidSubscribe, Ë∞ÉÁî®RACSubScriber ÁöÑsendNextÊñπÊ≥ïÊó∂ÂÆûÈôÖË∞ÉÁî®ÂÜÖÈÉ®‰øùÂ≠òÁöÑblock, ÈóÆÈ¢ò:ASDKÂÆûÁé∞ÂéüÁêÜÊòØÊÄéÊ†∑ÁöÑ?Á≠î: Â∞ÅË£ÖASNodeËäÇÁÇπ, ÂØπ‰∫éËßÜÂõæÂ±ûÊÄßËÆæÁΩÆÈÉΩËΩ¨Âåñ‰∏∫ASNodeÁöÑËÆæÁΩÆ,ËøôÈÉ®ÂàÜÂèØ‰ª•ÊîæÂú®ÂêéÂè∞Á∫øÁ®ã‰∏≠ÊâßË°å,RunLoopÂ∞ÜË¶Å‰ºëÁú†Ââç,Êé•Êî∂‰∏Ä‰∏™ÈÄöÁü•ÊèêÂâçÂÖ®Â±ÄÂÆπÂô®ÂØπÂ∫îÁöÑASNode,‰∏ÄÊ¨°ÊÄßËÆæÁΩÆÁªôUIView. ËØæÁ®ãÊÄªÁªì1.Á≥ªÁªüÁöÑUI‰∫ã‰ª∂‰º†ÈÄíÊú∫Âà∂ÊòØÊÄéÊ†∑ÁöÑ? 2.KVOÁöÑÂÆûÁé∞ÂéüÁêÜÊòØÊÄéÊ†∑ÁöÑ? 3.ÁÆÄÁ≠îËØ¥ËØ¥Ê∂àÊÅØ‰º†ÈÄíÊú∫Âà∂ÁöÑÊ∂àÊÅØËΩ¨ÂèëÊµÅÂá∫ 4.ÂΩì‰∏Ä‰∏™objÂ∫üÂºÉÁöÑÊó∂ÂÄô, ÊåáÂêëÂÆÉÁöÑweakÊåáÈíà‰∏∫‰Ωï‰ºöËá™Âä®ÁΩÆ‰∏∫nil? 5.ËØ∑‰Ω†ÁÆÄÂçïËÆ≤‰∏ãiOSÊòØÊÄéÊ†∑ËøõË°åÂÜÖÂ≠òÁÆ°ÁêÜÁöÑ? 6.BlockÂÆûË¥®ÊòØÊÄéÊ†∑ÁöÑ?‰ΩøÁî®Block‰∏∫‰ΩïÂÆπÊòì‰∫ßÁîüÂæ™ÁéØÂºïÁî®? 7.ÁÆÄÂçïËØ¥ËØ¥ÊÄéÊ†∑Âà©Áî®GCDÂÆûÁé∞È´òÊïàÁöÑÂ§öËØªÂçïÂÜôÈÄªËæë? 8.RunLoop‰∏∫‰ΩïËÉΩÂ∑¶Âè≥Êúâ‰∫ãÂÅö‰∫ã,Ê≤°‰∫ã‰ºëÊÅØ? 9.ÊÄéÊ†∑Ëß£ÂÜ≥DNSÂä´ÊåÅ? 10.ÂàÜÂà´ËØ¥ËØ¥‰ªÄ‰πàÊòØÊ°•Êé•Ê®°Âºè, Ë¥£‰ªªÈìæÊ®°Âºè? 11.ÊÄéÊ†∑ËÆæËÆ°‰∏Ä‰∏™ÂõæÁâáÁºìÂ≠òÊ°ÜÊû∂?ÁΩëÁªúÊ°ÜÊû∂? 12.ËØ∑ÁºñÂÜôÊü•Êâæ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰∏≠, Á¨¨‰∏Ä‰∏™Âè™Âá∫Áé∞‰∏ÄÊ¨°ÁöÑÂ≠óÁ¨¶ÁöÑÁÆóÊ≥ï 13.AFNetworkingÂ§ßËá¥ÊòØÊÄéÊ†∑ÂÆûÁé∞ÁöÑ?]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨11Á´† ÁÆóÊ≥ïÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F29%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC11%E7%AB%A0-%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Ê≥®ÊÑèÔºöÊú¨Êñá‰∏ªËÆ≤ÁÆóÊ≥ïÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨Â≠óÁ¨¶‰∏≤ÂèçËΩ¨„ÄÅÈìæË°®ÂèçËΩ¨„ÄÅÊúâÂ∫èÊï∞ÁªÑÂêàÂπ∂„ÄÅHashÁÆóÊ≥ï„ÄÅÊü•Êâæ‰∏§‰∏™Â≠êËßÜÂõæÁöÑÂÖ±ÂêåÁà∂ËßÜÂõæ„ÄÅÊ±ÇÊó†Â∫èÊï∞ÁªÑÂΩì‰∏≠ÁöÑ‰∏≠‰ΩçÊï∞„ÄÇ ‰∏Ä„ÄÅÂ≠óÁ¨¶‰∏≤ÂèçËΩ¨ÈóÆÈ¢ò:ÁªôÂÆöÂ≠óÁ¨¶‰∏≤‚Äùhello, world‚Äù, ÂÆûÁé∞Â∞ÜÂÖ∂ÂèçËΩ¨.ËæìÂá∫ÁªìÊûú: dlrow,oleh Á≠î: void char_reverse(char* cha) { // ÊåáÂêëÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ char* begin = cha; // ÊåáÂêëÊúÄÂêé‰∏Ä‰∏™Â≠óÁ¨¶ char* end = cha + strlen(cha) - 1; while (begin &lt; end) { // ‰∫§Êç¢ÂâçÂêé‰∏§‰∏™Â≠óÁ¨¶,ÂêåÊó∂ÁßªÂä®ÊåáÈíà char temp = *begin; *(begin++) = *end; *(end--) = temp; } } //1.Â≠óÁ¨¶‰∏≤ÂèçËΩ¨ char ch[] = &quot;hello,world&quot;; char_reverse(ch); printf(&quot;reverse result is %s \n&quot;, ch); //ÊâìÂç∞ reverse result is dlrow,olleh ‰∫å„ÄÅÈìæË°®ÂèçËΩ¨ÈìæË°®Â§¥ÊèíÊ≥ïÊÄùÊÉ≥ ReverseList.h //ReverseList.h // ÂÆö‰πâ‰∏Ä‰∏™ÈìæË°® struct Node { int data; struct Node *next; }; @interface ReverseList : NSObject // ÈìæË°®ÂèçËΩ¨ struct Node* reverseList(struct Node *head); // ÊûÑÈÄ†‰∏Ä‰∏™ÈìæË°® struct Node* constructList(void); // ÊâìÂç∞ÈìæË°®‰∏≠ÁöÑÊï∞ÊçÆ void printList(struct Node *head); @end ReverseList.m //ReverseList.m @implementation ReverseList struct Node* reverseList(struct Node *head) { // ÂÆö‰πâÈÅçÂéÜÊåáÈíàÔºåÂàùÂßãÂåñ‰∏∫Â§¥ÁªìÁÇπ struct Node *p = head; // ÂèçËΩ¨ÂêéÁöÑÈìæË°®Â§¥ÈÉ® struct Node *newH = NULL; // ÈÅçÂéÜÈìæË°® while (p != NULL) { // ËÆ∞ÂΩï‰∏ã‰∏Ä‰∏™ÁªìÁÇπ struct Node *temp = p-&gt;next; // ÂΩìÂâçÁªìÁÇπÁöÑnextÊåáÂêëÊñ∞ÈìæË°®Â§¥ÈÉ® p-&gt;next = newH; // Êõ¥ÊîπÊñ∞ÈìæË°®Â§¥ÈÉ®‰∏∫ÂΩìÂâçÁªìÁÇπ newH = p; // ÁßªÂä®pÊåáÈíà p = temp; } // ËøîÂõûÂèçËΩ¨ÂêéÁöÑÈìæË°®Â§¥ÁªìÁÇπ return newH; } struct Node* constructList(void) { // Â§¥ÁªìÁÇπÂÆö‰πâ struct Node *head = NULL; // ËÆ∞ÂΩïÂΩìÂâçÂ∞æÁªìÁÇπ struct Node *cur = NULL; for (int i = 1; i &lt; 5; i++) { struct Node *node = malloc(sizeof(struct Node)); node-&gt;data = i; // Â§¥ÁªìÁÇπ‰∏∫Á©∫ÔºåÊñ∞ÁªìÁÇπÂç≥‰∏∫Â§¥ÁªìÁÇπ if (head == NULL) { head = node; } // ÂΩìÂâçÁªìÁÇπÁöÑnext‰∏∫Êñ∞ÁªìÁÇπ else{ cur-&gt;next = node; } // ËÆæÁΩÆÂΩìÂâçÁªìÁÇπ‰∏∫Êñ∞ÁªìÁÇπ cur = node; } return head; } void printList(struct Node *head){ struct Node* temp = head; while (temp != NULL) { printf(&quot;node is %d \n&quot;, temp-&gt;data); temp = temp-&gt;next; } } @end ÊâßË°åË∞ÉÁî® //ÂçïÈìæË°®ÂèçËΩ¨ struct Node* head = constructList(); printList(head); printf(&quot;-----------\n&quot;); struct Node* newHead = reverseList(head); printList(newHead); ‰∏â„ÄÅÊúâÂ∫èÊï∞ÁªÑÂêàÂπ∂ // Â∞ÜÊúâÂ∫èÊï∞ÁªÑaÂíåbÁöÑÂÄºÂêàÂπ∂Âà∞‰∏Ä‰∏™Êï∞ÁªÑresultÂΩì‰∏≠Ôºå‰∏î‰ªçÁÑ∂‰øùÊåÅÊúâÂ∫è void mergeList(int a[], int aLen, int b[], int bLen, int result[]) { int p = 0; // ÈÅçÂéÜÊï∞ÁªÑaÁöÑÊåáÈíà int q = 0; // ÈÅçÂéÜÊï∞ÁªÑbÁöÑÊåáÈíà int i = 0; // ËÆ∞ÂΩïÂΩìÂâçÂ≠òÂÇ®‰ΩçÁΩÆ // ‰ªª‰∏ÄÊï∞ÁªÑÊ≤°ÊúâÂà∞ËææËæπÁïåÂàôËøõË°åÈÅçÂéÜ while (p &lt; aLen &amp;&amp; q &lt; bLen) { // Â¶ÇÊûúaÊï∞ÁªÑÂØπÂ∫î‰ΩçÁΩÆÁöÑÂÄºÂ∞è‰∫ébÊï∞ÁªÑÂØπÂ∫î‰ΩçÁΩÆÁöÑÂÄº if (a[p] &lt;= b[q]) { // Â≠òÂÇ®aÊï∞ÁªÑÁöÑÂÄº result[i] = a[p]; // ÁßªÂä®aÊï∞ÁªÑÁöÑÈÅçÂéÜÊåáÈíà p++; }else{ // Â≠òÂÇ®bÊï∞ÁªÑÁöÑÂÄº result[i] = b[q]; // ÁßªÂä®bÊï∞ÁªÑÁöÑÈÅçÂéÜÊåáÈíà q++; } // ÊåáÂêëÂêàÂπ∂ÁªìÊûúÁöÑ‰∏ã‰∏Ä‰∏™Â≠òÂÇ®‰ΩçÁΩÆ i++; } // Â¶ÇÊûúaÊï∞ÁªÑÊúâÂâ©‰Ωô while (p &lt; aLen) { // Â∞ÜaÊï∞ÁªÑÂâ©‰ΩôÈÉ®ÂàÜÊãºÊé•Âà∞ÂêàÂπ∂ÁªìÊûúÁöÑÂêéÈù¢ result[i] = a[p++]; i++; } // Â¶ÇÊûúbÊï∞ÁªÑÊúâÂâ©‰Ωô while (q &lt; bLen) { // Â∞ÜbÊï∞ÁªÑÂâ©‰ΩôÈÉ®ÂàÜÊãºÊé•Âà∞ÂêàÂπ∂ÁªìÊûúÁöÑÂêéÈù¢ result[i] = b[q++]; i++; } } ÊâßË°åË∞ÉÁî® int a[5] = {1,4,6,7,9}; int b[8] = {2,3,5,6,8,10,11,12}; //Áî®‰∫éÂ≠òÂÇ®ÂΩíÂπ∂ÁªìÊûú int result[13]; //ÂΩíÂπ∂Êìç‰Ωú mergeList(a, 5, b, 8, result); //ÊâìÂç∞ÂΩíÂπ∂ÁªìÊûú printf(&quot;merge result is &quot;); for (int i = 0; i &lt; 13; i++) { printf(&quot;%d &quot;, result[i]); } //ËæìÂá∫ merge result is 1 2 3 4 5 6 6 7 8 9 10 11 12 Âõõ„ÄÅHashÁÆóÊ≥ïÈóÆÈ¢ò:Âú®‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰∏≠ÊâæÂà∞Á¨¨‰∏Ä‰∏™Âè™Âá∫Áé∞‰∏ÄÊ¨°ÁöÑÂ≠óÁ¨¶Â¶Ç:ËæìÂÖ•‚Äùabaccdeff‚Äù , ÂàôËæìÂá∫b ÁÆóÊ≥ïÊÄùÊÉ≥: Â≠óÁ¨¶(char)ÊòØ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫8ÁöÑÊï∞ÊçÆÁ±ªÂûã,Âõ†Ê≠§ÊÄªÂÖ±ÊúâÂèØËÉΩ256‰∏≠ÂèØËÉΩ. ÊØè‰∏™Â≠óÊØçÊ†πÊçÆÂÖ∂ASCIIÁ†ÅÂÄº‰Ωú‰∏∫Êï∞ÁªÑÁöÑ‰∏ãÊ†áÂØπÂ∫îÊï∞ÁªÑÁöÑ‰∏Ä‰∏™Êï∞Â≠ó. Êï∞ÁªÑ‰∏≠Â≠òÂÇ®ÁöÑÊòØÊØè‰∏™Â≠óÁ¨¶Âá∫Áé∞ÁöÑÊ¨°Êï∞. ÂìàÂ∏åË°®‰æã: ÁªôÂÆöÂÄºÊòØÂ≠óÊØça, ÂØπÂ∫îASCIIÂÄºÊòØ97, Êï∞ÁªÑÁ¥¢Âºï‰∏ãÊ†á‰∏∫97.ÂìàÂ∏åÂáΩÊï∞: Âª∫Á´ãÂ≠óÊØçÊàñÂ≠óÁ¨¶Âà∞ÂÆÉÊâÄÂ≠òÂÇ®‰ΩçÁΩÆindexÁöÑ‰∏Ä‰∏™Êò†Â∞ÑÂÖ≥Á≥ª. f(key)Â≠òÂÇ®ÂíåÊü•ÊâæÈÉΩÈÄöËøáËØ•ÂáΩÊï∞, ÊúâÊïàÊèêÈ´òÊü•ÊâæÊïàÁéá.f(char) =&gt; index //Êü•ÊâæÁ¨¨‰∏Ä‰∏™Âè™Âá∫Áé∞‰∏ÄÊ¨°ÁöÑÂ≠óÁ¨¶ char findFirstChar(char* cha) { char result = &#39;\0&#39;; // ÂÆö‰πâ‰∏Ä‰∏™Êï∞ÁªÑ Áî®Êù•Â≠òÂÇ®ÂêÑ‰∏™Â≠óÊØçÂá∫Áé∞Ê¨°Êï∞ int array[256]; // ÂØπÊï∞ÁªÑËøõË°åÂàùÂßãÂåñÊìç‰Ωú for (int i=0; i&lt;256; i++) { array[i] =0; } // ÂÆö‰πâ‰∏Ä‰∏™ÊåáÈíà ÊåáÂêëÂΩìÂâçÂ≠óÁ¨¶‰∏≤Â§¥ÈÉ® char* p = cha; // ÈÅçÂéÜÊØè‰∏™Â≠óÁ¨¶ while (*p != &#39;\0&#39;) { // Âú®Â≠óÊØçÂØπÂ∫îÂ≠òÂÇ®‰ΩçÁΩÆ ËøõË°åÂá∫Áé∞Ê¨°Êï∞+1Êìç‰Ωú array[*(p++)]++; } // Â∞ÜPÊåáÈíàÈáçÊñ∞ÊåáÂêëÂ≠óÁ¨¶‰∏≤Â§¥ÈÉ® p = cha; // ÈÅçÂéÜÊØè‰∏™Â≠óÊØçÁöÑÂá∫Áé∞Ê¨°Êï∞ while (*p != &#39;\0&#39;) { // ÈÅáÂà∞Á¨¨‰∏Ä‰∏™Âá∫Áé∞Ê¨°Êï∞‰∏∫1ÁöÑÂ≠óÁ¨¶ÔºåÊâìÂç∞ÁªìÊûú if (array[*p] == 1) { result = *p; break; } // Âèç‰πãÁªßÁª≠ÂêëÂêéÈÅçÂéÜ p++; } return result; } ÊâßË°åÁªìÊûú char cha[] = &quot;abaccdeff&quot;; char fc = findFirstChar(cha); printf(&quot;this char is %c \n&quot;, fc); //ËæìÂá∫this char is b ‰∫î„ÄÅÊü•Êâæ‰∏§‰∏™Â≠êËßÜÂõæÁöÑÂÖ±ÂêåÁà∂ËßÜÂõæÂÄíÂ∫èÊØîËæÉÊâæÂà∞Á¨¨‰∏Ä‰∏™‰∏ç‰∏ÄÊ†∑ÁöÑ - (NSArray &lt;UIView *&gt; *)findCommonSuperView:(UIView *)viewOne other:(UIView *)viewOther { NSMutableArray *result = [NSMutableArray array]; // Êü•ÊâæÁ¨¨‰∏Ä‰∏™ËßÜÂõæÁöÑÊâÄÊúâÁà∂ËßÜÂõæ NSArray *arrayOne = [self findSuperViews:viewOne]; // Êü•ÊâæÁ¨¨‰∫å‰∏™ËßÜÂõæÁöÑÊâÄÊúâÁà∂ËßÜÂõæ NSArray *arrayOther = [self findSuperViews:viewOther]; int i = 0; // Ë∂äÁïåÈôêÂà∂Êù°‰ª∂ while (i &lt; MIN((int)arrayOne.count, (int)arrayOther.count)) { // ÂÄíÂ∫èÊñπÂºèËé∑ÂèñÂêÑ‰∏™ËßÜÂõæÁöÑÁà∂ËßÜÂõæ UIView *superOne = [arrayOne objectAtIndex:arrayOne.count - i - 1]; UIView *superOther = [arrayOther objectAtIndex:arrayOther.count - i - 1]; // ÊØîËæÉÂ¶ÇÊûúÁõ∏Á≠â Âàô‰∏∫ÂÖ±ÂêåÁà∂ËßÜÂõæ if (superOne == superOther) { [result addObject:superOne]; i++; } // Â¶ÇÊûú‰∏çÁõ∏Á≠âÔºåÂàôÁªìÊùüÈÅçÂéÜ else{ break; } } return result; } - (NSArray &lt;UIView *&gt; *)findSuperViews:(UIView *)view { // ÂàùÂßãÂåñ‰∏∫Á¨¨‰∏ÄÁà∂ËßÜÂõæ UIView *temp = view.superview; // ‰øùÂ≠òÁªìÊûúÁöÑÊï∞ÁªÑ NSMutableArray *result = [NSMutableArray array]; while (temp) { [result addObject:temp]; // È°∫ÁùÄsuperviewÊåáÈíà‰∏ÄÁõ¥Âêë‰∏äÊü•Êâæ temp = temp.superview; } return result; } ÂÖ≠„ÄÅÊ±ÇÊó†Â∫èÊï∞ÁªÑÂΩì‰∏≠ÁöÑ‰∏≠‰ΩçÊï∞ÊñπÊ°à: 1&gt;ÊéíÂ∫èÁÆóÊ≥ï+‰∏≠‰ΩçÊï∞ 2&gt;Âà©Áî®Âø´ÊéíÊÄùÊÉ≥(ÂàÜÊ≤ªÊÄùÊÉ≥) ÊéíÂ∫èÁÆóÊ≥ï+‰∏≠‰ΩçÊï∞ ÊéíÂ∫èÁÆóÊ≥ï: ÂÜíÊ≥°ÊéíÂ∫è, Âø´ÈÄüÊéíÂ∫è, Â†ÜÊéíÂ∫è‚Ä¶ ‰∏≠‰ΩçÊï∞:ÂΩìn‰∏∫Â•áÊï∞Êó∂, (n+1)/2 ;ÂΩìn‰∏∫ÂÅ∂Êï∞Êó∂, (n/2 + (n/2 + 1)) / 2 ; Âø´ÊéíÊÄùÊÉ≥ Âø´ÊéíÊÄùÊÉ≥: ÈÄâÂèñÂÖ≥ÈîÆÂ≠ó, È´ò‰Ωé‰∫§ÊõøÊâ´Êèè ‰ªªÊÑèÊåë‰∏Ä‰∏™ÂÖÉÁ¥†, ‰ª•ËØ•ÂÖÉÁ¥†‰∏∫ÊîØÁÇπ, ÂàíÂàÜÈõÜÂêà‰∏∫‰∏§ÈÉ®ÂàÜ.Â¶ÇÊûúÂ∑¶‰æßÈõÜÂêàÈïøÂ∫¶ÊÅ∞‰∏∫ (n- 1)/2, ÈÇ£‰πàÊîØÁÇπÊÅ∞‰∏∫‰∏≠‰ΩçÊï∞.Â¶ÇÊûúÂ∑¶‰æßÈïøÂ∫¶ÊÅ∞ &lt; (n- 1)/2, ÈÇ£‰πà‰∏≠‰ΩçÁÇπÂú®Âè≥‰æß; Âèç‰πã, ‰∏≠‰ΩçÊï∞Âú®Â∑¶‰æß.ËøõÂÖ•Áõ∏Â∫îÁöÑ‰∏Ä‰æßÁªßÁª≠ÂØªÊâæ‰∏≠‰ΩçÁÇπ int findMedian(int a[], int aLen) { int low = 0; int high = aLen - 1; int mid = (aLen - 1) / 2; int div = PartSort(a, low, high); while (div != mid){ if (mid &lt; div){ //Â∑¶ÂçäÂå∫Èó¥Êâæ div = PartSort(a, low, div - 1); } else{ //Âè≥ÂçäÂå∫Èó¥Êâæ div = PartSort(a, div + 1, high); } } //ÊâæÂà∞‰∫Ü return a[mid]; } int PartSort(int a[], int start, int end) { int low = start; int high = end; //ÈÄâÂèñÂÖ≥ÈîÆÂ≠ó int key = a[end]; while (low &lt; high) { //Â∑¶ËæπÊâæÊØîkeyÂ§ßÁöÑÂÄº while (low &lt; high &amp;&amp; a[low] &lt;= key){ ++low; } //Âè≥ËæπÊâæÊØîkeyÂ∞èÁöÑÂÄº while (low &lt; high &amp;&amp; a[high] &gt;= key){ --high; } if (low &lt; high){ //ÊâæÂà∞‰πãÂêé‰∫§Êç¢Â∑¶Âè≥ÁöÑÂÄº int temp = a[low]; a[low] = a[high]; a[high] = temp; } } int temp = a[high]; a[high] = a[end]; a[end] = temp; return low; } ÊâßË°åË∞ÉÁî® int list[9] = {12,3,10,8,6,7,11,13,9}; // 3 6 7 8 9 10 11 12 13 // ^ int median = findMedian(list, 9); printf(&quot;the median is %d \n&quot;, median); // the median is 9]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨10Á´† Êû∂ÊûÑÊ°ÜÊû∂Áõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F26%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC10%E7%AB%A0-%E6%9E%B6%E6%9E%84%E6%A1%86%E6%9E%B6%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Ê≥®ÊÑèÔºöÊú¨Êñá‰∏ªËÆ≤Êû∂ÊûÑÊ°ÜÊû∂Áõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨ÂõæÁâáÁºìÂ≠ò„ÄÅÈòÖËØªÊó∂ÈïøÁªüËÆ°„ÄÅÂ§çÊùÇÈ°µÈù¢ÁªìÊûÑ„ÄÅÂÆ¢Êà∑Á´ØÊï¥‰ΩìÊû∂ÊûÑ„ÄÇ ÈóÆÈ¢ò: Êû∂ÊûÑÊ°ÜÊû∂Ëß£ÂÜ≥‰ªÄ‰πàÈóÆÈ¢ò?Á≠î: ÂºïÂÖ•Êû∂ÊûÑÊ°ÜÊû∂‰∏∫‰∫ÜÂÆûÁé∞Ê®°ÂùóÂåñ, Â∞ÜÂêÑÂäüËÉΩÊåâÊ®°ÂùóËøõË°åÂàíÂàÜ ÂàÜÂ±Ç Ëß£ËÄ¶ Èôç‰Ωé‰ª£Á†ÅÈáçÂêàÂ∫¶ ‰∏Ä„ÄÅÂõæÁâáÁºìÂ≠ò1„ÄÅÂõæÁâáÁºìÂ≠òÈóÆÈ¢ò:ÊÄéÊ†∑ËÆæËÆ°‰∏Ä‰∏™ÂõæÁâáÁºìÂ≠òÊ°ÜÊû∂? È¶ñÂÖàÊúâManagerÊ®°Âùó, Áî®‰ª•ÂçèË∞ÉÂíåË∞ÉÂ∫¶Ê°ÜÊû∂ÂÜÖÈÉ®ÂêÑ‰∏™Ê®°Âùó ÂÜÖÂ≠òÁÆ°ÁêÜÊ®°Âùó. ÊØîÂ¶Ç: Ê∂âÂèäÂõæÁâáÁºìÂ≠ò Â∞±ÈúÄË¶ÅÊ®°ÊãüËÆ°ÁÆóÊú∫ÁªÑÊàêÂéüÁêÜÊ∂âÂèäÂà∞ÁöÑÂ§öÁ∫ßÁºìÂ≠òÊÄùÊÉ≥ËøêÁî® ÂõæÁâáÁ£ÅÁõòÁºìÂ≠òÂ§ÑÁêÜÊ®°Âùó. ÁΩëÁªúÊ®°Âùó. Êú¨Âú∞Ê≤°ÊúâÂõæÁâáÊîØÊåÅÈÄöËøáÁΩëÁªú‰∏ãËΩΩÂõæÁâá‰ª•‰∏äÊûÑÊàêÂü∫Êú¨ÂõæÁâáÊ°ÜÊû∂,Â¶ÇÊûúÂõæÁâáÂéãÁº©, ‰øùÂ≠òÂõæÁâáÈúÄË¶ÅËß£ÂéãÁº©ÁöÑËØù,ÈúÄË¶Å‰ª•‰∏ãÊ®°Âùó codeManager Ëß£Á†ÅÁõ∏ÂÖ≥ÁÆ°ÁêÜËÄÖ. ÂõæÁâáËß£Á†ÅÊ®°Âùó. ÂõæÁâáÂéãÁº©/Ëß£ÂéãÁº©Ê®°Âùó. 2„ÄÅÂõæÁâáËØªÂÜôÈóÆÈ¢ò:ÂõæÁâáÈÄöËøá‰ªÄ‰πàÊñπÂºèËøõË°åËØªÂÜô,ËøáÁ®ãÊòØÊÄéÊ†∑ÁöÑ?Á≠î: ‰ª•ÂõæÁâáURLÁöÑÂçïÂêëHashÂÄº‰Ωú‰∏∫Key, Â≠òÂÇ®Âà∞ÂõæÁâáÂØπÂ∫îÊ°ÜÊû∂‰∏≠ ÂõæÁâáËØªÂèñÊåâÁÖßÂ§öÁ∫ßÁºìÂ≠òËØªÂèñÂõæÁâá,Êèê‰∫§Êü•ÊâæÊïàÁéá 3„ÄÅÂÜÖÂ≠òËÆæËÆ°ÈóÆÈ¢ò:ÂÜÖÂ≠òÁöÑËÆæËÆ°‰∏äÈúÄË¶ÅËÄÉËôëÂì™‰∫õÈóÆÈ¢ò?Á≠î: Â≠òÂÇ®ÁöÑSize. (ÂÜÖÂ≠òÂ≠òÂÇ®Á©∫Èó¥Â§ßÂ∞è) Ê∑òÊ±∞Á≠ñÁï•. (ÊúâsizeÈôêÂà∂, ÂêéËæπÂÜçÊúâÊñ∞ÂõæÁâá,ÈúÄË¶ÅÊúâÊ∑òÊ±∞Á≠ñÁï•) Â≠òÂÇ®SizeÈúÄË¶ÅËÄÉËôëÂõæÁâáÂ§ßÂ∞èÊú¨Ë∫´,‰ª•Âèä‰∏çÂêåÂõæÁâáÂ§ßÂ∞èÁöÑ‰ΩøÁî®È¢ëÁéáÈ´ò‰ΩéÈóÆÈ¢ò.ÈÄöËøáÈòüÂàóÊñπÂºèÂ≠òÂèñÂõæÁâá. Ê∑òÊ±∞Á≠ñÁï•:ËÄÉËôë‰∏§ÁßçÊñπÊ°à ‰ª•ÈòüÂàóÂÖàËøõÂÖàÂá∫ÁöÑÊñπÂºèÊ∑òÊ±∞ Ê®°ÊãüËÆ°ÁÆóÊú∫‰∏≠LRU(Least Recently Used ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®)ÁÆóÊ≥ï. (Â¶Ç30ÂàÜÈíü‰πãÂÜÖÊòØÂê¶‰ΩøÁî®Ëøá) ÂÖ∑‰ΩìÊ∑òÊ±∞Á≠ñÁï•:1&gt;ÂÆöÊó∂Ê£ÄÊü•.2&gt;ÊèêÈ´òÊ£ÄÊü•Ëß¶ÂèëÈ¢ëÁéá: ÊØèÊ¨°ËøõË°åËØªÂÜôÊó∂ ÂâçÂêéÂè∞ÂàáÊç¢Êó∂.Ê≥®ÊÑèÂºÄÈîÄÈóÆÈ¢ò Ë°•ÂÖÖ: LRUÁÆóÊ≥ïÊòØÊ†∏ÂøÉÊÄùÊÉ≥ÊòØÔºöÂ¶ÇÊûú‰∏Ä‰∏™Êï∞ÊçÆÂú®ÊúÄËøë‰∏ÄÊÆµÊó∂Èó¥ÈÉΩÊ≤°ÊúâË¢´Áî®Âà∞ÔºåÈÇ£‰πàÂÆÉÂú®Â∞ÜÊù•Ë¢´‰ΩøÁî®Âà∞ÁöÑÂèØËÉΩÊÄß‰πüÂæàÂ∞è„ÄÇÊïÖÂΩìÁºìÂ≠òÁ©∫Èó¥Â∑≤Êª°ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÈúÄË¶ÅÊ∑òÊ±∞ÊéâÊúÄ‰πÖÊ≤°ÊúâË¢´ËÆøÈóÆÂà∞ÁöÑÊï∞ÊçÆ„ÄÇÁêÜÊÉ≥ÁöÑLRUÁÆóÊ≥ïËØªÂÜôÊòØÊó∂Èó¥Â§çÊùÇÂ∫¶Â∫îËØ•ÈÉΩ‰∏∫O(1)„ÄÇ 4„ÄÅÁ£ÅÁõòËÆæËÆ°ÈóÆÈ¢ò:Á£ÅÁõòËÆæËÆ°ÈúÄË¶ÅËÄÉËôëÂì™‰∫õÈóÆÈ¢ò? Â≠òÂÇ®ÊñπÂºè Â§ßÂ∞èÈôêÂà∂(Â¶Ç100MB) Ê∑òÊ±∞Á≠ñÁï•(Â¶ÇÊüê‰∏ÄÂõæÁâáÂ≠òÂÇ®Êó∂Èó¥Ë∑ù‰ªäÂ∑≤Ë∂ÖËøá7Â§©) 5„ÄÅÁΩëÁªúËÆæËÆ°ÈóÆÈ¢ò:ÁΩëÁªúÈÉ®ÂàÜÁöÑËÆæËÆ°ÈúÄË¶ÅËÄÉËôëÂì™‰∫õÈóÆÈ¢ò? ÂõæÁâáËØ∑Ê±ÇÊúÄÂ§ßÂπ∂ÂèëÈáè (ÊØîÂ¶ÇÂêå‰∏ÄÊó∂Èó¥ÊúÄÂ§ßËØ∑Ê±ÇÊï∞Èáè,ÈôêÂÆöÂú®10Âº†ÊàñËÄÖ20Âº†) ËØ∑Ê±ÇË∂ÖÊó∂Á≠ñÁï• (ÊØîÂ¶ÇË∂ÖÊó∂,ÂèØ‰ª•ÈááÂèñÈáçËØïÊú∫Âà∂ÂÜçÂéªËØ∑Ê±ÇÂõæÁâá, 2Ê¨°ÂÜçÂ§±Ë¥•ÂÖà‰∏çËØ∑Ê±ÇËøôÂº†ÂõæÁâá) ËØ∑Ê±Ç‰ºòÂÖàÁ∫ß (ÊØîÂ¶Ç‰∏ãËΩΩÊàñËÄÖÁºìÂ≠òÁöÑÂõæÁâáÊòØÂê¶ÂΩìÂâçÁî®Êà∑ÊúÄÁ¥ßÊÄ•‰ΩøÁî®, Â¶ÇÊûúÊòØËØ∑Ê±Ç‰ºòÂÖàÁ∫ßÈ´ò‰∫õ) 6„ÄÅÂõæÁâáËß£Á†ÅÈóÆÈ¢ò:ÂØπ‰∫é‰∏çÂêåÊ†ºÂºèÂõæÁâá,Ëß£Á†ÅÈááÁî®‰ªÄ‰πàÊñπÂºèÊù•ÂÅö? Â∫îÁî®Á≠ñÁï•Ê®°ÂºèÂØπ‰∏çÂêåÂõæÁâáÊ†ºÂºèËøõË°åËß£Á†Å ÈóÆÈ¢ò:Âú®Âì™‰∏™Èò∂ÊÆµÂÅöÂõæÁâáËß£Á†ÅÂ§ÑÁêÜ? Á£ÅÁõòËØªÂèñÂêé (‰ªéÁ£ÅÁõòËØªÂèñÊòØÊú™Ëß£Á†Å,ÊîæÂà∞ÂÜÖÂ≠ò‰∏≠ÊúÄÂ•ΩËß£Á†ÅÂÆåÊàê, Âõ†‰∏∫Á≥ªÁªüÂú®ÊòæÁ§∫ÂõæÁâáÂâç‰ºöÂú®‰∏ªÁ∫øÁ®ãËøõË°åÂõæÁâáËß£Á†ÅÊìç‰Ωú,ÂáèÂ∞ë‰∏ªÁ∫øÁ®ãÂéãÂäõ) ÁΩëÁªúËØ∑Ê±ÇËøîÂõûÂêé 7„ÄÅÁ∫øÁ®ãÂ§ÑÁêÜ ‰∫å„ÄÅÈòÖËØªÊó∂ÈïøÁªüËÆ°1„ÄÅÊ°ÜÊû∂ËÆæËÆ°ÈóÆÈ¢ò:ÊÄéÊ†∑ËÆæËÆ°‰∏Ä‰∏™Êó∂ÈïøÁªüËÆ°Ê°ÜÊû∂? 1)ËÆ∞ÂΩïÂô®: ÂØπÊØè‰∏ÄÊù°Êó∂ÈïøÁªüËÆ°Êï∞ÊçÆËøõË°åËÆ∞ÂΩï È°µÈù¢ÂºèËÆ∞ÂΩïÂô® :Â∏∏ËßÅÂú∫ÊôØ:ËÆ∞ÂΩïÁî®Êà∑ËØªÂèñÊàñËÄÖËÆøÈóÆÈ°µÈù¢Êó∂Èïø,‰∏ÄËà¨‰ªéÈ°µÈù¢pushÂºÄÂßã‰Ωú‰∏∫ÈòÖËØªÊó∂ÈïøÂºÄÂßãËäÇÁÇπ, popÂêé‰ª£Ë°®ËÆ∞ÂΩïÁªìÊùü) ÊµÅÂºèÈ°µÈù¢ËÆ∞ÂΩïÂô® :ÊØîÂ¶ÇÊµèËßàÂæÆÂçöflowÊµÅ‰ª•ÂèäËÖæËÆØÊñ∞Èóª, Â§¥Êù°Êñ∞Èóª,ËøôÁßçÊñ∞ÈóªÁöÑÈòÖËØªËÆ∞ÂΩï, ÊØèÊù°ÂÆö‰πâ‰∏∫ÊµÅÂºèËÆ∞ÂΩïÂô® Ëá™ÂÆö‰πâÂºèËÆ∞ÂΩïÂô® :ÊØîÂ¶ÇÂÆûÈôÖ‰∏öÂä°ÂºÄÂèë,Êúâ‰∏çÂêå‰∏öÂä°Âú∫ÊôØ,ÂæÆÂçö, ËÖæËÆØÊñ∞ÈóªÊ®™ÊªëÂºèÊñ∞ÈóªÊù°ÁõÆÁöÑÊí≠Êîæ,Áî±‰∏öÂä°ÊñπÊéßÂà∂ÂÖ∑‰ΩìÊéßÂà∂ÂºÄÂßãÁªìÊùüÁöÑÈÄªËæë 2)ËÆ∞ÂΩïÁÆ°ÁêÜËÄÖ: ÁÆ°ÁêÜÈÄöËøáËÆ∞ÂΩïÂô®ËÆ∞ÂΩïÁöÑÊó∂ÈïøÁªüËÆ°Êï∞ÊçÆ ËÆ∞ÂΩïÁºìÂ≠ò : Á£ÅÁõòÂ≠òÂÇ® : Áî®Êù•Áª¥Êä§ÂíåÂ§ÑÁêÜÂºÇÂ∏∏Âú∫ÊôØ,ÂèØËÉΩÂà∞Êó∂ÂÜÖÂ≠òÁºìÂ≠ò‰∏¢Â§±ÈóÆÈ¢ò ‰∏ä‰º†Âô® : Áî®Êù•Â∞ÜÊú¨Âú∞ÊâÄËÆ∞ÂΩï‰∏ãÊù•ÁöÑÊó∂ÈïøÊï∞ÊçÆ‰∏ä‰º†ÁªôserverÁ´Ø 2„ÄÅËÆ∞ÂΩïÁöÑÁºìÂ≠ò&amp;Â≠òÂÇ®1)ÈóÆÈ¢ò: ‰∏∫‰ΩïË¶ÅÊúâ‰∏çÂêåÁ±ªÂûãËÆ∞ÂΩïÂô®,‰Ω†ÁöÑËÄÉËôëÊòØ‰ªÄ‰πà?Á≠î: Âü∫‰∫é‰∏çÂêåÂàÜÁ±ªÂú∫ÊôØÊèê‰æõÁöÑÂÖ≥‰∫éËÆ∞ÂΩïÁöÑÂ∞ÅË£Ö, ÈÄÇÈÖç 2)ÈóÆÈ¢ò:ËÆ∞ÂΩïÁöÑÊï∞ÊçÆ‰ºöÁî±‰∫éÊüêÁßçÂéüÂõ†‰∏¢Â§±, ‰Ω†ÊòØÊÄéÊ†∑Â§ÑÁêÜÁöÑ?(ËÄÉÂØüÈôç‰Ωé‰∏¢Â§±Áéá, ‰∏çÊòØÊØèÊù°ÈÉΩ‰∏ç‰∏¢Â§±) ÂÆöÊó∂ÂÜôÁ£ÅÁõòÊØîÂ¶ÇÊØèÊª°50Êù°,ËøõË°åÁ£ÅÁõòÂÜôÂÖ• ÈôêÂÆöÂÜÖÂ≠òÁºìÂ≠òÊù°Êï∞(Â¶Ç10Êù°), Ë∂ÖËøáËØ•Êù°Êï∞, Âç≥ÂÜôÁ£ÅÁõò 3„ÄÅËÆ∞ÂΩï‰∏ä‰º†Âô®ÈóÆÈ¢ò: ÂÖ≥‰∫éÂª∂Êó∂‰∏ä‰º†ÁöÑÂÖ∑‰ΩìÂú∫ÊôØÊúâÂì™‰∫õ? ÂâçÂêéÂè∞ÂàáÊç¢ ‰ªéÊó†ÁΩëÂà∞ÊúâÁΩëÁöÑÂèòÂåñ ÈÄöÁî®ÁöÑËΩªÈáèÊé•Âè£ÊçéÂ∏¶Â¶ÇÊûú‰ª•‰ºÅ‰∏öÁ∫ßÂÆûË∑µÊñπÂºèËêΩÂú∞, Âª∫ËÆÆ‰ΩøÁî®Ââç‰∏§ÁßçÊòØÊúÄ‰ºòÁöÑ, ÊúÄÂêéÊúâËÄ¶ÂêàÂú®ÈáåËæπ. ÈóÆÈ¢ò: Èïø‰º†Êó∂Êú∫ÊòØÊÄéÊ†∑ÊääÊéßÁöÑ?Á≠î: Á´ãÂàª‰∏ä‰º† Âª∂Êó∂‰∏ä‰º† ÂÆöÊó∂‰∏ä‰º† ‰∏â„ÄÅÂ§çÊùÇÈ°µÈù¢ÁªìÊûÑ MVVMÊ°ÜÊû∂ÊÄùÊÉ≥ ReactNativeÁöÑÊï∞ÊçÆÊµÅÊÄùÊÉ≥ Á≥ªÁªüUIViewÊõ¥Êñ∞Êú∫Âà∂ÁöÑÊÄùÊÉ≥ FaceBookÁöÑÂºÄÊ∫êÊ°ÜÊû∂AsyncDisplayKitÂÖ≥‰∫éÈ¢ÑÊéíÁâàÁöÑËÆæËÆ°ÊÄùÊÉ≥ 1„ÄÅMVVM 2„ÄÅReactNativeÁöÑÊï∞ÊçÆÊµÅÊÄùÊÉ≥ ‰ªª‰Ωï‰∏Ä‰∏™Â≠êÂ≠ôËäÇÁÇπÊòØÊ≤°ÊúâÊùÉÂà©ÂÅöËá™Â∑±ÁöÑÂèòÂåñÊõ¥Êñ∞ÁöÑ, ÂÆÉÂøÖÈ°ªË¶ÅÊääËá™Â∑±ÂèòÂåñÊõ¥Êñ∞ÁöÑÊ∂àÊÅØ‰º†ÈÄíÁªôÊ†πËäÇÁÇπ, Áî±Ê†πËäÇÁÇπËá™È°∂Âêë‰∏ãÊñπÂºèËØ¢ÈóÆÂì™‰∫õÈúÄË¶ÅÊõ¥Êñ∞.Áî±‰∏ªÂä®Ë°å‰∏∫Âèò‰∏∫Ë¢´Âä®Ë°å‰∏∫. Âõõ„ÄÅÂÆ¢Êà∑Á´ØÊï¥‰ΩìÊû∂ÊûÑÈóÆÈ¢ò:‰Ω†ÊâÄÂú®ÂÖ¨Âè∏ÂÆ¢Êà∑Á´ØÊï¥‰ΩìÊû∂ÊûÑÊòØÊÄéÊ†∑ÁöÑ?Â¶ÇÊûúËÆ©‰Ω†ËÆæËÆ°,ÊÄéÊ†∑ËÆæËÆ°ÂÆ¢Êà∑Á´ØÁöÑÊï¥‰ΩìÊû∂ÊûÑ? Áã¨Á´ãAppÁöÑÈÄöÁî®Â±ÇÊØîÂ¶ÇÈÄöÁî®Â±Ç‰∏≠ÂèØ‰ª•ÊúâÊó∂ÈïøÁªüËÆ°Ê°ÜÊû∂, Â¥©Ê∫ÉÁªüËÆ°, ÁΩëÁªúÁöÑÁ¨¨‰∏âÊñπÂ∫ì. Ëøô‰∏ÄÂ±ÇÊû∂ÊûÑÊîæÂà∞‰ªª‰Ωï‰∏Ä‰∏™App‰∏≠ÈÉΩÂèØ‰ª•Ëµ∑Âà∞Â∫ïÂ±ÇÊîØÊíë‰ΩúÁî®, Áã¨Á´ã‰∫éAPP ÈÄöÁî®‰∏öÂä°Â±Ç:ÈíàÂØπÂΩìÂâçÂÖ¨Âè∏ÊúâÊüê‰∫õÈÄöÁî®ÁöÑÂü∫Á°ÄÁªÑ‰ª∂, ÊØîÂ¶ÇËá™ÂÆö‰πâÂ∏ÉÊôØÊéß‰ª∂, ÁâπÊÆäUIImageViewÁöÑÂ∞ÅË£Ö. Ëøô‰∫õÊòØÂíåÂΩìÂâçÂÖ¨Âè∏‰∏öÂä°ÊúâÂÖ≥ÁöÑ, ÂØπ‰∫éÊï¥‰ΩìAppÊù•ËØ¥ÂêÑ‰∏™‰∏öÂä°Á∫øÂØπ‰∫éÈÄöÁî®Êéß‰ª∂ÈÉΩÊúâÈúÄÊ±Ç,ÊääËøô‰∫õÂÜÖÂÆπÊ≤âÈôçÂà∞ÈÄöÁî®‰∏öÂä°Â±Ç. ‰∏≠Èó¥Â±Ç: ÂçèË∞ÉËß£ËÄ¶‰ΩúÁî®‰∏∫‰∫ÜÂÆûÁé∞‰∏öÂä°A ‰∏öÂä°B ‰∏öÂä°C ‰∏öÂä°DÁöÑËß£ËÄ¶ ÂêÑ‰∏™‰∏öÂä°‰ª£Á†Å ÈóÆÈ¢ò:‰∏öÂä°‰πãÈó¥ÁöÑËß£ËÄ¶ÈÄö‰ø°ÊñπÂºè OpenURL ‰æùËµñÊ≥®ÂÖ• ‰∏≠Èó¥Â±ÇÂÅö‰∏öÂä°AÂíå‰∏öÂä°CËß£ËÄ¶, ‰∏öÂä°CÈÄöËøáÊ≥®ÂÖ•ÊñπÂºèÂ∞ÜËá™Â∑±Ê≥®ÂÖ•Âà∞‰∏≠Èó¥Â±Ç, ‰∏öÂä°AÂéª‰∏≠Èó¥Â±ÇËé∑ÂèñÊâÄ‰æùËµñÁöÑÊñπÊ≥ïÊàñËÄÖÊàêÂëòÂèòÈáè.‰æãÂ¶Ç: ‰∏≠Èó¥Â±ÇÂÆûÁé∞Á≠ñÁï•: Êüê‰∏Ä‰∏™‰∏öÂä°ÊñπÈÄöËøá‰∏Ä‰∏™protocalÊ≥®ÂÜåÂà∞ÂØπÂ∫î‰∏≠Èó¥Â±Ç‰∏≠, ÂêåÊó∂ÂÆûÁé∞‰∏≠Èó¥Â±Ç‰ª£ÁêÜÊñπÊ≥ïËøîÂõûÁªô‰∏≠Èó¥Â±Ç‰∏Ä‰∏™ÂÖ∑‰ΩìÂÆû‰æãÂØπË±°. ‰∏öÂä°A‰ΩøÁî®Êó∂, ÂèØ‰ª•ÈÄöËøá‰∫ãÂÖàÂíå‰∏öÂä°CÂïÜÈáèÁöÑÂçèËÆÆ,‰ªé‰∏≠Èó¥Â±Ç‰∏≠Ê†πÊçÆÊüê‰∏ÄÊñπÊ≥ïËé∑ÂèñÈÅµ‰ªéÊüê‰∏ÄÂçèËÆÆÁöÑÂÆû‰æã, ÁÑ∂ÂêéÂú®‰∏öÂä°A‰∏≠ÊääÂÆû‰æãÂΩìÂÅöÂÆåÂÖ®ÈÅµ‰ªéÂçèËÆÆÈÄèÊòéÂØπË±°Êù•‰ΩøÁî®. ‰∫î„ÄÅÊû∂ÊûÑÊ°ÜÊû∂Èù¢ËØïÊÄªÁªì]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨9Á´† ËÆæËÆ°Ê®°ÂºèÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F26%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC9%E7%AB%A0-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Ê≥®ÊÑèÔºöÊú¨Êñá‰∏ªËÆ≤ËÆæËÆ°Ê®°ÂºèÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨ Â∏∏Áî®ÂÖ≠Â§ßËÆæËÆ°ÂéüÂàô„ÄÅË¥£‰ªªÈìæ„ÄÅÊ°•Êé•„ÄÅÈÄÇÈÖçÂô®„ÄÅÂçï‰æã„ÄÅÂëΩ‰ª§„ÄÇ ‰∏Ä„ÄÅÂÖ≠Â§ßËÆæËÆ°ÂéüÂàô Âçï‰∏ÄËÅåË¥£ÂéüÂàô ‰æùËµñÂÄíÁΩÆÂéüÂàô ÂºÄÈó≠ÂéüÂàô ÈáåÊ∞èÊõøÊç¢ÂéüÂàô Êé•Âè£ÈöîÁ¶ªÂéüÂàô Ëø™Á±≥ÁâπÊ≥ïÂàô 1)Âçï‰∏ÄËÅåË¥£ÂéüÂàô ‰∏Ä‰∏™Á±ªÂè™ÂÅö‰∏Ä‰ª∂‰∫ã ÊØîÂ¶Ç: UIView Âíå CALayerÂÖ≥Á≥ª, UIViewÂè™Ë¥üË¥£‰∫ã‰ª∂‰º†ÈÄíÂíå‰∫ã‰ª∂ÂìçÂ∫î,CALayer‰∏ìÈó®Ë¥üË¥£Âä®Áîª‰ª•ÂèäËßÜÂõæÁöÑÂ±ïÁ§∫ 2)‰æùËµñÂÄíÁΩÆÂéüÂàô ÊäΩË±°Êé•Âè£‰∏ç‰æùËµñ‰∫éÂÖ∑‰ΩìÂÆûÁé∞, ÂÖ∑‰ΩìÂÆûÁé∞ÂèØ‰ª•‰æùËµñ‰∫éÊäΩË±°Êé•Âè£ ÊØîÂ¶ÇÂÆö‰πâ‰∏Ä‰∫õÂ§ÑÁêÜÊï∞ÊçÆËÆøÈóÆ,Â¢ûÂà†ÊîπÊü•Êé•Âè£ÊñπÊ≥ïÊó∂,ÊâÄÊúâ‰∏äÂ±ÇÁöÑ‰∏öÂä°Ë∞ÉÁî®ÈÉΩÂ∫îËØ•‰æùËµñ‰∫éÂÆö‰πâÁöÑÊäΩË±°Êé•Âè£. Ëá≥‰∫éÊé•Âè£ÂÜÖÈÉ®ÂÖ∑‰ΩìÂÆûÁé∞ÊòØÁî®Êï∞ÊçÆÂ∫ì,ËøòÊòØÁî®Êñá‰ª∂,‰ª•ÂèäÁî®plist, userdefault, ÂØπ‰∏äÂ±Ç‰∏öÂä°Êù•ËØ¥ÊòØÊÑüÁü•‰∏çÂà∞ÁöÑ, ËøôÂ∞±‰ΩìÁé∞‰∫ÜÈÄöËøáÊäΩË±°Êé•Âè£ÂèçËΩ¨‰æùËµñ.ÂØπ‰∫é‰∏äÂ±Ç‰∏öÂä°Âè™‰æùËµñ‰∫éÊé•Âè£ÂÆö‰πâ,ÊØîÂ¶ÇÂ¢ûÂà†ÊîπÊü•,ÂØπ‰∫éÂÜÖÈÉ®ÈááÁî®Âì™ÁßçÂ≠òÂÇ®ÊñπÊ°à,‰∏äÂ±Ç‰∏öÂä°ÊòØ‰∏çÂÖ≥Ê≥®ÁöÑ.‰πüÊ≤°ÂøÖË¶ÅÊääÂÖ∑‰ΩìÂ≠òÂÇ®ÊñπÊ°àÊö¥Èú≤Áªô‰ΩøÁî®Êñπ. 3)ÂºÄÈó≠ÂéüÂàô ÂØπ‰øÆÊîπÂÖ≥Èó≠, ÂØπÊâ©Â±ïÂºÄÊîæ ÊØîÂ¶Ç:ÂÆö‰πâ‰∏Ä‰∏™Á±ªËÄÉËôëÂêéÊúüÊâ©Â±ïÊÄßÂíåÁÅµÊ¥ªÊÄß. ÂâçÊúüÈíàÂØπ‰∏Ä‰∏™ÈúÄÊ±Ç,Ë¶ÅËÄÉËôëÂ§ö‰∏™ÁâàÊú¨ÁöÑËø≠‰ª£ÈúÄÊ±Ç. ÂØπÁ±ªÁöÑÊàêÂëòÂèòÈáèÂÆö‰πâÂ∞ΩÈáèË∞®ÊÖé,ÈÅøÂÖçÂêéÈù¢È¢ëÁπÅ‰øÆÊîπËøô‰∏™Á±ª.Á±ªÁöÑÊï∞ÊçÆÁªìÊûÑÂÆö‰πâÂêé,ÂêéÈù¢Â∞±ÊòØÊ†πÊçÆÈúÄÊ±ÇÊèê‰æõÊé•Âè£ÈóÆÈ¢ò, ÂåÖÊã¨Â≠êÁ±ªÁªßÊâø. 4)ÈáåÊ∞èÊõøÊç¢ÂéüÂàô Áà∂Á±ªÂèØ‰ª•Ë¢´Â≠êÁ±ªÊó†ÁºùÊõøÊç¢, ‰∏îÂéüÊúâÂäüËÉΩ‰∏çÂèó‰ªª‰ΩïÂΩ±Âìç ÊØîÂ¶Ç: KVOÊú∫Âà∂ 5)Êé•Âè£ÈöîÁ¶ªÂéüÂàô ‰ΩøÁî®Â§ö‰∏™‰∏ìÈó®ÁöÑÂçèËÆÆ,ËÄå‰∏çÊòØ‰∏Ä‰∏™Â∫ûÂ§ßËáÉËÇøÁöÑÂçèËÆÆ ÂçèËÆÆ‰∏≠ÊñπÊ≥ïÂ∫îÂΩìÂ∞ΩÈáèÂ∞ë ÊØîÂ¶Ç: UITableViewDelegate‰∏ìÈó®Â§ÑÁêÜTableViewÂõûË∞É‰ª£ÁêÜ‰∫ã‰ª∂UITableViewDateSource‰∏ìÈó®Áî®‰∫éËé∑ÂèñTableViewÊï∞ÊçÆÊ∫ê 6)Ëø™Á±≥ÁâπÊ≥ïÂàô ‰∏Ä‰∏™ÂØπË±°ÂØπÂÖ∂‰ªñÂØπË±°ÊúâÂ∞ΩÂèØËÉΩÂ∞ëÁöÑ‰∫ÜËß£ È´òÂÜÖËÅö,‰ΩéËÄ¶Âêà Âõ†‰∏∫Ê®°ÂùóÂíåÊ®°Âùó‰πãÈó¥, Ë¶ÅÊÉ≥Ëß£Èô§ËÄ¶Âêà,‰ΩìÁé∞Âá∫ÁºñÁ†ÅËßÑËåÉËÆ©ÂØπË±°Â∞ΩÈáèÂ∞ëÁöÑÁü•ÈÅìÂÖ∂‰ªñÂØπË±°ÈÉΩÊúâ‰ªÄ‰πà,ÂåÖÊã¨ÊàêÂëòÂèòÈáè,Â±ûÊÄß‰ª•ÂèäÂÆÉÁöÑÊñπÊ≥ï. ‰∫å„ÄÅË¥£‰ªªÈìæË¥£‰ªªÈìæÊ®°ÂºèÂèØ‰ª•Ëß£ÂÜ≥‰ªªÂä°ÁöÑ‰æùËµñÂÖ≥Á≥ªÈóÆÈ¢ò. ‰∏æ‰æã:‰∏Ä‰∏™ÂØπË±°‰∏≠Êúâ‰∏Ä‰∏™Â±ûÊÄßÂè´nextResponder, ËØ•Â±ûÊÄß‰∏éÂΩìÂâçÂØπË±°Â±û‰∫éÂêå‰∏Ä‰∏™Á±ª, ÂΩìÂΩìÂâçÂØπË±°‰∏çËÉΩÊâßË°åÊüê‰∏™ÊñπÊ≥ïÊó∂, Â∞±Ë∞ÉÁî®‰ªñÁöÑnextResponderÊù•ÊâßË°åÂêåÊ†∑ÁöÑÊñπÊ≥ï, Â∞Ü‰ªªÂä°‰º†ÈÄí‰∏ãÂéª.‰ΩøÁî®ËøôÁßçÊñπÂºèÊó∂, ÂΩì‰ªªÂä°ÁöÑ‰æùËµñÈ°∫Â∫èÂèëÁîüÊîπÂèòÊó∂, Âè™ÈúÄË¶ÅË∞ÉÊï¥ÂÖ∂nextResponderÁöÑÊåáÂêëÂç≥ÂèØË∞ÉÊï¥‰ªñÁöÑÂìçÂ∫îÈìæÈ°∫Â∫è.Êàë‰ª¨ËøòÂèØ‰ª•Ê†πÊçÆÂêéÁ´ØÁªôÂá∫ÁöÑÂìçÂ∫îÊù•Âä®ÊÄÅË∞ÉÊï¥ÂìçÂ∫îÈìæÈ°∫Â∫è, Á≥ªÁªü‰∏≠‰ΩøÁî®Ë¥£‰ªªÈìæÁöÑËÆæËÆ°Ê®°ÂºèÂ§ÑÁêÜ‰∫ÜUI‰∫ã‰ª∂ÁöÑ‰º†ÈÄíÊú∫Âà∂ ‰∏â„ÄÅÊ°•Êé• ‰ΩøÁî®ËÄÖÊåÅÊúâÊäΩË±°ÁöÑÂü∫Á±ªClassA, ClassAÊåÅÊúâÊäΩË±°ÁöÑÂü∫Á±ªB, Ë∞ÉÁî®Êó∂, Ê†πÊçÆÈúÄË¶ÅÂ∞ÜA1/A2/A3ËµãÂÄºÁªôË∞ÉÁî®ËÄÖÂéüÂÖàÊåÅÊúâÁöÑÂ±ûÊÄß, Âú®Â∞ÜB1/B2/B3Ê†πÊçÆÈúÄÊ±ÇËµãÂÄºÁªôClassA, ËøôÊ†∑Êàë‰ª¨ÂèØ‰ª•Ëá™Áî±ÁªÑÂêàË∞ÉÁî®ËÄÖÂíåÂÖ∂ÂÜÖÈÉ®ÁöÑÂÆûÈôÖË∞ÉÁî®, ËÄå‰Ωú‰∏∫Ê°•Ê¢ÅÁöÑClassA‰∏éClassBÊú¨Ë∫´‰∏çÂÖ≥ÂøÉ‰ªñ‰ª¨ÁöÑÂÆûÈôÖË∞ÉÁî®. ÈóÆÈ¢ò:ÊÄéÊ†∑ÁêÜËß£Ê°•Êé•ËÆæËÆ°Ê®°Âºè?(ÁÆÄÂçïËØ≠Ë®ÄÊèèËø∞Ê°•Êé•Ê®°ÂºèÊòØ‰ªÄ‰πà?)Ê°•Êé•Ê®°ÂºèÂèØ‰ª•Ëß£ÂÜ≥ ÂàóË°®ÂíåÂ§öÂ•óÊï∞ÊçÆËÄ¶ÂêàÁöÑÈóÆÈ¢ò. Âõõ„ÄÅÈÄÇÈÖçÂô®‰∏Ä‰∏™Áé∞ÊúâÁ±ªÈúÄË¶ÅÈÄÇÂ∫îÂèòÂåñÁöÑÈóÆÈ¢òÈÄÇÈÖçÂô®ÂàÜ‰∏∫: ÂØπË±°ÈÄÇÈÖçÂô® Á±ªÈÄÇÈÖçÂô®. ÂΩìÊàë‰ª¨Êúâ‰∏™‰∏Ä‰∏™Âπ¥‰ª£‰πÖËøúÁöÑÂü∫Á±ª, Êàë‰ª¨‰∏ç‰æøÂØπÂÖ∂Ê∑ªÂä†ÂØπË±°ÂíåÊñπÊ≥ïÊó∂, Êàë‰ª¨Â∞±ÂèØ‰ª•‰∏∫ÂÖ∂Ê∑ªÂä†ÈÄÇÈÖçÂô®, ‰Ωø‰∏Ä‰∏™Á±ªÊåÅÊúâËØ•Âü∫Á±ª, Âú®Ë∞ÉÁî®Ëøô‰∏™Âü∫Á±ªÁöÑÂâçÂêéÊàë‰ª¨ÂèØ‰ª•ÊèíÂÖ•Ëá™Â∑±ÁöÑ‰ª£Á†Å, Êù•ÈÄÇÈÖçÊñ∞ÁöÑÈúÄÊ±Ç. Ëøô‰πüÂ∞±ÊòØÂÅö‰∫Ü‰∏ÄÊ¨°ÁÆÄÂçïÁöÑÂ∞ÅË£Ö. - (void)request{ //ÈÄÇÈÖçÈÄªËæë [Ë¢´ÈÄÇÈÖçÂØπË±° ÊüêÊñπÊ≥ï] //ÈÄÇÈÖçÈÄªËæë } ‰∫î„ÄÅÂçï‰æãÊ®°Âºè Âú®Âçï‰æãÊñπÊ≥ï‰∏≠ÂàõÂª∫ÂÆû‰æã‰ΩøÁî® [[super allocWithZone:Null] init]; ÈáçÂÜôËá™Ë∫´ÁöÑallocWithZoneÊñπÊ≥ïÂú®ÂÖ∂ÂÜÖÈÉ®Ë∞ÉÁî®Âçï‰æãÊñπÊ≥ï‰øùËØÅÂàõÂª∫Ê∞∏ËøúÊòØ‰∏Ä‰∏™Âçï‰æã ÈÅµÂÆàCopyÂçèËÆÆ, ÈáçÂÜôcopyWithZoneÊñπÊ≥ï, ËøîÂõûself, ‰ª§ÂÖ∂‰∏çËÉΩË¢´copy ÂÖ≠„ÄÅÂëΩ‰ª§Ê®°ÂºèÈóÆÈ¢ò:ÂëΩ‰ª§Ê®°Âºè‰∏ªË¶ÅË°®ËææÁöÑÊòØ‰ªÄ‰πà?Êàë‰ª¨‰∏ÄËà¨Áî®ÂëΩ‰ª§Ê®°ÂºèÂπ≤‰ªÄ‰πà? ÂëΩ‰ª§Ê®°ÂºèÁî®Êù•ÂÅö Ë°å‰∏∫ÂèÇÊï∞Âåñ ÂëΩ‰ª§Ê®°ÂºèÁî®Êù• Âáè‰Ωé‰ª£Á†ÅÈáçÂêàÂ∫¶ Êàë‰ª¨ÂèØ‰ª•Â∞Ü‰∏Ä‰∫õ‰∫ã‰ª∂ÊãÜÂàÜÂºÄÊù•, ‰∫ã‰ª∂ÁöÑÊâßË°åÂèäÂÖ∂ÂõûË∞É‰∏ä‰∏ãÊñáÁ≠âÂ∞ÅË£ÖÊàêcommendÂØπË±°, Ë∞ÉÁî®commendÁöÑÁÆ°ÁêÜËÄÖÂ∞ÅË£Ö‰∏∫ManagerÂçï‰æãÂØπË±°, ‰ª•Ê≠§Êù•ÂáèÂ∞ë‰ª£Á†ÅÁöÑÂàÜÊï£, Ë∞ÉÁî®Êó∂Ë¢´ËΩ¨Êç¢Êàê, ÁîüÊàêÂëΩ‰ª§, ‰∏≠Â§ÆÁÆ°ÁêÜÂô®ÊâßË°åÂëΩ‰ª§ÁöÑÂëΩ‰ª§Ê®°Âºè. ËøôÂíåNSUrlSession‰ΩøÁî®ÁöÑtaskÊ®°ÂºèÁ±ª‰ºº, ÂàõÂª∫task, ÊâßË°åtaskÁöÑÊÑüËßâ ËÆæËÆ°Ê®°ÂºèÈù¢ËØïÊÄªÁªìÔºö ‰Ω†ÈÉΩÁü•ÈÅìÂì™‰∫õËÆæËÆ°ÂéüÂàô, ËØ∑Ë∞àË∞à‰Ω†ÁöÑÁêÜËß£?Á≠î: Âçï‰∏ÄËÅåË¥£ÂéüÂàô, ‰æùËµñÂÄíÁΩÆÂéüÂàô, ÂºÄÈó≠ÂéüÂàô, ÈáåÊ∞èÊõøÊç¢ÂéüÂàô, Êé•Âè£ÈöîÁ¶ªÂéüÂàô, Ëø™Á±≥ÁâπÊ≥ïÂàô. ËÉΩÂê¶Áî®‰∏ÄÂπÖÂõæÁÆÄÂçïÁöÑË°®Á§∫Ê°•Êé•Ê®°ÂºèÁöÑ‰∏ª‰ΩìÁªìÊûÑ? UI‰∫ã‰ª∂ÁöÑ‰º†ÈÄíÊú∫Âà∂ÊòØÊÄéÊ†∑ÂÆûÁé∞ÁöÑ?‰Ω†ÂØπÂÖ∂‰∏≠ËøêÁî®Âà∞ÁöÑËÆæËÆ°Ê®°ÂºèÊòØÊÄéÊ†∑ÁêÜËß£ÁöÑ?Á≠î:UIËßÜÂõæËßíÂ∫¶ÂõûÁ≠îËÆæËÆ°Ê®°ÂºèËßíÂ∫¶ÂõûÁ≠î -&gt; Ë¥£‰ªªÈìæÊ®°Âºè. ÊâãÂÜôÂçï‰æãÂÆûÁé∞ÈáçÂÜôallcoWithZone/copyWithZoneÊñπÊ≥ï, ‰ΩøÁî®[super allocWithZone:]ÂàõÂª∫Âçï‰æã + (id)sharedInstance { // ÈùôÊÄÅÂ±ÄÈÉ®ÂèòÈáè static Mooc *instance = nil; // ÈÄöËøádispatch_onceÊñπÂºè Á°Æ‰øùinstanceÂú®Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏ãÂè™Ë¢´ÂàõÂª∫‰∏ÄÊ¨° static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^{ // ÂàõÂª∫ÂÆû‰æã instance = [[super allocWithZone:NULL] init]; }); return instance; } // ÈáçÂÜôÊñπÊ≥ï„ÄêÂøÖ‰∏çÂèØÂ∞ë„Äë + (id)allocWithZone:(struct _NSZone *)zone{ return [self sharedInstance]; } // ÈáçÂÜôÊñπÊ≥ï„ÄêÂøÖ‰∏çÂèØÂ∞ë„Äë - (id)copyWithZone:(nullable NSZone *)zone{ return self; }]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨8Á´† ÁΩëÁªúÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F25%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC8%E7%AB%A0-%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Ê≥®ÊÑèÔºöÊú¨Êñá‰∏ªËÆ≤ÁΩëÁªúÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨HTTPÂçèËÆÆ„ÄÅHTTPSÂçèËÆÆ‰∏éÁΩëÁªúÂÆâÂÖ®„ÄÅTCP/UDPÂå∫Âà´„ÄÅDNSËß£Êûê„ÄÇ ‰∏Ä„ÄÅHTTPÂçèËÆÆÔºàË∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆÔºâHTTPÂçèËÆÆ‰∏ªË¶ÅÂåÖÂê´ÂÜÖÂÆπ:ËØ∑Ê±Ç/ÂìçÂ∫îÊä•Êñá„ÄÅËøûÊé•Âª∫Á´ãÊµÅÁ®ã„ÄÅHTTPÁâπÁÇπ„ÄÇ 1„ÄÅËØ∑Ê±Ç/ÂìçÂ∫îÊä•Êñá ËØ∑Ê±ÇÊä•ÊñáÊ†ºÂºè:ËØ∑Ê±ÇÊñπÊ≥ï +ËØ∑Ê±ÇURL +ÂçèËÆÆÁâàÊú¨+ËØ∑Ê±ÇÈ¶ñÂ≠êÊÆµÈîÆÂÄºÂØπ +Êä•Êñá‰∏ª‰ΩìÔºà‰∏ÄËà¨Âú®ËØ∑Ê±Ç‰∏≠ÊòØÊ≤°ÊúâÊä•Êñá‰∏ª‰ΩìÁöÑÔºâ ÂìçÂ∫îÊä•ÊñáÊ†ºÂºè:ÂçèËÆÆÁâàÊú¨ +Áä∂ÊÄÅÂêó +ÂìçÂ∫îÈ¶ñÂ≠óÊÆµ +ÂìçÂ∫îÊä•Êñá‰∏ª‰Ωì 1)„ÄÅhttpÁöÑËØ∑Ê±ÇÊñπÂºèÈÉΩÊúâÂì™‰∫õÔºüGET„ÄÅPOST„ÄÅHEAD„ÄÅPUT„ÄÅDELETE„ÄÅOPTIONS (2)„ÄÅGETÂíåPOSTÊñπÂºèÁöÑÂå∫Âà´?ÂàùÁ∫ßÂ∑•Á®ãÂ∏àÂõûÁ≠î1&gt;„ÄÅGETËØ∑Ê±ÇÂèÇÊï∞‰ª•ÔºüÂàÜÂâ≤ÊãºÊé•Âà∞URLÂêéÈù¢ÔºåPOSTËØ∑Ê±ÇÂèÇÊï∞Âú®BodyÈáåÈù¢„ÄÇ2&gt;„ÄÅGETÂèÇÊï∞ÈïøÂ∫¶ÈôêÂà∂2048‰∏™Â≠óÁ¨¶ÔºåPOST‰∏ÄËà¨Ê≤°ÊúâËØ•ÈôêÂà∂„ÄÇ3&gt;„ÄÅGETËØ∑Ê±Ç‰∏çÂÆâÂÖ®ÔºåPOSTËØ∑Ê±ÇÊØîËæÉÂÆâÂÖ®„ÄÇ È´òÁ∫ßÂ∑•Á®ãÂ∏àÂõûÁ≠îÔºå‰ªéËØ≠‰πâÁöÑËßíÂ∫¶ÂõûÁ≠îÔºàÊ†áÂáÜÁ≠îÊ°àÔºâ(ËØ≠‰πâ:ÊåáÁöÑÂçèËÆÆÁöÑÂÆö‰πâËßÑËåÉ. ËØ≠Ê≥ï:ÂÖ∑‰ΩìÂÆûÁé∞ÊâãÊÆµÊàñËÄÖË∑ØÂæÑ) GETÔºöËé∑ÂèñËµÑÊ∫ê„ÄÇÂÆâÂÖ®ÁöÑ„ÄÅÂπÇÁ≠âÁöÑ„ÄÅÂèØÁºìÂ≠òÁöÑ„ÄÇ POSTÔºöÂ§ÑÁêÜËµÑÊ∫ê„ÄÇÈùûÂÆâÂÖ®ÁöÑ„ÄÅÈùûÂπÇÁ≠âÁöÑ„ÄÅ‰∏çÂèØÁºìÂ≠òÁöÑ„ÄÇ ÂÆâÂÖ®ÊÄßÔºö‰∏çÂ∫îËØ•ÂºïËµ∑ServerÁ´ØÁöÑ‰ªª‰ΩïÁä∂ÊÄÅÂèòÂåñ„ÄÇÂ∏∏ËßÅÂÆâÂÖ®ÊÄßÁöÑËØ∑Ê±ÇÊñπÂºè Ôºöget„ÄÅhead„ÄÅoptions ÂπÇÁ≠âÊÄßÔºöÂêå‰∏Ä‰∏™ËØ∑Ê±ÇÊñπÊ≥ïÊâßË°åÂ§öÊ¨°ÂíåÊâßË°å‰∏ÄÊ¨°ÁöÑÊïàÊûúÂÆåÂÖ®Áõ∏Âêå„ÄÇÂ∏∏ËßÅÂπÇÁ≠âÊÄßÁöÑËØ∑Ê±ÇÊñπÂºè Ôºöget„ÄÅput„ÄÅdelete ÂèØÁºìÂ≠òÊÄßÔºöËØ∑Ê±ÇÊòØÂê¶ÂèØ‰ª•Ë¢´ÁºìÂ≠ò„ÄÇÔºà‰ª£ÁêÜÊúçÂä°Âô®ÂèØ‰ª•ÂÅöÁºìÂ≠òÔºåÂ§öÊ¨°ËØ∑Ê±ÇÊó∂ÂèØËÉΩÊòØËé∑ÂèñÁöÑÁºìÂ≠òÔºâ„ÄÇÂ∏∏ËßÅÂèØÁºìÂ≠òÊÄßÁöÑËØ∑Ê±ÇÊñπÂºèÔºöget„ÄÅhead (3)„ÄÅ‰Ω†ÈÉΩ‰∫ÜËß£Âì™‰∫õÁä∂ÊÄÅÁ†ÅÔºå‰ªñ‰ª¨ÁöÑÂê´‰πâÊòØ‰ªÄ‰πàÔºü1xxÔºö2xxÔºöÂìçÂ∫îÊàêÂäüÔºà200Ôºâ3xxÔºöÁΩëÁªúÈáçÂÆöÂêëÔºà301„ÄÅ302Ôºâ4xxÔºöÂÆ¢Êà∑Á´ØÂèëËµ∑ËØ∑Ê±ÇÂá∫ÈîôÔºåÊúçÂä°Âô®Ê≤°ÊúâÁõ∏Â∫îÔºà401„ÄÅ404Ôºâ5xxÔºöÊúçÂä°Âô®Âá∫Èîô(502 503) 2„ÄÅËøûÊé•Âª∫Á´ãÊµÅÁ®ã ‰∏âÊ¨°Êè°Êâã„ÄÅÂõõÊ¨°Êå•Êâã 3„ÄÅHTTPÁöÑÁâπÁÇπÔºöÊó†ËøûÊé•„ÄÅÊó†Áä∂ÊÄÅ„ÄÇ(1)„ÄÅÊó†ËøûÊé•: ÊåáÁöÑÊòØhttpÁöÑËøûÊé•ÊúâÂª∫Á´ãÂíåÈáäÊîæËøûÊé•ÁöÑËøáÁ®ã„ÄÇËß£ÂÜ≥ÊñπÊ°àÔºöHTTPÁöÑÊåÅ‰πÖËøûÊé•„ÄÇ 1&gt;„ÄÅÊåÅ‰πÖËøûÊé•Â§¥ÈÉ®Â≠óÊÆµÔºöConnectionÔºökeep-alive (ÂÖÅËÆ∏ÊåÅ‰πÖËøûÊé•)timeÔºö20 ÔºàÊåÅ‰πÖËøûÊé•ËøûÊé•Êó∂ÈïøÔºâmax:10 ÔºàËØ•httpËøûÊé•ÊúÄÂ§öÂèØ‰ª•ÂèëÁîüÂ§öÂ∞ëÊ¨°ËØ∑Ê±ÇÔºâ 2&gt;„ÄÅÊÄéÊ†∑Âà§Êñ≠‰∏Ä‰∏™ËØ∑Ê±ÇÊòØÂê¶ÁªìÊùüÔºüContent-length Ôºö1024 ÔºàÂìçÂ∫îÂ§¥ÔºâchunkedÔºåÊúÄÂêé‰ºöÊúâ‰∏Ä‰∏™Á©∫ÁöÑchunkedÔºåserver‰ºöÁªôÂÆ¢Êà∑Á´ØËøîÂõûÂ§öÊ¨°ÂìçÂ∫îÔºåÊ†πÊçÆÂà§Êñ≠ÂìçÂ∫îÊä•ÊñáÁöÑÂ§¥ÈÉ®Â≠óÊÆµchunkedÊòØÂê¶‰∏∫Á©∫Ôºå‰∏∫Á©∫ÂàôË°®Á§∫Ê≤°ÊúâÂêéÁª≠‰∫Ü„ÄÇ (2)„ÄÅÊó†Áä∂ÊÄÅ: Â§öÊ¨°ÂèëÈÄÅhttpËØ∑Ê±Ç,Â¶ÇÊûúÊòØÂêå‰∏Ä‰∏™Áî®Êà∑ÂØπ‰∫éserverÁ´ØÊòØ‰∏çÁü•ÈÅìÊòØÂêå‰∏Ä‰∏™Áî®Êà∑ÁöÑ„ÄÇËß£ÂÜ≥ÊñπÊ°àÔºöcookie„ÄÅsession„ÄÇ ÈóÆÈ¢ò: CharlesÊäìÂåÖÂéüÁêÜÊòØÂíãÊ†∑ÁöÑÔºüÂà©Áî®HTTP‰∏≠Èó¥‰∫∫ÊîªÂáªÊºèÊ¥ûÂÆûÁé∞ÁöÑ„ÄÇ ‰∫å„ÄÅHTTPSÂçèËÆÆ‰∏éÁΩëÁªúÂÆâÂÖ®1„ÄÅHTTPSÂíåHTTPÊúâÊÄéÊ†∑ÁöÑÂå∫Âà´ÔºüHTTPS = HTTP+SSL/TLS„ÄÇHTTPSÊòØÂÆâÂÖ®ÁâàÁöÑHTTPÔºå ÊòØÁî±‰∏Ä‰∏™SSL/TLSÔºåÊèíÂú®‰º†ËæìÂ±Ç‰πã‰∏äÔºåÂ∫îÁî®Â±Ç‰πã‰∏ãÁöÑÂçèËÆÆÊù•‰øùËØÅÁöÑ„ÄÇ 2„ÄÅHTTPSËøûÊé•Âª∫Á´ãÊµÅÁ®ãÔºö HTTPSËøûÊé•ËøáÁ®ãÂ§ßËá¥ÂèØÂàÜ‰∏∫ÂÖ´Ê≠•: 1„ÄÅÂÆ¢Êà∑Á´ØËÆøÈóÆHTTPSËøûÊé•„ÄÇ ÂÆ¢Êà∑Á´Ø‰ºöÊääÂÆâÂÖ®ÂçèËÆÆÁâàÊú¨Âè∑„ÄÅÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÂä†ÂØÜÁÆóÊ≥ïÂàóË°®„ÄÅÈöèÊú∫Êï∞CÂèëÁªôÊúçÂä°Á´Ø„ÄÇ 2„ÄÅÊúçÂä°Á´ØÂèëÈÄÅËØÅ‰π¶ÁªôÂÆ¢Êà∑Á´Ø ÊúçÂä°Á´ØÊé•Êî∂ÂØÜÈí•ÁÆóÊ≥ïÈÖç‰ª∂ÂêéÔºå‰ºöÂíåËá™Â∑±ÊîØÊåÅÁöÑÂä†ÂØÜÁÆóÊ≥ïÂàóË°®ËøõË°åÊØîÂØπÔºåÂ¶ÇÊûú‰∏çÁ¨¶ÂêàÔºåÂàôÊñ≠ÂºÄËøûÊé•„ÄÇÂê¶ÂàôÔºåÊúçÂä°Á´Ø‰ºöÂú®ËØ•ÁÆóÊ≥ïÂàóË°®‰∏≠ÔºåÈÄâÊã©‰∏ÄÁßçÂØπÁß∞ÁÆóÊ≥ïÔºàÂ¶ÇAESÔºâ„ÄÅ‰∏ÄÁßçÂÖ¨Èí•ÁÆóÊ≥ïÔºàÂ¶ÇÂÖ∑ÊúâÁâπÂÆöÁßòÈí•ÈïøÂ∫¶ÁöÑRSAÔºâÂíå‰∏ÄÁßçMACÁÆóÊ≥ïÂèëÁªôÂÆ¢Êà∑Á´Ø„ÄÇ ÊúçÂä°Âô®Á´ØÊúâ‰∏Ä‰∏™ÂØÜÈí•ÂØπÔºåÂç≥ÂÖ¨Èí•ÂíåÁßÅÈí•ÔºåÊòØÁî®Êù•ËøõË°åÈùûÂØπÁß∞Âä†ÂØÜ‰ΩøÁî®ÁöÑÔºåÊúçÂä°Âô®Á´Ø‰øùÂ≠òÁùÄÁßÅÈí•Ôºå‰∏çËÉΩÂ∞ÜÂÖ∂Ê≥ÑÈú≤ÔºåÂÖ¨Èí•ÂèØ‰ª•ÂèëÈÄÅÁªô‰ªª‰Ωï‰∫∫„ÄÇÂú®ÂèëÈÄÅÂä†ÂØÜÁÆóÊ≥ïÁöÑÂêåÊó∂Ëøò‰ºöÊääÊï∞Â≠óËØÅ‰π¶ÂíåÈöèÊú∫Êï∞SÂèëÈÄÅÁªôÂÆ¢Êà∑Á´Ø 3„ÄÅÂÆ¢Êà∑Á´ØÈ™åËØÅserverËØÅ‰π¶ ‰ºöÂØπserverÂÖ¨Èí•ËøõË°åÊ£ÄÊü•ÔºåÈ™åËØÅÂÖ∂ÂêàÊ≥ïÊÄßÔºåÂ¶ÇÊûúÂèëÁé∞ÂèëÁé∞ÂÖ¨Èí•ÊúâÈóÆÈ¢òÔºåÈÇ£‰πàHTTPS‰º†ËæìÂ∞±Êó†Ê≥ïÁªßÁª≠„ÄÇ 4„ÄÅÂÆ¢Êà∑Á´ØÁªÑË£Ö‰ºöËØùÁßòÈí• Â¶ÇÊûúÂÖ¨Èí•ÂêàÊ†ºÔºåÈÇ£‰πàÂÆ¢Êà∑Á´Ø‰ºöÁî®ÊúçÂä°Âô®ÂÖ¨Èí•Êù•ÁîüÊàê‰∏Ä‰∏™Ââç‰∏ªÁßòÈí•(Pre-Master SecretÔºåPMS)ÔºåÂπ∂ÈÄöËøáËØ•Ââç‰∏ªÁßòÈí•ÂíåÈöèÊú∫Êï∞C„ÄÅSÊù•ÁªÑË£ÖÊàê‰ºöËØùÁßòÈí• 5„ÄÅÂÆ¢Êà∑Á´ØÂ∞ÜÂâç‰∏ªÁßòÈí•Âä†ÂØÜÂèëÈÄÅÁªôÊúçÂä°Á´Ø ÊòØÈÄöËøáÊúçÂä°Á´ØÁöÑÂÖ¨Èí•Êù•ÂØπÂâç‰∏ªÁßòÈí•ËøõË°åÈùûÂØπÁß∞Âä†ÂØÜÔºåÂèëÈÄÅÁªôÊúçÂä°Á´Ø 6„ÄÅÊúçÂä°Á´ØÈÄöËøáÁßÅÈí•Ëß£ÂØÜÂæóÂà∞Ââç‰∏ªÁßòÈí• ÊúçÂä°Á´ØÊé•Êî∂Âà∞Âä†ÂØÜ‰ø°ÊÅØÂêéÔºåÁî®ÁßÅÈí•Ëß£ÂØÜÂæóÂà∞‰∏ªÁßòÈí•„ÄÇ 7„ÄÅÊúçÂä°Á´ØÁªÑË£Ö‰ºöËØùÁßòÈí• ÊúçÂä°Á´ØÈÄöËøáÂâç‰∏ªÁßòÈí•ÂíåÈöèÊú∫Êï∞C„ÄÅSÊù•ÁªÑË£Ö‰ºöËØùÁßòÈí•„ÄÇËá≥Ê≠§ÔºåÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÈÉΩÂ∑≤ÁªèÁü•ÈÅì‰∫ÜÁî®‰∫éÊ≠§Ê¨°‰ºöËØùÁöÑ‰∏ªÁßòÈí•„ÄÇ 8„ÄÅÊï∞ÊçÆ‰º†Ëæì ÂÆ¢Êà∑Á´ØÊî∂Âà∞ÊúçÂä°Âô®ÂèëÈÄÅÊù•ÁöÑÂØÜÊñáÔºåÁî®ÂÆ¢Êà∑Á´ØÂØÜÈí•ÂØπÂÖ∂ËøõË°åÂØπÁß∞Ëß£ÂØÜÔºåÂæóÂà∞ÊúçÂä°Âô®ÂèëÈÄÅÁöÑÊï∞ÊçÆ„ÄÇ ÂêåÁêÜÔºåÊúçÂä°Á´ØÊî∂Âà∞ÂÆ¢Êà∑Á´ØÂèëÈÄÅÊù•ÁöÑÂØÜÊñáÔºåÁî®ÊúçÂä°Á´ØÂØÜÈí•ÂØπÂÖ∂ËøõË°åÂØπÁß∞Ëß£ÂØÜÔºåÂæóÂà∞ÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑÊï∞ÊçÆ„ÄÇ (1)„ÄÅ‰ºöËØùÁßòÈí•Ôºö‰ºöËØùÁßòÈí• = random S + random C + È¢Ñ‰∏ªÁßòÈí• (2)„ÄÅhttpsÈÉΩ‰ΩøÁî®‰∫ÜÂì™‰∫õÂä†ÂØÜÊâãÊÆµÔºü‰∏∫‰ªÄ‰πà?1&gt;„ÄÅËøûÊé•Âª∫Á´ãËøáÁ®ã‰ΩøÁî®ÈùûÂØπÁß∞Âä†ÂØÜÔºåÈùûÂØπÁß∞Âä†ÂØÜÂæàËÄóÊó∂ÁöÑ„ÄÇ2&gt;„ÄÅÂêéÁª≠ÈÄöËÆØËøáÁ®ã‰ΩøÁî®ÂØπÁß∞Âä†ÂØÜ„ÄÇ (3)„ÄÅÂØπÁß∞Âä†ÂØÜ(AES)Ôºö (4)„ÄÅÈùûÂØπÁß∞Âä†ÂØÜ(RSA)Ôºö ‰∏â„ÄÅTCP/UDPÂå∫Âà´1„ÄÅUDP(Áî®Êà∑Êï∞ÊçÆÊä•ÂçèËÆÆ)ÁâπÁÇπÔºöÊó†ËøûÊé•ÔºõÂ∞ΩÊúÄÂ§ßÂä™Âäõ‰∫§‰ªòÔºà‰∏ç‰øùËØÅÂèØÈù†‰º†ËæìÔºâÔºõÈù¢ÂêëÊä•ÊñáÔºàÊó¢‰∏çÂêàÂπ∂Ôºå‰πü‰∏çÊãÜÂàÜÔºâ„ÄÇ ÂäüËÉΩÔºöÂ§çÁî®„ÄÅÂàÜÁî®ÔºõÂ∑ÆÈîôÊ£ÄÊµã„ÄÇ 2„ÄÅTCP(‰º†ËæìÊéßÂà∂ÂçèËÆÆ)ÁâπÁÇπÔºöÈù¢ÂêëËøûÊé•ÔºõÂèØÈù†‰º†ËæìÔºõÈù¢ÂêëÂ≠óËäÇÊµÅÔºõÊµÅÈáèÊéßÂà∂ÔºõÊã•Â°ûÊéßÂà∂„ÄÇ (1)„ÄÅÈù¢ÂêëËøûÊé•Êï∞ÊçÆ‰º†ËæìÂºÄÂßã‰πãÂâç, ÈúÄË¶ÅÂª∫Á´ãËøûÊé•„ÄÇ‰∏âÊ¨°Êè°ÊâãÊï∞ÊçÆ‰º†ËæìÁªìÊùü‰πãÂêé, ÈúÄË¶ÅÈáäÊîæËøûÊé•„ÄÇÂõõÊ¨°Êå•Êâã ÈóÆÈ¢ò:TCP‰∏âÊ¨°Êè°Êâã‰∏∫‰ªÄ‰πà‰∏çÊòØ‰∏§Ê¨°?‰∏∫‰ªÄ‰πàË¶ÅËøõË°å‰∏âÊ¨°Êè°ÊâãÁ≠î:‰∏âÊ¨°Êè°ÊâãÂéüÂõ†Ôºà‰∏çÊòØ‰∏§Ê¨°Êè°ÊâãÂéüÂõ†ÔºâÔºöÂΩìÂÆ¢Êà∑Á´ØÂèëÈÄÅËøûÊé•Êä•ÊñáÊó∂ÔºåÂΩìÂá∫Áé∞ÁΩëÁªúË∂ÖÊó∂Êó∂Ôºå‰ºöÂêØÂä®Ë∂ÖÊó∂ÈáçÂèëÁ≠ñÁï•ÔºåÊúçÂä°Á´ØÂêåÊó∂‰πü‰ºöËøîÂõûË∂ÖÊó∂ÈáçÂèëÁöÑÊä•ÊñáÔºåÂΩìÂÆ¢Êà∑Á´ØÊî∂Âà∞ÁöÑÊä•ÊñáÊòØË∂ÖÊó∂ÈáçÂèëÁöÑÔºå‰ºöÂèñÊ∂àÂíåÊúçÂä°Á´ØÂàõÂª∫ËøûÊé•ÔºåÂè™‰øùËØÅ‰ºöÂàõÂª∫‰∏Ä‰∏™TCPËøûÊé•„ÄÇ (2)„ÄÅÂèØÈù†‰º†ËæìÂ¶Ç‰Ωï‰øùËØÅÂèØÈù†‰º†ËæìÔºö‰øùËØÅÊàë‰ª¨ÁöÑÊä•Êñá -&gt;Êó†Â∑ÆÈîô„ÄÅ‰∏ç‰∏¢Â§±„ÄÅ‰∏çÈáçÂ§ç„ÄÅÊåâÂ∫èÂà∞ËææÂ¶Ç‰ΩïÂÆûÁé∞ÂèØÈù†‰º†ËæìÔºöÈÄöËøáÂÅúÊ≠¢Á≠âÂæÖÂçèËÆÆÂÆûÁé∞„ÄÇÂÅúÊ≠¢Á≠âÂæÖÂçèËÆÆÂõõÊñπÈù¢: Êó†Â∑ÆÈîôÊÉÖÂÜµ„ÄÅË∂ÖÊó∂ÈáçÂèë„ÄÅÁ°ÆËÆ§‰∏¢Â§±„ÄÅÁ°ÆËÆ§ËøüÂà∞„ÄÇ (3)„ÄÅÈù¢ÂêëÂ≠óËäÇÊµÅ ÊØèÊ¨°ÂèëÈÄÅÂ§öÂ∞ë‰∏™Â≠óËäÇÊòØÁî±TCPÊéßÂà∂ÁöÑ ‰∏çÁÆ°ÂèëÈÄÅÊñπ‰∏ÄÊ¨°ÊÄßÊèê‰∫§ÁªôTCPÁöÑÁºìÂÜ≤ÊòØÂ§öÂ§ßÁöÑÊï∞ÊçÆ, ÂØπ‰∫éTCPÊú¨Ë∫´Êù•ËØ¥ÂÆÉ‰ºöÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµÊù•ÂàíÂàÜ, Âπ∂‰∏çÊòØÂèëÈÄÅÊñπÂèëÈÄÅ‰∫Ü10‰∏™Â≠óËäÇ,Â∞±Êää10‰∏™Â≠óËäÇ‰∏ÄÊ¨°ÊÄßÂèëÁªôÊé•Êî∂Êñπ,ÂèØËÉΩ‰ºöÊää10Â≠óËäÇÊãÜÂàÜÊàê3‰∏™Â≠óËäÇÂíå7‰∏™Â≠óËäÇÂàÜ‰∏§Ê¨°ÂèëÈÄÅÁªôÊé•Êî∂Êñπ,Ëøô‰∏™Â∞±ÊòØÈù¢ÂêëÂ≠óËäÇÊµÅÊ¶ÇÂøµ. ÂèØ‰ª•ÂíåUDPÈù¢ÂêëÊä•ÊñáÁâπÁÇπÊØîËæÉ (4)„ÄÅÊµÅÈáèÊéßÂà∂ ÊªëÂä®Á™óÂè£ÂçèËÆÆ: ÂèëÈÄÅÊñπÂÆö‰πâ‰∏∫ÂÆ¢Êà∑Á´Ø, Êé•Êî∂Êñπ‰∏∫serverÁ´Ø. ÂΩìÂèëÈÄÅÊï∞ÊçÆ, Â¶ÇÊûúÊé•Êî∂ÊñπÊé•Êî∂ÁºìÂ≠òÊ≤°ÈÇ£‰πàÂ§ß,Êé•Êî∂Á™óÂè£ÂæàÂ∞è,Ê≠§Êó∂ÂèëÈÄÅÊñπÁ™óÂè£ÂæàÂ§ß,‰ºö‰ª•Êõ¥Âø´ÈÄüÁéáÂæÄÊé•Êî∂ÊñπÂèëÈÄÅÊï∞ÊçÆ,ÈúÄË¶ÅÁî±Êé•Êî∂Á™óÂè£ÈÄöËøáTCPÊä•ÊñáÈ¶ñÈÉ®Â≠óÊÆµ‰∏≠Êõ¥ÊîπÁ™óÂè£ÂÄº,Ë∞ÉÊï¥ÂèëÈÄÅÊñπÂèëÈÄÅÈÄüÁéá. (5)„ÄÅÊã•Â°ûÊéßÂà∂ÊÖ¢ÂºÄÂßã„ÄÅÊã•Â°ûÈÅøÂÖç(Á≠ñÁï•)ÔºõÂø´ÊÅ¢Â§ç„ÄÅÂø´Èáç‰º†(Á≠ñÁï•)„ÄÇ Ê®™ËΩ¥:‰∫§‰∫íÊ¨°Êï∞ÊàñËÄÖËΩÆËØ¢Ê¨°Êï∞ Á∫µËΩ¥:Á™óÂè£ÂÄºÂ§ßÂ∞è ÈóÆÈ¢ò:ËØ∑ÁÆÄÂçïÊèèËø∞TCPÊÖ¢ÂêØÂä®ÁâπÁÇπ?Á≠î:ËÄÉÂØüTCPÊÖ¢ÂºÄÂßã„ÄÅÊã•Â°ûÈÅøÂÖçÁ≠ñÁï• ÈóÆÈ¢ò:‰ªÄ‰πàÊòØTCP? TCPÁöÑÁêÜËß£ÊòØÊÄéÊ†∑?Á≠î:Ê†πÊçÆTCP‰∫îÂ§ßÁâπÁÇπÂõûÁ≠î. Âõõ„ÄÅDNSËß£Êûê1„ÄÅ‰∫ÜËß£DNSËß£ÊûêÈóÆÈ¢ò:ÊòØÂê¶‰∫ÜËß£DNDËß£Êûê?DNSËß£ÊûêÊòØÊÄéÊ†∑ÁöÑËøáÁ®ã? DNSËß£Êûê: ÂüüÂêçÂà∞IPÂú∞ÂùÄÁöÑÊò†Â∞ÑÔºåDNSËß£ÊûêËØ∑Ê±ÇÈááÁî®UDPÊï∞ÊçÆÊä•Ôºå‰∏îÊòéÊñáËß£Êûê„ÄÇ 2„ÄÅDNSËß£ÊûêÊü•ËØ¢ÊñπÂºè(1)„ÄÅÈÄíÂΩíÊü•ËØ¢ (2)„ÄÅËø≠‰ª£Êü•ËØ¢ 3„ÄÅDNSËß£ÊûêÂ≠òÂú®Âì™‰∫õÂ∏∏ËßÅÁöÑÈóÆÈ¢òÔºü DNSÂä´ÊåÅÈóÆÈ¢ò DNSËß£ÊûêËΩ¨ÂèëÈóÆÈ¢ò (1)„ÄÅDNSÂä´ÊåÅÈóÆÈ¢ò ÈóÆÈ¢ò: DNSÂä´ÊåÅ‰∏éHTTPÁöÑÂÖ≥Á≥ªÊòØÂíãÊ†∑ÁöÑÔºüÁ≠î: Ê≤°ÊúâÂÖ≥Á≥ª„ÄÇ(1)„ÄÅDNSËß£ÊûêÂèëÁîüÂú®HTTPÂª∫Á´ãËøûÊé•‰πãÂâçÔºõ(2)„ÄÅDNSËß£ÊûêËØ∑Ê±Ç‰ΩøÁî®UDPÊï∞ÊçÆÊä•ÔºåÁ´ØÂè£Âè∑53„ÄÇ (2)„ÄÅDNSËß£ÊûêËΩ¨ÂèëÈóÆÈ¢ò ÈóÆÈ¢ò: ÊÄéÊ†∑Ëß£ÂÜ≥DNSÂä´ÊåÅÔºüÁ≠î: ‰∏§ÁßçËß£ÂÜ≥ÊñπÊ°à: httpDNS ÂíåÈïøËøûÊé• 1&gt;„ÄÅhttpDNSDNSËß£ÊûêÂÆûË¥®‰∏ä ,‰ΩøÁî®DNSÂçèËÆÆÂêëDNSÊúçÂä°Âô®53Á´ØÂè£ËøõË°åËØ∑Ê±Ç ‚Äì&gt;‰ΩøÁî®httpDNS ,ÂÆûË¥®‰∏ä‰ΩøÁî®HTTPÂçèËÆÆÂêëDNSÊúçÂä°Âô®80Á´ØÂè£ËøõË°åËØ∑Ê±Ç,‰∏ç‰∫ßÁîüÊ≠£Â∏∏ÁöÑDNSËß£Êûê‰∫Ü,‰πüÂ∞±‰∏çÊ∂âÂèäÂà∞DNSÂä´ÊåÅÈóÆÈ¢ò. 2&gt;„ÄÅÈïøËøûÊé• ÈïøËøûserverÁêÜËß£‰∏∫‰ª£ÁêÜÊúçÂä°Âô®. ÂÆ¢Êà∑Á´ØÂíåÈïøËøûserverÂèØ‰ª•Âª∫Á´ãTCPÁöÑÈïøËøûÈÄöÈÅì.(ÂÆ¢Êà∑Á´ØÂèëÈÄÅhttpËØ∑Ê±Ç,ÂèØ‰ª•ÈÄöËøáÈïøËøûÈÄöÈÅìÊäähttpËØ∑Ê±Ç‰º†ÁªôÈïøËøûserver.) ÈïøËøûserverÈÄöËøáÂÜÖÁΩë‰∏ìÁ∫øËøõË°åÂÜÖÁΩëÁöÑDNSÁöÑËß£Êûê,ËøôÊ†∑Â∞±ËßÑÈÅø‰∫ÜÂÖ¨ÁΩëDNSËß£ÊûêÈóÆÈ¢ò. ‰∫î„ÄÅSession/Cookie Session/Cookie ÊòØÂØπHTTPÂçèËÆÆÊó†Áä∂ÊÄÅÁâπÁÇπÁöÑË°•ÂÅø. 1&gt;„ÄÅCookieÈóÆÈ¢ò:‰ªÄ‰πàÊòØCookie?Cookie‰∏ªË¶ÅÁî®Êù•ËÆ∞ÂΩïÁî®Êà∑Áä∂ÊÄÅ, Âå∫ÂàÜÁî®Êà∑; Áä∂ÊÄÅ‰øùÂ≠òÂú®ÂÆ¢Êà∑Á´Ø. 1„ÄÅÊÄéÊ†∑ËÆæÁΩÆCookieÔºü(1)„ÄÅ ÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑCookieÂú®httpËØ∑Ê±ÇÊä•ÊñáÁöÑCookieÈ¶ñÈÉ®Â≠óÊÆµ‰∏≠Ôºõ(2)„ÄÅ ÊúçÂä°Âô®Á´ØËÆæÁΩÆhttpÂìçÂ∫îÊä•ÊñáÁöÑSet-CookieÈ¶ñÈÉ®Â≠óÊÆµ, ÂêëÂÆ¢Êà∑Á´Ø‰º†ÈÄíCookieÂÜÖÂÆπ„ÄÇ 2„ÄÅÊÄéÊ†∑‰øÆÊîπCookieÔºü(1)„ÄÅÊñ∞CookieË¶ÜÁõñÊóßCookie„ÄÇ(2)„ÄÅË¶ÜÁõñËßÑÂàôÔºöËØ∑Ê±ÇÂ§¥ÈÉ®Â≠óÊÆµ name„ÄÅpath„ÄÅdomainÁ≠âÈúÄË¶Å‰∏éÂéüCookie‰∏ÄËá¥„ÄÇ 3„ÄÅÊÄéÊ†∑Âà†Èô§CookieÔºü(1)„ÄÅÊñ∞CookieË¶ÜÁõñÊóßCookie„ÄÇ(2)„ÄÅË¶ÜÁõñËßÑÂàôÔºöname„ÄÅpath„ÄÅdomainÁ≠âÈúÄË¶Å‰∏éÂéüCookie‰∏ÄËá¥„ÄÇ(3)„ÄÅËÆæÁΩÆCookieÁöÑexpires=ËøáÂéªÁöÑ‰∏Ä‰∏™Êó∂Èó¥ÁÇπÔºåÊàñËÄÖmaxAge=0„ÄÇ 4„ÄÅÊÄéÊ†∑‰øùËØÅCookieÁöÑÂÆâÂÖ®Ôºü(1)„ÄÅÂØπCookieËøõË°åÂä†ÂØÜÂ§ÑÁêÜ„ÄÇ(‰ºöÊúâËÑöÊú¨ÊîªÂáªËé∑ÂèñCookie)(2)„ÄÅÂè™Âú®HTTPS‰∏äÊê∫Â∏¶Cookie„ÄÇ(3)„ÄÅËÆæÁΩÆCookie‰∏∫httpOnlyÔºåÈò≤Ê≠¢Ë∑®Á´ôËÑöÊú¨ÊîªÂáª„ÄÇ 2&gt;„ÄÅSessionSession‰πüÊòØÁî®Êù•ËÆ∞ÂΩïÁî®Êà∑Áä∂ÊÄÅÔºåÂå∫ÂàÜÁî®Êà∑ÁöÑÔºõÁä∂ÊÄÅÂ≠òÊîæÂú®ÊúçÂä°Âô®Á´Ø„ÄÇSessionÂíåCookieÁöÑÂÖ≥Á≥ªÊòØÊÄéÊ†∑ÁöÑÔºüSessionÈúÄË¶Å‰æùËµñ‰∫éCookieÊú∫Âà∂„ÄÇ ÂÖ≠„ÄÅÁΩëÁªúÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÊÄªÁªìÔºö1„ÄÅHTTP‰∏≠ÁöÑgetÂíåpostÊñπÂºèÊúâ‰ªÄ‰πàÂå∫Âà´ÔºüÁ≠î: ËßÅ‰∏äÊñá 2„ÄÅHTTPSËøûÊé•Âª∫Á´ãÁöÑÊµÅÁ®ãÊòØÂíãÊ†∑ÁöÑÔºüÁ≠î: 3„ÄÅTCPÂíåUDPÊúâ‰ªÄ‰πàÂå∫Âà´ÔºüÁ≠î:(ÂèØ‰ª•‰ªéÁâπÁÇπÂíåÂäüËÉΩÂõûÁ≠î)TCPÔºöÈù¢ÂêëËøûÊé•ÔºõÂèØÈù†‰º†ËæìÔºõÈù¢ÂêëÂ≠óËäÇÊµÅÔºõÊµÅÈáèÊéßÂà∂ÔºõÊã•Â°ûÊéßÂà∂„ÄÇUDPÔºöÂ§çÁî®„ÄÅÂàÜÁî®ÔºõÂ∑ÆÈîôÊ£ÄÊµã Âü∫Êú¨ÁöÑ‰º†ËæìÂäüËÉΩ„ÄÇ Êó†ËøûÊé•ÔºõÂ∞ΩÊúÄÂ§ßÂä™Âäõ‰∫§‰ªòÔºà‰∏ç‰øùËØÅÂèØÈù†‰º†ËæìÔºâÔºõÈù¢ÂêëÊä•ÊñáÔºàÊó¢‰∏çÂêàÂπ∂Ôºå‰πü‰∏çÊãÜÂàÜÔºâ„ÄÇ 4„ÄÅËØ∑ÁÆÄËø∞TCPÁöÑÊÖ¢ÂºÄÂßãËøáÁ®ãÔºüÁ≠î: TCPÊÖ¢ÂºÄÂßã„ÄÅÊã•Â°ûÈÅøÂÖçÁ≠ñÁï•ÂõûÁ≠î 5„ÄÅÂÆ¢Êà∑Á´ØÊÄéÊ†∑ÈÅøÂÖçDNSÂä´ÊåÅÔºüÁ≠î: ‰∏§ÁßçËß£ÂÜ≥ÊñπÊ°à: httpDNS ÂíåÈïøËøûÊé•]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨7Á´† RunLoopÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F25%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC7%E7%AB%A0-RunLoop%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªËÆ≤RunLoopÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨RunLoopÊ¶ÇÂøµ„ÄÅÊï∞ÊçÆÁªìÊûÑ„ÄÅ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂„ÄÅRunLoop‰∏éNSTimer„ÄÅRunLoop‰∏éÂ§öÁ∫øÁ®ã„ÄÇ ‰∏Ä„ÄÅRunLoopÊ¶ÇÂøµ1„ÄÅ ÈóÆÈ¢ò:‰ªÄ‰πàÊòØRunLoop?Á≠î:RunLoopÊòØÈÄöËøáÂÜÖÈÉ®Áª¥Êä§ÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊù•ÂØπ‰∫ã‰ª∂/Ê∂àÊÅØËøõË°åÁÆ°ÁêÜÁöÑ‰∏Ä‰∏™ÂØπË±°„ÄÇ1„ÄÅÊ≤°ÊúâÊ∂àÊÅØÈúÄË¶ÅÂ§ÑÁêÜÊó∂Ôºå‰ºëÁú†‰ª•ÈÅøÂÖçËµÑÊ∫êÂç†Êúâ„ÄÇ2„ÄÅÊúâÊ∂àÊÅØÈúÄË¶ÅÂ§ÑÁêÜÊó∂ÔºåÁ´ãÂàªË¢´Âî§ÈÜí„ÄÇ 2„ÄÅEventLoopÊ≤°ÊúâÊ∂àÊÅØÈúÄË¶ÅË¢´Â§ÑÁêÜÊó∂, Á≥ªÁªü‰ºöÂ∞ÜÂΩìÂâçÁ∫øÁ®ãÊâÄÊúâÊùÉËΩ¨Âåñ‰∏∫ÂÜÖÊ†∏ÊÄÅ, ÂΩìÊúâÊ∂àÊÅØÈúÄË¶ÅÂ§ÑÁêÜÊó∂, Á≥ªÁªü‰ºöÂ∞ÜÂΩìÂâçÁ∫øÁ®ãÁöÑÁä∂ÊÄÅÂàáÊç¢ÂõûÁî®Êà∑ÊÄÅ.ÊâÄ‰ª•RunLoopÁöÑÂæ™ÁéØÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÂçïÁ∫ØÁöÑÊ≠ªÂæ™ÁéØ, ËÄåÊòØÈÄöËøáÁä∂ÊÄÅÂàáÊç¢, ËææÂà∞Ê≤°ÊúâÊ∂àÊÅØÊó∂‰ºëÁú†, ÊúâÊ∂àÊÅØÊó∂Âî§ÈÜíÁöÑËøôÊ†∑‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂. Âú®Ê≤°ÊúâÊ∂àÊÅØÂ§ÑÁêÜÊó∂Ôºå‰ºëÁú†‰ª•ÈÅøÂÖçËµÑÊ∫êÂç†Áî®ÔºåÂÆÉÁöÑÁä∂ÊÄÅÂàáÊç¢ÊòØÊÄé‰πàÊ†∑ÁöÑ? Ê≤°ÊúâÊ∂àÊÅØÂ§ÑÁêÜ ÊòØ‰ªéÁî®Êà∑ÊÄÅÈÄöËøáÁ≥ªÁªüË∞ÉÁî®ËøõÂÖ•ÂÜÖÊ†∏ÊÄÅ.‰πüÂ∞±ÊòØÂΩìÊ≤°ÊúâÊ∂àÊÅØË¶ÅÂ§ÑÁêÜÊó∂ÔºåËøõÁ®ãÊàñËÄÖËØ¥Á∫øÁ®ã‰ºöËøõÂÖ•‰∏Ä‰∏™‰ºëÁú†Áä∂ÊÄÅÔºåËÄå‰ºëÁú†Áä∂ÊÄÅÁöÑ‰∏Ä‰∏™ËøáÊ∏°Áõ∏ÂΩì‰∫éÊòØÊääÂΩìÂâçÁ∫øÁ®ãÁöÑÊéßÂà∂ÊùÉËΩ¨ÁßªÁªô‰∫ÜÂÜÖÊ†∏ÊÄÅ ÂΩìÊúâÊ∂àÊÅØÈúÄË¶ÅÂ§ÑÁêÜÊó∂Â∞±‰ºöË¢´Á´ãÂàªÂî§ÈÜíÂÆûÈôÖ‰∏äÂ∞±ÊòØÁî±ÂÜÖÊ†∏ÊÄÅÂà∞Áî®Êà∑ÊÄÅÁöÑ‰∏Ä‰∏™Áä∂ÊÄÅÂàáÊç¢ Áî®Êà∑ÊÄÅÂíåÂÜÖÊ†∏ÊÄÅÁöÑ‰ªãÁªçÔºö Â∫îÁî®Á®ãÂ∫è‰∏ÄËà¨ÈÉΩÊòØËøêË°åÂú®Áî®Êà∑ÊÄÅ‰∏äÈù¢Ôºå‰πüÂ∞±ÊòØÁî®Êà∑ËøõÁ®ãÂåÖÊã¨ÂºÄÂèëÊâÄ‰ΩøÁî®ÁöÑÁªùÂ§ßÂ§öÊï∞ÁöÑ API ÈÉΩÊòØÈíàÂØπ‰∫éÁî®Êà∑Â±ÇÈù¢ÁöÑ. ËÄåÂΩìÂèëÁîü‰∫ÜÁ≥ªÁªüË∞ÉÁî®ÔºåÈúÄË¶Å‰ΩøÁî®‰∏Ä‰∫õÂÖ≥‰∫éÊìç‰ΩúÁ≥ªÁªüÔºå‰ª•Âèä‰∏Ä‰∫õÂ∫ïÂ±ÇÂÜÖÊ†∏Áõ∏ÂÖ≥ÁöÑ‰∏Ä‰∫õÊåá‰ª§ÊàñËÄÖ API ÁöÑËØùÔºåÂ∞±Ëß¶Âèë‰∫ÜÁ≥ªÁªüË∞ÉÁî®ÔºåËÄåÊúâ‰∫õÁ≥ªÁªüË∞ÉÁî®Â∞±‰ºöÂèëÁîüÁä∂ÊÄÅÁ©∫Èó¥ÁöÑÂàáÊç¢ÔºåËøôÁßçÂàáÊç¢Á©∫Èó¥ÊàñËÄÖËØ¥‰πãÊâÄ‰ª•Âå∫ÂàÜÁî®Êà∑ÊÄÅÂíåÂÜÖÊ†∏ÊÄÅÂÆûÈôÖ‰∏äÊòØÂØπ¬∑ËÆ°ÁÆóÊú∫ÁöÑ‰∏Ä‰∫õËµÑÊ∫êË∞ÉÂ∫¶¬∑ÔºåÂåÖÊã¨ËµÑÊ∫êÁÆ°ÁêÜËøõË°å‰∏Ä‰∏™Áªü‰∏ÄÊàñËÄÖËØ¥‰∏ÄËá¥ÊÄßÁöÑÊìç‰ΩúÔºåËøôÊ†∑ÁöÑËØùÂ∞±ÂèØ‰ª•ÂêàÁêÜÁöÑÂÆâÊéíËµÑÊ∫êË∞ÉÂ∫¶ÔºåÂåÖÊã¨ÂèØ‰ª•ÈÅøÂÖç‰∏Ä‰∫õÁâπÊÆäÁöÑÂºÇÂ∏∏ ÊØîÂ¶ÇËØ¥Âú®ÂÜÖÊ†∏ÊÄÅÂæÄÂæÄÊúâ‰∏Ä‰∫õÁ∫øÊÄßÊåá‰ª§Ôºå‰∏≠Êñ≠ÔºåÂåÖÊã¨‰∏Ä‰∫õÂºÄÊú∫ÂÖ≥Êú∫ÁöÑ‰∏Ä‰∫õÊìç‰ΩúÔºåÂ¶ÇÊûúËØ¥ÊØè‰∏Ä‰∏™Áî®Êà∑ËøõÁ®ãÂèØ‰ª•ÂÅáÊÉ≥ÊòØ‰∏Ä‰∏™ appÔºåÊØè‰∏Ä‰∏™ app ÈÉΩÂèØ‰ª•‰øÉ‰ΩøÂΩìÂâçÁî®Êà∑ÊâãÊú∫ÂÖ≥Êú∫ÊàñËÄÖËØ¥‰∏≠Êñ≠ÔºåËøôÁßçÂú∫ÊôØÊòØÊó†Ê≥ïÊÉ≥Ë±°ÁöÑÔºåÊâÄ‰ª•Ë¶ÅÊúâ‰∏Ä‰∏™Áî®Êà∑ÊÄÅÂà∞ÂÜÖÊ†∏ÊÄÅ‰∏äÈù¢ÁöÑ‰∏Ä‰∏™Âå∫ÂàÜÔºåÂêåÊó∂ÂÜÖÊ†∏ÊÄÅÈáåÈù¢ÁöÑ‰∏Ä‰∫õÂÜÖÂÆπÂèØ‰ª•ÂØπÁî®Êà∑ÊÄÅÂΩì‰∏≠ÁöÑ‰∏Ä‰∫õÁ∫øÁ®ãËøõË°åË∞ÉÂ∫¶ÂíåÁÆ°ÁêÜÂåÖÊã¨ËøõÁ®ãÈó¥ÁöÑ‰∏Ä‰∫õÈÄö‰ø° ÈóÆÈ¢ò:mainÂáΩÊï∞‰∏∫‰ªÄ‰πàËÉΩ‰øùËØÅ‰∏ÄÁõ¥ËøêË°åÁä∂ÊÄÅ‰∏çÈÄÄÂá∫?Á≠î: Âú®mainÂáΩÊï∞‰∏≠Ë∞ÉÁî®UIApplicationMain()ÂáΩÊï∞, Ëøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®‰ºöÂêØÂä®‰∏Ä‰∏™‰∏ªÁ∫øÁ®ãÁöÑRunLoop RunLoopÊòØÂØπ‰∫ã‰ª∂Âæ™ÁéØÁöÑÁª¥Êä§Êú∫Âà∂, ÂèØ‰ª•‰∏çÊñ≠ÁöÑÊé•Êî∂Ê∂àÊÅØÔºåÊØîÂ¶ÇËØ¥ÁÇπÂáªÂ±èÂπïÁöÑ‰∫ã‰ª∂ÔºåÊªëÂä®ÂàóË°®ÔºåÂèäÂ§ÑÁêÜÁΩëÁªúËØ∑Ê±ÇÁöÑËøîÂõûÔºåÈÇ£‰πàÊé•Êî∂Ê∂àÊÅØ‰πãÂêéÂØπËøô‰∏™‰∫ã‰ª∂ËøõË°åÂ§ÑÁêÜÔºåÂ§ÑÁêÜÂÆå‰πãÂêéÂ∞±‰ºöÂÜçËøõË°åÁ≠âÂæÖ, ÈÄöËøáÁî®Êà∑ÊÄÅÂà∞ÂÜÖÊ†∏ÊÄÅÁöÑÂàáÊç¢, ‰ªéËÄåÈÅøÂÖçËµÑÊ∫êÂç†Áî®, ËÆ©ÂΩìÂâçÁ∫øÁ®ãÂ§Ñ‰∫é‰ºëÁú†Áä∂ÊÄÅ. Ê≥®ÊÑè:Á≠âÂæÖ != Ê≠ªÂæ™ÁéØ ÔºåRunLoopÁöÑÂæ™ÁéØÈÄöËøáÁä∂ÊÄÅÂàáÊç¢, ËææÂà∞Ê≤°ÊúâÊ∂àÊÅØÊó∂‰ºëÁú†,Áî®Êà∑ÊÄÅÂàáÊç¢Âà∞ÂÜÖÊ†∏ÊÄÅ,ÊúâÊ∂àÊÅØÊó∂Âî§ÈÜí,ÂÜÖÊ†∏ÊÄÅÂàáÊç¢Âà∞Áî®Êà∑ÊÄÅÁöÑËøôÊ†∑‰∏Ä‰∏™‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ ‰ªÄ‰πàÊòØ‰∫ã‰ª∂Âæ™ÁéØÔºå‰∫ã‰ª∂Âæ™ÁéØÁöÑÊú∫Âà∂ÊòØÊÄéÊ†∑ÁöÑÔºü Áª¥Êä§ÁöÑ‰∫ã‰ª∂Âæ™ÁéØÂèØ‰ª•Áî®Êù•‰∏çÊñ≠ÁöÑÂ§ÑÁêÜÊ∂àÊÅØÊàñËÄÖËØ¥‰∫ã‰ª∂ÔºåÂØπ‰ªñ‰ª¨ËøõË°åÁÆ°ÁêÜ ÂêåÊó∂ÂΩìÊ≤°ÊúâÊ∂àÊÅØÈúÄË¶ÅÁÆ°ÁêÜÊó∂Áî®‰ªéÁî®Êà∑ÊÄÅÂàáÊç¢Âà∞ÂÜÖÊ†∏ÊÄÅÔºåÁî±Ê≠§ÂèØ‰ª•Áî®Êù•ËøõË°åÂΩìÂâçÁ∫øÁ®ãÁöÑ‰ºëÁú†ÔºåÁÑ∂ÂêéÈÅøÂÖçËµÑÊ∫êÂç†Áî® ÂêåÊó∂ÂΩìÊúâÊ∂àÊÅØÈúÄË¶ÅÂ§ÑÁêÜÊó∂Ôºå‰ºöÂèëÁîü‰ªéÂÜÖÊ†∏ÊÄÅÂà∞Áî®Êà∑ÊÄÅÁöÑÂàáÊç¢ÔºåÁÑ∂ÂêéÂΩìÂâçÁöÑÁî®Êà∑Á∫øÁ®ã‰ºöË¢´Âî§ÈÜí ÊâÄ‰ª•Áä∂ÊÄÅÁöÑÂàáÊç¢ÊâçÊòØ RunLoop ÁöÑÂÖ≥ÈîÆÁÇπ ‰∫å„ÄÅRunLoopÁöÑÊï∞ÊçÆÁªìÊûÑRunLoopÂºÄÊ∫ê‰ª£Á†ÅÂú∞ÂùÄÂú® OC ‰∏≠ÂÆûÈôÖÊèê‰æõ‰∫Ü‰∏§‰∏™ RunLoop ÁöÑ„ÄÇ‰∏Ä‰∏™ÊòØ NSRunLoopÔºå‰∏Ä‰∏™ÊòØ CFRunLoop„ÄÇNSRunLoop ÊòØÂØπ CFRunLoop ÁöÑÂ∞ÅË£ÖÔºåÊèê‰æõ‰∫Ü‰∏Ä‰∫õÈù¢ÂêëÂØπË±°ÁöÑ API„ÄÇNSRunLoop ÊòØ‰Ωç‰∫é Foundation ÂΩì‰∏≠ÁöÑÔºåCFRunLoop ‰Ωç‰∫é CoreFoundation ÂΩì‰∏≠ÁöÑ„ÄÇ RunLoop ÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏ªË¶ÅÊúâ‰∏â‰∏™Ôºö CFRunLoop CFRunLoopMode Source/Timer/Observer ####1„ÄÅCFRunLoop CFRunLoopÊï∞ÊçÆÁªìÊûÑ Áî±‰∫îÈÉ®ÂàÜÁªÑÊàê: pthread „ÄÅcurrentMode„ÄÅmodes„ÄÅcommonModes„ÄÅcommonModeItems //Ê∫êÁ†Å struct __CFRunLoop { CFMutableSetRef _commonModes; // Set CFMutableSetRef _commonModeItems; // Set CFRunLoopModeRef _currentMode; // Current Runloop Mode CFMutableSetRef _modes; // Set ... }; (1)„ÄÅpthreadÔºö‰∏Ä‰∏ÄÂØπÂ∫î(RunLoopÂíåÁ∫øÁ®ãÁöÑÂÖ≥Á≥ª) (2)„ÄÅcurrentModeÔºöCFRunLoopMode (3)„ÄÅmodesÔºöNSMutableSet&lt;CFRunLoopMode*&gt; (4)„ÄÅcommonModesÔºöNSMutableSet&lt;NSString*&gt;1&gt;„ÄÅcommonMode‰∏çÊòØÂÆûÈôÖÂ≠òÂú®ÁöÑ‰∏ÄÁßçMode„ÄÇ 2&gt;„ÄÅÊòØÂêåÊ≠•Source/Timer/ObserverÂà∞Â§ö‰∏™Mode‰∏≠ÁöÑ‰∏ÄÁßçÊäÄÊúØÊñπÊ°à„ÄÇ (5)„ÄÅcommonModeItemsÔºöÂåÖÂê´Observer„ÄÅTimer„ÄÅSource 2„ÄÅCFRunLoopModeÊï∞ÊçÆÁªìÊûÑ //Ê∫êÁ†Å struct __CFRunLoopMode { CFStringRef _name; // Mode Name, ‰æãÂ¶Ç @&quot;kCFRunLoopDefaultMode&quot; CFMutableSetRef _sources0; // Set CFMutableSetRef _sources1; // Set CFMutableArrayRef _observers; // Array CFMutableArrayRef _timers; // Array ... }; name: ÂØπÂ∫îÊüê‰∏Ä‰∏™runloopModeÂêçÁß∞(Â¶Ç NSDefaultRunLoopMode) sources0: MutableSet ÈõÜÂêàÁ±ªÂûãÊï∞ÊçÆÁªìÊûÑ sources1: MutableSet ÈõÜÂêàÁ±ªÂûãÊï∞ÊçÆÁªìÊûÑ observers: MutableArray timers: MutableArray 3„ÄÅSource/Timer/Observer Âú® CF Ê°ÜÊû∂ÂΩì‰∏≠ÂÆòÊñπÂêçÁß∞Âè´ CFRunLoopSource ÔºåÊúâ‰∏§Áßç source0 Âíå source1Âî§ÈÜíÁ∫øÁ®ãÂ∞±ÊòØ‰ªéÂÜÖÊ†∏ÊÄÅÂàáÊç¢Âà∞Áî®Êà∑ÊÄÅ1&gt;„ÄÅCFRunLoopSourcesource0ÔºöÈúÄË¶ÅÊâãÂä®Âî§ÈÜíÁ∫øÁ®ã„ÄÇsource1ÔºöÂÖ∑Â§áÂî§ÈÜíÁ∫øÁ®ãÁöÑËÉΩÂäõ„ÄÇ source0: ÈùûÁ≥ªÁªü‰∫ã‰ª∂.Âè™ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ÂõûË∞ÉÔºàÂáΩÊï∞ÊåáÈíàÔºâÔºåÂÆÉÂπ∂‰∏çËÉΩ‰∏ªÂä®Ëß¶Âèë‰∫ã‰ª∂„ÄÇ‰ΩøÁî®Êó∂Ôºå‰Ω†ÈúÄË¶ÅÂÖàË∞ÉÁî® CFRunLoopSourceSignal(source)ÔºåÂ∞ÜËøô‰∏™ Source Ê†áËÆ∞‰∏∫ÂæÖÂ§ÑÁêÜÔºåÁÑ∂ÂêéÊâãÂä®Ë∞ÉÁî® CFRunLoopWakeUp(runloop) Êù•Âî§ÈÜí RunLoopÔºåËÆ©ÂÖ∂Â§ÑÁêÜËøô‰∏™‰∫ã‰ª∂„ÄÇ source1 Ôºö Á≥ªÁªü‰∫ã‰ª∂ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ mach_portÂíå‰∏Ä‰∏™ÂõûË∞ÉÔºàÂáΩÊï∞ÊåáÈíàÔºâÔºåË¢´Áî®‰∫éÈÄöËøáÂÜÖÊ†∏ÂíåÂÖ∂‰ªñÁ∫øÁ®ãÁõ∏‰∫íÂèëÈÄÅÊ∂àÊÅØ„ÄÇËøôÁßç Source ËÉΩ‰∏ªÂä®Âî§ÈÜí RunLoop ÁöÑÁ∫øÁ®ã 2&gt;„ÄÅCFRunLoopTimerÂü∫‰∫é‰∫ã‰ª∂ÁöÑÂÆöÊó∂Âô®ÔºåÂíåNSTimerÊòØtoll-free bridgedÁöÑ„ÄÇÂíåÂπ≥Êó∂ÊâÄ‰ΩøÁî®ÁöÑ NSTimer ÊòØÂÖ∑Â§áÂÖçË¥πÊ°•ËΩ¨Êç¢ÁöÑ 3&gt;„ÄÅCFRunLoopObserverÊüê‰∏™observerÂèØ‰ª•ÁõëÂê¨runloopÁöÑÁä∂ÊÄÅÂèòÂåñÔºåÂπ∂‰ΩúÂá∫‰∏ÄÂÆöÂèçÂ∫î„ÄÇ ËßÇÊµãÊó∂Èó¥ÁÇπ KCFRunLoopEntry (RunLoopÂÖ•Âè£Êó∂Êú∫) KCFRunLoopBeforeTimers (ÈÄöÁü•ËßÇÂØüËÄÖRunLoopÂ∞ÜË¶ÅÂØπtimer‰∏Ä‰∫õÁõ∏ÂÖ≥‰∫ã‰ª∂ËøõË°åÂ§ÑÁêÜ) KCFRunLoopBeforeSources (Â∞ÜË¶ÅÂØπÂ§ÑÁêÜ‰∏Ä‰∫õsources‰∫ã‰ª∂) KCFRunLoopBeforeWaiting (ÈÄöÁü•ËßÇÂØüËÄÖRunLoopÂ∞ÜË¶ÅËøõÂÖ•‰ºëÁú†Áä∂ÊÄÅ, Âç≥Â∞ÜË¶ÅÂèëÁî®Êà∑ÊÄÅÂà∞ÂÜÖÊ†∏ÊÄÅÂàáÊç¢) KCFRunLoopAfterWaiting (ÂÜÖÊ†∏ÊÄÅÂà∞Áî®Êà∑ÊÄÅÂàáÊç¢‰∏ç‰πÖ) KCFRunLoopExit (RunLoopÈÄÄÂá∫ÈÄöÁü•) ÂèØ‰ª•ÈÄöËøáÊ≥®ÂÜå‰∏Ä‰∫õ Observer Êù•ÂÆûÁé∞ÂØπ RunLoop ÁöÑ‰∏Ä‰∫õÁõ∏ÂÖ≥Êó∂Èó¥ÁÇπÁöÑÁõëÊµãÊàñËÄÖËßÇÂØü„ÄÇ 4„ÄÅÂêÑ‰∏™Êï∞ÊçÆÁªìÊûÑ‰πãÈó¥ÂÖ≥Á≥ªÈóÆÈ¢ò:RunLoop ÂíåMode‰ª•Âèä ModeÂíåÂÖ∂ÂØπÂ∫îÁöÑ Source ,Timer , Observer Êúâ‰ªÄ‰πàÂÖ≥Á≥ª?Á≠î: ‰∏Ä‰∏™runLoopÂèØ‰ª•ÊúâÂ§ö‰∏™mode, ‰∏ÄÂØπÂ§öÂÖ≥Á≥ª mode ÂíåSource, Timer, Observer ÊòØ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ªÂèØ‰ª•ÁúãÂà∞, ‰∏Ä‰∏™RunLoopÂèØ‰ª•ÊúâÂ§ö‰∏™Mode, ËÄåÊØè‰∏™Mode‰∏≠ÂèàÂèØ‰ª•Â≠òÊîæÂ§ö‰∏™‰∏çÂêåÁöÑ‰∫ã‰ª∂, Êàë‰ª¨Âú®ÂàáÊç¢ModeÊó∂, ÂÖ∂‰ªñModeÁöÑ‰∫ã‰ª∂Â∞Ü‰∏ç‰ºöË¢´ÂìçÂ∫î. 5„ÄÅRunLoopÁöÑMode Runloop Mode ÂÆûÈôÖ‰∏äÊòØ SourceÔºåTimer Âíå Observer ÁöÑÈõÜÂêàÔºå‰∏çÂêåÁöÑ Mode Êää‰∏çÂêåÁªÑÁöÑ SourceÔºåTimer Âíå Observer ÈöîÁªùÂºÄÊù•„ÄÇRunloop Âú®Êüê‰∏™Êó∂ÂàªÂè™ËÉΩË∑ëÂú®‰∏Ä‰∏™ Mode ‰∏ãÔºåÂ§ÑÁêÜËøô‰∏Ä‰∏™ Mode ÂΩì‰∏≠ÁöÑ SourceÔºåTimer Âíå Observer„ÄÇ ËãπÊûúÊñáÊ°£‰∏≠ÊèêÂà∞ÁöÑ Mode Êúâ‰∫î‰∏™ÔºåÂàÜÂà´ÊòØÔºö NSDefaultRunLoopModeÔºöÈªòËÆ§ÁöÑmodeÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÈÉΩÊòØÂú®Ëøô‰∏™mode NSConnectionReplyMode NSModalPanelRunLoopMode NSEventTrackingRunLoopModeÔºö‰ΩøÁî®Ëøô‰∏™ModeÂéªË∑üË∏™Êù•Ëá™Áî®Êà∑‰∫§‰∫íÁöÑ‰∫ã‰ª∂ÔºàÊØîÂ¶ÇUITableView‰∏ä‰∏ãÊªëÂä®Ôºâ NSRunLoopCommonModes iOS ‰∏≠ÂÖ¨ÂºÄÊö¥Èú≤Âá∫Êù•ÁöÑÂè™Êúâ NSDefaultRunLoopMode Âíå NSRunLoopCommonModes„ÄÇ NSRunLoopCommonModes ÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ Mode ÁöÑÈõÜÂêàÔºåÈªòËÆ§ÂåÖÊã¨ NSDefaultRunLoopMode Âíå NSEventTrackingRunLoopMode„ÄÇ ÈóÆÈ¢ò:RunLoop‰∏∫‰ªÄ‰πà‰ºöÊúâÂ§ö‰∏™mode?Á≠îÔºö 6„ÄÅCommonModesÁöÑÁâπÊÆäÊÄßNSRunLoopCommonModes(ÈóÆÈ¢ò:CommonModesÊòØÂê¶‰ΩøÁî®Ëøá, ‰Ω†ÂØπCommonModes‰∫ãÊÄéÊ†∑ÁêÜËß£?) CommonModes‰∏çÊòØÂÆûÈôÖÂ≠òÂú®ÁöÑ‰∏ÄÁßçMode ÊòØÂêåÊ≠•Source/Timer/ObserverÂà∞Â§ö‰∏™Mode‰∏≠ÁöÑ‰∏ÄÁßçÊäÄÊúØÊñπÊ°à Âú® OC ÂΩì‰∏≠ÁªèÂ∏∏‰ºöÈÄöËøá NSRunLoopCommonModes Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊù•Ë°®Ëææ CommonMode„ÄÇ CommonModesÂÆûÁé∞Ôºö‰∏Ä‰∏™ Mode ÂèØ‰ª•Â∞ÜËá™Â∑±Ê†áËÆ∞‰∏∫‚ÄùCommon‚ÄùÂ±ûÊÄßÔºàÈÄöËøáÂ∞ÜÂÖ∂ ModeName Ê∑ªÂä†Âà∞ RunLoop ÁöÑ ‚ÄúcommonModes‚Äù ‰∏≠Ôºâ„ÄÇÊØèÂΩì RunLoop ÁöÑÂÜÖÂÆπÂèëÁîüÂèòÂåñÊó∂ÔºåRunLoop ÈÉΩ‰ºöËá™Âä®Â∞Ü _commonModeItems ÈáåÁöÑ Source/Observer/Timer ÂêåÊ≠•Âà∞ÂÖ∑Êúâ ‚ÄúCommon‚Äù Ê†áËÆ∞ÁöÑÊâÄÊúâModeÈáå„ÄÇ ‰∏â„ÄÅRunLoop‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÁöÑÂÆûÁé∞Âú®ÂºÄÂèëËøáÁ®ã‰∏≠Ë∞ÉÁî®ÁöÑ NSRunLoop ÁöÑ run Á≥ªÂàóÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï‰ª•Âèä CFRunLoop ÁöÑÁõ∏ÂÖ≥ÁöÑ run ÊñπÊ≥ïÊúÄÁªàÈÉΩ‰ºöË∞ÉÁî®Âà∞ CFRunLoopRun() ÂáΩÊï∞ 1 ‰∫ã‰ª∂Âæ™ÁéØÁöÑÊï¥‰ΩìÈÄªËæëÔºö1ÔºâÂú® RunLoop ÂêØÂä®‰πãÂêéÈ¶ñÂÖà‰ºöÂèëÂá∫‰∏ÄÊù°ÈÄöÁü•Êù•ÂëäËØâËßÇÂØüËÄÖÂΩìÂâç RunLoop Âç≥Â∞ÜÂêØÂä®2Ôºâ‰πãÂêé RunLoop Â∞ÜË¶ÅÂ§ÑÁêÜ Timer/Sources0 ‰∫ã‰ª∂ÔºåÂèëÂá∫ÈÄöÁü•3ÔºâËøõÂÖ•Ê≠£Âºè Sources0 ÁöÑÂ§ÑÁêÜ4ÔºâÂ¶ÇÊûúÊúâ Sources1 ÈúÄË¶ÅÂ§ÑÁêÜÔºåËøô‰∏™Êó∂ÂÄô‰ºöÁî®Ëøá‰∏ÄÊù° goto ËØ≠Âè•Êù•ËøõË°å‰ª£Á†ÅÈÄªËæëÁöÑË∑≥ËΩ¨ÔºåÊù•Â§ÑÁêÜÂî§ÈÜíÊó∂Êî∂Âà∞ÁöÑÊ∂àÊÅØ5ÔºâÂ¶ÇÊûúÊ≤°Êúâ Source1Ë¶ÅÂ§ÑÁêÜÔºåÊ≠§Êó∂Á∫øÁ®ãÂ∞ÜË¶Å‰ºëÁú†ÔºåÂêåÊó∂‰πü‰ºöÂèëÈÄÅÈÄöÁü•Áªô ObserveÔºåÁÑ∂ÂêéÂ∞±ÂèëÁîü‰∫ÜÁî®Êà∑Â∏¶Âà∞ÂÜÖÊ†∏ÊÄÅÁöÑÂàáÊç¢6ÔºâÁ∫øÁ®ãÊ≠£ÂºèËøõÂÖ•‰ºëÁú†ÔºåÁ≠âÂæÖÂî§ÈÜí7Ôºâ‰πãÂêéÁ∫øÁ®ãË¢´Âî§ÈÜíÔºå‰πüË¶ÅÂèëÈÄÅ‰∏Ä‰∏™ÈÄöÁü•ÔºåÈÄöÁü•ËßÇÂØüÁùÄËØ¥ÂΩìÂâçÁ∫øÁ®ãË¢´Âî§ÈÜí‰∫ÜÔºåÁÑ∂ÂêéÂ§ÑÁêÜÂî§ÈÜíÊó∂ÂèóÂà∞ÁöÑÊ∂àÊÅØÔºå‰πãÂêéÂèà‰ºöÂõûÂà∞Á¨¨‰∫åÊ≠• 2 ÂΩìÂ§Ñ‰∫é‰ºëÁú†ÁöÑrunloopÔºåÂèØ‰ª•ÈÄöËøáÂì™‰∫õÊñπÂºèÂî§ÈÜí?Á≠î: ÈÄöËøá Sources1 ËøõË°åÂΩìÂâç RunLoop ÁöÑÂî§ÈÜí Timer ‰∫ã‰ª∂ÁöÑÂõûË∞É Â§ñÈÉ®ÊâãÂä®ÁöÑÂî§ÈÜí 3 App ‰ªéÂêØÂä®Âà∞ÈÄÄÂá∫ÔºåËøô‰∏™ËøáÁ®ãÂΩì‰∏≠Á≥ªÁªüÈÉΩÂèëÁîü‰∫Ü‰ªÄ‰πàÔºüÁ≠îÔºö Ë∞ÉÁî®‰∫Ü main ÂáΩÊï∞‰πãÂêéÔºåÂú® main ÂáΩÊï∞‰∏≠‰ºöË∞ÉÁî® UIApplicationMain ÂáΩÊï∞ÔºåÂú®Ëøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®‰ºöÂêØÂä®‰∏Ä‰∏™‰∏ªÁ∫øÁ®ãÁöÑ RunLoopÔºåÁÑ∂ÂêéÁªèËøá‰∏ÄÁ≥ªÂàóÁöÑÂ§ÑÁêÜÊúÄÁªà‰∏ªÁ∫øÁ®ãÁöÑ RunLoop Â§Ñ‰∫é‰ºëÁú†Áä∂ÊÄÅÔºå Â¶ÇÊûúËØ¥Ê≠§Êó∂ÁÇπÂáª‰∏Ä‰∏™Â±èÂπïÔºå‰ºö‰∫ßÁîü‰∏Ä‰∏™ Responder ÔºåÁÑ∂ÂêéÂü∫‰∫é Responder ÊúÄÁªà‰ºöËΩ¨Êàê Sources1ÔºåÂèØ‰ª•Êää‰∏ªÁ∫øÁ®ãÂî§ÈÜíÔºåËøêË°åÁÑ∂ÂêéÂ§ÑÁêÜÔºå ‰πãÂêéÂΩìÊääÁ®ãÂ∫èÊùÄÊ≠ªÁöÑÊó∂ÂÄô RunLoop Â∞±‰ºöÈÄÄÂá∫ÔºåËøô‰∏™Êó∂ÂÄôÂ∞±‰ºöÂèëÂá∫‰∏Ä‰∏™ÈÄöÁü•Âç≥Â∞ÜÈÄÄÂá∫ RunLoop ÔºåRunLoop ÈÄÄÂá∫‰πãÂêéÁ∫øÁ®ã‰πüÂ∞±ÈîÄÊØÅÊéâ‰∫Ü„ÄÇ 4 RunLoopÁöÑÊ†∏ÂøÉmain ÂáΩÊï∞ÁªèËøá‰∏ÄÁ≥ªÂàóÁöÑÂ§ÑÁêÜ‰πãÂêéÔºåÂÜÖÈÉ®ÊúÄÁªà‰ºöË∞ÉÁî®‰∏Ä‰∏™Á≥ªÁªüÂáΩÊï∞ mach_msg() ,‰∫éÊòØÂ∞±ÂèëÁîü‰∫Ü‰∏Ä‰∏™Á≥ªÁªüË∞ÉÁî®ÔºåÁªèËøáÁ≥ªÁªüË∞ÉÁî®ÂΩìÂâçÁî®Êà∑Á∫øÁ®ãÂ∞±ÊääÊéßÂà∂ÊùÉËΩ¨‰∫§Ê†∏ÂøÉÊÄÅÔºåÁÑ∂Âêé mach_msg() Âú®‰∏ÄÂÆöÊù°‰ª∂‰∏ã‰ºöËøîÂõûÁªôË∞ÉÁî®ÊñπÔºåËß¶ÂèëËøîÂõûÁöÑÈÄªËæëÂ∞±ÊòØÂî§ÈÜíÁ∫øÁ®ãÁöÑÈÄªËæëÔºåÊØîÂ¶ÇÊî∂Âà∞‰∫Ü‰∏Ä‰∏™ Sources1 ÊàñËÄÖ Timer ‰∫ã‰ª∂ÁöÑÂõûË∞ÉÔºåÂåÖÊã¨Â§ñÈÉ®ÊâãÂä®Âî§ÈÜíÔºåÂ∞±ÂèØ‰ª•Ëß¶ÂèëÊ†∏ÂøÉÊÄÅÂà∞Áî®Êà∑ÊÄÅÁöÑÂàáÊç¢ÔºåÈÇ£‰πàÂΩìÂâçappÁöÑ‰∏ªÁ∫øÁ®ãÂæ™ÁéØÂ∞±‰ºöË¢´Âî§ÈÜíÔºåËøôÂ∞±ÊòØ RunLoop ÁöÑÊ†∏ÂøÉ Âõõ„ÄÅRunLoop‰∏éNSTimerÈóÆÈ¢ò:ÊªëÂä®TableViewÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÁöÑÂÆöÊó∂Âô®Ëøò‰ºöÁîüÊïàÂêóÔºüÁ≠î: Runloop Mode ÂÆûÈôÖ‰∏äÊòØ SourceÔºåTimer Âíå Observer ÁöÑÈõÜÂêàÔºå‰∏çÂêåÁöÑ Mode Êää‰∏çÂêåÁªÑÁöÑ SourceÔºåTimer Âíå Observer ÈöîÁªùÂºÄÊù•„ÄÇRunloop Âú®Êüê‰∏™Êó∂ÂàªÂè™ËÉΩË∑ëÂú®‰∏Ä‰∏™ Mode ‰∏ãÔºåÂ§ÑÁêÜËøô‰∏Ä‰∏™ Mode ÂΩì‰∏≠ÁöÑ SourceÔºåTimer Âíå Observer„ÄÇ ÊªëÂä®TableViewÁöÑÊó∂ÂÄôModeÂèëÁîüÂàáÊç¢Ôºå‰ªéKCFRunLoopDefaultModeÂàáÊç¢Âà∞UITrackingRunLoopMode. (ÂΩìÊääSource/Timer/Observer Ê∑ªÂä†Âà∞Êüê‰∏™Mode‰∏ä, Â¶ÇÊûúÂΩìÂâçrunloopËøêË°åÂú®Âè¶‰∏Ä‰∏™mode‰∏ä, ÂØπÂ∫îSource/Timer/ObserverÊòØÊ≤°ÊúâÂäûÊ≥ïËøõË°åÂêéÁª≠Â§ÑÁêÜÂíåÂõûË∞É.) Ëß£ÂÜ≥: ÈÄöËøáÂáΩÊï∞CFRunLoopAddTimer() Â∞ÜtimerÊ∑ªÂä†Âà∞commonMode‰∏ä. CommonMode‰∏çÊòØÂÆûÈôÖÂ≠òÂú®ÁöÑ‰∏ÄÁßçMode, Âè™ÊòØÂ∞Ü‰∏Ä‰∫õmodeÊâì‰∏äcommonÊ†áËÆ∞, ÁÑ∂ÂêéÂèØ‰ª•ÊääÊüê‰∏™‰∫ã‰ª∂Ê∫ê(Â¶ÇTimer)ÂêåÊ≠•Âà∞Â§ö‰∏™mode‰∏≠.void CFRunLoopAddTimer(runloop, timer, commonMode) ` ‰∫î„ÄÅRunLoop‰∏éÂ§öÁ∫øÁ®ã1„ÄÅÊÄéÊ†∑ÂÆûÁé∞‰∏Ä‰∏™Â∏∏È©ªÁ∫øÁ®ã?(1)„ÄÅ‰∏∫ÂΩìÂâçÁ∫øÁ®ãÂºÄÂêØ‰∏Ä‰∏™RunLoop„ÄÇ(2)„ÄÅÂêëËØ•RunLoop‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Port/SourceÁ≠âÁª¥ÊåÅRunLoopÁöÑ‰∫ã‰ª∂Âæ™ÁéØ„ÄÇ(3)„ÄÅÂêØÂä®ËØ•RunLoop„ÄÇ ÂÆûÁé∞‰∏Ä‰∏™Â∏∏È©ªÁ∫øÁ®ãÁöÑÂü∫Êú¨Ê≠•È™§Ôºö 1)‰∏∫ÂΩìÂâçÁ∫øÁ®ãÂºÄÂêØ‰∏Ä‰∏™ RunLoop ÔºöNSRunLoop *runLoop = [NSRunLoop currentRunLoop];ÔºåÂõ†‰∏∫Ëé∑ÂèñÂΩìÂâç RunLoop Ëøô‰∏™ÊñπÊ≥ïÊú¨Ë∫´‰ºöÊü•ÊâæÂ¶ÇÊûúÂΩìÂâçÁ∫øÁ®ãÊ≤°Êúâ RunLoop ÁöÑËØùÔºå‰ºöÂú®Á≥ªÁªüÁöÑÂÜÖÈÉ®ÂàõÂª∫ 2)Â¶ÇÊûúÁ∫øÁ®ãÊ≤°ÊúâËµÑÊ∫êÊàñËÄÖ‰∫ã‰ª∂Ê∫êË¶ÅÂ§ÑÁêÜÁöÑËØùÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØ‰∏çËÉΩÁª¥ÊåÅ‰∫ã‰ª∂Âæ™ÁéØÁöÑÂ∞±‰ºöÁõ¥Êé•ÈÄÄÂá∫‰∫ÜÔºåÊâÄ‰ª•ÈúÄË¶ÅÁªô‰ªñÊ∑ªÂä†‰∏Ä‰∏™ Port/Source Êù•Áª¥ÊåÅ‰ªñÁöÑÊó∂Èó¥Âæ™ÁéØÊú∫Âà∂ 3)ÁÑ∂ÂêéÂÜçË∞ÉÁî® RunLoop ÁöÑ run ÊñπÊ≥ïÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™Â∏∏È©ªÁ∫øÁ®ã 2„ÄÅRunLoopÂíåÁ∫øÁ®ãÂÖ≥Á≥ª(1)„ÄÅrunloop‰∏éÁ∫øÁ®ãÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÔºå‰∏Ä‰∏™runloopÂØπÂ∫î‰∏Ä‰∏™Ê†∏ÂøÉÁöÑÁ∫øÁ®ãÔºå‰∏∫‰ªÄ‰πàËØ¥ÊòØÊ†∏ÂøÉÁöÑÔºåÊòØÂõ†‰∏∫runloopÊòØÂèØ‰ª•ÂµåÂ•óÁöÑÔºå‰ΩÜÊòØÊ†∏ÂøÉÁöÑÂè™ËÉΩÊúâ‰∏Ä‰∏™Ôºå‰ªñ‰ª¨ÁöÑÂÖ≥Á≥ª‰øùÂ≠òÂú®‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑÂ≠óÂÖ∏Èáå„ÄÇ(2)„ÄÅrunloopÊòØÊù•ÁÆ°ÁêÜÁ∫øÁ®ãÁöÑÔºåÂΩìÁ∫øÁ®ãÁöÑrunloopË¢´ÂºÄÂêØÂêéÔºåÁ∫øÁ®ã‰ºöÂú®ÊâßË°åÂÆå‰ªªÂä°ÂêéËøõÂÖ•‰ºëÁú†Áä∂ÊÄÅÔºåÊúâ‰∫Ü‰ªªÂä°Â∞±‰ºöË¢´Âî§ÈÜíÂéªÊâßË°å‰ªªÂä°„ÄÇ(3)„ÄÅrunloopÂú®Á¨¨‰∏ÄÊ¨°Ëé∑ÂèñÊó∂Ë¢´ÂàõÂª∫ÔºåÂú®Á∫øÁ®ãÁªìÊùüÊó∂Ë¢´ÈîÄÊØÅ„ÄÇ(4)„ÄÅÂØπ‰∫é‰∏ªÁ∫øÁ®ãÊù•ËØ¥ÔºårunloopÂú®Á®ãÂ∫è‰∏ÄÂêØÂä®Â∞±ÈªòËÆ§ÂàõÂª∫Â•Ω‰∫Ü„ÄÇ(5)„ÄÅÂØπ‰∫éÂ≠êÁ∫øÁ®ãÊù•ËØ¥ÔºårunloopÊòØÊáíÂä†ËΩΩÁöÑÔºåÂè™ÊúâÂΩìÊàë‰ª¨‰ΩøÁî®ÁöÑÊó∂ÂÄôÊâç‰ºöÂàõÂª∫„ÄÇ dispatch_queue_t queue = dispatch_queue_create(&quot;com.codeTao.testQueue&quot;, DISPATCH_QUEUE_SERIAL); dispatch_async(queue, ^{ [self performSelector:@selector(timerAction) withObject:nil afterDelay:1]; [[NSRunLoop currentRunLoop] run]; }); (6)„ÄÅÂ≠êÁ∫øÁ®ã‰∏≠‰ΩøÁî®ÂÆöÊó∂Âô®ÔºåÈúÄÂ∞ÜÂÆöÊó∂Âô®Ê∑ªÂä†Ëá≥RunLoop‰∏≠ÔºåÁ°Æ‰øùÂ≠êÁ∫øÁ®ãÁöÑrunloopË¢´ÂàõÂª∫Ôºå‰∏çÁÑ∂ÂÆöÊó∂Âô®‰∏ç‰ºöÂõûË∞É„ÄÇ dispatch_queue_t queue = dispatch_queue_create(&quot;com.codeTao.testQueue&quot;, DISPATCH_QUEUE_SERIAL); dispatch_async(queue, ^{ //Ê≠§ÁßçÊñπÂºèÂàõÂª∫ÁöÑtimerÂ∑≤ÁªèÊ∑ªÂä†Âà∞NSRunloop‰∏≠‰∫Ü NSTimer *timer1 =[NSTimer scheduledTimerWithTimeInterval:0 target:self selector:@selector(timerAction) userInfo:nil repeats:YES]; [[NSRunLoop currentRunLoop] run]; //Ê≠§ÁßçÊñπÂºèÂàõÂª∫ÁöÑtimerÊ≤°ÊúâÊ∑ªÂä†Ëá≥runloop‰∏≠ NSTimer *timer2 = [NSTimer timerWithTimeInterval:1.0f target:self selector:@selector(timerAction) userInfo:nil repeats:YES]; [[NSRunLoop currentRunLoop] addTimer:timer2 forMode:NSDefaultRunLoopMode]; [[NSRunLoop currentRunLoop] run]; }); ÂÖ≠ RunLoopÈù¢ËØïÊÄªÁªìÈóÆÈ¢ò:‰ªÄ‰πàÊòØRunLoop? ÂÆÉÊòØÊÄéÊ†∑ÂÅöÂà∞Êúâ‰∫ãÂÅö‰∫ã,Ê≤°‰∫ã‰ºëÊÅØ?Á≠î: RunLoopÊòØÈÄöËøáÂÜÖÈÉ®Áª¥Êä§ÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊù•ÂØπ‰∫ã‰ª∂/Ê∂àÊÅØËøõË°åÁÆ°ÁêÜÁöÑ‰∏Ä‰∏™ÂØπË±°„ÄÇË∞ÉÁî® [CFRunLoop run] Áõ∏ÂÖ≥ÊñπÊ≥ïÂêé, ‰ºöË∞ÉÁî®Á≥ªÁªüÂáΩÊï∞mach_msg, ÂêåÊó∂ÂèëÁîü‰∫ÜÁî®Êà∑ÊÄÅÂêëÊ†∏ÂøÉÊÄÅÁöÑÂàáÊç¢,ÂΩìÂâçÁ∫øÁ®ãÂ§Ñ‰∫é‰ºëÁú†Áä∂ÊÄÅ.ÊâÄÊúâÂÅöÂà∞Êúâ‰∫ãÂÅö‰∫ã,Ê≤°‰∫ã‰ºëÊÅØ ÈóÆÈ¢ò:RunLoop‰∏éÁ∫øÁ®ãÊòØÊÄéÊ†∑ÁöÑÂÖ≥Á≥ª?Á≠î: runloop‰∏éÁ∫øÁ®ãÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑ ‰∏Ä‰∏™Á∫øÁ®ãÈªòËÆ§ÊòØÊ≤°ÊúârunloopÁöÑ, ÈúÄË¶ÅÊâãÂä®ÂàõÂª∫ ÈóÆÈ¢ò:Â¶Ç‰ΩïÂÆûÁé∞‰∏Ä‰∏™Â∏∏È©ªÁ∫øÁ®ã?Á≠î:‰∏â‰∏™Ê≠•È™§:(1)„ÄÅÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÂØπÂ∫îÁöÑRunLoop„ÄÇ(2)„ÄÅÂêëËØ•RunLoop‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Port/Source/Timer/ObserverÁ≠âÁª¥ÊåÅRunLoopÁöÑ‰∫ã‰ª∂Âæ™ÁéØ„ÄÇ(3)„ÄÅÂêØÂä®ËØ•RunLoop „ÄÇË∞ÉÁî®CFRunLoop runÊñπÊ≥ïÊ≥®ÊÑè:ËøêË°åÁöÑÊ®°ÂºèÂíåÊ∑ªÂä†Ê®°ÂºèÂøÖÈ°ªÊòØÂêå‰∏Ä‰∏™,Âê¶ÂàôÂ§ñÈÉ®‰ΩøÁî®whileÂæ™ÁéØ‰ºöÂØºËá¥Ê≠ªÂæ™ÁéØ ÈóÆÈ¢ò:ÊÄéÊ†∑‰øùËØÅÂ≠êÁ∫øÁ®ãÊï∞ÊçÆÂõûÊù•Êõ¥Êñ∞UIÁöÑÊó∂ÂÄô‰∏çÊâìÊñ≠Áî®Êà∑ÁöÑÊªëÂä®Êìç‰Ωú?Á≠î: Áî®Êà∑ËøõË°åÊªëÂä®ËøáÁ®ã‰∏≠,ÂΩìÂâçRunLoopËøêË°åÂú®UITrackingRunLoopMode‰∏ã Êàë‰ª¨‰∏ÄËà¨Âú®Â≠êÁ∫øÁ®ã‰∏≠ËøõË°åÁΩëÁªúËØ∑Ê±Ç, ÊâÄ‰ª•ÂèØ‰ª•Â∞ÜÂ≠êÁ∫øÁ®ãÊäõÁªô‰∏ªÁ∫øÁ®ãÊï∞ÊçÆÂπ∂ËøõË°åUIÊõ¥Êñ∞ÁöÑÈÄªËæëÂ∞ÅË£ÖËµ∑Êù•Êèê‰∫§Âà∞‰∏ªÁ∫øÁ®ãÁöÑNSDefaultRunLoopMode‰∏ã. ËøôÊ†∑ÊäõÂõûÊù•ÁöÑ‰ªªÂä°,ÂΩìÁî®Êà∑ÊªëÂä®Êó∂Â§Ñ‰∫éUITrackingRunLoopMode‰∏ãÂ∞±‰∏ç‰ºöÊâßË°å‰ªªÂä°. ÂΩìÊâãÂÅúÊ≠¢ÊªëÂä®Êìç‰ΩúÂêé, ÂΩìÂâçÁ∫øÁ®ãmodeÂàáÊç¢Âà∞NSDefaultRunLoopMode‰∏ã,ÂÜçÂ§ÑÁêÜÂ≠êÁ∫øÁ®ã‰∏äÊäõÁªô‰∏ªÁ∫øÁ®ãÁöÑ‰ªªÂä°,ËøôÊ†∑Â∞±‰∏ç‰ºöÊâìÊñ≠Áî®Êà∑ÊªëÂä®Êìç‰Ωú. ÈóÆÈ¢òÔºöÊàë‰ª¨ÂèØ‰ª•ÁõëÂê¨ RunLoop Âì™‰∫õÊó∂Èó¥ÁÇπÔºüÁ≠îÔºö KCFRunLoopEntryRunLoop ÁöÑÂÖ•Âè£Êó∂Êú∫ÔºåÂΩì RunLoop ÂáÜÂ§áÂêØÂä®ÁöÑÊó∂ÂÄôÁ≥ªÁªü‰ºöÁªôÊàë‰ª¨‰∏Ä‰∏™ÂõûË∞ÉÈÄöÁü•ÔºåËøô‰∏™ÈÄöÁü•Êéâ CFRunLoopEntry KCFRunLoopBeforeTimers‰ª£Ë°®ÁöÑÂê´‰πâÔºöÈÄöÁü•ËßÇÂØüËÄÖ RunLoop Â∞ÜË¶ÅÂØπ Timer ‰∏Ä‰∫õÁõ∏ÂÖ≥‰∫ã‰ª∂ËøõË°åÂ§ÑÁêÜ‰∫Ü KCFRunLoopBeforeSources‰ª£Ë°®Â∞ÜË¶ÅÂ§ÑÁêÜ‰∏Ä‰∫õ Source ‰∫ã‰ª∂ KCFRunLoopBeforeWaitingÈÄöÁü•ÂØπÂ∫îËßÇÂØüËÄÖÔºåÂΩìÂâç RunLoop Â∞ÜË¶ÅËøõÂÖ•‰ºëÁú†Áä∂ÊÄÅÔºåËøô‰∏™ÈÄöÁü•ÊàñËÄÖËØ¥ËßÇÊµãÁÇπÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰∏Ä‰∏™ËßÇÊµãÁÇπÔºåÂú® RunLoop ÂèëÈÄÅËøô‰∏™ÈÄöÁü•ÁöÑÊó∂ÂÄôÔºåÂç≥Â∞ÜË¶ÅÂèëÁîüÁî®Êà∑ÊÄÅÂà∞ÂÜÖÊ†∏ÊÄÅÁöÑÂàáÊç¢ KCFRunLoopAfterWaitingËøô‰πüÊòØ‰∏Ä‰∏™ÈáçË¶ÅÁöÑËßÇÊµãÁÇπÔºåËøô‰∏™ÈÄöÁü•ÂèëÂá∫ÁöÑÊó∂Êú∫ÊÅ∞Â•ΩÊòØ‰ªéÂÜÖÊ†∏ÊÄÅÂàáÊç¢Âà∞Áî®Êà∑ÊÄÅ‰πãÂêéÁöÑ‰∏ç‰πÖ‰πãÈó¥ KCFRunLoopExit‰ª£Ë°® RunLoop ÈÄÄÂá∫ÁöÑÈÄöÁü• ÈóÆÈ¢ò:‰ªÄ‰πàÊó∂ÂÄô‰ΩøÁî®Runloop?ÂΩìÈúÄË¶ÅÂíåËØ•Á∫øÁ®ãËøõË°å‰∫§‰∫íÁöÑÊó∂ÂÄôÊâç‰ºö‰ΩøÁî®Runloop ÈóÆÈ¢ò: RunloopÂíåÁ∫øÁ®ãÊòØ‰ªÄ‰πàÂÖ≥Á≥ªÔºüÁ≠î: ÊØèÊù°Á∫øÁ®ãÈÉΩÊúâÂîØ‰∏ÄÁöÑ‰∏Ä‰∏™‰∏é‰πãÂØπÂ∫îÁöÑRunLoopÂØπË±°ÔºåÂÖ∂ÂÖ≥Á≥ªÊòØ‰øùÂ≠òÂú®‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑ Dictionary ÈáåÔºõ ‰∏ªÁ∫øÁ®ãÁöÑRunLoopÂ∑≤ÁªèËá™Âä®ÂàõÂª∫ÔºåÂ≠êÁ∫øÁ®ãÁöÑRunLoopÈúÄË¶ÅÊâãÂä®ÂàõÂª∫Ôºõ RunLoopÂú®Á¨¨‰∏ÄÊ¨°Ëé∑ÂèñÊó∂ÂàõÂª∫ÔºåÂú®Á∫øÁ®ãÁªìÊùüÊó∂ÈîÄÊØÅ ÈóÆÈ¢ò:RunloopÁöÑmode‰ΩúÁî®ÊòØ‰ªÄ‰πàÔºüÁ≠î:ÊåáÂÆö‰∫ã‰ª∂Âú®ËøêË°åÂæ™ÁéØ‰∏≠ÁöÑ‰ºòÂÖàÁ∫ßÁöÑÔºåÁ∫øÁ®ãÁöÑËøêË°åÈúÄË¶Å‰∏çÂêåÁöÑÊ®°ÂºèÔºåÂéªÂìçÂ∫îÂêÑÁßç‰∏çÂêåÁöÑ‰∫ã‰ª∂ÔºåÂéªÂ§ÑÁêÜ‰∏çÂêåÊÉÖÂ¢ÉÊ®°Âºè„ÄÇ(ÊØîÂ¶ÇÂèØ‰ª•‰ºòÂåñtableviewÁöÑÊó∂ÂÄôÂèØ‰ª•ËÆæÁΩÆUITrackingRunLoopMode‰∏ã‰∏çËøõË°å‰∏Ä‰∫õÊìç‰ΩúÔºåÊØîÂ¶ÇËÆæÁΩÆÂõæÁâáÁ≠â„ÄÇ) ÈóÆÈ¢ò: ‰ª•+scheduledTimerWithTimeInterval:ÁöÑÊñπÂºèËß¶ÂèëÁöÑtimerÔºåÂú®ÊªëÂä®È°µÈù¢‰∏äÁöÑÂàóË°®Êó∂Ôºåtimer‰ºöÊöÇÂÅúÂõûË∞ÉÔºå ‰∏∫‰ªÄ‰πàÔºüÁ≠î:ÊªëÂä®scrollViewÊó∂Ôºå‰∏ªÁ∫øÁ®ãÁöÑRunLoop‰ºöÂàáÊç¢Âà∞UITrackingRunLoopModeËøô‰∏™ModeÔºåÊâßË°åÁöÑ‰πüÊòØUITrackingRunLoopMode‰∏ãÁöÑ‰ªªÂä°ÔºàMode‰∏≠ÁöÑitemÔºâÔºåËÄåtimerÊòØÊ∑ªÂä†Âú®NSDefaultRunLoopMode‰∏ãÁöÑÔºåÊâÄ‰ª•timer‰ªªÂä°Âπ∂‰∏ç‰ºöÊâßË°åÔºåÂè™ÊúâÂΩìUITrackingRunLoopModeÁöÑ‰ªªÂä°ÊâßË°åÂÆåÊØïÔºårunloopÂàáÊç¢Âà∞NSDefaultRunLoopModeÂêéÔºåÊâç‰ºöÁªßÁª≠ÊâßË°åtimer„ÄÇ ÈóÆÈ¢ò: Â¶Ç‰ΩïËß£ÂÜ≥Âú®ÊªëÂä®È°µÈù¢‰∏äÁöÑÂàóË°®Êó∂Ôºåtimer‰ºöÊöÇÂÅúÂõûË∞ÉÔºüÁ≠î:Â∞ÜTimerÊîæÂà∞NSRunLoopCommonModes‰∏≠ÊâßË°åÂç≥ÂèØ [[NSRunLoop currentRunLoop] addTimer:timer forMode:NSRunLoopCommonModes]; [[NSRunLoop currentRunLoop] run]; ÈóÆÈ¢ò: NSTimer‰ΩøÁî®Êó∂ÈúÄË¶ÅÊ≥®ÊÑè‰ªÄ‰πàÔºüÁ≠î: Ê≥®ÊÑètimerÊ∑ªÂä†Âà∞runloopÊó∂Â∫îËØ•ËÆæÁΩÆ‰∏∫‰ªÄ‰πàmode Ê≥®ÊÑètimerÂú®‰∏çÈúÄË¶ÅÊó∂Ôºå‰∏ÄÂÆöË¶ÅË∞ÉÁî®invalidateÊñπÊ≥ï‰ΩøÂÆöÊó∂Âô®Â§±ÊïàÔºåÂê¶ÂàôÂæó‰∏çÂà∞ÈáäÊîæ ÈóÆÈ¢ò: RunLoop ÊúâÂì™‰∫õÂ∫îÁî®ÔºüÁ≠î: Â∏∏È©ªÂÜÖÂ≠ò„ÄÅAutoreleasePool Ëá™Âä®ÈáäÊîæÊ±† ÈóÆÈ¢ò: AutoreleasePool Âíå RunLoop Êúâ‰ªÄ‰πàËÅîÁ≥ªÔºüÁ≠î:iOSÂ∫îÁî®ÂêØÂä®Âêé‰ºöÊ≥®ÂÜå‰∏§‰∏™ Observer ÁÆ°ÁêÜÂíåÁª¥Êä§ AutoreleasePool„ÄÇÂ∫îÁî®Á®ãÂ∫èÂàöÂàöÂêØÂä®Êó∂ÈªòËÆ§Ê≥®ÂÜå‰∫ÜÂæàÂ§ö‰∏™ObserverÔºåÂÖ∂‰∏≠Êúâ‰∏§‰∏™ObserverÁöÑ callout ÈÉΩÊòØ _ wrapRunLoopWithAutoreleasePoolHandlerÔºåËøô‰∏§‰∏™ÊòØÂíåËá™Âä®ÈáäÊîæÊ±†Áõ∏ÂÖ≥ÁöÑ‰∏§‰∏™ÁõëÂê¨„ÄÇ Á¨¨‰∏Ä‰∏™ Observer ‰ºöÁõëÂê¨ RunLoop ÁöÑËøõÂÖ•ÔºåÂÆÉ‰ºöÂõûË∞Éobjc_autoreleasePoolPush() ÂêëÂΩìÂâçÁöÑ AutoreleasePoolPage Â¢ûÂä†‰∏Ä‰∏™Âì®ÂÖµÂØπË±°Ê†áÂøóÂàõÂª∫Ëá™Âä®ÈáäÊîæÊ±†„ÄÇËøô‰∏™ Observer ÁöÑ order ÊòØ -2147483647 ‰ºòÂÖàÁ∫ßÊúÄÈ´òÔºåÁ°Æ‰øùÂèëÁîüÂú®ÊâÄÊúâÂõûË∞ÉÊìç‰Ωú‰πãÂâç„ÄÇ Á¨¨‰∫å‰∏™ Observer ‰ºöÁõëÂê¨ RunLoop ÁöÑËøõÂÖ•‰ºëÁú†ÂíåÂç≥Â∞ÜÈÄÄÂá∫ RunLoop ‰∏§ÁßçÁä∂ÊÄÅÔºåÂú®Âç≥Â∞ÜËøõÂÖ•‰ºëÁú†Êó∂‰ºöË∞ÉÁî® objc_autoreleasePoolPop() Âíå objc_autoreleasePoolPush() Ê†πÊçÆÊÉÖÂÜµ‰ªéÊúÄÊñ∞Âä†ÂÖ•ÁöÑÂØπË±°‰∏ÄÁõ¥ÂæÄÂâçÊ∏ÖÁêÜÁõ¥Âà∞ÈÅáÂà∞Âì®ÂÖµÂØπË±°„ÄÇËÄåÂú®Âç≥Â∞ÜÈÄÄÂá∫ RunLoop Êó∂‰ºöË∞ÉÁî®objc_autoreleasePoolPop() ÈáäÊîæËá™Âä®Ëá™Âä®ÈáäÊîæÊ±†ÂÜÖÂØπË±°„ÄÇËøô‰∏™Observer ÁöÑ order ÊòØ 2147483647 Ôºå‰ºòÂÖàÁ∫ßÊúÄ‰ΩéÔºåÁ°Æ‰øùÂèëÁîüÂú®ÊâÄÊúâÂõûË∞ÉÊìç‰Ωú‰πãÂêé„ÄÇ ÈóÆÈ¢ò:NSRunLoop Âíå CFRunLoopRef Âå∫Âà´?Á≠î: CFRunLoopRef Âü∫‰∫éC Á∫øÁ®ãÂÆâÂÖ®ÔºåNSRunLoop Âü∫‰∫é CFRunLoopRef Èù¢ÂêëÂØπË±°ÁöÑAPI ÊòØ‰∏çÂÆâÂÖ®ÁöÑ]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨6Á´† Â§öÁ∫øÁ®ãÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F24%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC6%E7%AB%A0-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªËÆ≤Â§öÁ∫øÁ®ãÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºöÂåÖÊã¨GCD„ÄÅNSOperation„ÄÅNSThread„ÄÅÂ§öÁ∫øÁ®ã‰∏éÈîÅ„ÄÇ ‰∏Ä„ÄÅGCD ÂêåÊ≠•/ÂºÇÊ≠• Âíå‰∏≤Ë°å/Âπ∂Âèë dispatch_barrier_async ÂºÇÊ≠•Ê†ÖÊ†èË∞ÉÁî® dispatch_group 01 ÂºÇÊ≠•ÂáΩÊï∞+Âπ∂ÂèëÈòüÂàóÔºöÂºÄÂêØÂ§öÊù°Á∫øÁ®ãÔºåÂπ∂ÂèëÊâßË°å‰ªªÂä°02 ÂºÇÊ≠•ÂáΩÊï∞+‰∏≤Ë°åÈòüÂàóÔºöÂºÄÂêØ‰∏ÄÊù°Á∫øÁ®ãÔºå‰∏≤Ë°åÊâßË°å‰ªªÂä°03 ÂêåÊ≠•ÂáΩÊï∞+Âπ∂ÂèëÈòüÂàóÔºö‰∏çÂºÄÁ∫øÁ®ãÔºå‰∏≤Ë°åÊâßË°å‰ªªÂä°04 ÂêåÊ≠•ÂáΩÊï∞+‰∏≤Ë°åÈòüÂàóÔºö‰∏çÂºÄÁ∫øÁ®ãÔºå‰∏≤Ë°åÊâßË°å‰ªªÂä°05 ÂºÇÊ≠•ÂáΩÊï∞+‰∏ªÈòüÂàóÔºö‰∏çÂºÄÁ∫øÁ®ãÔºåÂú®‰∏ªÁ∫øÁ®ã‰∏≠‰∏≤Ë°åÊâßË°å‰ªªÂä°06 ÂêåÊ≠•ÂáΩÊï∞+‰∏ªÈòüÂàóÔºö‰∏çÂºÄÁ∫øÁ®ãÔºå‰∏≤Ë°åÊâßË°å‰ªªÂä°ÔºàÊ≥®ÊÑèÊ≠ªÈîÅÂèëÁîüÔºâÊ≥®ÊÑèÂêåÊ≠•ÂáΩÊï∞ÂíåÂºÇÊ≠•ÂáΩÊï∞Âú®ÊâßË°åÈ°∫Â∫è‰∏äÈù¢ÁöÑÂ∑ÆÂºÇ 1„ÄÅÂêåÊ≠•/ÂºÇÊ≠• Âíå ‰∏≤Ë°å/Âπ∂ÂèëÂêåÊ≠•/ÂºÇÊ≠• Âíå ‰∏≤Ë°å/Âπ∂Âèë + ÂêåÊ≠•ÂàÜÈÖç‰ªªÂä°Âà∞‰∏≤Ë°åÈòüÂàó dispatch_sync(serial_queue,{//‰ªªÂä°}); + ÂºÇÊ≠•ÂàÜÈÖç‰ªªÂä°Âà∞‰∏≤Ë°åÈòüÂàó dispatch_async(serial_queue,{//‰ªªÂä°}); + ÂêåÊ≠•ÂàÜÈÖç‰ªªÂä°Âà∞Âπ∂ÂèëÈòüÂàó dispatch_sync(concurrent_queue,{//‰ªªÂä°}); + ÂºÇÊ≠•ÂàÜÈÖç‰ªªÂä°Âà∞Âπ∂ÂèëÈòüÂàó dispatch_async(concurrent_queue,{//‰ªªÂä°}); (1)„ÄÅÂêåÊ≠•‰∏≤Ë°å dispatch_sync(serial_queue , ^{ //‰ªªÂä° });ÂêåÊ≠•‰∏ªÁ∫øÁ®ã//ÂêåÊ≠•‰∏ªÁ∫øÁ®ã Ê≠ªÈîÅ - (void)viewDidLoad { dispatch_sync(dispatch_get_main_queue(), ^{ [self doSomething]; }); } ÁªìÊûúÔºöÈÄ†ÊàêÊ≠ªÈîÅ ÈòüÂàóÂºïËµ∑ÁöÑÂæ™ÁéØÁ≠âÂæÖ.Âú®‰∏ªÈòüÂàó‰∏≠Êèê‰∫§‰∫ÜviewDidLoadÔºåÁÑ∂ÂêéÂèàÊèê‰∫§‰∫Üblock„ÄÇÂõ†Ê≠§Âú®ÊâßË°åviewDidLoadËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅË∞ÉÁî®blockÔºåblockÂÆåÊàê‰πãÂêéÔºåviewDidLoadÊâçËÉΩÁªßÁª≠ÂæÄ‰∏ãÊâßË°åÔºåËÄåblockÂõ†‰∏∫ÈòüÂàóÂÖàËøõÂÖàÂá∫ÁöÑÊÄßË¥®ÂøÖÈ°ªË¶ÅÁ≠âviewDidLoadÊâßË°åÁªìÊûúÊâçËÉΩË∞ÉÁî®,ÂØºËá¥Áõ∏‰∫íÁ≠âÂæÖÊÉÖÂÜµ,‰ªéËÄåÊ≠ªÈîÅ. ÂêåÊ≠•‰∏≤Ë°å- (void)viewDidLoad { dispatch_sync(serialQueue, ^{ [self doSomething]; }); } ÁªìÊûúÔºöÈ°∫Â∫èÊâßË°å ÈÉΩÂú®‰∏ªÁ∫øÁ®ãÔºå‰∏çÂºÄËæüÊñ∞Á∫øÁ®ã (2)„ÄÅÂêåÊ≠•Âπ∂Âèë dispatch_sync(concurrent_queue , ^{ //‰ªªÂä° });- (void)viewDidLoad { NSLog(@&quot;1&quot;); dispatch_sync(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ NSLog(@&quot;2&quot;); dispatch_sync(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ NSLog(@&quot;3&quot;); }); NSLog(@&quot;4&quot;); }); NSLog(@&quot;5&quot;); } Á≠îÊ°à:12345 È°∫Â∫èÊâßË°å ÈÉΩÂú®‰∏ªÁ∫øÁ®ã ‰∏çÂºÄËæüÊñ∞Á∫øÁ®ãpsÔºöÂ¶ÇÊûú2 3 ÈÉΩÊòØÊ∑ªÂä†Âà∞Âêå‰∏Ä‰∏≤Ë°åÈòüÂàó Â∞±‰ºöÈÄ†ÊàêÊ≠ªÈîÅ 23Âæ™ÁéØÁ≠âÂæÖ Âè™Ë¶ÅÂêåÊ≠•ÊñπÂºèÊèê‰∫§‰ªªÂä°,Êó†ËÆ∫‰∏≤Ë°åËøòÊòØÂπ∂ÂèëÈÉΩÊòØÂú®ÂΩìÂâçÁ∫øÁ®ãÊâßË°å dispatch_sync() Âú®ÂΩìÂâç‰∏ªÁ∫øÁ®ãÊâßË°å (3)„ÄÅÂºÇÊ≠•‰∏≤Ë°å dispatch_async(serial_queue , ^{ //‰ªªÂä° });ÂºÇÊ≠•‰∏ªÈòüÂàó - (void)viewDidLoad { dispatch_async(dispatch_get_main_queue(), ^{ [self doSomething]; }); } È°∫Â∫èÊâßË°åÔºåÈÉΩÂú®‰∏ªÁ∫øÁ®ãÔºå‰∏çÂºÄËæüÊñ∞Á∫øÁ®ã (4)„ÄÅÂºÇÊ≠•Âπ∂Âèë dispatch_async(concurrent_queue , ^{ //‰ªªÂä° });//ËÖæËÆØÈù¢ËØïÈ¢ò: - (void)viewDidLoad { dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ NSLog(@&quot;1&quot;); [self performSelector:@selector(printLog) withObject:nil afterDelay:0]; NSLog(@&quot;3&quot;); }); } - (void)printLog{ NSLog(@&quot;2&quot;); } ËæìÂá∫: 13 ËØ•È¢òÊ∂âÂèäÁü•ËØÜÁÇπËæÉÂ§öÔºöGCD„ÄÅÁ∫øÁ®ãÁöÑRunloop„ÄÅperformSeletorÂÜÖÈÉ®ÂÆûÁé∞ ÂºÇÊ≠•ÂàÜÊ¥æÂà∞ÂÖ®Â±ÄÈòüÂàó‰∏≠ÔºåGCDÂ∫ïÂ±ÇÊâÄÂàÜÊ¥æÁöÑÁ∫øÁ®ãÈªòËÆ§ÊòØ‰∏çÂºÄÂêØÂØπÂ∫îrunloopÁöÑÔºåËÄåperformSeletorÔºöÂç≥‰ΩøÊòØÂª∂Ëøü0ÁßíÔºå‰πüÊòØÈúÄË¶ÅÊèê‰∫§‰ªªÂä°Âà∞runloopÁöÑÈÄªËæëÔºåÊâÄ‰ª•performSeletorÊñπÊ≥ï‰ºöÂ§±ÊïàÁöÑ performSeletor:ÊñπÊ≥ïË¶ÅÊÉ≥ÊúâÊïàÊâßË°å, ÂøÖÈ°ªÊòØÊñπÊ≥ïË∞ÉÁî®ÊâÄÂ±ûÁ∫øÁ®ãÊòØÊúârunloopÁöÑ,Ê≤°ÊúâÂ∞±‰ºöÂ§±Êïà 2„ÄÅdispatch_barrier_async()Â§öËØªÂçïÂÜôÊñπÊ°àÔºödispatch_barrier_async(concurrent_queue , ^{ //ÂÜôÊìç‰Ωú }); ÈóÆÈ¢ò:ÊÄé‰πàÂà©Áî®GCDÂÆûÁé∞Â§öËØªÂçïÂÜôÔºüÊàñËÄÖËØ¥ÊÉ≥Ë¶ÅÂÆûÁé∞Â§öËØªÂçïÂÜôÔºåÊÄé‰πàÂéªÂÆûÁé∞ÔºüÁ≠î: ËØªËÄÖ‰∏éËØªËÄÖÂπ∂ÂèëÔºàËØªÊìç‰ΩúÊ∑ªÂä†Âà∞Âπ∂ÂèëÈòüÂàóÂêåÊ≠•ËÆøÈóÆÔºâ ËØªËÄÖ‰∏éÂÜôËÄÖ„ÄÅÂÜôËÄÖ‰∏éÂÜôËÄÖ‰∫íÊñ• ÔºàÂÜôÊìç‰ΩúÈÄöËøádispatch_barrier_async+ ÂºÇÊ≠•Ê†ÖÊ†èÊ∑ªÂä†Âà∞Âπ∂ÂèëÈòüÂàó‰∏≠Ôºâ @interface UserCenter(){ // ÂÆö‰πâ‰∏Ä‰∏™Âπ∂ÂèëÈòüÂàó dispatch_queue_t concurrent_queue; // Áî®Êà∑Êï∞ÊçÆ‰∏≠ÂøÉ, ÂèØËÉΩÂ§ö‰∏™Á∫øÁ®ãÈúÄË¶ÅÊï∞ÊçÆËÆøÈóÆ NSMutableDictionary *userCenterDic; } @end // Â§öËØªÂçïÂÜôÊ®°Âûã @implementation UserCenter - (id)init{ self = [super init]; if (self) { // ÈÄöËøáÂÆèÂÆö‰πâ DISPATCH_QUEUE_CONCURRENT ÂàõÂª∫‰∏Ä‰∏™Âπ∂ÂèëÈòüÂàó concurrent_queue = dispatch_queue_create(&quot;read_write_queue&quot;, DISPATCH_QUEUE_CONCURRENT); // ÂàõÂª∫Êï∞ÊçÆÂÆπÂô® userCenterDic = [NSMutableDictionary dictionary]; } return self; } - (id)objectForKey:(NSString *)key { __block id obj; // ÂêåÊ≠•ËØªÂèñÊåáÂÆöÊï∞ÊçÆ dispatch_sync(concurrent_queue, ^{ obj = [userCenterDic objectForKey:key]; }); return obj; } - (void)setObject:(id)obj forKey:(NSString *)key { // ÂºÇÊ≠•Ê†ÖÊ†èË∞ÉÁî®ËÆæÁΩÆÊï∞ÊçÆ dispatch_barrier_async(concurrent_queue, ^{ [userCenterDic setObject:obj forKey:key]; }); } @end 3„ÄÅdispatch_group_async()ÈóÆÈ¢ò:‰ΩøÁî®GCDÂÆûÁé∞ÔºöA„ÄÅB„ÄÅC‰∏â‰∏™‰ªªÂä°Âπ∂ÂèëÔºåÂÆåÊàêÂêéÊâßË°å‰ªªÂä°DÔºüÁ≠î: ÊâÄÊúâÂºÇÊ≠•‰ªªÂä°Ê∑ªÂä†Âà∞Âπ∂ÂèëÈòüÂàó‰∏≠ÔºåÁÑ∂Âêé‰ΩøÁî®dispatch_group_notifyÂáΩÊï∞ÔºåÊù•ÁõëÂê¨ÂâçÈù¢Â§ö‰∏™ÁöÑ‰ªªÂä°ÊòØÂê¶ÂÆåÊàêÔºåÂ¶ÇÊûúÂÆåÊàê, Â∞±‰ºöË∞ÉÁî®dispatch_group_notify‰∏≠ÁöÑblock(ÂèÇËÄÉ‰ª£Á†ÅÂÆû‰æã) ‰∫å„ÄÅNSOperationÈúÄË¶ÅÂíåNSOperationQueueÈÖçÂêà‰ΩøÁî®Êù•ÂÆûÁé∞Â§öÁ∫øÁ®ãÊñπÊ°à„ÄÇ1„ÄÅÁâπÁÇπÔºöÊ∑ªÂä†‰ªªÂä°‰æùËµñ„ÄÅ‰ªªÂä°ÊâßË°åÁä∂ÊÄÅÁõëÊéß„ÄÅÊúÄÂ§ßÂπ∂ÂèëÊï∞„ÄÇ2„ÄÅ‰ªªÂä°ÊâßË°åÁä∂ÊÄÅÊéßÂà∂ÔºöisReady„ÄÅisExecuting„ÄÅisFinished„ÄÅisCancelled„ÄÇ 3„ÄÅÁä∂ÊÄÅÁõëÊéß Â¶ÇÊûúÂè™ÈáçÂÜômainÊñπÊ≥ïÔºåÂ∫ïÂ±ÇÊéßÂà∂ÂèòÊõ¥‰ªªÂä°ÊâßË°åÂÆåÊàêÁä∂ÊÄÅÔºå‰ª•Âèä‰ªªÂä°ÈÄÄÂá∫„ÄÇ Â¶ÇÊûúÈáçÂÜôstartÊñπÊ≥ïÔºåÈúÄËá™Ë°åÊéßÂà∂‰ªªÂä°Áä∂ÊÄÅ„ÄÇ 4„ÄÅÁ≥ªÁªüÊòØÊÄéÊ†∑ÁßªÈô§‰∏Ä‰∏™isFinished=YESÁöÑNSOperationÁöÑÔºüÁ≠î:ÈÄöËøáKVOÁöÑÊñπÂºèÔºåÈÄöÁü•ÂØπÂ∫îÁöÑNSOprationQueueËææÂà∞ÂØπNSOperationÂØπË±°ËøõË°åÁßªÈô§„ÄÇ ‰∏â„ÄÅNSThreadËÄÉÊü•Èù¢ËØïÈ¢ò:1&gt; Â¶Ç‰ΩïNSThreadÁªìÂêàrunloopÂÆûÁé∞Â∏∏È©ªÁ∫øÁ®ã2&gt; NSThread ÁöÑ ÂÜÖÈÉ®ÂÆûÁé∞Êú∫Âà∂, startÊñπÊ≥ïÂÆûÁé∞ÈÄªËæëÊµÅÁ®ã(ÁªìÂêà gnustep-base-1.24.9 Ê∫êÁ†ÅÂàÜÊûê) ÈóÆÈ¢ò: NSThreadÂêØÂä®ÊµÅÁ®ãÔºüÁ≠î: start() ‚Äî‚Äî&gt;ÂàõÂª∫pthreadÁ∫øÁ®ã‚Äî‚Äî&gt;main()‚Äî‚Äî&gt;[target performSelector:selector]‚Äî‚Äî&gt;exit() ÈóÆÈ¢ò: Â¶Ç‰ΩïÈÄöËøárunloopÂíåNSThreadÂÆûÁé∞‰∏Ä‰∏™Â∏∏È©ªÁ∫øÁ®ãÔºü‰ªé‰∏ã‰∏ÄÁ´†runloop‰∏≠ÂØªÊâæÁ≠îÊ°à ÈóÆÈ¢ò: NSThreadÊâßË°åÂéüÁêÜÊòØÊÄéÊ†∑ÁöÑ?Á≠î: ÂÆûÈôÖÂÜÖÈÉ®ÂàõÂª∫‰∏Ä‰∏™pthreadÁ∫øÁ®ã ,ÂΩìmain()ÂáΩÊï∞ÊàñËÄÖÊåáÂÆöÁöÑtarget ÁöÑselectorÊñπÊ≥ïÊâßË°åÁªìÊùüÂêé,Á≥ªÁªü‰ºö‰∏∫Êàë‰ª¨ËøõË°åÁ∫øÁ®ãÁöÑÈÄÄÂá∫ÁÆ°ÁêÜÊìç‰Ωú. Â¶ÇÊûúÈúÄË¶ÅÁª¥Êä§‰∏Ä‰∏™Â∏∏È©ªÁ∫øÁ®ã,ÈúÄË¶ÅNSThreadÊâÄÂØπÂ∫îÁöÑselectorÊñπÊ≥ï‰∏≠Áª¥Êä§runloop‰∫ã‰ª∂Âæ™ÁéØ„ÄÇ Âõõ„ÄÅÂ§öÁ∫øÁ®ã‰∏éÈîÅiOS‰∏≠ÊúâÂì™‰∫õÈîÅÔºü @synchronized atomic OSSpinLock NSRecursiveLock NSLock dispatch_semaphore_t 1„ÄÅ @synchronizedÁöÑ‰ΩøÁî®Âú∫ÊôØ‰∏ÄËà¨Âú®ÂàõÂª∫Âçï‰æãÁöÑÊó∂ÂÄô‰ΩøÁî®Ôºå‰øùËØÅÂú®Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏ãÂàõÂª∫ÁöÑÂØπË±°ÊòØÂîØ‰∏ÄÁöÑ 2„ÄÅatomic ‰øÆÈ•∞Â±ûÊÄßÁöÑÂÖ≥ÈîÆÂ≠ó ÂØπË¢´‰øÆÈ•∞ÁöÑÂØπË±°ËøõË°åÂéüÂ≠êÊìç‰ΩúÔºà‰∏çË¥üË¥£‰ΩøÁî®ÔºåÂè™Ë¥üË¥£ËµãÂÄºÔºâ@property(atomic)NSMutableArray *array; self.array = [NSMutableArray array]; //arrayËµãÂÄºÊìç‰Ωú,ËÉΩ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ® [self.array addObject:obj]; // array‰ΩøÁî®, ‰∏çËÉΩ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®,ÈúÄË¶ÅÈ¢ùÂ§ñÂÅöÁ∫øÁ®ãÂÆâÂÖ®‰øùÊä§ 3„ÄÅOSSpinLockËá™ÊóãÈîÅ Âæ™ÁéØÁ≠âÂæÖËØ¢ÈóÆÔºå‰∏çÈáäÊîæÂΩìÂâçËµÑÊ∫ê Áî®‰∫éËΩªÈáèÁ∫ßÊï∞ÊçÆËÆøÈóÆÔºåÁÆÄÂçïÁöÑintÂÄº+1/-1Êìç‰Ωú Ê≤°ÊúâÂÖ∑‰ΩìÁî®Ëøá,‰ΩÜÊòØÂèØ‰ª•ÈÄöËøáÂàÜÊûêruntimeÊ∫êÁ†ÅÊù•Â≠¶‰π†Á≥ªÁªüÂÖ≥‰∫éOSSpinLockËá™ÊóãÈîÅÁöÑ‰ΩøÁî®ÊÉÖÂÜµ. 4„ÄÅ NSLock ‰∏ÄËà¨Áî®‰∫éËß£ÂÜ≥ÁªÜÁ≤íÂ∫¶ÁöÑÁ∫øÁ®ãÂêåÊ≠•ÈóÆÈ¢ò, Êù•‰øùËØÅÂêÑ‰∏™Á∫øÁ®ã‰∫íÊñ•,ËøõÂÖ•Ëá™Â∑±ÁöÑ‰∏¥ÁïåÂå∫. - (void)methodA { [lock lock]; [self methodB]; [lock unlock]; } - (void)methodB { [lock lock]; //Êìç‰ΩúÈÄªËæë [lock unlock]; } ËØ•ÂÜôÊ≥ïÈáçÂÖ•ÁöÑÂéüÂõ† ‰ºöÂØºËá¥Ê≠ªÈîÅ! Ëß£ÂÜ≥: ÈÄöËøáNSRecursiveLockÈÄíÂΩíÊâÄÂèØ‰ª•Ëß£ÂÜ≥5„ÄÅNSRecursiveLock ÈÄíÂΩíÈîÅ NSRecursiveLock ÈÄíÂΩíÈîÅÁâπÊÄß: ÂèØ‰ª•ÈáçÂÖ•` (void)methodA {[recursiveLock lock];[self methodB];[recursiveLock unlock];} (void)methodB {[recursiveLock lock];//Êìç‰ΩúÈÄªËæë[recursiveLock unlock];}` 6„ÄÅdispatch_semaphore_t ‰ø°Âè∑Èáè dispatch_semaphore_t ‰ø°Âè∑Èáè ‰πüÊòØÁî®Êù•ÂÆûÁé∞Á∫øÁ®ãÂêåÊ≠•, ÂåÖÊã¨ÂØπÂÖ±‰∫´ËµÑÊ∫ê‰∫íÊñ•ËÆøÈóÆÁöÑ‰ø°Âè∑ÈáèÊú∫Âà∂,Á±ª‰ºº‰∫éËÆ°ÁÆóÊú∫‰∏ì‰∏öÁöÑËÆ∞ÂΩïÂûã‰ø°Âè∑Èáè ÂàõÂª∫‰ø°Âè∑Èáè dispatch_semaphore_create(1) //dispatch_semaphore_createÂÜÖÈÉ®ÂÆûÁé∞ ÂÆû‰æãÂåñ‰∏Ä‰∏™ÁªìÊûÑ‰Ωì struct semaphore{ int value; // ‰ø°Âè∑ÈáèÁöÑÂÄº List&lt;thread&gt;; // Á∫øÁ®ãÁöÑËøõÁ®ãÊéßÂà∂Ë°®pcd ÊàñËÄÖ‰∏Ä‰∫õÂÖ∂‰ªñÁ∫øÁ®ãÁöÑ‰∏Ä‰∏™ÂîØ‰∏ÄÊ†áËØÜÊâÄÁª¥Êä§ÁöÑ‰∏Ä‰∏™Á∫øÁ®ãÂàóË°® } dispatch_semaphore_wait(semaphore,DISPATCH_TIME_FOREVER)‰ø°Âè∑Èáè-1ÔºåÈòªÂ°ûÊòØ‰∏Ä‰∏™‰∏ªÂä®Ë°å‰∏∫ //dispatch_semaphore_wait() ÂÆûÁé∞ÈÄªËæë { S.value = S.value - 1; if S.value &lt; 0 then Block(S.List); //ÈòªÂ°ûÊòØ‰∏Ä‰∏™‰∏ªÂä®Ë°å‰∏∫ } dispatch_semaphore_signal(semaphore) ‰ø°Âè∑Èáè+1ÔºåÂî§ÈÜíÊòØ‰∏Ä‰∏™Ë¢´Âä®Ë°å‰∏∫//dispatch_semaphore_signal()ÂÆûÁé∞ÈÄªËæë { S.value = S.value + 1; if S.value &lt;= 0 then wakeup(S.List); //Âî§ÈÜíÊòØ‰∏Ä‰∏™Ë¢´Âä®Ë°å‰∏∫ } ‰∫î Â§öÁ∫øÁ®ãÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò1„ÄÅÊÄéÊ†∑Áî®GCDÂÆûÁé∞Â§öËØªÂçïÂÜôÔºüÁ≠î: dispatch_barrier_async()ÁöÑ‰ΩøÁî®. ËØªËÄÖ‰∏éËØªËÄÖÂπ∂ÂèëÔºàËØªÊìç‰ΩúÊ∑ªÂä†Âà∞Âπ∂ÂèëÈòüÂàóÂêåÊ≠•ËÆøÈóÆÔºâ ËØªËÄÖ‰∏éÂÜôËÄÖ„ÄÅÂÜôËÄÖ‰∏éÂÜôËÄÖ‰∫íÊñ• ÔºàÂÜôÊìç‰ΩúÈÄöËøádispatch_barrier_async+ ÂºÇÊ≠•Ê†ÖÊ†èÊ∑ªÂä†Âà∞Âπ∂ÂèëÈòüÂàó‰∏≠Ôºâ 2„ÄÅiOSÁ≥ªÁªü‰∏∫Êàë‰ª¨Êèê‰æõÁöÑÂá†ÁßçÂ§öÁ∫øÁ®ãÊäÄÊúØÂêÑËá™ÁöÑÁâπÁÇπÊòØÊÄé‰πàÊ†∑ÁöÑÔºüÁ≠îÊ°àÔºöGCD„ÄÅNSOperation„ÄÅNSThread„ÄÇ GCD Áî®Êù•ÂÆûÁé∞ÁÆÄÂçïÁöÑÁ∫øÁ®ãÂêåÊ≠•ÔºåÂåÖÊã¨Â≠êÁ∫øÁ®ãÁöÑÂàÜÊ¥æÔºåÂåÖÊã¨ÂÆûÁé∞Â§öËØªÂçïÂÜôÂú∫ÊôØÁöÑËß£ÂÜ≥ NSOperationÂèäNSOperationQueue ÊØîÂ¶ÇAFNetworking„ÄÅSDWebImageÈÉΩ‰ºöÊ∂âÂèäÂà∞NSOpration,Áî±‰∫éÂÆÉÁöÑÁâπÁÇπÊòØÊñπ‰æøÊàë‰ª¨ÂØπ‰ªªÂä°ÁöÑÁä∂ÊÄÅËøõË°åÊéßÂà∂ÔºåÂåÖÊã¨ÂèØ‰ª•ÊéßÂà∂Ê∑ªÂä†‰æùËµñ„ÄÅÁßªÈô§‰æùËµñ NSThread ‰∏ÄËà¨Áî®ÂÆÉÊù•ÂÆûÁé∞‰∏Ä‰∏™Â∏∏È©ªÁ∫øÁ®ã 3„ÄÅNSOperationÂØπË±°Âú®Finished‰πãÂêéÊòØÂíãÊ†∑‰ªéqueueÂΩì‰∏≠ÁßªÈô§ÊéâÁöÑÔºüÁ≠î: NSOperationÂØπË±°Âú®Finished‰πãÂêé, ÈÄöËøáKVOÁöÑÊñπÂºèÔºåÈÄöÁü•ÂØπÂ∫îÁöÑNSOprationQueueËææÂà∞ÂØπNSOperationÂØπË±°ËøõË°åÁßªÈô§„ÄÇ 4„ÄÅ‰Ω†ÈÉΩÁî®ËøáÂì™‰∫õÈîÅÔºüÁªìÂêàÂÆûÈôÖË∞àË∞à‰Ω†ÊòØÊÄéÊ†∑‰ΩøÁî®ÁöÑÔºüÁ≠î:]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨5Á´† BlockÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F24%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC5%E7%AB%A0-Block%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªËÆ≤BlockÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨Block‰ªãÁªç„ÄÅÊà™Ëé∑ÂèòÈáè„ÄÅ__block‰øÆÈ•∞Á¨¶„ÄÅBlockÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ„ÄÅBlockÁöÑÂæ™ÁéØÂºïÁî®„ÄÇ ‰∏Ä„ÄÅBlock‰ªãÁªçÂÆö‰πâ:BlockÊòØÂ∞ÜÂáΩÊï∞ÂèäÂÖ∂ÊâßË°å‰∏ä‰∏ãÊñáÂ∞ÅË£ÖËµ∑Êù•ÁöÑÂØπË±°„ÄÇ BlockÊú¨Ë¥®:Ê∫êÁ†ÅËß£Êûê:‰ΩøÁî® clang -rewrite-objc file.m Êü•ÁúãÁºñËØë‰πãÂêéÁöÑÊñá‰ª∂ÂÜÖÂÆπ„ÄÇ BlockË∞ÉÁî®:BlockË∞ÉÁî®Â∞±ÊòØÂáΩÊï∞ÁöÑË∞ÉÁî®„ÄÇ ‰∫å„ÄÅÊà™Ëé∑ÂèòÈáè„ÄÇË¢´Êà™Ëé∑ÂèòÈáèÁ±ªÂûãË¢´Êà™Ëé∑ÂèòÈáèÁ±ªÂûã: ÂåÖÊã¨Â±ÄÈÉ®ÂèòÈáè(Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂíåÂØπË±°Á±ªÂûã)„ÄÅÈùôÊÄÅÂ±ÄÈÉ®ÂèòÈáè„ÄÅÂÖ®ÈÉ®ÂèòÈáè„ÄÅÈùôÊÄÅÂÖ®ÈÉ®ÂèòÈáè„ÄÇ ÈóÆÈ¢ò:ÂÖ≥‰∫éBlockÊà™Ëé∑ÂèòÈáèÁöÑÁâπÊÄßÔºåÊòØÂê¶ÊúâÁêÜËß£ÔºüÁ≠î: ÂØπ‰∏çÂêåÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊà™Ëé∑ÊñπÂºèÂêÑÊúâ‰∏çÂêå1.ÂØπ‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂ±ÄÈÉ®ÂèòÈáèÊà™Ëé∑ÂÖ∂ÂÄº2.ÂØπ‰∫éÂØπË±°Á±ªÂûãÁöÑÂ±ÄÈÉ®ÂèòÈáèËøûÂêåÊâÄÊúâÊùÉ‰øÆÈ•∞Á¨¶‰∏ÄËµ∑Êà™Ëé∑3.‰ª•ÊåáÈíàÊñπÂºèÊà™Ëé∑ÈùôÊÄÅÂ±ÄÈÉ®ÂèòÈáè4.‰∏çÊà™Ëé∑ÂÖ®Â±ÄÂèòÈáè„ÄÅÈùôÊÄÅÂÖ®Â±ÄÂèòÈáè Ê∫êÁ†ÅËß£Êûê:‰ΩøÁî® clang -rewrite-objc -fobjc-arc file.m Êü•ÁúãÁºñËØë‰πãÂêéÁöÑÊñá‰ª∂ÂÜÖÂÆπ„ÄÇ //Èù¢ËØïÈ¢ò int multiplier = 6; int(^Block)(int) = ^int(int num){ return num*multiplier; }; multiplier = 4; NSLog(@&quot;result is %d&quot;,Block(2)); //ËæìÂá∫ÁªìÊûú --&gt;result is 12 ‰∏â„ÄÅ__block‰øÆÈ•∞Á¨¶‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂØπË¢´Êà™Ëé∑ÂèòÈáèËøõË°åËµãÂÄºÊìç‰ΩúÈúÄÊ∑ªÂä†__block‰øÆÈ•∞Á¨¶„ÄÇÊ≥®ÊÑèÔºöËµãÂÄº‰∏çÁ≠â‰∫é‰ΩøÁî®„ÄÇ Á¨îËØïÈ¢òÁöÑÂùë: NSMutableArray *array =[NSMutableArray array]; void(^Block)(void) = ^{ [array addObject:@&quot;123&quot;]; }; Block(); //ËØ•array‰∏∫‰ΩøÁî®ÔºåÂè™ÊúâËµãÂÄºÊìç‰ΩúÊâçÈúÄË¶Å__block „ÄÇ NSMutableArray *array2 =nil; void(^Block2)(void) = ^{ array2 = [NSMutableArray array]; }; Block2(); //ËØ•block‰∏∫ËµãÂÄºÔºåÂ≠òÂú®ÈóÆÈ¢òÔºå‰ºöÁºñËØëÊä•ÈîôÔºåÈúÄË¶ÅÁî®__block‰øÆÈ•∞Ë¢´Êà™Ëé∑ÂèòÈáèarray2„ÄÇ ÈóÆÈ¢ò:Âú®‰ªÄ‰πàÂú∫ÊôØ‰∏ã‰ΩøÁî®__block‰øÆÈ•∞Á¨¶Âë¢Ôºü ÂØπÊà™Ëé∑ÂèòÈáèËøõË°åËµãÂÄºÊìç‰ΩúÈúÄË¶ÅÊ∑ªÂä†__block‰øÆÈ•∞Á¨¶ÔºàËµãÂÄº != ‰ΩøÁî®Ôºâ ÂØπÂ±ÄÈÉ®ÂèòÈáèÔºàÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂíåÂØπË±°Á±ªÂûãÔºâËøõË°åËµãÂÄºÈúÄË¶Å__block‰øÆÈ•∞Á¨¶ ÂØπÈùôÊÄÅÂ±ÄÈÉ®ÂèòÈáè„ÄÅÂÖ®Â±ÄÂèòÈáè„ÄÅÈùôÊÄÅÂÖ®Â±ÄÂèòÈáè‰∏çÈúÄË¶Å__block‰øÆÈ•∞Á¨¶ __block Èù¢ËØïÈ¢ò{ __block int multiplier = 6; int(^Block)(int) = ^int(int num){ return num*multiplier; }; multiplier = 4; NSLog(@&quot;result is %d&quot;,Block(2)); //ËæìÂá∫ÁªìÊûú --&gt;result is 8 } ÈóÆÈ¢ò:block‰øÆÈ•∞Á¨¶Ëµ∑Âà∞‰∫Ü‰ªÄ‰πà‰ΩúÁî®ÔºüblockÁöÑÊú∫Âà∂ÊòØ‰ªÄ‰πàÔºüÁ≠î: __block‰øÆÈ•∞ÂèòÈáèÂèòÊàê‰∫ÜÂØπË±° Ê†à‰∏äÁöÑblockÂèòÈáèÁöÑforwardingÊåáÈíàÊòØÊåáÂêëÂÖ∂Ëá™Ë∫´ÁöÑ Âõõ„ÄÅBlockÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ1„ÄÅBlockÁ±ªÂûãBlockÁ±ªÂûãÔºöNSGlobalBlock„ÄÅNSStackBlock„ÄÅNSMallocBlock„ÄÇ impl.isa = &amp;_NSConcreteStackBlock; 2„ÄÅBlockÁöÑcopyÊìç‰Ωú ÈóÆÈ¢ò: ‰∏âÁßçÁ±ªÂûãÁöÑblockËøõË°åcopyÊúâ‰ªÄ‰πàÊïàÊûú?Á≠î: ÂØπ‰∫éÊï∞ÊçÆÂå∫ÁöÑblockËøõË°åcopyÊìç‰ΩúÔºå‰ªÄ‰πà‰πü‰∏çÂÅö ÂØπ‰∫éÊ†àÂå∫ÁöÑblockËøõË°åcopyÊìç‰ΩúÔºåÂú®Â†ÜÂå∫‰∫ßÁîüblock ÂØπ‰∫éÂ†ÜÂå∫ÁöÑblockËøõË°åcopyÊìç‰ΩúÔºå‰ºöÂ¢ûÂä†ÂºïÁî®ËÆ°Êï∞ 3„ÄÅÁîüÂëΩÂë®ÊúüÊ†à‰∏äBlockÁöÑÈîÄÊØÅ ÂØπ‰∫éÊ†àÂå∫ÁöÑblockÔºåÂèòÈáè‰ΩúÁî®ÂüüÁªìÊùüÔºåÈöè‰πãÈîÄÊØÅ Ê†à‰∏äBlockÁöÑcopy ÈóÆÈ¢ò:Â¶ÇÊûúÂØπÊ†à‰∏äblockËøõË°åcopy Êìç‰ΩúÂêé, MRCÁéØÂ¢É‰∏ã,ÊòØÂê¶‰ºöÂºïËµ∑ÂÜÖÂ≠òÊ≥ÑÊºè?Á≠î: ‰ºöÂºïËµ∑ÂÜÖÂ≠òÊ≥ÑÊºè. Ê†à‰∏äblockÂú®ÂèòÈáè‰ΩúÁî®ÂüüÁªìÊùüÂêé‰ºöÈîÄÊØÅ, Â†Ü‰∏äblockÊ≤°ÊúâÂÖ∂‰ªñÊàêÂëòÂèòÈáèÊåáÂêëÂÆÉ, ËøôÂíåalloc Âá∫‰∏Ä‰∏™ÂØπË±°ÊúÄÂêéÊ≤°ÊúâreleaseÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ, ‰ºöÂºïËµ∑ÂÜÖÂ≠òÊ≥ÑÊºè. Ê†à‰∏ä__blockÂèòÈáèÁöÑcopy Â¶ÇÊûúÂØπÊ†à‰∏äÁöÑ__blockÂèòÈáèÊ≤°ÊúâËøõË°åcopyÊìç‰Ωú, __forwardingÊåáÈíàÊåáÂêëÂÖ∂Ëá™Ë∫´, ÂêåÊ†∑‰∏äËæπ‰∏ÄË°å‰ª£Á†Å,‰øÆÊîπÁöÑÊòØÊ†à‰∏äÁöÑ__blockÂèòÈáè ÂØπÊ†à‰∏äÁöÑ__blockÂèòÈáèËøõË°åcopyÊìç‰ΩúÂêé, ÂÆûÈôÖÂú®Â†Ü‰∏äÈù¢‰πü‰ºö‰∫ßÁîü‰∏Ä‰∏™blockÂèòÈáè,ÂÜÖÂÆπÂÆåÂÖ®‰∏ÄÊ†∑,‰ΩÜÊòØÊòØ‰∏§Âùó‰∏çÂêåÂÜÖÂ≠òÊéß‰ª∂.` Ê†à‰∏äblockÂèòÈáèÁöÑ__forwardingÊåáÈíàÊåáÂêëÊòØÂ†Ü‰∏äÁöÑblockÂèòÈáè,Â†Ü‰∏äblockÂèòÈáè`ÁöÑ__forwardingÊåáÈíàÊåáÂêëÂÖ∂Ëá™Ë∫´. ÊâÄ‰ª•Âú®ÂØπmultiplier Êï¥ÂûãÂÄºËøõË°åÊîπÂèòÊó∂ ,‰ΩøÁî®ÊòØËΩ¨Êç¢Âá∫Êù•ÁöÑÈÉΩÊòØÂêå‰∏ÄË°å‰ª£Á†Å . Èù¢ËØïÈ¢ò: { __block int multiplier = 10; _blk = ^int(int num){ return num * multiplier; } multiplier = 6; [self excuteBlock]; } - (void)excuteBlock{ int result = _blk(4); NSLog(@&quot;result is %d&quot;, result); // result is 24 } 4„ÄÅ__forwardingÂ≠òÂú®ÁöÑÊÑè‰πâ ‰∏çÁÆ°Âú®‰ªª‰ΩïÂÜÖÂ≠ò‰ΩçÁΩÆÔºåÈÉΩÂèØ‰ª•È°∫Âà©ÁöÑËÆøÈóÆÂêå‰∏Ä‰∏™__blockÂèòÈáè ‰∫î„ÄÅBlockÁöÑÂæ™ÁéØÂºïÁî®BlockÂæ™ÁéØÂºïÁî®Ôºà‰∏∫‰ªÄ‰πà‰ºö‰∫ßÁîüÂæ™ÁéØÂºïÁî®ÔºâÂú®‰∏ãÂõæ‰∏≠ÔºåÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºüÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü //_strBlk _array ÈÉΩ‰∏∫ÂΩìÂâçÂØπË±°ÁöÑÊàêÂëòÂèòÈáè // _array Áî±strong‰øÆÈ•∞, _strBlk Áî±copy ‰øÆÈ•∞ { _array = [NSMutableArray arrayWithObject:@&quot;block&quot;]; _strBlk = ^NSString* (NSString *num){ return [NSString stringWithFormat:@&quot;helloc_%@&quot;, _array[0]]; }; _strBlk(@&quot;hello&quot;); } //‰∫ßÁîüËá™Âæ™ÁéØÂæ™ÁéØÂºïÁî® ‰∫ßÁîüËá™Âæ™ÁéØÂºïÁî® :Âõ†‰∏∫ÂΩìÂâçÂØπË±°ÈÄöËøácopyÂ£∞ÊòéblockÔºåËÄåÂú®ÂΩìÂâçblock‰∏≠Âèà‰ΩøÁî®Âà∞‰∫ÜÂΩìÂâçÂØπË±°ÁöÑÊàêÂëòÂèòÈáèÔºåÂõ†‰∏∫‰ºöËøûÂ∏¶Â±ûÊÄßÂÖ≥ÈîÆÂ≠ó‰∏ÄËµ∑Êà™Ëé∑ÔºåÂõ†‰∏∫arrayÊòØÈÄöËøástrong‰øÆÈ•∞ÔºåÂõ†Ê≠§block‰∏≠Êúâ‰∏Ä‰∏™strongÁ±ªÂûãÁöÑÊåáÈíàÊåáÂêëÂΩìÂâçÂØπË±°Ôºå‰∫ßÁîüÂæ™ÁéØÂºïÁî® Ëß£ÂÜ≥ÊñπÊ≥ïÔºöÈÅøÂÖçÂæ™ÁéØÂºïÁî®‚Äî‚ÄîÂú®ÂΩìÂâçÊ†à‰∏≠Áî®weak‰øÆÈ•∞ÁöÑweakArrayÊåáÈíàÊåáÂêëÂéüÂØπË±°ÁöÑ_array,Âú®block‰∏≠‰ΩøÁî®weakArrayÔºàÂõ†‰∏∫Êà™Ëé∑ÁöÑÊòØ‰∏Ä‰∏™weakÁ±ªÂûãÔºâ //Ëß£ÂÜ≥ { _array = [NSMutableArray arrayWithObject:@&quot;block&quot;]; __weak NSArray *weakArray = _array; _strBlk = ^NSString* (NSString *num){ return [NSString stringWithFormat:@&quot;helloc_%@&quot;, weakArray[0]]; }; _strBlk(@&quot;hello&quot;); } ÈóÆÈ¢ò:blockÂ§ñÈÉ® ‰∏∫‰ªÄ‰πàÈÄöËøáweakÂ±ûÊÄßÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞ÂØπË±°,Â∞±ÂèØ‰ª•ÈÅøÂÖçÂæ™ÁéØÂºïÁî®?Á≠î:Áî±‰∫éblockÊà™Ëé∑ÂèòÈáèÊòØÂØπË±°Á±ªÂûã,‰ºöËøûÂêåÂÖ∂ÊâÄÊúâÊùÉ‰øÆÈ•∞Á¨¶‰∏ÄËµ∑Êà™Ëé∑,Âú®blockÂ§ñÈÉ®ÂÆö‰πâÂèòÈáèÊòØweakÊâÄÊúâÊùÉ‰øÆÈ•∞Á¨¶,Âú®blockÊâÄ‰∫ßÁîüÁªìÊûÑ‰Ωì‰∏≠ÊâÄÊåÅÊúâÁöÑÂèòÈáè‰πüÊòØ__weakÁöÑ ÈóÆÈ¢ò: Ôºà__blockÈÄ†ÊàêÁöÑÂæ™ÁéØÂºïÁî®ÔºâÂú®‰∏ã‰ª£Á†Å‰∏≠ÔºåÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºüÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü { __block MCBlock *blockSelf = self; _blk = ^int(int num){ //var = 2 return num * blockSelf.var; }; _blk(3); } Á≠î: Âú®MRC‰∏≠Ôºå‰∏ç‰ºö‰∫ßÁîüÂæ™ÁéØÂºïÁî® Âú®ARC‰∏≠Ôºå‰∫ßÁîüÂæ™ÁéØÂºïÁî®ÔºåÂºïËµ∑ÂÜÖÂ≠òÊ≥ÑÊºè Ëß£ÂÜ≥: { __block MCBlock *blockSelf = self; _blk = ^int(int num){ //var = 2 int result = num * blockSelf.var blockSelf = nil; return result; }; _blk(3); } BlockÈù¢ËØïÊÄªÁªìÈóÆÈ¢ò: ‰ªÄ‰πàÊòØblockÔºüÁ≠î:BlockÊòØÂ∞ÜÂáΩÊï∞ÂèäÂÖ∂ÊâßË°å‰∏ä‰∏ãÊñáÂ∞ÅË£ÖËµ∑Êù•ÁöÑÂØπË±°„ÄÇ ÈóÆÈ¢ò: ‰∏∫‰ªÄ‰πàBlock‰ºö‰∫ßÁîüÂæ™ÁéØÂºïÁî®ÔºüÁ≠î:1&gt;Â¶ÇÊûúÂΩìÂâçBlockÂØπÂΩìÂâçÂØπË±°ÁöÑÊüê‰∏ÄÊàêÂëòÂèòÈáèËøõË°åÊà™Ëé∑, block‰ºöÂØπÊàêÂëòÂèòÈáèÊúâÂº∫ÂºïÁî®, ÂΩìÂâçÂØπË±°ÂèàÂØπÂΩìÂâçblockÊúâ‰∏Ä‰∏™copyÂº∫ÂºïÁî®, Â∞±‰∫ßÁîüËá™Âæ™ÁéØÂºïÁî®ÈóÆÈ¢ò.ÂèØ‰ª•ÈÄöËøáÂ£∞ÊòéÂØπË±°ÁöÑÊàêÂëòÂèòÈáè‰∏∫ __weak ÂèòÈáè,Êù•ËøõË°åÂæ™ÁéØÂºïÁî®Ê∂àÈô§. (Âõ†‰∏∫ÂΩìÂâçÂØπË±°ÈÄöËøácopyÂ£∞ÊòéblockÔºåËÄåÂú®ÂΩìÂâçblock‰∏≠Âèà‰ΩøÁî®Âà∞‰∫ÜÂΩìÂâçÂØπË±°ÁöÑÊàêÂëòÂèòÈáèÔºåÂõ†‰∏∫‰ºöËøûÂ∏¶Â±ûÊÄßÂÖ≥ÈîÆÂ≠ó‰∏ÄËµ∑Êà™Ëé∑ÔºåÂ¶ÇÊûúÊàêÂëòÂèòÈáè‰ΩøÁî®strong‰øÆÈ•∞ÔºåÂõ†Ê≠§block‰∏≠Êúâ‰∏Ä‰∏™strongÁ±ªÂûãÁöÑÊåáÈíàÊåáÂêëÂΩìÂâçÂØπË±°Ôºå‰∫ßÁîüËá™Âæ™ÁéØÂºïÁî®.) 2&gt;Â¶ÇÊûúÂÆö‰πâ__blockËØ¥ÊòéÁ¨¶ ,Âú®ARC‰∏≠ ‰ºö‰∫ßÁîüÂæ™ÁéØÂºïÁî®, Âú®MRC‰∏≠‰∏ç‰ºö‰∫ßÁîüÂæ™ÁéØÂºïÁî®.ÂèØ‰ª•Âú®ARC‰∏≠ÈááÂèñÊñ≠ÁéØÁöÑÊñπÂºèËß£ÂÜ≥Âæ™ÁéØÂºïÁî®,‰ΩÜÊòØÊúâ‰∏™ÂºäÁ´Ø,Â¶ÇÊûúblock Â¶ÇÊûú‰∏ÄÁõ¥Ê≤°ÊúâË∞ÉÁî®, Âæ™ÁéØÂºïÁî®ÊòØÊ≤°ÊúâÂäûÊ≥ïÊ∂àÈô§ÁöÑ. ÈóÆÈ¢ò:ÊÄéÊ†∑ÁêÜËß£BlockÊà™Ëé∑ÂèòÈáèÁöÑÁâπÊÄßÔºüÁ≠î:(Ë¢´Êà™Ëé∑Á±ªÂûãÁöÑÂàÜÁ±ªÂõûÁ≠î)Á≠î: ÂØπ‰∏çÂêåÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÊà™Ëé∑ÊñπÂºèÂêÑÊúâ‰∏çÂêå1.ÂØπ‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂ±ÄÈÉ®ÂèòÈáèÂØπÂÖ∂ÂÄºËøõË°åÊà™Ëé∑2.ÂØπ‰∫éÂØπË±°Á±ªÂûãÁöÑÂ±ÄÈÉ®ÂèòÈáèËøûÂêåÊâÄÊúâÊùÉ‰øÆÈ•∞Á¨¶‰∏ÄËµ∑Êà™Ëé∑3.ÂØπ‰∫éÈùôÊÄÅÂ±ÄÈÉ®ÂèòÈáè‰ª•ÊåáÈíàÊñπÂºèÊà™Ëé∑4.ÂØπ‰∫éÂÖ®Â±ÄÂèòÈáè„ÄÅÈùôÊÄÅÂÖ®Â±ÄÂèòÈáè‰∏çÊà™Ëé∑. ÈóÆÈ¢ò: ‰Ω†ÈÉΩÈÅáËßÅËøáÂì™‰∫õÂæ™ÁéØÂºïÁî®Ôºü‰Ω†ÂèàÊòØÂíãÊ†∑Ëß£ÂÜ≥ÁöÑÁ≠î:NSTimerÂæ™ÁéØÂºïÁî®. BlockÂæ™ÁéØÂºïÁî®:2ÊñπÈù¢1&gt;blockÊâÄÊçïËé∑ÂèòÈáè‰πüÊòØÂΩìÂâçÂØπË±°ÁöÑÊàêÂëòÂèòÈáè, block ‰πüÊòØÂΩìÂâçÂØπË±°ÁöÑÊàêÂëòÂèòÈáè,Â∞±‰ºöÈÄ†ÊàêËá™Âæ™ÁéØÂºïÁî®. ÈááÁî®ÈÅøÂÖçÂæ™ÁéØÂºïÁî®ÊñπÂºè, Âä†weakÊâÄÊúâÊùÉ‰øÆÈ•∞Á¨¶,Êù•ÈÅøÂÖçÂæ™ÁéØÂºïÁî®.2&gt;block‰πü‰ºöÈÄ†ÊàêÂæ™ÁéØÂºïÁî®, Âú®ARC‰∏≠ ‰ºö‰∫ßÁîüÂæ™ÁéØÂºïÁî®, Âú®MRC‰∏≠‰∏ç‰ºö‰∫ßÁîüÂæ™ÁéØÂºïÁî®.ÂèØ‰ª•Âú®ARC‰∏≠ÈááÂèñÊñ≠ÁéØÁöÑÊñπÂºèËß£ÂÜ≥Âæ™ÁéØÂºïÁî®,‰ΩÜÊòØÊúâ‰∏™ÂºäÁ´Ø,Â¶ÇÊûúblock Â¶ÇÊûú‰∏ÄÁõ¥Ê≤°ÊúâË∞ÉÁî®, Âæ™ÁéØÂºïÁî®ÊòØÊ≤°ÊúâÂäûÊ≥ïÊ∂àÈô§ÁöÑ. 1„ÄÅÁõ∏‰∫íÂæ™ÁéØÂºïÁî® typedef void(^Block)(NSString*); @interface ClassA() { int age; } @property(nonatomic,strong)Block block; @property(nonatomic,strong)NSString *temp; @end @implementation ClassA - (void)viewDidLoad { [super viewDidLoad]; self.block = ^(NSString * content) { self.temp = content; self-&gt;age = 15; }; } -(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event{ self.block(@&quot;ËµµÂõõ&quot;); } (1)„ÄÅÂ¶Ç‰∏ä‰ª£Á†ÅÔºåselfÊåÅÊúâblockÔºåËÄåÂ†Ü‰∏äÁöÑblockÂèà‰ºöÊåÅÊúâselfÔºåÊâÄ‰ª•‰ºöÂØºËá¥Âæ™ÁéØÂºïÁî®ÔºåËøô‰∏™‰æãÂ≠êÈùûÂ∏∏Â•ΩÔºåÂõ†‰∏∫xcodeÈÉΩËÉΩÊ£ÄÊµãÂá∫Êù•ÔºåÊä•Âá∫Ë≠¶ÂëäÔºö[capturing self strongly in this block is likely to lead to a retain cycle]ÔºåÂΩìÁÑ∂Â§ßÈÉ®ÂàÜÂæ™ÁéØÂºïÁî®ÁöÑÊÉÖÂÜµxcodeÊòØ‰∏ç‰ºöÊä•Ë≠¶ÂëäÁöÑ„ÄÇ(2)„ÄÅËøôÊó∂BlockÂØπË±°ËôΩÁÑ∂ÊçïËé∑‰∫ÜweakSelfÔºåÂª∂Èïø‰∫ÜweakSelfËøô‰∏™Â±ÄÈÉ®ÂèòÈáèÁöÑÁîüÂëΩÂë®ÊúüÔºå‰ΩÜweakSelfÊòØÈôÑÊúâ__weak‰øÆÈ•∞Á¨¶ÁöÑÂèòÈáèÔºåÂÆÉÂπ∂‰∏ç‰ºöÊåÅÊúâÂØπË±°Ôºå‰∏ÄÊó¶ÂÆÉÊåáÂêëÁöÑÂØπË±°Ë¢´Â∫üÂºÉ‰∫ÜÔºåÂÆÉÂ∞ÜËá™Âä®Ë¢´ËµãÂÄº‰∏∫nil„ÄÇÂú®Â§öÁ∫øÁ®ãÊÉÖÂÜµ‰∏ãÔºåÂèØËÉΩweakSelfÊåáÂêëÁöÑÂØπË±°‰ºöÂú®BlockÊâßË°åÂâçË¢´Â∫üÂºÉÔºåËøôÊ†∑ÂèØËÉΩÈ°∂Â§öÂ∞±ÊòØËøîÂõûnilÔºå‰ΩÜÂú®Êúâ‰∫õÊÉÖÂÜµ‰∏ãÔºàË≠¨Â¶ÇÂú®Block‰∏≠ÊúâÁßªÈô§KVOÁöÑËßÇÂØüËÄÖÁöÑÈÄªËæëÔºåÂú®ÊâßË°åÂà∞ËØ•ÈÄªËæëÂâçselfÂ∞±ÈáäÊîæ‰∫ÜÔºâÂ∞±‰ºöÂØºËá¥crash„ÄÇËøôÊó∂ÂèØ‰ª•Âú®BlockÂÜÖÈÉ®ÔºàÁ¨¨‰∏ÄÂè•ÔºâÂÜçÊåÅÊúâ‰∏ÄÊ¨°weakSelfÊåáÂêëÁöÑÂØπË±°Ôºå‰øùËØÅÂú®ÊâßË°åBlockÊúüÈó¥ËØ•ÂØπË±°‰∏ç‰ºöË¢´Â∫üÂºÉÔºåËøôÂ∞±ÊòØÊâÄË∞ìÁöÑ weak-strong„ÄÇ Ëß£ÂÜ≥ËøôÁßçÂæ™ÁéØÂºïÁî®ÁöÑÂ∏∏Áî®ÊñπÂºèÂ¶Ç‰∏ã typedef void(^Block)(NSString*); @interface ClassA() { int age; } @property(nonatomic,strong)Block block; @property(nonatomic,strong)NSString *temp; @end @implementation ClassA - (void)viewDidLoad { [super viewDidLoad]; __weak typeof(self) weakSelf = self; self.block = ^(NSString * content) { __strong typeof(weakSelf)strongSelf = weakSelf; strongSelf.temp = content; strongSelf-&gt;age = 15; }; } -(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event{ self.block(@&quot;ËµµÂõõ&quot;); } 2„ÄÅÂ§öÂæ™ÁéØÂºïÁî® typedef void(^Block)(NSString*); @interface ClassB : UIViewController @property(nonatomic,strong)Block block; #import &quot;ClassA.h&quot; #import &quot;ClassB.h&quot; @interface ClassA() @property(nonatomic,strong)ClassB *classB; @property(nonatomic,strong)NSString *temp; @end @implementation ClassA - (void)viewDidLoad { [super viewDidLoad]; self.classB = [[ClassB alloc]init]; self.classB.block = ^(NSString *content) { self.temp = content; }; } -(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event{ self.classB.block(@&quot;ËµµÂõõ&quot;); } @end Â¶Ç‰∏ä‰ª£Á†ÅÔºåClassAÊåÅÊúâClassBÔºåClassBÊåÅÊúâblockÔºåËÄåÂ†Ü‰∏äÁöÑblockÂèà‰ºöÊåÅÊúâClassAÔºåÊâÄ‰ª•‰ºöÂØºËá¥Âæ™ÁéØÂºïÁî®„ÄÇ]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨4Á´† ÂÜÖÂ≠òÁÆ°ÁêÜÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F23%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC4%E7%AB%A0-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªËÆ≤ÂÜÖÂ≠òÁÆ°ÁêÜÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨ÂÜÖÂ≠òÂ∏ÉÂ±Ä„ÄÅÂÜÖÂ≠òÁÆ°ÁêÜÊñπÊ°à„ÄÅÊï∞ÊçÆÁªìÊûÑ„ÄÅARC&amp;MRC„ÄÅÂºïÁî®ËÆ°Êï∞ÁÆ°ÁêÜ„ÄÅÂº±ÂºïÁî®ÁÆ°ÁêÜ„ÄÅËá™Âä®ÈáäÊîæÊ±†„ÄÅÂæ™ÁéØÂºïÁî®„ÄÇ ‰∏Ä„ÄÅÂÜÖÂ≠òÂ∏ÉÂ±Ä 1„ÄÅstack(Ê†àÂå∫)ÔºöÊñπÊ≥ïË∞ÉÁî®„ÄÇ2„ÄÅheap(Â†ÜÂå∫)ÔºöÈÄöËøáallocÁ≠âÂàÜÈÖçÁöÑÂØπË±°„ÄÇ3„ÄÅbssÔºöÊú™ÂàùÂßãÂåñÁöÑÂÖ®Â±ÄÂèòÈáèÁ≠â„ÄÇ4„ÄÅDataÔºöÂ∑≤ÂàùÂßãÂåñÁöÑÂÖ®Â±ÄÂèòÈáèÁ≠â„ÄÇ5„ÄÅtextÔºöÁ®ãÂ∫è‰ª£Á†Å„ÄÇ ‰∫å„ÄÅÂÜÖÂ≠òÁÆ°ÁêÜÊñπÊ°àÈóÆÈ¢ò:iOSÊìç‰ΩúÁ≥ªÁªüÊòØÊÄéÊ†∑ÂØπÂÜÖÂ≠òËøõË°åÁÆ°ÁêÜÁöÑ?(iOS‰ºöÊ†πÊçÆ‰∏çÂêåÂú∫ÊôØ‰ºöÈááÂèñ‰∏çÂêåÂÜÖÂ≠òÊñπÊ°à) 1„ÄÅTaggedPoint(Â∞èÂØπË±°)„ÄÇ Â¶ÇNSNumberÔºåDSDataÁ±ªÂûã„ÄÇ2„ÄÅNONPOINTER_ISA(ÈùûÊåáÈíàÂûãÁöÑisa)„ÄÇ Âú®arm64‰ΩçÊû∂ÊûÑ‰∏ã‰ΩøÁî®ÁöÑ‰∏ÄÁßçÊñπÊ°àÔºåËøôÁßçÊñπÊ°à‰∏ªË¶ÅÊòØÈ´òÊïàÂà©Áî®64‰ΩçÊû∂ÊûÑ‰∏ãisaÊåáÈíàÁöÑÂâ©‰ΩôÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ3„ÄÅÊï£ÂàóË°®(Êï£ÂàóË°®ÊòØÂ§çÊùÇÁöÑÊï∞ÊçÆÁªìÊûÑ,ÂÖ∂‰∏≠ÂåÖÂê´ÂºïÁî®ËÆ°Êï∞Ë°®„ÄÅÂº±ÂºïÁî®Ë°®)„ÄÇ Âú®32‰ΩçÊû∂ÊûÑ‰∏ã‰ΩøÁî®‰ª•Âèä64‰ΩçÊû∂ÊûÑ‰∏ãisaÊåáÈíàÂ≠òÊîæ‰∏ç‰∏ãÁöÑÂú∫ÊôØ‰∏ã‰ΩøÁî®Ôºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑ‰ø°ÂºïÁî®ËÆ°Êï∞Ë°® 1.NONPOINTER_ISANONPOINTER_ISA 64‰∏™ÊØîÁâπ‰ΩçÂàÜÊûê: indexed(1‰Ωç): 0 ‰ª£Ë°®Á∫ØisaÊåáÈíà,ÂÜÖÂÆπ‰ª£Ë°®ÂΩìÂâçÂØπË±°ÁöÑÁ±ªÂØπË±°ÁöÑÂú∞ÂùÄ . 1‰ª£Ë°®isaÊåáÈíà‰∏ç‰ªÖÂ≠òÂÇ®Á±ªÂØπË±°ÁöÑÂú∞ÂùÄ, ËøòÊúâÂÜÖÂ≠òÁÆ°ÁêÜÊï∞ÊçÆ‰πüÂ∞±ÊòØNONPOINTER_ISA(ÈùûÊåáÈíàÂûãÁöÑisa). has_assoc(2‰Ωç):Ë°®Á§∫ÂΩìÂâçÂØπË±°ÊòØÂê¶ÊúâÂÖ≥ËÅîÂØπË±°, 0 Ê≤°Êúâ, 1Êúâ. has_cxx_dtor(3‰Ωç): ÂΩìÂâçÂØπË±°ÊòØÂê¶Êúâ‰ΩøÁî®C++ËØ≠Ë®ÄÁõ∏ÂÖ≥ÂÜÖÂÆπ.ÂΩìÂâçÂØπË±°ÊòØÂê¶‰ΩøÁî®ARCÁÆ°ÁêÜÂÜÖÂ≠ò shiftcls(4~37‰Ωç): ÂÖ±33‰ΩçÊØîÁâπ‰Ωç Ë°®Á§∫ÂΩìÂâçÂØπË±°Á±ªÂØπË±°ÁöÑÊåáÈíàÂú∞ÂùÄ. magic(38~43‰Ωç): weakly_referenced(44‰Ωç): Ê†áËØÜÂΩìÂâçÂØπË±°ÊòØÂê¶ÊúâÂº±ÂºïÁî®ÊåáÈíà deallocating(45‰Ωç): ÂΩìÂâçÂØπË±°ÊòØÂê¶Ê≠£Âú®ËøõË°ådeallocÊìç‰Ωú has_sidetable_rc(46‰Ωç): ÂΩìÂâçisaÊåáÈíà‰∏≠ÊâÄÂ≠òÂÇ®ÂºïÁî®ËÆ°Êï∞ËææÂà∞‰∏äÈôê, ÈúÄË¶ÅÂ§ñÊåÇ‰∏Ä‰∏™sidetableÊï∞ÊçÆÁªìÊûÑÁî®Êù•Â≠òÂÇ®Áõ∏ÂÖ≥ÁöÑÂºïÁî®ÂÜÖÂÆπ,‰πüÂ∞±ÊòØÊï£ÂàóË°® extra_rc(47~64‰Ωç): È¢ùÂ§ñÁöÑÂºïÁî®ËÆ°Êï∞, ÂΩìÂºïÁî®ËÆ°Êï∞Âú®ÂæàÂ∞èÂÄºËåÉÂõ¥Â∞±‰ºöÂ≠òÂÇ®Âú®isaÊåáÈíà‰∏≠. 2.Êï£ÂàóË°®ÊñπÂºè SideTables()ÔºàÈùûÂµåÂÖ•ÂºèÁ≥ªÁªü‰∏≠ÂåÖÂê´64‰∏™SideTableÔºâÔºåÂÆûÈôÖÊòØ‰∏Ä‰∏™ÂìàÂ∏åË°®ÔºåÈÄöËøáÂØπË±°ÁöÑÊåáÈíàÊâæÂà∞ÂØπÂ∫îÁöÑÂºïÁî®ËÆ°Êï∞Ë°®ÊàñÂº±ÂºïÁî®Ë°®ÔºåÂú®Âì™‰∏Ä‰∏™SideTable‰∏≠ SideTableÁªìÊûÑÂåÖÂê´Ëá™ÊóãÈîÅ ÂºïÁî®ËÆ°Êï∞Ë°® Âº±ÂºïÁî®Ë°® ÈóÆÈ¢ò:‰∏∫‰ªÄ‰πà‰∏çÊòØ‰∏Ä‰∏™SideTableÔºüÂ≠òÂú®ÊïàÁéáÈóÆÈ¢òÔºåÂ¶ÇÊûúÂ§ö‰∏™ÂØπË±°Âú®ÂØπÂêå‰∏ÄÂº†Ë°®ËøõË°åÂºïÁî®ËÆ°Êï∞Êó∂ÔºåÂ∞±‰ºöÁ≠âÂæÖÂâç‰∏Ä‰∏™ÂØπË±°Êìç‰ΩúÁªìÊùüÊâçËÉΩÊìç‰Ωú„ÄÇÂºïÁî®ÂàÜÁ¶ªÈîÅÁöÑÊñπÊ°àÔºåÂèØ‰ª•ÊèêÈ´òËÆøÈóÆÊïàÁéá„ÄÇ ÈóÆÈ¢ò:ÊÄéÊ†∑ÂÆûÁé∞Âø´ÈÄüÂàÜÊµÅÔºüÔºàÂìàÂ∏åÊü•ÊâæÁöÑËøáÁ®ãÔºâ SideTablesÁöÑÊú¨Ë¥®ÊòØ‰∏ÄÂº†HashË°®„ÄÇ Ê†πÊçÆÂØπË±°ÁöÑÂú∞ÂùÄÔºåÈÄöËøá‰∏Ä‰∏™ÂùáÂåÄÊï£ÂàóÂáΩÊï∞ÁöÑËÆ°ÁÆóÂ∞±ÂèØ‰ª•ÂæóÂà∞Êï∞ÁªÑ‰∏ãÊ†áÁ¥¢ÂºïÂÄº„ÄÇ HashÊü•ÊâæËøáÁ®ã‰æã: ÁªôÂÆöÂÄºÊòØÂØπË±°ÂÜÖÂ≠òÂú∞ÂùÄ,ÁõÆÊ†áÂÄºÊòØÊï∞ÁªÑ‰∏ãÊ†áÁ¥¢Âºï„ÄÇ f(ptr) = (uintptr_t)ptr% array.count ‰∏â„ÄÅÊï£ÂàóË°®‰∏≠Êï∞ÊçÆÁªìÊûÑ1)Ëá™ÊóãÈîÅÔºàSpinlock_tÔºâ ÊòØ‰∏ÄÁßçÂøôÁ≠âÁöÑÈîÅÔºàÂΩìÂâçÈîÅÂ∑≤Ë¢´ÂÖ∂‰ªñÁ∫øÁ®ãËé∑ÂèñÔºåÂΩìÂâçÁ∫øÁ®ãÂ∞±‰ºö‰∏çÊñ≠ÁöÑÊé¢ÊµãËøô‰∏™ÈîÅÊòØÂê¶Ë¢´ÈáäÊîæ,Â¶ÇÊûúÈáäÊîæËá™Â∑±Á¨¨‰∏ÄÊó∂Èó¥Ëé∑ÂèñÈîÅÔºâ ÈÄÇÁî®‰∫éËΩªÈáèËÆøÈóÆ„ÄÇ ‰æãÂ¶ÇÂºïÁî®ËÆ°Êï∞+1„ÄÅ-1Êìç‰Ωú Ë°•ÂÖÖ:‰ø°Âè∑Èáè Â¶ÇÊûúËé∑Âèñ‰∏çÂà∞ÈîÅ,Ëá™Â∑±‰ºöÁ≠âÂæÖ‰ºëÁú†,Á≠â‰ªñÂÖ∂‰ªñÁ∫øÁ®ãÈáäÊîæÈîÅÊó∂,Âî§ÈÜíÂΩìÂâçÁ∫øÁ®ã. 2)ÂºïÁî®ËÆ°Êï∞Ë°®ÔºàRefcountMapÔºâptr ‚Äî‚Äî&gt; DisguisedPtr(obj) ‚Äî‚Äî&gt;size_tÊèêÈ´òÊü•ÊâæÊïàÁéáÔºåÊèíÂÖ•ÂíåËé∑ÂèñÈÉΩÊòØÈÄöËøáÂêå‰∏Ä‰∏™ÂìàÂ∏åÁÆóÊ≥ïÔºåÈÅøÂÖç‰∫ÜÊï∞ÁªÑÈÅçÂéÜ 3)Âº±ÂºïÁî®Ë°®Ôºàweal_table_tÔºâptr ‚Äî‚Äî&gt; HashÂáΩÊï∞‚Äî‚Äî&gt;value Âõõ„ÄÅARC&amp;MRC1„ÄÅMRCÔºöÊâãÂä®ÂºïÁî®ËÆ°Êï∞„ÄÇalloc„ÄÅretain„ÄÅrelease„ÄÅretainCount„ÄÅautorelease„ÄÅdealloc„ÄÇ2„ÄÅARCÔºöËá™Âä®ÂºïÁî®ËÆ°Êï∞„ÄÇ(1)„ÄÅARCÊòØLLVMÔºàÁºñËØëÂô®ÔºâÂíåRunTimeÂçè‰ΩúÁöÑÁªìÊûú„ÄÇ(2)„ÄÅARC‰∏≠Á¶ÅÊ≠¢ÊâãÂä®Ë∞ÉÁî®retain/release/retainCount/dealloc„ÄÇ(3)„ÄÅARC‰∏≠Êñ∞Â¢ûweak„ÄÅstrongÂ±ûÊÄßÂÖ≥ÈîÆÂ≠ó„ÄÇ ‰∫î„ÄÅÂºïÁî®ËÆ°Êï∞ÁÆ°ÁêÜÂÆûÁé∞ÂéüÁêÜÂàÜÊûêÔºåÂåÖÊã¨alloc„ÄÅretain„ÄÅrelease„ÄÅretainCount„ÄÅdealloc„ÄÇ 1„ÄÅallocÂÆûÁé∞ÁªèËøá‰∏ÄÁ≥ªÂàóË∞ÉÁî®ÔºåÊúÄÁªàË∞ÉÁî®ÁöÑCÂáΩÊï∞callocÔºåÊ≠§Êó∂Âπ∂Ê≤°ÊúâËÆæÁΩÆÂºïÁî®ËÆ°Êï∞‰∏∫1Ôºà‰ΩÜÊòØÈÄöËøáretainCountÂæóÁü•ÊòØ1ÔºåÂú®ÂêéÈù¢‰ºöËÆ≤Âà∞Ôºâ 2„ÄÅretainÂÆûÁé∞ÁªèËøá‰∏§Ê¨°HashÊü•ÊâæÔºåÊâæÂà∞ÂØπÂ∫îÁöÑÂºïÁî®ËÆ°Êï∞ÂÄºÔºåÁÑ∂ÂêéËøõË°å+1ÁöÑÊìç‰Ωú SideTable&amp; table = SideTables()[this]; size_t&amp; refcntStorage = table.refcnts[this]; refcntStorage += SIDE_TABLE_RC_ONE; 3„ÄÅreleaseÂÆûÁé∞ÁªèËøá‰∏§Ê¨°HashÊü•ÊâæÔºåÊâæÂà∞ÂØπÂ∫îÁöÑÂºïÁî®ËÆ°Êï∞ÂÄºÔºåÁÑ∂ÂêéËøõË°å-1ÁöÑÊìç‰Ωú SideTable&amp; table = SideTables()[this]; RefcountMap::iterator it = table.refcnts.find(this); it -&gt;second -= SIDE_TABLE_RC_ONE; 4„ÄÅretainCountÂÆûÁé∞ÁªèËøá‰∏§Ê¨°HashÊü•ÊâæÔºåÊâæÂà∞ÂØπÂ∫îÁöÑÂºïÁî®ËÆ°Êï∞ÂÄºÔºåÁÑ∂Âêé‰∏é1Áõ∏Âä†ÔºàÂõ†Ê≠§ÂàöallocÁöÑÂØπË±°ÔºåÂú®ÂØπÂ∫îÁöÑÂºïÁî®ËÆ°Êï∞Ë°®‰∏≠ÂÆûÈôÖÊòØÊ≤°ÊúâËøô‰∏™Êò†Â∞ÑÁöÑÔºâ SideTable&amp; table = SideTables()[this]; size_t refcnt_result = 1; RefcountMap::iterator it = table.refcnts.find(this); refcnt_result += it-&gt;secont &gt;&gt; SIDE_TABLE_RC_SHIFT; 5„ÄÅdeallocÂÆûÁé∞ Âà§Êñ≠ÂØπË±°Êó∂ÂÄôÂèØ‰ª•ÈáäÊîæÁöÑÊù°‰ª∂Ôºà‰∫î‰∏™Êù°‰ª∂Áº∫‰∏Ä‰∏çÂèØÔºâ Ê≤°Êúâ‰ΩøÁî®nonpointer_isa Ê≤°ÊúâweakÊåáÈíàÊåáÂêë Ê≤°ÊúâÊúâÂÖ≥ËÅîÂØπË±° Ê≤°Êúâ‰ΩøÁî®ARCÊàñËÄÖÊ∂âÂèäC++ ÂΩìÂâçÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞Ê≤°ÊúâÈÄöËøáSideTable‰∏≠ÁöÑÂºïÁî®ËÆ°Êï∞Ë°®Êù•Â≠òÂÇ®ÁöÑ object_dispose() ÂÆûÁé∞ objc_destructInstance()ÂÆûÁé∞ clearDeallocating()ÂÆûÁé∞ ÂÖ≠„ÄÅÂº±ÂºïÁî®ÁÆ°ÁêÜ ÈóÆÈ¢ò:Â¶Ç‰ΩïÊ∑ªÂä†weakÂèòÈáèÁöÑ?(Á≥ªÁªüÊòØÊÄéÊ†∑Êää‰∏Ä‰∏™weakÂèòÈáèÊ∑ªÂä†Âà∞Âº±ÂºïÁî®Ë°®‰∏≠?)Á≠î:ÂØπË±°ÊåáÈíàÂú®ÁªèËøáÁºñËØëÂô®ÁöÑÁºñËØë‰πãÂêéË∞ÉÁî®objc_initweak()ÔºåÁÑ∂Âêéstoreweak()ÊñπÊ≥ïÔºåÁªèËøá‰∏ÄÁ≥ªÂàóÁöÑÂáΩÊï∞Ë∞ÉÁî®Ê†àÔºåÊúÄÁªàÂú®weak_register_no_lock()ËøõË°åÂº±ÂºïÁî®ÂèòÈáèÁöÑÊ∑ªÂä†Ôºå(ÂÖ∑‰ΩìÊ∑ªÂä†‰ΩçÁΩÆÊòØ)ÈÄöËøáhashÁÆóÊ≥ï‰ΩçÁΩÆÊü•ÊâæÔºåÂ¶ÇÊûúÂ∑≤ÁªèÂ≠òÂú®ÂΩìÂâçÂØπË±°ÂØπÂ∫îÁöÑÂº±ÂºïÁî®Êï∞ÁªÑÔºåÂàôÁõ¥Êé•Âä†ËøõÂéªÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàôÂàõÂª∫Êñ∞‰∏™Êñ∞ÁöÑÂº±ÂºïÁî®Êï∞ÁªÑÔºåÁÑ∂ÂêéÊääÁ¨¨0‰∏™‰ΩçÁΩÆÂ≠òÊîæÊñ∞ÁöÑweakÊåáÈíà,ÂêéÈù¢ÁöÑÈÉΩÂàùÂßãÂåñnilÊàñËÄÖ0„ÄÇ ÈóÆÈ¢ò: Á≥ªÁªüÂ¶Ç‰ΩïÂÆûÁé∞Â∞ÜÂ∫üÂºÉÂØπË±°ÁöÑweakÊåáÈíàÁΩÆ‰∏∫nil?Á≠î:ÂΩìÂØπË±°Ë¢´deallocÂ∫üÂºÉ‰πãÂêéÔºådeallocÂÜÖÈÉ®ÂÆûÁé∞‰∏≠‰ºöË∞ÉÁî®Âº±ÂºïÁî®Ê∏ÖÈô§ÁöÑÁõ∏ÂÖ≥ÂáΩÊï∞(weak_clear_no_lock())„ÄÇÁÑ∂ÂêéÂú®ÂáΩÊï∞ÂÆûÁé∞‰∏≠ÔºåÊ†πÊçÆÂΩìÂâçÂØπË±°ÊåáÈíàÔºåÂìàÂ∏åÊü•ÊâæÂº±ÂºïÁî®Ë°®ÔºåÊääÂΩìÂâçÂØπË±°ÂØπÂ∫îÁöÑÂº±ÂºïÁî®ÈÉΩÊãøÂá∫Êù•ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÁÑ∂ÂêéÈÅçÂéÜËøô‰∏™Êï∞ÁªÑ‰∏≠ÊâÄÊúâÁöÑÂº±ÂºïÁî®ÊåáÈíàÁΩÆÂàÜÂà´ÁΩÆ‰∏∫nil„ÄÇ ‰∏É„ÄÅËá™Âä®ÈáäÊîæÊ±†1 Ëá™Âä®ÈáäÊîæÊ±†Êï∞ÊçÆÁªìÊûÑÁºñËØëÂô®‰ºöÂ∞Ü@autoreleasepool{}ÊîπÂÜô‰∏∫: void *ctx = objc_autoreleasePoolPush(); {}‰∏≠ÁöÑ‰ª£Á†Å objc_autoreleasePoolPop(ctx); ‰∏ãÈù¢ÂØπ‰∏äÈù¢ÁöÑ‰∏ªË¶ÅÂáΩÊï∞ËøõË°å‰∏Ä‰∏™ÁÆÄÂçïÁöÑËØ¥Êòé: 1)objc_autoreleasePoolPushÂÜÖÈÉ®ÂÆûÁé∞ 2)objc_autoreleasePoolPopÂÜÖÈÉ®ÂÆûÁé∞ ÂÆûÈôÖobjc_autoreleasePoolPopÂáΩÊï∞Âú®ÂÜÖÈÉ®ÂÅö‰∫ÜpopÊìç‰ΩúÔºåÊâπÈáèÂ∞Üautoreleasepool‰∏≠ÁöÑÊâÄÊúâÁöÑÂØπË±°ÈÉΩ‰ºöÂÅö‰∏ÄÊ¨°releaseÊìç‰Ωú. ‰∏ãÈù¢ÂØπ‰∏äÈù¢ÁöÑ‰∏ªË¶ÅÂáΩÊï∞ËøõË°å‰∏Ä‰∏™ÁÆÄÂçïÁöÑËØ¥Êòé: 3)AutoreleasePoolÁöÑÁªìÊûÑ ÊòØ‰ª•Ê†à‰∏∫ÁªìÁÇπÈÄöËøáÂèåÂêëÈìæË°®ÁöÑÂΩ¢ÂºèÁªÑÂêàËÄåÊàê ÊòØÂíåÁ∫øÁ®ã‰∏Ä‰∏ÄÂØπÂ∫îÁöÑ ÈóÆÈ¢ò:AutoreleasePoolÁöÑÂÆûÁé∞ÁªìÊûÑÊòØÊÄé‰πàÊ†∑ÁöÑÔºü(‰ªÄ‰πàÊòØËá™Âä®ÈáäÊîæÊ±†?ÂÆûÁé∞ÂéüÁêÜ)Á≠î:AutoreleasePoolÊòØ‰ª•Ê†à‰∏∫ÁªìÁÇπÔºåÈÄöËøáÂèåÂêëÈìæË°®ÁöÑÂΩ¢ÂºèÁªÑÂêàËÄåÊàêÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ AutoreleasePoolÊòØÂíåÁ∫øÁ®ã‰∏Ä‰∏ÄÂØπÂ∫îÁöÑ„ÄÇ 2 ÂèåÂêëÈìæË°® AutoreleasePoolPage 1)AutoreleasePoolPage::pushÂÆûÁé∞ÊµÅÁ®ãÔºàÈáäÊîæÊ±†Â§öÂ±ÇÂµåÂ•óÔºâ ÊèíÂÖ•Âì®ÂÖµÂØπË±° 2)AutoreleasePoolPage::popÂÆûÁé∞ÊµÅÁ®ãÔºà‰∏épushÁõ∏ÂèçÔºâ Ê†πÊçÆ‰º†ÂÖ•ÁöÑÂì®ÂÖµÂØπË±°ÊâæÂà∞ÂØπÂ∫îÁöÑ‰ΩçÁΩÆ Áªô‰∏äÊ¨°pushÊìç‰Ωú‰πãÂêéÊ∑ªÂä†ÁöÑÂØπË±°‰æùÊ¨°ÂèëÈÄÅreleaseÊ∂àÊÅØ ÂõûÈÄÄnextÊåáÈíàÂà∞Ê≠£Á°ÆÁöÑ‰ΩçÁΩÆ [obj autorelease]ÁöÑÂÆûÁé∞ÔºàÂØπË±°Âä†ÂÖ•Ëá™Âä®ÈáäÊîæÊ±†ÔºâÂÖàÂà§Êñ≠ÂΩìÂâçnextÊåáÈíàÊòØÂê¶ÊåáÂêëÊ†àÈ°∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊåáÂêëÊ†àÈ°∂Áõ¥Êé•Â∞ÜÂØπË±°Âä†ÂÖ•Âà∞nextÊåáÈíà‰ΩçÁΩÆ,ÁªìÊùüÊµÅÁ®ãÔºõÂ¶ÇÊûúnextÂ∑≤Áªè‰Ωç‰∫éÊ†àÈ°∂ÔºåÂàôÂ¢ûÂä†‰∏Ä‰∏™Ê†àÁªìÁÇπÂà∞ÈìæË°®‰∏äÔºåÂú®Êñ∞ÁöÑÊ†àÊ∑ªÂä†ÂØπË±°,ÁªìÊùüÊµÅÁ®ã ÈóÆÈ¢ò: arrayÊòØ‰ªÄ‰πàÊó∂ÂÄôÈáäÊîæÁöÑÂë¢? - (void)viewDidLoad { [super viewDidLoad]; NSMutableArray *arrar =[NSMutableArray array]; NSLog(@&quot;%@&quot;,arrar); } Á≠îÔºöÂú®ÂΩìÊ¨°runloopÂ∞ÜË¶ÅÁªìÊùüÁöÑÊó∂ÂÄôË∞ÉÁî®AutoreleasePoolPage:pop(),ÂØπarrayÂØπË±°ÊâßË°åreleaseÊìç‰Ωú ÈóÆÈ¢ò:AutoreleasePool‰∏∫‰ΩïÂèØ‰ª•ÂµåÂ•ó‰ΩøÁî®ÔºüÁ≠î: Â§öÊ¨°ÊèíÂÖ•Âì®ÂÖµÂØπË±°Ôºå‰πüÂ∞±ÊòØÂØπ‰∏Ä‰∏™Êñ∞ÁöÑautoreleasePoolÁöÑÂàõÂª∫ÔºåÂ¶ÇÊûúÂΩìÂâçÊ†àÊ≤°ÊúâÊª°ÔºåÂàô‰∏çÈúÄË¶ÅÂàõÂª∫Êñ∞ÁöÑpage,Â¶ÇÊûúÊª°‰∫ÜÔºåÊñ∞Â¢û‰∏Ä‰∏™Ê†àËäÇÁÇπ ÈóÆÈ¢ò: AutoreleasePoolÁöÑ‰ΩøÁî®Âú∫ÊôØÔºüÁ≠î: Âú®forÂæ™ÁéØ‰∏≠ÔºåallocÂõæÁâáÊï∞ÊçÆÁ≠âÂÜÖÂ≠òÊ∂àËÄóËæÉÂ§ßÁöÑÂú∫ÊôØÊâãÂä®ÊèíÂÖ•autoreleasePoolÔºåÊØè‰∏ÄÊ¨°forÂæ™ÁéØÈÉΩËøõË°å‰∏ÄÊ¨°ÂÜÖÂ≠òÁöÑÈáäÊîæÔºåÈôç‰ΩéÂÜÖÂ≠òÊ∂àËÄó ÂÖ´„ÄÅÂæ™ÁéØÂºïÁî®1„ÄÅ‰∏âÁßçÂæ™ÁéØÂºïÁî®ÔºöËá™Âæ™ÁéØÂºïÁî®„ÄÅÁõ∏‰∫íÂæ™ÁéØÂºïÁî®„ÄÅÂ§öÂæ™ÁéØÂºïÁî®„ÄÇ 2„ÄÅÂ¶Ç‰ΩïÁ†¥Èô§Âæ™ÁéØÂºïÁî®Ôºü1) ÈÅøÂÖç‰∫ßÁîüÂæ™ÁéØÂºïÁî® (Â¶Ç‰ΩøÁî®‰ª£ÁêÜ‰∏§‰∏™ÂØπË±°,‰∏Ä‰∏™ÊòØÂº∫ÂºïÁî®,‰∏Ä‰∏™ÊòØÂº±ÂºïÁî®)2) Âú®ÂêàÈÄÇÁöÑÊó∂Êú∫ÊâãÂä®Êñ≠ÁéØ 3„ÄÅ Â∏∏ËßÅÁöÑÂæ™ÁéØÂºïÁî®Âú∫ÊôØÔºö‰ª£ÁêÜÔºàdelegateÔºâ„ÄÅblock „ÄÅ NSTimer „ÄÅÂ§ßÁéØÂºïÁî® 4„ÄÅÂÖ∑‰ΩìÁöÑËß£ÂÜ≥ÊñπÊ°àÈÉΩÊúâÂì™‰∫õÔºü __weak __block __unsafe_unretained(‰∏éweakÁ≠âÊïà) blockÁ†¥Ëß£ (**blockÂú®ARCÂíåMRCÊù°‰ª∂‰∏ãÁöÑÂå∫Âà´?**) MRC‰∏ãÔºå__block‰øÆÈ•∞ÂØπË±°‰∏ç‰ºöÂ¢ûÂä†ÂÖ∂ÂºïÁî®ËÆ°Êï∞ÔºåÈÅøÂÖç‰∫ÜÂæ™ÁéØÂºïÁî® ARC‰∏ãÔºå__block‰øÆÈ•∞ÂØπË±°‰ºöË¢´Âº∫ÂºïÁî®ÔºåÊó†Ê≥ïÈÅøÂÖçÂæ™ÁéØÂºïÁî®ÔºåÈúÄÊâãÂä®Ëß£ÁéØ __unsafe_unretainedÁ†¥Ëß£ ‰øÆÈ•∞ÂØπË±°‰∏ç‰ºöÂ¢ûÂä†ÂÖ∂ÂºïÁî®ËÆ°Êï∞ÔºåÈÅøÂÖç‰∫ÜÂæ™ÁéØÂºïÁî®„ÄÇ Â¶ÇÊûúË¢´‰øÆÈ•∞ÂØπË±°Âú®Êüê‰∏ÄÊó∂Êú∫Ë¢´ÈáäÊîæÔºå‰ºö‰∫ßÁîüÊÇ¨Á©∫ÊåáÈíà„ÄÇ Âæ™ÁéØÂºïÁî®ÁöÑÁ§∫‰æãÔºüÔºàÂπ≥Êó∂ÂºÄÂèëÊó∂ÊòØÂê¶ÊúâÈÅáÂà∞Âæ™ÁéØÂºïÁî®ÔºåÂèàÊòØÊÄé‰πàËß£ÂÜ≥ÁöÑÔºüÔºâ Block‰ΩøÁî®Á§∫‰æãÔºàÂú®ÂêéÈù¢blockËÆ≤Ëß£Êó∂Ôºâ NSTimer ÁöÑÂæ™ÁéØÂºïÁî®ÈóÆÈ¢ò //NSTimer+WeakTimer.h @interface NSTimer (WeakTimer) + (NSTimer *)scheduledWeakTimerWithTimeInterval:(NSTimeInterval)interval target:(id)aTarget selector:(SEL)aSelector userInfo:(id)userInfo repeats:(BOOL)repeats; @end //NSTimer+WeakTimer.m @interface TimerWeakObject : NSObject @property (nonatomic, weak) id target; @property (nonatomic, assign) SEL selector; @property (nonatomic, weak) NSTimer *timer; - (void)fire:(NSTimer *)timer; @end @implementation TimerWeakObject - (void)fire:(NSTimer *)timer { if (self.target) { if ([self.target respondsToSelector:self.selector]) { [self.target performSelector:self.selector withObject:timer.userInfo]; } }else{ [self.timer invalidate]; } } @end @implementation NSTimer (WeakTimer) + (NSTimer *)scheduledWeakTimerWithTimeInterval:(NSTimeInterval)interval target:(id)aTarget selector:(SEL)aSelector userInfo:(id)userInfo repeats:(BOOL)repeats { TimerWeakObject *object = [[TimerWeakObject alloc] init]; object.target = aTarget; object.selector = aSelector; object.timer = [NSTimer scheduledTimerWithTimeInterval:interval target:object selector:@selector(fire:) userInfo:userInfo repeats:repeats]; return object.timer; } @end ÂÜÖÂ≠òÁÆ°ÁêÜÈù¢ËØïÊÄªÁªì:ÈóÆÈ¢ò:‰ªÄ‰πàÊòØARC?Á≠î:Ëá™Âä®ÂºïÁî®ËÆ°Êï∞„ÄÇARCÊòØÁî±LLVMÔºàÁºñËØëÂô®ÔºâÂíåRunTimeÂÖ±ÂêåÂçè‰ΩúÊù•‰∏∫Êàë‰ª¨ÂÆûÁé∞Ëá™Âä®ÂºïÁî®ËÆ°Êï∞ÁöÑÁÆ°ÁêÜ„ÄÇ ÈóÆÈ¢ò:‰∏∫‰ªÄ‰πàweakÊåáÈíàÊåáÂêëÁöÑÂØπË±°Âú®Â∫üÂºÉ‰πãÂêé‰ºöË¢´Ëá™Âä®ÁΩÆ‰∏∫nil?Á≠î:ÂΩìÂØπË±°Ë¢´Â∫üÂºÉ‰πãÂêéÔºådeallocÂÜÖÈÉ®ÂÆûÁé∞‰∏≠‰ºöË∞ÉÁî®Ê∏ÖÈô§Âº±ÂºïÁî®ÁöÑÁõ∏ÂÖ≥ÂáΩÊï∞(weak_clear_no_lock())„ÄÇÁÑ∂ÂêéÂú®Ê∏ÖÈô§Âº±ÂºïÁî®ÂáΩÊï∞ÂÆûÁé∞‰∏≠Ôºå‰ºöÈÄöËøáÂìàÂ∏åÁÆóÊ≥ïÊü•ÊâæË¢´Â∫üÂºÉÂØπË±°Âú®Âº±ÂºïÁî®Ë°®‰∏≠‰ΩçÁΩÆÔºåÊù•ÊèêÂèñÂÆÉÊâÄÂØπÂ∫îÁöÑÂº±ÂºïÁî®ÊåáÈíàÁöÑÂàóË°®Êï∞ÁªÑÔºåÁÑ∂ÂêéËøõË°åforÂæ™ÁéØÈÅçÂéÜ, ÊääÊâÄÊúâÁöÑÂº±ÂºïÁî®ÊåáÈíàÁΩÆÂàÜÂà´ÁΩÆ‰∏∫nil„ÄÇ ÈóÆÈ¢ò:ËãπÊûúÊòØÂ¶Ç‰ΩïÂÆûÁé∞AutoreleasePoolÁöÑ?Á≠î:AutoreleasePoolÊòØ‰ª•Ê†à‰∏∫ÁªìÁÇπÔºåÈÄöËøáÂèåÂêëÈìæË°®ÁöÑÂΩ¢ÂºèÁªÑÂêàËÄåÊàêÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ ÈóÆÈ¢ò:‰ªÄ‰πàÊòØÂæ™ÁéØÂºïÁî®?‰Ω†ÈÅáÂà∞ËøáÂì™‰∫õÂæ™ÁéØÂºïÁî®,ÊòØÊÄéÊ†∑Ëß£ÂÜ≥ÁöÑ?Á≠î: NSTimerÂæ™ÁéØÂºïÁî® //__weak‰øÆÈ•∞ÔºåÂº±Â∫îÁî®ÔºåÂØπË±°ÂºïÁî®ËÆ°Êï∞‰∏ç‰ºöÂä†1 __weak NSArray *weakArr1; __weak NSArray *weakArr2; { //arr1ÊåáÂêëÁöÑÊï∞ÁªÑÂØπË±°Ê≤°ÊúâË¢´Ê≥®ÂÜåÂà∞autorelease pool NSArray *arr1 = [[NSArray alloc] initWithObjects:@&quot;123&quot;, nil]; weakArr1 = arr1; //arr2ÊåáÂêëÁöÑÊï∞ÁªÑÂØπË±°Â∑≤Ë¢´Ê≥®ÂÜåÂà∞autorelease pool NSArray *arr2 = [NSArray arrayWithObjects:@&quot;123&quot;, nil]; weakArr2 = arr2; } //Â±ÄÈÉ®ÂèòÈáèarr1Âíåarr2ÁöÑ‰ΩúÁî®ÂüüÁªìÊùüÔºå //Ê≠§Êó∂arr1ÊåáÂêëÁöÑÂØπË±°‰∏çÂÜçË¢´Âº∫ÂºïÁî®ÔºåÂõ†Ê≠§Ë¢´ÂõûÊî∂Ôºõ //ËÄåarr2ÊåáÂêëÁöÑÂØπË±°‰ªçÁÑ∂Âú®autorelease pool‰∏≠ NSLog(@&quot;%@&quot;, weakArr1);//ËæìÂá∫null NSLog(@&quot;%@&quot;, weakArr2);//ËæìÂá∫arr2ÔºåÂõ†‰∏∫Ê≠§Âàªarr2Âú®autorelease pool‰∏≠Ôºå‰∏ç‰ºöÂõ†‰∏∫arr2‰ΩúÁî®ÂüüÁöÑÁªìÊùüËÄåË¢´ÂõûÊî∂ __weak NSObject *weakObj1; __weak NSObject *weakObj2; { __autoreleasing NSObject *obj1 = [[NSObject alloc] init]; //weakObj1ÊåáÂêëÁöÑÂØπË±°Â∑≤Ë¢´Ê≥®ÂÜåÂà∞autorelease pool weakObj1 = obj1; __strong NSObject *obj2 = [[NSObject alloc] init]; //weakObj2ÊåáÂêëÁöÑÂØπË±°Ê≤°ÊúâË¢´Ê≥®ÂÜåÂà∞autorelease pool weakObj2 = obj2; } //Â±ÄÈÉ®ÂèòÈáèobj1Âíåobj2ÁöÑ‰ΩúÁî®ÂüüÁªìÊùüÔºå //Ê≠§Êó∂weakObj2ÊåáÂêëÁöÑÂØπË±°‰∏çÂÜçË¢´Âº∫ÂºïÁî®ÔºåÂõ†Ê≠§Ë¢´ÂõûÊî∂Ôºõ //ËÄåweakObj1ÊåáÂêëÁöÑÂØπË±°‰ªçÁÑ∂Âú®autorelease pool‰∏≠ NSLog(@&quot;%@&quot;, weakObj1);//ËæìÂá∫&lt;NSObject: 0x100206030&gt;ÔºåÂõ†‰∏∫Ê≠§ÂàªweakObj1Âú®autorelease pool‰∏≠Ôºå‰∏ç‰ºöÂõ†‰∏∫obj1‰ΩúÁî®ÂüüÁöÑÁªìÊùüËÄåË¢´ÂõûÊî∂ NSLog(@&quot;%@&quot;, weakObj2);//ËæìÂá∫null RunloopÊØèÊ¨°Âæ™ÁéØÈÉΩÊòØË¢´‰∏Ä‰∏™AutoReleasePoolÂåÖÂõ¥ÁùÄÁöÑÔºåÂÖ∑‰ΩìËØ¥ÊØèÊ¨°RunloopÂæ™ÁéØÂ∞ÜË¶ÅÁªìÊùüÁöÑÊó∂ÂÄô‰ºöÈáäÊîæÂΩìÂâçrunloopÁöÑÂÜÖÂ≠òÂç†Áî®„ÄÇÂÜçÂàõÂª∫Â•Ω‰∏Ä‰∏™AutoReleasePoolÁªô‰∏ã‰∏ÄÊ¨°RunloopÂæ™ÁéØ‰ΩøÁî®„ÄÇÂú®ËØ•ÊñπÊ≥ï‰∏≠ÂàõÂª∫ÁöÑarray‰ºöÂä†ÂÖ•Âà∞ÂΩìÊ¨°RunLoopÁöÑAutoReleasePool‰∏≠Ôºåarray‰ºöÂú®ÂΩìÂâçRunLoopÂ∞ÜË¶ÅÁªìÊùüÁöÑÊó∂ÂÄôË∞ÉÁî®AutoreleasePoolPage:pop()ÔºåÂæóÂà∞ÂÜÖÂ≠òÈáäÊîæ„ÄÇ]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨3Á´† RunTimeÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F23%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC3%E7%AB%A0-RunTime%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªËÆ≤RunTimeÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨Êï∞ÊçÆÁªìÊûÑ„ÄÅÁ±ªÂØπË±°‰∏éÂÖÉÁ±ªÂØπË±°„ÄÅÊ∂àÊÅØ‰º†ÈÄí„ÄÅÊñπÊ≥ïÁºìÂ≠ò„ÄÅÊ∂àÊÅØËΩ¨Âèë„ÄÅMethod-Swizzling„ÄÅÂä®ÊÄÅÊ∑ªÂä†ÊñπÊ≥ï„ÄÅÂä®ÊÄÅÊñπÊ≥ïËß£Êûê„ÄÇ ‰∏Ä.Á±ªÂØπË±°‰∏éÂÖÉÁ±ªÂØπË±°1) objc_object ÂÆûÈôÖ‰ΩøÁî®ÊâÄÊúâÂØπË±°ÈÉΩÊòØidÁ±ªÂûã, idÂØπË±°‰ª£Ë°®Â∞±ÊòØobjc_objectÁªìÊûÑ‰Ωì.id = objc_object ÂàÜ‰∏∫‰ª•‰∏ãÂá†ÈÉ®ÂàÜ: isa_t ÂÖ≥‰∫éisaÊìç‰ΩúÁõ∏ÂÖ≥(Â¶Ç:Ëé∑ÂèñisaÊâÄÊåáÂêëÁöÑÁ±ªÂØπË±° ÊàñËÄÖ ÈÄöËøáÁ±ªÂØπË±°isaËé∑ÂèñÂÆÉÂÖÉÁ±ªÂØπË±°‰∏Ä‰∫õ‰æøÂà©ÊñπÊ≥ï) Âº±ÂºïÁî®Áõ∏ÂÖ≥ (Â¶Ç:Ê†áËÆ∞‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶Ê†áËÆ∞ËøáÂº±ÂºïÁî®ÊåáÈíà) ÂÖ≥ËÅîÂØπË±°Áõ∏ÂÖ≥(Â¶Ç: Ëøô‰∏™ÂØπË±°ËÆæÁΩÆÂÖ≥ËÅîÂ±ûÊÄß) ÂÜÖÂ≠òÁÆ°ÁêÜÁõ∏ÂÖ≥ (Â¶Ç:MRC retain release , ARC @autoreleasepool) 2) objc_class Class = objc_classobjc_class ÁªßÊâøËá™ objc_object, ÊâÄ‰ª•Class‰πüÊòØ‰∏Ä‰∏™ÂØπË±° Class superClass (ÊåáÂêëÁà∂Á±ªÂØπË±°) cache_t cache (ÊñπÊ≥ïÁºìÂ≠òÁªìÊûÑ, ËøõË°åÊ∂àÊÅØ‰º†ÈÄí‰ºö‰ΩøÁî®Ëøô‰∏™Êï∞ÊçÆÁªìÊûÑ) class_data_bits_t bits (Á±ªÂÆö‰πâÁöÑÂèòÈáè Â±ûÊÄßÂíåÊñπÊ≥ïÈÉΩÂú®Ëøô‰∏™ÁªìÊûÑ‰∏≠) 3) isaÊåáÈíà ÂÖ±Áî®‰Ωì isa_t (ÈóÆÈ¢ò:isaÊåáÈíàÊòØ‰ªÄ‰πàÂê´‰πâ?) Âú®32‰ΩçÊàñ64‰ΩçÊû∂ÊûÑ‰∏ãÔºåÈÉΩÊòØ32ÊàñËÄÖ64‰∏™0ÊàñËÄÖ1ÁöÑ‰∫åËøõÂà∂Êï∞Â≠ó ,isaÊåáÈíàÂàÜ‰∏∫ÊåáÈíàÂΩ¢isaÂíåÈùûÊåáÈíàÂΩ¢isa ÊåáÈíàÂûãisaÁöÑÂÄº‰ª£Ë°®ClassÁöÑÂú∞ÂùÄ ÈùûÊåáÈíàÂûãisaÁöÑÂÄºÁöÑÈÉ®ÂàÜ‰ª£Ë°®ClassÁöÑÂú∞ÂùÄ 4) isaÊåáÈíàÁöÑÊåáÂêë ÂÖ≥‰∫éÂØπË±°ÔºåÂÖ∂ÊåáÂêëÁ±ªÂØπË±° ÂÖ≥‰∫éÁ±ªÂØπË±°ÔºåÂÖ∂ÊåáÂêëÂÖÉÁ±ªÂØπË±° ÂÖÉÁ±ªÂØπË±°ÁöÑisaÊåáÈíàÈÉΩÊåáÂêëÊ†πÂÖÉÁ±ªÂØπË±°ÔºåËÄåÊ†πÂÖÉÁ±ªÂØπË±°ÂØπË±°ÁöÑisaÊåáÈíàÊåáÂêëÊ†πÁ±ªÂØπË±°„ÄÇ ÊñπÊ≥ïË∞ÉÁî®Êó∂,Ë∞ÉÁî®ÂÆû‰æãÊñπÊ≥ïÂÆûÈôÖ‰∏äÈÄöËøáisaÊåáÈíàÂà∞Á±ªÂØπË±°‰∏≠ËøõË°åÊñπÊ≥ïÊü•Êâæ.Â¶ÇÊûúË∞ÉÁî®Á±ªÊñπÊ≥ï, ÈÄöËøáÁ±ªÂØπË±°isaËøôÁßçÂà∞ÂÖÉÁ±ªÂØπË±°‰∏≠ËøõË°åÊñπÊ≥ïÊü•Êâæ. 5) cache_tcache_t ÁâπÁÇπ: Áî®‰∫éÂø´ÈÄüÊü•ÊâæÊñπÊ≥ïÊâßË°åÂáΩÊï∞ (ÊèêÈ´òÊ∂àÊÅØ‰º†ÈÄíÈÄüÂ∫¶) ÊòØÂèØÂ¢ûÈáèÊâ©Â±ïÁöÑÂìàÂ∏åË°®ÁªìÊûÑ (ÊèêÈ´òÊü•ÊâæÊïàÁéá) ÊòØÂ±ÄÈÉ®ÊÄßÂéüÁêÜÁöÑÊúÄ‰Ω≥Â∫îÁî® cache_t ÁêÜËß£‰∏∫‰∏Ä‰∏™Êï∞ÁªÑÂÆûÁé∞ÁöÑ, ÈáåËæπÂ≠òÂÇ® bucket_tÁªìÊûÑ‰Ωì, bucket_tÊúâ‰∏§‰∏™ÊàêÂëòÂèòÈáè. keyÂØπÂ∫îOC‰∏≠ @selector , IMPÁêÜËß£‰∏∫Êó†Á±ªÂûãÂáΩÊï∞ÊåáÈíà. Ë∞ÉÁî®ÊñπÊ≥ïÊó∂‰ΩøÁî®SEL, ÈÄöËøáÊñπÊ≥ïÈÄâÊã©Âô®ÂêçÁß∞Êù•ÂØªÊâæÂÖ∑‰ΩìÂÆûÁé∞IMP. 6)class_data_bits_t class_data_bits_t‰∏ªË¶ÅÊòØÂØπclass_rw_tÁöÑÂ∞ÅË£Ö class_rw_t ‰ª£Ë°®Á±ªÁõ∏ÂÖ≥ÁöÑËØªÂÜô‰ø°ÊÅØ, ÂØπclass_ro_tÁöÑÂ∞ÅË£Ö class_ro_t‰ª£Ë°®Á±ªÁõ∏ÂÖ≥ÁöÑÂè™ËØª‰ø°ÊÅØ 7) class_rw_t ‰∏∫‰∏Ä‰∏™Á±ªÊ∑ªÂä†ÂàÜÁ±ª‰∏≠ÁöÑÂçèËÆÆ Â±ûÊÄß ÊñπÊ≥ïÈÉΩÂú®protocols properties methods Ëøô‰∏â‰∏™ÁªìÊûÑ‰∏≠.Ëøô‰∏â‰∏™Êï∞ÊçÆÁªìÊûÑÊòØ‰∏Ä‰∏™‰∫åÁª¥Êï∞ÁªÑ(list_array_tt) 8) class_ro_t class_ro_t ‰∏≠‰∏ÄÁª¥Êï∞ÁªÑ ivars protocols properties methodList Â≠òÂÇ®ÁöÑÂéüÂßãÁ±ªÂÆö‰πâÊ∑ªÂä†ÁöÑÊàêÂëòÂèòÈáè ÂçèËÆÆ Â±ûÊÄßÂíåÊñπÊ≥ïÂàóË°® ‰∫å.runtimeÊï¥‰ΩìÊï∞ÊçÆÁªìÊûÑ1) method_t method_tÁªìÊûÑ‰ΩìÂ∞ÅË£Ö‰∫ÜÂáΩÊï∞ÂõõË¶ÅÁ¥†ÔºåÂÖ∂‰∏≠ÂêçÁß∞ÈÄöËøáSELÊñπÊ≥ïÈÄâÊã©Âô®Ë°®Á§∫ÔºåËøîÂõûÂÄºÂíåÂèÇÊï∞ÂàôÁî±‚ÄúType Encodings‚ÄùÁ±ªÂûãÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫ÔºåÂáΩÊï∞‰ΩìÂàôÊåá‰ª£‰∫ÜIMPÂáΩÊï∞ÊåáÈíà„ÄÇ Êõ¥Â§öÂÖ≥‰∫éType Encodings 2)runtimeÊï¥‰ΩìÊï∞ÊçÆÁªìÊûÑ ‰∏â ÂÆû‰æãÂØπË±°„ÄÅÁ±ªÂØπË±°„ÄÅÂÖÉÁ±ªÂØπË±° Á±ªÂØπË±°Â≠òÂÇ®ÂÆû‰æãÊñπÊ≥ïÂàóË°®Á≠â‰ø°ÊÅØ ÁöÑÊï∞ÊçÆÁªìÊûÑ ÂÖÉÁ±ªÂØπË±°Â≠òÂÇ®Á±ªÊñπÊ≥ïÂàóË°®Á≠â‰ø°ÊÅØ ÁöÑÊï∞ÊçÆÁªìÊûÑ. ÂÖ≥‰∫éÁ±ªÂØπË±°ÁöÑisaÊåáÈíàÊåáÂêëÂèØ‰ª•Áî®‰∏ãÂõæË°®Á§∫Ôºö Root class ÊòØÊ†πÁ±ª,ÂàÜÁ±ªÁà∂Á±ªÊåáÂêënil, ÂÆûÈôÖÊåá NSObjectËøô‰∏™Á±ª Â∑¶‰æßÈÉ®ÂàÜÊåáÂÆû‰æãÂØπË±°, ‰πüÂ∞±ÊòØobjc_objectËøô‰∏™Êï∞ÊçÆÁªìÊûÑ,ÂÆû‰æãisaÊåáÂêëÂÆû‰æãÂØπË±°ÁöÑÁ±ªÂØπË±° Âè≥‰æßÈÉ®ÂàÜÊåáÂÖÉÁ±ªÂØπË±°, ‰ªª‰ΩïÂÖÉÁ±ªÂØπË±°isaÊåáÈíàÊåáÂêëÊ†πÂÖÉÁ±ªÂØπË±°,Ê†πÂÖÉÁ±ªÂØπË±°Ëá™Ë∫´isaÊåáÈíàÊåáÂêëÊ†πÂÖÉÁ±ªÂØπË±°.Ê†πÂÖÉÁ±ªÂØπË±°superclassÊåáÈíàÊåáÂêëÊ†πÁ±ªÂØπË±° ÂΩìË∞ÉÁî®Á±ªÊñπÊ≥ï‰ªéÂÖÉÁ±ªÂØπË±°ÊñπÊ≥ïÂàóË°®‰∏≠ÈÄêÁ∫ßÁà∂Á±ªÂæÄ‰∏äÊü•Êâæ , Êü•ÊâæÂà∞Ê†πÂÖÉÁ±ªÂØπË±°(Root class meta)Êâæ‰∏çÂà∞Êó∂, Â∞±‰ºöÂéªÊ†πÁ±ª(Root class class)ÂØπË±°‰∏≠Êü•ÊâæÂêåÂêçÁöÑÂÆû‰æãÊñπÊ≥ïÂÆûÁé∞. ÈóÆÈ¢ò:Á±ªÂØπË±°ÂíåÂÖÉÁ±ªÂØπË±°Êúâ‰ªÄ‰πàÂå∫Âà´ÂíåËÅîÁ≥ª?Á≠î: ÂÆû‰æãÂØπË±°ÂèØ‰ª•ÈÄöËøáisaÊåáÈíàÊâæÂà∞ÂÆÉÁöÑÁ±ªÂØπË±° Á±ªÂØπË±°Â≠òÂÇ®ÂÆû‰æãÊñπÊ≥ïÂàóË°®Á≠â‰ø°ÊÅØ,Á±ªÂØπË±°ÂèØ‰ª•ÈÄöËøáÂÆÉÁöÑisaÊåáÈíàÊâæÂà∞ÂÆÉÁöÑÂÖÉÁ±ªÂØπË±°,‰ªéËÄåÂèØ‰ª•ËÆøÈóÆÁ±ªÊñπÊ≥ïÂàóË°®Á≠â‰ø°ÊÅØ. Á±ªÂØπË±°ÂíåÂÖÉÁ±ªÂØπË±°ÈÉΩÊòØobjc_classÊï∞ÊçÆÁªìÊûÑ,objc_classÊï∞ÊçÆÁªìÊûÑÁî±‰∫éÁªßÊâøobjc_object,ÊâÄ‰ª•Á±ªÂØπË±°ÂíåÂÖÉÁ±ªÂØπË±°ÊâçÊúâisaÊåáÈíà.ËøõËÄåÂÆû‰æãÂØπË±°ÂèØ‰ª•ÈÄöËøáisaÊåáÈíàÊâæÂà∞ÂØπÂ∫îÁ±ªÂØπË±°,ËÆøÈóÆÂÆû‰æãÊñπÊ≥ïÂàóË°®Á≠â‰ø°ÊÅØ, Á±ªÂØπË±°ÈÄöËøáisaÊåáÈíàÊâæÂà∞ÂÖÉÁ±ªÂØπË±°,ËÆøÈóÆÁ±ªÊñπÊ≥ïÂàóË°®Á≠â‰ø°ÊÅØ. ÈóÆÈ¢ò:Â¶ÇÊûúË∞ÉÁî®Á±ªÊñπÊ≥ïÊ≤°ÊúâÂØπÂ∫îÁöÑÂÆûÁé∞, ÂΩìÊó∂ÊúâÂêåÂêçÁöÑÂÆû‰æãÊñπÊ≥ïÂÆûÁé∞, Ëøô‰∏™Êó∂ÂÄô‰ºö‰∏ç‰ºöÂèëÁîüÂ¥©Ê∫É?‰ºö‰∏ç‰ºö‰∫ßÁîüÂÆûÈôÖË∞ÉÁî®?Á≠î: Áî±‰∫éÊ†πÂÖÉÁ±ªÂØπË±°ÁöÑsuperclassÊåáÈíàÊåáÂêë‰∫ÜÊ†πÁ±ªÂØπË±°, ÂΩìÊü•ÊâæÂà∞Ê†πÂÖÉÁ±ªÂØπË±°(Root class meta)Á±ªÊñπÊ≥ïÊâæ‰∏çÂà∞Êó∂, Â∞±‰ºöÂéªÊ†πÁ±ª(Root class class)ÂØπË±°‰∏≠Êü•ÊâæÂêåÂêçÁöÑÂÆû‰æãÊñπÊ≥ïÂÆûÁé∞,Â¶ÇÊûúÊâæÂà∞Ë∞ÉÁî®. Âõõ Ê∂àÊÅØ‰º†ÈÄíÊú∫Âà∂1) Ê∂àÊÅØ‰º†ÈÄíÊµÅÁ®ãÂèØ‰ª•Áî®‰∏ãÂõæÂ±ïÁ§∫Ê∂àÊÅØ‰º†ÈÄíÁöÑÊµÅÁ®ãÔºö Ê≥®ÊÑèÔºöÂú®Ê∂àÊÅØÁºìÂ≠ò‰∏≠Êü•ÊâæÊòØÈÄöËøáÂìàÂ∏åË°®Êù•Âø´ÈÄüÂÆö‰ΩçÂáΩÊï∞ÊåáÈíàÔºåËÄåÂú®ÂΩìÂâçÁ±ªÊñπÊ≥ïÂàóË°®‰∏≠Êü•ÊâæÊó∂ÔºåÂØπ‰∫éÂ∑≤ÁªèÊéíÂ∫èÂ•ΩÁöÑÂàóË°®‰ΩøÁî®‰∫åÂàÜÊü•ÊâæÔºåËÄåÂØπ‰∫éÊ≤°ÊúâÊéíÂ∫èÁöÑÂàóË°®ÈááÁî®‰∏ÄËà¨ÈÅçÂéÜÊü•ÊâæÊ≥ï„ÄÇ 2) ÁºìÂ≠òÊü•Êâæ‰æã ÔºöÁªôÂÆöÂÄºÊòØSEL, ÁõÆÊ†áÂÄºÊòØÂØπÂ∫îÁöÑbucket_t‰∏≠ÁöÑIMP. ÈóÆÈ¢ò:ÁºìÂ≠òÊü•ÊâæÂÖ∑‰ΩìÁöÑÊòØÊÄéÊ†∑ÁöÑÊµÅÁ®ãÂíåÊ≠•È™§?Á≠î:ÁºìÂ≠òÊü•ÊâæÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰ªé cache_t‰∏≠ ÊääÂØπÂ∫îbucket_tÊâæÂá∫Êù•.Ê†πÊçÆÁªôÂÆöÁöÑÊñπÊ≥ïÈÄâÊã©Âô®,ÈÄöËøá‰∏Ä‰∏™ÂáΩÊï∞Êù•Êò†Â∞ÑÂá∫bucket_tÂú®Êï∞ÁªÑ‰∏≠Êò†Â∞ÑÁöÑ‰ΩçÁΩÆ, ÂÆûÈôÖ‰∏äÂ∞±ÊòØÂìàÂ∏åÊü•Êâæ. ÂìàÂ∏åÊü•ÊâæÈÄöËøáÁªôÂÆöÁöÑÂÄº, ÁªèËøáÂìàÂ∏åÂáΩÊï∞ÁÆóÊ≥ïÁÆóÂá∫ÁöÑÂÄº, ÂÆûÈôÖ‰∏∫ÁªôÂÆöÂÄºÂú®Êï∞ÁªÑ‰∏≠ÁöÑÁ¥¢Âºï‰ΩçÁΩÆ. 3)ÂΩìÂâçÁ±ª‰∏≠Êü•Êâæ ÂØπ‰∫éÂ∑≤ÊéíÂ∫èÂ•ΩÁöÑÂàóË°®, ÈááÁî®‰∫åÂàÜÊü•ÊâæÁÆóÊ≥ïÊü•ÊâæÊñπÊ≥ïÂØπÂ∫îÊâßË°åÂáΩÊï∞. ÂØπ‰∫éÊ≤°ÊúâÊéíÂ∫èÁöÑÂàóË°®, ÈááÁî®‰∏ÄËà¨ÈÅçÂéÜÊü•ÊâæÊñπÊ≥ïÂØπÂ∫îÊâßË°åÂáΩÊï∞. 4)Áà∂Á±ªÈÄêÁ∫ßÊü•Êâæ ÈóÆÈ¢ò: Ê∂àÊÅØ‰º†ÈÄíÊú∫Âà∂?Á≠î:1)ÁºìÂ≠òÊòØÂê¶ÂëΩ‰∏≠, ÂΩìÂâçÁ±ªÊñπÊ≥ïÂàóË°®ÊòØÂê¶ÂëΩ‰∏≠, ÈÄêÁ∫ßÁà∂Á±ªÊñπÊ≥ïÂàóË°®ÊòØÂê¶ÂëΩ‰∏≠2)Ê†πÊçÆ‰∏â‰∏™ÊñπÈù¢ÂàÜÂà´ËÆ≤Ëø∞ÂÖ∑‰ΩìÊÉÖÂÜµ ‰∫î Ê∂àÊÅØËΩ¨ÂèëÊµÅÁ®ã resolvelnstanceMethodÊñπÊ≥ï‰∏≠‰∏∫ÂØπË±°Âä®ÊÄÅÊ∑ªÂä†ÊñπÊ≥ïÔºåÂ∑≤ËææÂà∞Â§ÑÁêÜÊ∂àÊÅØÊú™Ë¢´ÂÆûÁé∞ÁöÑÈóÆÈ¢ò„ÄÇ ÂΩìobjc_msgSendÊñπÊ≥ïË∞ÉÁî®Êâæ‰∏çÂà∞ÂìçÂ∫îÁöÑÂáΩÊï∞ÂêçÁß∞Êó∂Â∞±‰ºöËøõË°åÊ∂àÊÅØËΩ¨ÂèëÔºå‰∏ªË¶ÅÂàÜ‰∏∫3Ê≠•:1„ÄÅÂä®ÊÄÅÊñπÊ≥ïËß£ÊûêË∞ÉÁî®ÊñπÊ≥ï+(BOOL)resolveInstanceMethod:(SEL)sel(ÂÆû‰æãÊñπÊ≥ïÂä®ÊÄÅËß£Êûê)Âíå+ (BOOL)resolveClassMethod:(SEL)sel(Á±ªÊñπÊ≥ïÂä®ÊÄÅËß£Êûê)„ÄÇ 2„ÄÅÂ§áÊè¥Êé•Êî∂ËÄÖË∞ÉÁî®ÊñπÊ≥ï - (id)forwardingTargetForSelector:(SEL)aSelector 3„ÄÅÂÆåÂÖ®ËΩ¨ÂèëË∞ÉÁî®ÊñπÊ≥ï- (void)forwardInvocation:(NSInvocation )anInvocationÂíå- (NSMethodSignature )methodSignatureForSelector:(SEL)aSelector ÂÖ≠ Method-Swizzling+ (void)load{ //Ëé∑ÂèñtestÊñπÊ≥ï Method test = class_getInstanceMethod(self, @selector(test)); //Ëé∑ÂèñotherTestÊñπÊ≥ï Method otherTest = class_getInstanceMethod(self, @selector(otherTest)); //‰∫§Êç¢‰∏§‰∏™ÊñπÊ≥ï method_exchangeImplementations(test, otherTest); } - (void)test{ NSLog(@&quot;test&quot;); } - (void)otherTest{ //ÂÆûÈôÖ‰∏äÊòØË∞ÉÁî®testÂÖ∑‰ΩìÂÆûÁé∞ [self otherTest]; NSLog(@&quot;otherTest&quot;); } ‰∏É Âä®ÊÄÅÊ∑ªÂä†ÊñπÊ≥ïÈóÆÈ¢ò:ÊòØÂê¶‰ΩøÁî®ËøáperformSelector: ÊñπÊ≥ï?Á≠î: void testImp (void) { NSLog(@&quot;test invoke&quot;); } + (BOOL)resolveInstanceMethod:(SEL)sel { // Â¶ÇÊûúÊòØtestÊñπÊ≥ï ÊâìÂç∞Êó•Âøó if (sel == @selector(test)) { NSLog(@&quot;resolveInstanceMethod:&quot;); // Âä®ÊÄÅÊ∑ªÂä†testÊñπÊ≥ïÁöÑÂÆûÁé∞ class_addMethod(self, @selector(test), testImp, &quot;v@:&quot;); //Ëß£ÂÜ≥‰∫ÜÂÆû‰æãÊñπÊ≥ïË∞ÉÁî® ËøîÂõûYES return YES; }else{ // ËøîÂõûÁà∂Á±ªÁöÑÈªòËÆ§Ë∞ÉÁî® return [super resolveInstanceMethod:sel]; } } ÂÖ´ Âä®ÊÄÅÊñπÊ≥ïËß£Êûê@dynamic (ÈóÆÈ¢ò:ÊòØÂê¶‰ΩøÁî®Ëøá@dynamic ÂÖ≥ÈîÆÂ≠ó?) Âä®ÊÄÅËøêË°åÊó∂ËØ≠Ë®ÄÂ∞ÜÂáΩÊï∞ÂÜ≥ËÆÆÊé®ËøüÂà∞ËøêË°åÊó∂(ÂΩìÊääÂ±ûÊÄßÊ†áËØÜ‰∏∫@dynamicÊó∂, ‰ª£Ë°®ÁùÄ‰∏çÈúÄË¶ÅÁºñËØëÂô®Âú®ÁºñËØëÊó∂‰∏∫Â±ûÊÄßÁîüÊàêgetÊñπÊ≥ïÂíåsetÊñπÊ≥ïÁöÑÂÖ∑‰ΩìÂÆûÁé∞,ËÄåÊòØÂú®ËøêË°åÊó∂ÂÖ∑‰ΩìË∞ÉÁî®getÊñπÊ≥ïÊàñËÄÖsetÊñπÊ≥ïÊó∂,ÂÜçÂéªÊ∑ªÂä†ÂÖ∑‰ΩìÂÆûÁé∞) ÁºñËØëÊó∂ËØ≠Ë®ÄÂú®ÁºñËØëÊúüËøõË°åÂáΩÊï∞ÂÜ≥ËÆÆ(Âú®ÁºñËØëÊúüÂ∞±Á°ÆÂÆö‰∫ÜÊñπÊ≥ïÂáΩÊï∞‰ΩìÊòØÂì™‰∏™, ÂÖ∑‰ΩìËøêË°åËøáÁ®ã‰∏≠‰∏çËÉΩ‰øÆÊîπ) RuntimeÈù¢ËØïÈóÆÈ¢òÊÄªÁªìÈóÆÈ¢ò: [obj foo] Âíå objc_msgSend()ÂáΩÊï∞‰πãÈó¥Êúâ‰ªÄ‰πàÂÖ≥Á≥ª?Á≠î: ÂÆûÈôÖ‰∏äÊ∂àÊÅØ‰º†ÈÄí, Âú®ÁºñËØëÊúüÂ§ÑÁêÜËøáÁ®ãÂêé, [obj foo] Â∞±ËΩ¨ÂèòÊàê‰∫Üobjc_magSend(obj, @selector(foo)) , ‰πãÂêéÂºÄÂßãruntimeÊ∂àÊÅØ‰º†ÈÄíËøáÁ®ã ÈóÆÈ¢ò:runtimeÂ¶Ç‰ΩïÈÄöËøáSelectorÊâæÂà∞ÂØπÂ∫îÁöÑIMPÂú∞ÂùÄÁöÑ?Á≠î:ËÄÉÂØüÊ∂àÊÅØ‰º†ÈÄíÊú∫Âà∂. È¶ñÂÖàÊü•ÊâæÂΩìÂâçÂÆû‰æãÊâÄÂØπÂ∫îÁ±ªÂØπË±°ÁöÑÁºìÂ≠òÊòØÂê¶ÊúâSelectorÂØπÂ∫îÁºìÂ≠òÁöÑIMPÂÆûÁé∞, Â¶ÇÊûúÁºìÂ≠òÂëΩ‰∏≠‰∫Ü,Â∞±ÊääÂëΩ‰∏≠ÁºìÂ≠òÂáΩÊï∞ËøîÂõûÁªôË∞ÉÁî®Êñπ. Â¶ÇÊûúÁºìÂ≠òÊ≤°ÊúâÂëΩ‰∏≠,Ê†πÊçÆÂΩìÂâçÁ±ªÊñπÊ≥ïÂàóË°®Êü•ÊâæSelectorÂØπÂ∫îÁöÑIMPÂÆûÁé∞ Â¶ÇÊûúÂΩìÂâçÁ±ªÊ≤°ÊúâÂëΩ‰∏≠, Âú®Ê†πÊçÆÂΩìÂâçÁ±ªsuperclassÊåáÈíàÈÄêÁ∫ßÊü•ÊâæÁà∂Á±ªÊñπÊ≥ïÂàóË°®,ÁÑ∂ÂêéÊü•ÊâæSelectorÂØπÂ∫îÁöÑIMPÂÆûÁé∞. ÈóÆÈ¢ò:ËÉΩÂê¶ÂêëÁºñËØëÂêéÁöÑÁ±ª‰∏≠Ê∑ªÂä†ÂÆû‰æãÂèòÈáè?Á≠î:(‰∏§‰∏™ÁÇπ ÁºñËØëÂêéÁöÑÁ±ª,ËøòÊòØÂä®ÊÄÅÊ∑ªÂä†ÁöÑÁ±ª?)‰∏çËÉΩ.Áî±‰∫éruntimeÊòØÊîØÊåÅÂú®ËøêË°åÊó∂Âä®ÊÄÅÊ∑ªÂä†Á±ª, ÁºñËØë‰πãÂâçÂàõÂª∫ÁöÑÁ±ª,Â∑≤ÁªèÂÆåÊàê‰∫ÜÂÆû‰æãÂèòÈáèÁöÑÂ∏ÉÂ±Ä, runtimeÊï∞ÊçÆÁªìÊûÑ‰∏≠ class_ro_t ÁºñËØëÂêéÊ≤°ÊúâÂäûÊ≥ï‰øÆÊîπÁöÑ. ÈóÆÈ¢ò:ËÉΩÂê¶ÂêëÂä®ÊÄÅÊ∑ªÂä†ÁöÑÁ±ª‰∏≠Ê∑ªÂä†ÂÆû‰æãÂèòÈáè?Á≠î:ÂèØ‰ª•. Âä®ÊÄÅÊ∑ªÂä†ÁöÑÁ±ªË∞ÉÁî®Ê≥®ÂÜåÁ±ªÊñπÊ≥ïÂâç,ÂÆåÊàêÂÆû‰æãÂèòÈáèÁöÑÊ∑ªÂä†ÊòØÂèØ‰ª•ÂÆûÁé∞ÁöÑ.]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨2Á´† Objective-CËØ≠Ë®ÄÁâπÊÄßÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F23%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC2%E7%AB%A0-Objective-C%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªËÆ≤Objective-CËØ≠Ë®ÄÁâπÊÄßÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨ÂàÜÁ±ª„ÄÅÂÖ≥ËÅîÂØπË±°„ÄÅÊâ©Â±ï„ÄÅ‰ª£ÁêÜ„ÄÅÈÄöÁü•„ÄÅKVO„ÄÅ KVC„ÄÅ Â±ûÊÄßÂÖ≥ÈîÆÂ≠ó„ÄÇ ‰∏Ä„ÄÅÂàÜÁ±ª(Category)‰ªÄ‰πàÊòØÂàÜÁ±ªÔºàcategoryÔºâ?CategoryÊòØ‰∏Ä‰∏™ÊåáÂêëÂàÜÁ±ªÁöÑÁªìÊûÑ‰ΩìÁöÑÊåáÈíàÔºåÁªìÊûÑ‰Ωì‰∏ªË¶ÅÂåÖÂê´ÂàÜÁ±ªÂÆö‰πâÁöÑÂÆû‰æãÊñπÊ≥ï‰ª•ÂèäÁ±ªÊñπÊ≥ï 1„ÄÅ‰Ω†Áî®ÂàÜÁ±ªÈÉΩÂÅö‰∫ÜÂì™‰∫õ‰∫ãÔºü(1)„ÄÅÂ£∞ÊòéÁßÅÊúâÊñπÊ≥ï(2)„ÄÅÂàÜËß£‰ΩìÁßØÂ∫ûÂ§ßÁöÑÁ±ªÊñá‰ª∂(3)„ÄÅÊääFrameworkÁöÑÁßÅÊúâÊñπÊ≥ïÂÖ¨ÂºÄ 2„ÄÅÂàÜÁ±ªÁâπÁÇπ(1)„ÄÅËøêË°åÊó∂ÂÜ≥ËÆÆÔºàËøêË°åÊó∂Êâç‰ºöÊ∑ªÂä†Âà∞ÂÆø‰∏ªÁ±ªÔºâÂú®ÁºñÂÜôÂàÜÁ±ªÊñá‰ª∂‰πãÂêéÔºåÂπ∂‰∏ç‰ºöÁ´ãÂç≥ÊääÂàÜÁ±ª‰∏≠Ê∑ªÂä†ÁöÑÂÜÖÂÆπÊ∑ªÂä†Âà∞ÂÆø‰∏ªÁ±ª‰∏≠ÔºåËÄåÊòØÈÄöËøáruntimeÊääÂàÜÁ±ª‰∏≠ÁöÑÂÜÖÂÆπÊ∑ªÂä†Âà∞ÂÆø‰∏ªÁ±ª‰∏≠(2)„ÄÅÂèØ‰ª•‰∏∫Á≥ªÁªüÁ±ªÊ∑ªÂä†ÂàÜÁ±ª ÂàÜÁ±ªÊúâÂ§ö‰∏™ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂéüÊúâÁ±ª‰ª•ÂèäÊØè‰∏™ÂàÜÁ±ªÈÉΩÊúâÂêåÂêçÁöÑÂàÜÁ±ªÊñπÊ≥ïÔºåÊúÄÂêéÂì™‰∏™‰ºöÁîüÊïàÔºüÁ≠îÔºöÈÄöËøáÊ∫êÁ†ÅÂàÜÊûêÔºåÂèñÂÜ≥‰∫éÁºñËØëÂô®ÔºåÊúÄÂêé‰∏Ä‰∏™ÂèÇ‰∏éÁºñËØëÁöÑÂàÜÁ±ª‰ºöÁîüÊïà„ÄÇÂàÜÁ±ªÊñπÊ≥ïÂú®runtimeÂàÜÈÖçÂÜÖÂ≠òÊó∂‰ºöÊèíÂú®Êï∞ÁªÑÂâçÂàóÔºåÂú®ÊñπÊ≥ïÊü•ÊâæËøáÁ®ã‰∏≠ÔºåÂàÜÁ±ªÊ∑ªÂä†ÁöÑÊñπÊ≥ï‰ºö‚ÄùË¶ÜÁõñ‚ÄúÂÆø‰∏ªÁ±ªÁöÑÂêåÂêçÊñπÊ≥ï(Ê∑ªÂä†Âú®ÔºåÂéüÊñπÊ≥ï‰æùÁÑ∂Â≠òÂú®) 3„ÄÅÂàÜÁ±ª‰∏≠ÈÉΩÂèØ‰ª•Ê∑ªÂä†Âì™‰∫õÂÜÖÂÆπÔºü(1)„ÄÅÂÆû‰æãÊñπÊ≥ï(2)„ÄÅÁ±ªÊñπÊ≥ï(3)„ÄÅÂçèËÆÆ(4)„ÄÅÂ±ûÊÄß(Âè™‰ºöÁîüÊàêset„ÄÅgetÊñπÊ≥ïÔºå‰∏ç‰ºöÁîüÊàêÊàêÂëòÂèòÈáè)ÂèØ‰ª•ÂÜô@property‰ΩÜÂπ∂‰∏ç‰ºöÂú®ÂàÜÁ±ª‰∏≠Ê∑ªÂä†ÂÆû‰æãÂèòÈáè ÂàÜÁ±ªÁªìÊûÑ‰ΩìÂàÜÊûê: //objc-runtime-680ÁâàÊú¨ struct category_t { const char *name; //ÂàÜÁ±ªÂêç classref_t cls; //ÂàÜÁ±ªÊâÄÂ±ûÁöÑÁ±ªÂêç //ÂàÜÁ±ª‰∏≠ÊâÄÊúâÁªôÁ±ªÊ∑ªÂä†ÁöÑÂÆû‰æãÊñπÊ≥ïÁöÑÂàóË°® struct method_list_t *instanceMethods; //ÂàÜÁ±ª‰∏≠ÊâÄÊúâÊ∑ªÂä†ÁöÑÁ±ªÊñπÊ≥ïÁöÑÂàóË°® struct method_list_t *classMethods; //ÂàÜÁ±ªÂÆûÁé∞ÁöÑÊâÄÊúâÂçèËÆÆÁöÑÂàóË°® struct protocol_list_t *protocols; //ÂàÜÁ±ª‰∏≠Ê∑ªÂä†ÁöÑÊâÄÊúâÂÆû‰æãÂ±ûÊÄßÂàóË°® struct property_list_t *instanceProperties; // Fields below this point are not always present on disk. // struct property_list_t *_classProperties; method_list_t *methodsForMeta(bool isMeta) { if (isMeta) return classMethods; else return instanceMethods; } property_list_t *propertiesForMeta(bool isMeta) { if (isMeta) return nil; //classProperties else return instanceProperties; } }; ÂèØ‰ª•ÁúãÂà∞ÔºåÂàÜÁ±ªÁªìÊûÑ‰Ωì‰∏≠‰ºöÂºïÁî®ÂÖ∂ÂÆû‰æãÂØπË±°ÔºåÁ±ªÂØπË±°ÔºåÂçèËÆÆ‰ª•ÂèäÂÆû‰æãÂ±ûÊÄßÁöÑÂàóË°®„ÄÇÂú®Âä†ËΩΩ‰∏≠ÔºåÁ≥ªÁªü‰ºöËØªÂèñÈïúÂÉèÂä†ËΩΩÂàÜÁ±ªÊñá‰ª∂Âπ∂ÂÖ≥ËÅîÂà∞‰ªñÁöÑÂÆø‰∏ªÁ±ª‰∏≠„ÄÇ 4„ÄÅÂàÜÁ±ªÂä†ËΩΩË∞ÉÁî®Ê†à Âä†ËΩΩ‰∏≠ÔºåÂàÜÁ±ªÁöÑÊñπÊ≥ï‰ºö‚ÄúË¶ÜÁõñ‚ÄùÂéüÁîüÁ±ªÁöÑÊñπÊ≥ïÔºåËøôÈáåÁöÑË¶ÜÁõñÂπ∂‰∏çÊòØÁúüÊ≠£ÊÑè‰πâ‰∏äÁöÑË¶ÜÁõñÔºåËÄåÊòØÂ∞ÜÂéüÁ±ªÁöÑÊñπÊ≥ïÂú®ÂÜÖÂ≠òÊåáÈíà‰∏≠ÂêéÁßªÔºåËÄåÂàÜÁ±ªÊñπÊ≥ï‰ºöÂâçÁßª„ÄÇ‰∏çÂêåÂàÜÁ±ªÊâÄÊ∑ªÂä†ÁöÑÂêåÊñπÊ≥ïÂêçÁöÑÊñπÊ≥ï‰πü‰ºöÊ†πÊçÆÁºñËØëÈ°∫Â∫èËÄå‰∫íÁõ∏Ë¶ÜÁõñÔºåÊúÄÂêéË¢´ÁºñËØëÁöÑÂàÜÁ±ªÊñπÊ≥ïÂ∞Ü‰ºö‚ÄúË¶ÜÁõñ‚ÄùÊéâ‰πãÂâçÁºñËØëÁöÑÂàÜÁ±ª„ÄÇÁî±‰∫éÁºñËØëÊó∂ÔºåÂàÜÁ±ªÊâÄÊã•ÊúâÁöÑÊñπÊ≥ï‰ºöÊ†πÊçÆÂàÜÁ±ªÁöÑÂêçÁß∞ÂØπÂ∫îÂ≠òÂÇ®Âú®‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠ÔºåÊâÄ‰ª•Áõ∏ÂêåÁöÑÂàÜÁ±ªÂêç‰ºöÈÄ†ÊàêÁºñËØëÊó∂ÁöÑÊä•Èîô„ÄÇ 5„ÄÅÊ∫êÁ†ÅÂàÜÊûê(1)„ÄÅÂàÜÁ±ªÊ∑ªÂä†ÁöÑÊñπÊ≥ïÂèØ‰ª•‚ÄùË¶ÜÁõñ‚ÄùÂéüÁ±ªÊñπÊ≥ï„ÄÇ(2)„ÄÅÂêåÂêçÂàÜÁ±ªÊñπÊ≥ïË∞ÅËÉΩÁîüÊïàÂèñÂÜ≥‰∫éÁºñËØëÈ°∫Â∫è„ÄÇÊúÄÂêéË¢´ÁºñËØëÁöÑÂàÜÁ±ªÊúÄ‰ºòÂÖà‰ºöÁîüÊïà(3)„ÄÅÂêçÂ≠óÁõ∏ÂêåÁöÑÂàÜÁ±ª‰ºöÂºïËµ∑ÁºñËØëÊä•Èîô„ÄÇ ‰∫å„ÄÅÂÖ≥ËÅîÂØπË±°1„ÄÅËÉΩÂê¶ÁªôÂàÜÁ±ªÊ∑ªÂä†‚ÄùÊàêÂëòÂèòÈáè‚ÄùÔºüÂèØ‰ª•ÔºÅÂèØ‰ª•ÂÜô@propertyÔºåÂéüÂàô‰∏äÊòØ‰∏çÂèØ‰ª•Ê∑ªÂä†ÊàêÂëòÂèòÈáèÔºå‰ΩÜÂπ∂Ê≤°ÊúâÂú®ÂàÜÁ±ª‰∏≠Ê∑ªÂä†ÂÆû‰æãÂèòÈáè„ÄÇÂÆûÈôÖ‰∏äÂèØ‰ª•ÈÄöËøáÂÖ≥ËÅîÂØπË±°associated objectÊâ©Â±ïÂ±ûÊÄß„ÄÇ //Ê†πÊçÆÊåáÂÆökey Âà∞objectÂØπË±°‰∏≠Ëé∑ÂèñkeyÁõ∏ÂØπÂ∫îÁöÑÂÖ≥ËÅîÂÄº,Â∞ÜÂÖ≥ËÅîÂÄº‰Ωú‰∏∫ÂáΩÊï∞ËøîÂõûÂÄº,ËøîÂõûÁªôË∞ÉÁî®Êñπ id objc_getAssociatedObject(id object, const void * key) //Â∞ÜkeyÂíåvalueÂª∫Á´ãÊò†Â∞ÑÂÖ≥Á≥ª,Â∞ÜÂØπÂ∫îÂÖ≥Á≥ªÈÄöËøápolicyÁ≠ñÁï•ÂÖ≥ËÅîÂà∞ÂØπË±°object‰∏äÈù¢, ÂÖ≥ËÅîÁ≠ñÁï•ÊòØÂëäËØâÂáΩÊï∞valueÊòØcopyËøòÊòØassign, retainÂΩ¢ÂºèÂÖ≥ËÅîÂà∞Êï∞ÁªÑÂØπË±°‰∏ä void objc_setAssociatedObject(id object, const void * key, id value, objc_AssociationPolicy policy) //ÁßªÈô§ÊåáÂÆöÂØπË±°ÁöÑÊâÄÊúâÁöÑÂÖ≥ËÅîÂØπË±° void objc_removeAssociatedObjects(id object) Âú®ÂàÜÁ±ª‰∏≠‰ΩøÁî®ÂÖ≥ËÅîÂØπË±°ÔºåÂèØ‰ª•‰ΩøÂàÜÁ±ªÂÖ∑ÊúâÊàêÂëòÂèòÈáèÁöÑÊïàÊûú„ÄÇ 2„ÄÅÂÖ≥ËÅîÂØπË±°ÁöÑÊú¨Ë¥®ÂàÜÁ±ªÊ∑ªÂä†ÁöÑÊàêÂëòÂèòÈáèÔºåÊ∑ªÂä†Âà∞ÊàêÂëòÂèòÈáèÊï∞ÁªÑÈáåÈù¢‰∫ÜÂêóÔºü(1)„ÄÅÂÖ≥ËÅîÂØπË±°Áî±AssociationsMangerÁÆ°ÁêÜÔºåÂπ∂Âú®AssociationsHashMapÂ≠òÂÇ®„ÄÇ(2)„ÄÅÊâÄÊúâÂØπË±°ÁöÑÂÖ≥ËÅîÂÜÖÂÆπÈÉΩÂú®Âêå‰∏Ä‰∏™ÂÖ®Â±ÄÂÆπÂô®‰∏≠„ÄÇ ÂõæËØ¥Êòé:1&gt;Ê†πÊçÆ‰º†ÂÖ•value (Â¶Ç @‚ÄùHello‚Äù) Âíåpolicy Â∞ÅË£ÖÊàêObjcAssociationÁªìÊûÑ2&gt; ObjcAssociation Âíå key (Â¶Ç @selector(text) ) Âª∫Á´ãÊò†Â∞ÑÂÖ≥Á≥ªÊûÑÊàê ObjcAssociationMap3&gt; Áî±objectÁöÑÂú∞ÂùÄÈÄöËøáDISGUISEÂáΩÊï∞ËøîÂõûÂÄºÁîüÊàêkey,ÂíåÊâÄÂª∫Á´ãÊò†Â∞ÑÁªìÊûÑ ObjcAssociationMap ‰Ωú‰∏∫ÂÖ®Â±ÄÂÆπÂô®AssociationHashMap‰∏≠ object ÂØπÂ∫îÁöÑvalue ,ÊîæÂà∞ÂÖ®Â±ÄÂÆπÂô®‰∏≠ ÂÖ≥ËÅîÂØπË±°‰øùÂ≠ò‰∫ÜÈúÄË¶ÅÂÖ≥ËÅîÂÆû‰æãÁöÑÂÄºÔºåÂíåÂºïÁî®ËßÑÂàôÔºåÂπ∂‰ΩøÁî®ÈîÆKeyÊù•ÊåáÂêëÂÖ≥ËÅîÂØπË±°ÔºåË¢´ÂÖ≥ËÅîÂØπË±°‰Ωú‰∏∫keyÂèàÊåáÂêë‰∫Ü‰ªñËá™Ë∫´ÁöÑÂÖ≥ËÅîË°®„ÄÇ 3„ÄÅÊ∫êÁ†ÅÂàÜÊûê ‰∏â„ÄÅÊâ©Â±ï1„ÄÅ‰∏ÄËà¨Áî®Êâ©Â±ïÂÅö‰ªÄ‰πàÔºü(1)„ÄÅÂ£∞ÊòéÁßÅÊúâÂ±ûÊÄß(2)„ÄÅÂ£∞ÊòéÁßÅÊúâÊñπÊ≥ï(3)„ÄÅÂ£∞ÊòéÁßÅÊúâÊàêÂëòÂèòÈáè 2„ÄÅÊâ©Â±ïÁâπÁÇπÔºü(1)„ÄÅÁºñËØëÊó∂ÂÜ≥ËÆÆ(2)„ÄÅÂè™‰ª•Â£∞ÊòéÁöÑÂΩ¢ÂºèÂ≠òÂú®ÔºåÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÂØÑÁîü‰∫éÂÆø‰∏ªÁ±ªÁöÑ.m‰∏≠„ÄÇ(3)„ÄÅ‰∏çËÉΩ‰∏∫Á≥ªÁªüÁ±ªÊ∑ªÂä†Êâ©Â±ï„ÄÇ ÈóÆÈ¢òÔºö Êâ©Â±ïÂíåÁ±ªÂà´ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü‰ªé‰∫åËÄÖÁöÑÁâπÁÇπÊù•ÂõûÁ≠î Âõõ„ÄÅ‰ª£ÁêÜ(Delegate)1&gt;ÂÆö‰πâ1„ÄÅÂáÜÁ°ÆÁöÑËØ¥ÊòØ‰∏ÄÁßçËΩØ‰ª∂ËÆæËÆ°Ê®°Âºè„ÄÇ‰ª£ÁêÜËÆæËÆ°Ê®°Âºè2„ÄÅiOSÂΩì‰∏≠‰ª•@protocolÂΩ¢Âºè‰ΩìÁé∞„ÄÇ3„ÄÅ‰º†ÈÄíÊñπÂºè‰∏ÄÂØπ‰∏Ä„ÄÇ 2&gt; ‰ª£ÁêÜÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ ÂßîÊâòÊñπË¶ÅÊ±ÇÂçèËÆÆÂ£∞ÊòéÈúÄË¶ÅÁöÑÂ±ûÊÄß‰ª•ÂèäÊñπÊ≥ï ‰ª£ÁêÜÊñπÈÅµÂæ™Ëøô‰∏™ÂçèËÆÆÔºåÂπ∂ÂÆûÁé∞ÊñπÊ≥ïÔºåÂèØËÉΩËøîÂõûÂ§ÑÁêÜÁªìÊûú ÂßîÊâòÊñπË∞ÉÁî®‰ª£ÁêÜÊñπÈÅµ‰ªéÁöÑÊñπÊ≥ïÔºåÂ¶ÇÊúâËøîÂõûÁªìÊûúÔºåÊé•Êî∂Âπ∂Â§ÑÁêÜ 3&gt;‰ª£ÁêÜÈÅáÂà∞ÈóÆÈ¢ò:ÈóÆÈ¢ò: ‰ª£ÁêÜÊñπÂíåÂßîÊâòÊñπ‰ª•‰ªÄ‰πàÊ†∑ÁöÑÂÖ≥Á≥ªÂ≠òÂú®ÔºüÂ∫îËØ•Ê≥®ÊÑè‰ªÄ‰πàÈóÆÈ¢òÔºüÁ≠î: Â£∞Êòé‰∏∫weakËßÑÈÅøÂæ™ÁéØÂºïÁî®Ôºà‰ª£ÁêÜÊñπÂº∫ÊåÅÊúâstrongÂßîÊâòÊñπ ÂßîÊâòÊñπÈúÄË¶ÅÊúâ‰∏Ä‰∏™‰ª£ÁêÜÊñπÁöÑÂ£∞Êòé Â£∞ÊòéweakÔºâ ‰∫î„ÄÅÈÄöÁü•(NSNotification)1„ÄÅÈÄöÁü•ÁâπÁÇπ(1)„ÄÅÊòØ‰ΩøÁî®ËßÇÂØüËÄÖÊ®°ÂºèÊù•ÂÆûÁé∞ÁöÑÁî®‰∫éË∑®Â±Ç‰º†ÈÄíÊ∂àÊÅØÁöÑÊú∫Âà∂„ÄÇ(2)„ÄÅ‰º†ÈÄíÊñπÂºè‰∏∫‰∏ÄÂØπÂ§ö„ÄÇ ÈóÆÈ¢ò:ÈÄöÁü•Âíå‰ª£ÁêÜÁöÑÂå∫Âà´ Ê®°ÂºèÂå∫Âà´ ‰ª£ÁêÜÊ®°Âºè ËßÇÂØüËÄÖÊ®°Âºè ‰º†ÈÄíÊñπÂºè ‰∏ÄÂØπÂ§ö ‰∏ÄÂØπ‰∏Ä 2„ÄÅÂ¶Ç‰ΩïÂÆûÁé∞ÈÄöÁü•Êú∫Âà∂Ôºü ÈóÆÈ¢ò:ÈÄöÁü•ÁöÑÂÆûÁé∞Êú∫Âà∂ÔºüÂèëÈÄÅËÄÖ ‚Äî‚Äî&gt;ÈÄöÁü•‰∏≠ÂøÉ‚Äî‚Äî&gt;ÂπøÊí≠ÁªôÂ§ö‰∏™ËßÇÂØüËÄÖ ÈóÆÈ¢ò: ÊÄé‰πàÂÆûÁé∞ÈÄöÁü•Êú∫Âà∂ÁåúÊÉ≥ÔºöÔºàÁ±ª‰ººruntimeÊ∑ªÂä†Â±ûÊÄßÁöÑÊñπÂºèÔºâÂèØËÉΩ‰ºöÁî±‰∏Ä‰∏™ÁÆ°ÁêÜËÄÖÁÆ°ÁêÜ‰∏Ä‰∏™HashMapË°®ÔºåÊØè‰∏Ä‰∏™notificationNameÂØπÂ∫î‰∏Ä‰∏™Â≠òÊîæÊúâÂ§ö‰∏™ËßÇÂØüËÄÖÂØπË±°Áõ∏ÂÖ≥‰ø°ÊÅØ( ÂõûË∞ÉÊñπÊ≥ï)ÁöÑÊï∞ÁªÑ ÂÖ≠„ÄÅKVO1„ÄÅKVO‰ªãÁªç KVOÊòØKey-value observingÁöÑÁº©ÂÜô„ÄÇ KVOÊòØOCÂØπËßÇÂØüËÄÖËÆæËÆ°Ê®°ÂºèÁöÑÂèà‰∏ÄÂÆûÁé∞„ÄÇ Apple‰ΩøÁî®‰∫Ü isa Ê∑∑ÂÜô (isa-swizzling) Êù•ÂÆûÁé∞KVO„ÄÇ ËøôÈáåÊèêÂà∞ÁöÑisaÊ∑∑ÂÜôÊ®°ÂºèÂ∞±ÊòØÊåáÔºåÊ≥®ÂÜåKVOÁöÑÊó∂ÂÄôÔºåÁ≥ªÁªü‰ºöÂä®ÊÄÅÂàõÂª∫‰∏Ä‰∏™Ë¢´ËßÇÂØüÂØπË±°ÁöÑÂ≠êÁ±ªÔºåÁÑ∂Âêé‰ª§Ë¢´ËßÇÂØüÂØπË±°ÁöÑisaÊåáÈíàÊåáÂêëËØ•Â≠êÁ±ªÔºåÂú®ËØ•Â≠êÁ±ª‰∏≠ÈáçÂÜô‰∫ÜsetterÊñπÊ≥ï„ÄÇËøôÊ†∑ÔºåÂΩìÂéüÂØπË±°Â±ûÊÄßË¢´‰øÆÊîπÊó∂ÔºàÂü∫‰∫éKVCÁöÑ‰øÆÊîπÔºâÔºåÂ∞±‰ºöË∞ÉÁî®setterÊñπÊ≥ïÔºåÁÑ∂ÂêéÈÄöÁü•ËßÇÂØüËÄÖ„ÄÇ ÈóÆÈ¢ò:isa-swizzling Ê∑∑ÂÜôÊäÄÊúØÊÄé‰πà‰ΩìÁé∞?Á≠î: ÂΩìË∞ÉÁî®addObserver:forKeyPath:options:context: Âêé, Á≥ªÁªü‰ºöÂú®ËøêË°åÊó∂Âä®ÊÄÅÂàõÂª∫Á±ªKVONotifying_A, ÂêåÊó∂Â∞ÜÂéüÊù•AÁöÑÊåáÈíàÊåáÂêëÁ±ªKVONotifying_A „ÄÇ ÈóÆÈ¢ò:isaÊ∑∑ÂÜôÊòØÊÄé‰πàÂÆûÁé∞KVOÁöÑÂë¢ÔºüÁ≠î:ÂΩìÊ≥®ÂÜå‰∏Ä‰∏™ÂØπË±°classÁöÑËßÇÂØüËÄÖÁöÑÊó∂ÂÄôÔºå‰πüÂ∞±ÊòØË∞ÉÁî®‰∏ãÈù¢ÁöÑÊñπÊ≥ïÔºåÁ≥ªÁªü‰ºöÂú®runtimeÂä®ÊÄÅÂàõÂª∫‰∏Ä‰∏™ËØ•ÂØπË±°ÁöÑÂ≠êÁ±ªNSKVONotifiying_class(NSKVONotifiying_Á±ªÂêç)ÔºåÂπ∂Â∞ÜisaÊåáÈíàÊåáÂêëËØ•Ê¥æÁîüÁ±ªÔºåÂπ∂ÈáçÂÜôsetterÊñπÊ≥ïÔºåË¥üË¥£ÈÄöÁü•ÊâÄÊúâÁöÑËßÇÂØüÂØπË±° /* options: Êúâ4‰∏™ÂÄºÔºåÂàÜÂà´ÊòØÔºö NSKeyValueObservingOptionOld ÊääÊõ¥Êîπ‰πãÂâçÁöÑÂÄºÊèê‰æõÁªôÂ§ÑÁêÜÊñπÊ≥ï NSKeyValueObservingOptionNew ÊääÊõ¥Êîπ‰πãÂêéÁöÑÂÄºÊèê‰æõÁªôÂ§ÑÁêÜÊñπÊ≥ï NSKeyValueObservingOptionInitial ÊääÂàùÂßãÂåñÁöÑÂÄºÊèê‰æõÁªôÂ§ÑÁêÜÊñπÊ≥ïÔºå‰∏ÄÊó¶Ê≥®ÂÜåÔºåÁ´ãÈ©¨Â∞±‰ºöË∞ÉÁî®‰∏ÄÊ¨°„ÄÇÈÄöÂ∏∏ÂÆÉ‰ºöÂ∏¶ÊúâÊñ∞ÂÄºÔºåËÄå‰∏ç‰ºöÂ∏¶ÊúâÊóßÂÄº„ÄÇ NSKeyValueObservingOptionPrior ÂàÜ2Ê¨°Ë∞ÉÁî®„ÄÇÂú®ÂÄºÊîπÂèò‰πãÂâçÂíåÂÄºÊîπÂèò‰πãÂêé„ÄÇ */ //Ê≥®ÂÜå‰∏Ä‰∏™ÁõëÂê¨Âô®Áî®‰∫éÁõëÂê¨ÊåáÂÆöÁöÑkeyË∑ØÂæÑ [self.person addObserver:self forKeyPath:@&quot;name&quot; options:NSKeyValueObservingOptionNew context:nil]; ÈîÆÂÄºËßÇÂØü‰æùËµñ‰æùËµñ‰∫éNSObjectÁöÑ‰∏§‰∏™ÊñπÊ≥ïwillChangeValueForKey:ÂíådidChangevalueForKey:ÁªßËÄå‰πü‰ºöË∞ÉÁî®ÁöÑ‰∏ãÈù¢ÁöÑÊñπÊ≥ïobserveValueForKeyPath - (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary&lt;NSKeyValueChangeKey,id&gt; *)change context:(void *)contex } ‰æãÂ¶ÇÔºåAÁ±ªÁöÑÂÆû‰æãÁöÑnameÂ±ûÊÄßË¢´BÁ±ªÁöÑÂÆû‰æãÁõëÂê¨‰∫Ü„ÄÇËøôÊó∂ÔºåOCÁöÑruntimeÊú∫Âà∂ÁîüÊàê‰∫Ü‰∏Ä‰∏™KVONotifying_AÁöÑÁ±ªÊù•Êõø‰ª£ÂéüÊù•ÁöÑAÁ±ªÔºåÈáçÂÜô‰∫Ü+ (Class)classÊñπÊ≥ïÔºåËøîÂõû[A Class]Ôºå‰ªéËÄåÊääËá™Â∑±‰º™Ë£ÖÊàêAÁ±ª„ÄÇÈáçÂÜô‰∫ÜAÁ±ªÂ±ûÊÄßnameÁöÑsetterÊñπÊ≥ïÂä†ÂÖ•‰∫ÜNSObjectÁöÑ‰∏§‰∏™ÊñπÊ≥ï:willChangeValueForKey:(ÂÄºÊîπÂèò‰πãÂâç)ÂíådidChangevlueForKey:(ÂÄºÊîπÂèò‰πãÂêé)„ÄÇÂú®‰∏Ä‰∏™Ë¢´ËßÇÂØüÂ±ûÊÄßÂèëÁîüÊîπÂèò‰πãÂâçÔºåwillChangeValueForKey:‰∏ÄÂÆö‰ºöË¢´Ë∞ÉÁî®ÔºåËøôÂ∞±‰ºöËÆ∞ÂΩïÊóßÁöÑÂÄº„ÄÇËÄåÂΩìÊîπÂèòÂèëÁîüÂêéÔºådidChangeValueForKey:‰ºöË¢´Ë∞ÉÁî®ÔºåÁªßËÄåobserveValueForKey:ofObject:change:context:‰πü‰ºöË¢´Ë∞ÉÁî®„ÄÇ 2„ÄÅKVOÁâπÁÇπ (‰ªÄ‰πàÊÉÖÂÜµ‰∏ãËÉΩ‰ΩøKVOÁîüÊïàÂë¢Ôºü) ‰ΩøÁî®setterÊñπÊ≥ïÊîπÂèòÂÄºÔºåKVOÊâç‰ºöÁîüÊïà„ÄÇ ‰ΩøÁî®setValue: forKey: ÊîπÂèòÂÄºÔºåKVOÊâç‰ºöÁîüÊïà„ÄÇ ÊàêÂëòÂèòÈáèÁõ¥Êé•‰øÆÊîπÔºåÈúÄÊâãÂä®Ê∑ªÂä†KVOÊâç‰ºöÁîüÊïà„ÄÇ 3„ÄÅÈÄöËøáKVCËÆæÁΩÆvalueËÉΩÂê¶‰øÉ‰ΩøKVOÁîüÊïàÔºü‰∏∫‰ªÄ‰πàÁ≠î:ÂèØ‰ª•ÔºåKVC‰ºöÈáçÂÜôsetterÊñπÊ≥ï„ÄÇsetValue: forKey:‰ºöË∞ÉÁî®ÂØπË±°ÁöÑsetÊñπÊ≥ï 4„ÄÅÈÄöËøáÊàêÂëòÂèòÈáèÁõ¥Êé•ËµãÂÄºvalueËÉΩÂê¶ÁîüÊïàÔºü‰∏çÂèØ‰ª•„ÄÇÂèØ‰ª•Âú®ÁªôÊàêÂëòÂèòÈáèËµãÂÄºÂâçÂêéÊâãÂä®Ê∑ªÂä† [self willChangeValueForKey: ] Âíå [self didChangeValueForKey: ] „ÄÇdidChangeValueForKeyÊñπÊ≥ï‰ºöËß¶ÂèëKVOÂõûË∞É„ÄÇ Â¶Ç‰ΩïÂÆûÁé∞ÊâãÂä®KVOÔºü - (void)setValue:(id)obj { [self willChangeValueForKey:@&quot;keyPath&quot;]; [super setValue:obj]; [self didChangeValueForKey:@&quot;keyPath&quot;]; } ‰∏É„ÄÅKVCKVCÊòØkey-value codingÁöÑÁº©ÂÜô„ÄÇ //Ëé∑ÂèñÊüê‰∏™ÂÆû‰æãkeyÂêåÂêçÊàñËÄÖÁõ∏‰ººÂêçÁß∞ÁöÑÂÆû‰æãÂèòÈáèÁöÑÂÄº -(id)valueForKey:(NSString *)key //ËÆæÁΩÆÊüê‰∏™ÂÆû‰æãÂíåkeyÂêåÂêçÊàñËÄÖÁõ∏‰ººÂêçÁß∞ÁöÑÂÆû‰æãÂèòÈáèÁöÑÂÄº -(void)setValue:(id)value forKey:(NSString *)key ÈóÆÈ¢ò: KVCÊòØÂê¶‰ºöÁ†¥ÂùèÈù¢ÂêëÂØπË±°ÁºñÁ®ãÊÄùÊÉ≥ÔºüÁ≠î: Âú®Êàë‰ª¨Â§ñÈÉ®Áü•ÈÅìÊüê‰∏™Á±ªÁöÑÁßÅÊúâÊàêÂëòÂèòÈáèÂêçÊó∂ÔºåÂèØ‰ª•ÈÄöËøá‰∏äÈù¢‰∏§‰∏™ÊñπÊ≥ïËÆæÁΩÆ/ËÆøÈóÆÔºå‰ºöÁ†¥ÂùèÈù¢ÂêëÂØπË±°ÁºñÁ®ãÊÄùÊÉ≥ 1„ÄÅ-(id)valueForKey:(NSString *)key Á≥ªÁªüÂÆûÁé∞ÊµÅÁ®ã ÂèØ‰ª•ÁúãÂà∞ÔºåÁ≥ªÁªüÂÖàÂà§Êñ≠ÊúâÊ≤°ÊúâÂØπÂ∫îsetter getterÊñπÊ≥ïÔºåÂ¶ÇÊûúÊúâÂàôÁõ¥Êé•ÊâßË°åÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàôÂà§Êñ≠ÊúâÊ≤°ÊúâÂØπÂ∫îÁöÑÂÆû‰æãÂèòÈáèÔºåÂ¶ÇÊûúÊúâÂàôÊâßË°åÂÆû‰æãÂèòÈáèÁöÑËµãÂÄºÔºåÊ≤°ÊúâÂàô‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇ Accessor Method (ËÆøÈóÆÂô®ÊñπÊ≥ïÊòØÂê¶Â≠òÂú®Âà§Êñ≠) Instance var (ÂÆû‰æãÂèòÈáèÊòØÂê¶Â≠òÂú®Âà§Êñ≠) _key _isKey key isKey ÈóÆÈ¢ò: valueForKeyÁöÑÂÆûÁé∞ÈÄªËæëÔºüÁ≠î: Âà§Êñ≠ËÆøÈóÆÂô®ÊñπÊ≥ïÔºåÊòØÂê¶Â≠òÂú®ÊàñÁõ∏‰ººÁöÑÊñπÊ≥ïÂêç( getKey key isKey )ÔºåÂ≠òÂú®ÂàôËøîÂõûÔºõ‰∏çÂ≠òÂú®ÂÜçÂà§Êñ≠ÂÆû‰æãÂèòÈáè(_key _isKey key isKey)ÔºåÂ≠òÂú®ÊàñÁõ∏‰ººÂàôËøîÂõûÔºõ‰∏çÂ≠òÂú®Â∞±Ë∞ÉÁî®valueForUndefineKey:ÁÑ∂ÂêéÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏ 2„ÄÅ-(void)setValue:(id)value forKey:(NSString *)key Á≥ªÁªüÂÆûÁé∞ÊµÅÁ®ã ÈóÆÈ¢ò:setValue:forKey:ÁöÑÂÆûÁé∞ÈÄªËæëÔºüÁ≠î: Âà§Êñ≠ËÆøÈóÆÂô®ÊñπÊ≥ïÔºåÂ≠òÂú®ÊàñÁõ∏‰ººÂàôËøîÂõûÔºõ‰∏çÂ≠òÂú®ÂÜçÂà§Êñ≠ÂÆû‰æãÂèòÈáèÔºåÂ≠òÂú®ÊàñÁõ∏‰ººÂàôËøîÂõûÔºõ‰∏çÂ≠òÂú®Â∞±Ë∞ÉÁî®setValue:ForUndefineKey:ÁÑ∂ÂêéÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏ ÂÖ´„ÄÅÂ±ûÊÄßÂÖ≥ÈîÆÂ≠ó1„ÄÅËØªÂÜôÊùÉÈôê readonly„ÄÅ*readwrite(ÈªòËÆ§)2„ÄÅÂéüÂ≠êÊÄß atomic(ÈªòËÆ§)„ÄÅnonatomic„ÄÇatomicÂè™ËÉΩ‰øùËØÅËµãÂÄºÂíåËé∑ÂèñÊòØÁ∫øÁ®ãÂÆâÂÖ®(ÊàêÂëòÂ±ûÊÄß)Ôºå‰∏çËÉΩ‰øùËØÅÊìç‰ΩúÂíåËÆøÈóÆÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ‰æãÂ¶ÇNSArrayÔºåÂèØ‰ª•‰øùËØÅËµãÂÄºÂíåËé∑ÂèñÂØπË±°Á∫øÁ®ãÂÆâÂÖ®Ôºå‰∏çËÉΩ‰øùËØÅÂà†Èô§ÂíåÊ∑ªÂä†ÂØπË±°Á∫øÁ®ãÂÆâÂÖ®„ÄÇ 3„ÄÅÂºïÁî®ËÆ°Êï∞(1)„ÄÅretain/strong ÔºàÈÉΩÁî®‰∫é‰øÆÈ•∞ÂØπË±°ÔºåretainÂú® MRC‰∏≠‰ΩøÁî®Ôºå stongÂú®ARC‰∏≠‰ΩøÁî®Ôºâ„ÄÇ(2)„ÄÅassign /unsafe_unretained (assign ‰øÆÈ•∞Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã/ÂØπË±°Á±ªÂûãÔºå unsafe_unretained ARCÂü∫Êú¨‰∏çÁî®)assignÁâπÁÇπ: ‰øÆÈ•∞Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåÂ¶Çint„ÄÅBOOLÁ≠â„ÄÇ ‰øÆÈ•∞ÂØπË±°Á±ªÂûãÊó∂Ôºå‰∏çÊîπÂèòÂÖ∂ÂºïÁî®ËÆ°Êï∞„ÄÇ ‰ºö‰∫ßÁîüÊÇ¨ÂûÇÊåáÈíà„ÄÇ(3)„ÄÅweakweakÁâπÁÇπ ‰∏çÊîπÂèòË¢´‰øÆÈ•∞ÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞„ÄÇ ÊâÄÊåáÂØπË±°Âú®Ë¢´ÈáäÊîæ‰πãÂêé‰ºöËá™Âä®ÁΩÆ‰∏∫nil„ÄÇ ÈóÆÈ¢ò:ÈÄöËøáatomic‰øÆÈ•∞ÊòØÊÄé‰πà‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂë¢ÔºüÁ≠î: ÈÄöËøáatomic‰øÆÈ•∞‰∏Ä‰∏™Êï∞ÁªÑÔºåÂØπÂÖ∂ËøõË°åËµãÂÄºËé∑ÂèñÔºå‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®Ôºå‰ΩÜÊòØÂØπÂÖ∂ËøõË°åÂ¢ûÂä†„ÄÅÂà†Èô§ÊòØÊó†Ê≥ï‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ ÈóÆÈ¢ò: assignÂíåweakÊúâ‰ªÄ‰πàÂå∫Âà´ÔºüÁ≠î:‰ªé‰∫åËÄÖÁöÑÁâπÁÇπÊù•ËØ¥ÔºöassignÁöÑÁâπÁÇπ ÂèØ‰ª•‰øÆÈ•∞Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂíåÂØπË±° ‰øÆÈ•∞ÂØπË±°Á±ªÂûãÊó∂Ôºå‰∏çÊîπÂèòÂºïÁî®ËÆ°Êï∞ ÈáäÊîæÊó∂‰æùÁÑ∂ÊåáÂêëÂéüÂØπË±°ÂÜÖÂ≠òÂú∞ÂùÄÔºåÁªßÁª≠ËÆøÈóÆ‰ºö‰∫ßÁîüÊÇ¨Á©∫ÊåáÈíàÔºàÈáéÊåáÈíàÊòØÂè™Ê≤°ÊúâË¢´ÂàùÂßãÂåñËøáÁöÑÊåáÈíà Âå∫ÂàÜÔºâ weakÁöÑÁâπÁÇπ Âè™Áî®‰∫é‰øÆÈ•∞ÂØπË±° ‰∏çÊîπÂèòË¢´‰øÆÈ•∞ÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞ ÊâÄÊåáÂØπË±°ÂÜçË¢´ÈáäÊîæ‰πãÂêé‰ºöËá™Âä®ÁΩÆ‰∏∫nil (4)„ÄÅcopyÈóÆÈ¢ò:ÊµÖÊã∑Ë¥ùÂíåÊ∑±Êã∑Ë¥ùÊúâ‰ªÄ‰πàÂå∫Âà´ÔºüÁ≠î:ÊµÖÊã∑Ë¥ùÔºöÂØπÂÜÖÂ≠òÂú∞ÂùÄÁöÑÂ§çÂà∂ÔºåËÆ©ÁõÆÊ†áÂØπË±°ÊåáÈíàÂíåÊ∫êÂØπË±°ÊåáÂêëÂêå‰∏ÄÂùóÂÜÖÂ≠òÁ©∫Èó¥ÊµÖÊã∑Ë¥ùÁâπÁÇπ :1.ÊµÖÊã∑Ë¥ù‰ºöÂ¢ûÂä†Ë¢´Êã∑Ë¥ùÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞2.Ê≤°ÊúâÂèëÁîüÊñ∞ÁöÑÂÜÖÂ≠òÂàÜÈÖçÊ∑±Êã∑Ë¥ùÔºöËÆ©ÁõÆÊ†áÂØπË±°ÊåáÈíàÂíåÊ∫êÂØπË±°ÊåáÈíàÊåáÂêë‰∏§ÁâáÂÜÖÂÆπÁõ∏ÂêåÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºàÁâπÁÇπ:‰∫ßÁîüÂÜÖÂ≠òÂàÜÈÖçÔºâÊ∑±Êã∑Ë¥ùÁâπÁÇπ:1.Ê∑±Êã∑Ë¥ù‰∏ç‰ºöÂ¢ûÂä†Ë¢´Êã∑Ë¥ùÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞2.Ê∑±Êã∑Ë¥ùÂèëÁîüÊñ∞ÁöÑÂÜÖÂ≠òÂàÜÈÖç,Âá∫Áé∞‰∏§ÂùóÂÜÖÂ≠ò Ê∑±Êã∑Ë¥ù„ÄÅÊµÖÊã∑Ë¥ùÂå∫Âà´? ÊòØÂê¶ÂºÄËæü‰∫ÜÊñ∞ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ ÊòØÂê¶ÂΩ±Âìç‰∫ÜÂºïÁî®ËÆ°Êï∞ 2&gt; copyÂØπÂØπË±°ÈÄ†‰∫Ü‰ªÄ‰πàÂΩ±ÂìçÔºü Ë°®Ê†ºÊÄªÁªìÔºö ÂèØÂèòÂØπË±°ÁöÑcopyÂíåmutableCopyÈÉΩÊòØÊ∑±Êã∑Ë¥ù„ÄÇ ‰∏çÂèØÂèòÂØπË±°ÁöÑcopyÊòØÊµÖÊã∑Ë¥ùÔºåmutableCopyÊòØÊ∑±Êã∑Ë¥ù„ÄÇ copyÊñπÊ≥ïËøîÂõûÁöÑÂØπË±°ÈÉΩÊòØ‰∏çÂèØÂèòÂØπË±°„ÄÇ 3&gt;„ÄÅcopyÈù¢ËØïÈ¢ò @property(copy)NSMutableArray *array? Á≠î: Â¶ÇÊûúËµãÂÄºËøáÊù•ÁöÑÊòØNSMutableArray, copy‰πãÂêéÊòØNSArray Â¶ÇÊûúËµãÂÄºËøáÊù•ÁöÑÊòØNSArray, copy‰πãÂêéÊòØNSArray OCËØ≠Ë®ÄÁâπÊÄßÈù¢ËØïÊÄªÁªì:1„ÄÅMRC‰∏ãÂ¶Ç‰ΩïÈáçÂÜôretain‰øÆÈ•∞ÂèòÈáèÁöÑsetterÊñπÊ≥ïÔºü @property(nonatomic,retain) id obj; - (void)setObj:(id)obj { //Âà§Êñ≠Èò≤Ê≠¢ÂºÇÂ∏∏Â§ÑÁêÜ Èò≤Ê≠¢Â¶ÇÊûú‰º†ËøõÊù•ÁöÑÊòØÈùûobjÂØπË±°ÔºåÂ∞±‰ºöreleaseÊéâÈùûobjÁöÑÂØπË±° if(_obj != obj) { [_obj release]; _obj = [obj retain]; } } 2„ÄÅËØ∑ÁÆÄËø∞ÂàÜÁ±ªÂÆûÁé∞ÂéüÁêÜ„ÄÇÁ≠î: ÂàÜÁ±ªÂÆûÁé∞ÂéüÁêÜÁî±ËøêË°åÊó∂Êù•ÂÜ≥ËÆÆÁöÑ ‰∏çÂêåÂàÜÁ±ª‰∏≠Âê´ÊúâÂêåÂêçÂàÜÁ±ªÊñπÊ≥ï,Ë∞ÅÊúÄÁªàÁîüÊïàÂèñÂÜ≥‰∫éË∞ÅÊúÄÂêéÂèÇ‰∏éÁºñËØë,ÊúÄÂêéÂèÇ‰∏éÁºñËØëÁöÑÂàÜÁ±ª‰∏≠ÂêåÂêçÊñπÊ≥ï‰ºöÊúÄÁªàÁîüÊïà. Â¶ÇÊûúÂàÜÁ±ª‰∏≠ÁöÑÊñπÊ≥ïÂíåÂÆø‰∏ªÁ±ªÊñπÊ≥ïÂêåÂêç,ÂàÜÁ±ªÊñπÊ≥ï‰ºöË¶ÜÁõñÂÆø‰∏ªÁ±ªÂêåÂêçÊñπÊ≥ï. Ë¶ÜÁõñÊåáÁî±‰∫éÊ∂àÊÅØ‰º†ÈÄíËøáÁ®ã‰∏≠, ‰ºòÂÖàÊü•ÊâæÊï∞ÁªÑÈù†ÂâçÁöÑÂÖÉÁ¥†,Â¶ÇÊûúÊâæÂà∞ÂêåÂêçÊñπÊ≥ïÂ∞±ËøõË°åË∞ÉÁî®,ÂÆûÈôÖÂÆø‰∏ªÁ±ªÂêåÂêçÊñπÊ≥ï‰ªçÁÑ∂Â≠òÂú®. 3„ÄÅKVOÁöÑÂÆûÁé∞ÂéüÁêÜÊòØÂíãÊ†∑ÁöÑÔºüÁ≠î:1)KVOÊòØÁ≥ªÁªüÂÖ≥‰∫éËßÇÂØüËÄÖÊ®°ÂºèÁöÑÂÆûÁé∞2)KVOËøêÁî®isaÊ∑∑ÂÜôÊäÄÊúØ,Á≥ªÁªü‰ºöÂä®ÊÄÅÂàõÂª∫‰∏Ä‰∏™Ë¢´ËßÇÂØüÂØπË±°ÁöÑÂ≠êÁ±ªÔºåÁÑ∂Âêé‰ª§Ë¢´ËßÇÂØüÂØπË±°ÁöÑisaÊåáÈíàÊåáÂêëËØ•Â≠êÁ±ªÔºåÂú®ËØ•Â≠êÁ±ª‰∏≠ÈáçÂÜô‰∫ÜsetterÊñπÊ≥ï„ÄÇËøôÊ†∑ÔºåÂΩìÂéüÂØπË±°Â±ûÊÄßË¢´‰øÆÊîπÊó∂ÔºàÂü∫‰∫éKVCÁöÑ‰øÆÊîπÔºâÔºåÂ∞±‰ºöË∞ÉÁî®setterÊñπÊ≥ïÔºåÁÑ∂ÂêéÈÄöÁü•ËßÇÂØüËÄÖ„ÄÇ 4„ÄÅËÉΩÂê¶‰∏∫ÂàÜÁ±ªÊ∑ªÂä†ÊàêÂëòÂèòÈáèÔºüÁ≠î: ËÉΩ, ÂèØ‰ª•ÈÄöËøáÂÖ≥ËÅîÂØπË±°associated objectÊù•‰∏∫ÂàÜÁ±ªÊ∑ªÂä†ÊàêÂëòÂèòÈáè]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[iOSÈù¢ËØï]Á¨¨1Á´† UIËßÜÂõæÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢ò]]></title>
    <url>%2F2020%2F05%2F23%2FiOS%E9%9D%A2%E8%AF%95-%E7%AC%AC1%E7%AB%A0-UI%E8%A7%86%E5%9B%BE%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Êú¨Êñá‰∏ªËÆ≤UIÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÔºåÂåÖÊã¨UITableViewÁõ∏ÂÖ≥„ÄÅ‰∫ã‰ª∂‰º†ÈÄí&amp;ËßÜÂõæÁõ∏Â∫î„ÄÅÂõæÂÉèÊòæÁ§∫ÂéüÁêÜ„ÄÅÂç°È°ø&amp;ÊéâÂ∏ß„ÄÅÁªòÂà∂ÂéüÁêÜ&amp;ÂºÇÊ≠•ÁªòÂà∂„ÄÅÁ¶ªÂ±èÊ∏≤Êüì„ÄÇ ‰∏Ä„ÄÅUITableViewÁõ∏ÂÖ≥1„ÄÅÈáçÁî®Êú∫Âà∂ ‰∏∫‰ªÄ‰πàË¶ÅÁî®ÈáçÁî®Êú∫Âà∂ÔºüÂΩìUITableViewÊªöÂä®Êó∂ÔºåÂ¶ÇÊûú‰∏çÁî®ÈáçÁî®Êú∫Âà∂Ôºå‰ºöÈáçÂ§çÂàùÂßãÂåñÂéüÊù•Â∑≤ÁªèÊúâÂàùÂßãÂåñËøáÁöÑcellÔºåÂõ†Ê≠§Áî®ÈáçÁî®Êú∫Âà∂‰ºöËäÇÁúÅÊÄßËÉΩÔºåÈÅøÂÖçÂá∫Áé∞Âç°È°øÁé∞Ë±° ÈáçÁî®Êú∫Âà∂ÁöÑÂéüÁêÜÈáçÁî®Êú∫Âà∂‰∏ªË¶ÅÁî®Âà∞‰∫Ü‰∏Ä‰∏™ÂèØÂèòÊï∞ÁªÑvisiableCellsÂíå‰∏Ä‰∏™ÂèØÂèòÁöÑÂ≠óÂÖ∏Á±ªÂûãreusableTableCells,ÂÖ∂‰∏≠visiableCellsÁî®Êù•Â≠òÂÇ®ÂΩìÂâçUITableViewÊòæÁ§∫ÁöÑcellÔºåreusableTableCellsÁî®Êù•Â≠òÂÇ®Â∑≤ÁªèÁî®‚Äôidentify‚ÄôÁºìÂ≠òÁöÑcell„ÄÇÂΩìUITableViewÊªöÂä®ÁöÑÊó∂ÂÄôÔºå‰ºöÂÖàÂú®reusableTableCells‰∏≠Ê†πÊçÆidentifyÊâæÊòØÂê¶ÊúâÊúâÂ∑≤ÁªèÁºìÂ≠òÁöÑcellÔºåÂ¶ÇÊûúÊúâÁõ¥Êé•Áî®ÔºåÊ≤°ÊúâÂÜçÂéªÂàùÂßãÂåñ„ÄÇ ‰ª£Á†ÅÂÆû‰æã:Ëá™ÂÆö‰πâtableView Â≠óÊØçÁ¥¢ÂºïÊù° 2„ÄÅÊï∞ÊçÆÊ∫êÂêåÊ≠•(1)„ÄÅÊï∞ÊçÆÊ∫êÂêåÊ≠•ÈóÆÈ¢ò (2)„ÄÅÊï∞ÊçÆÊ∫êÂêåÊ≠•Ëß£ÂÜ≥ÊñπÊ°à1&gt;„ÄÅÂπ∂ÂèëËÆøÈóÆ„ÄÅÊï∞ÊçÆÊã∑Ë¥ù Âπ∂ÂèëÂç≥Â§ö‰∏™Á∫øÁ®ãÈÉΩÂèØ‰ª•ÊâßË°åÂêå‰∏ÄÊÆµÊó∂Èó¥Ôºå‰∏çÈúÄË¶ÅÁõ∏‰∫íÁ≠âÂæÖÔºå‰∏ªÁ∫øÁ®ã‰∏éÁî®Êà∑‰∫íÂä®ÔºåÂ≠êÁ∫øÁ®ãÂÅöÊâÄÈúÄË¶ÅÁöÑÁΩëÁªúÊï∞ÊçÆËØ∑Ê±Ç„ÄÅÊï∞ÊçÆËß£ÊûêÂèäÈ¢ÑÊéíÁâàÁ≠â ‰∏ªÁ∫øÁ®ã‰∫ãÂÖàÊã∑Ë¥ù‰∏Ä‰ªΩÊï∞ÊçÆÁªôÂ≠êÁ∫øÁ®ãÂÅöÁΩëÁªúËØ∑Ê±Ç„ÄÅÊï∞ÊçÆËß£Êûê„ÄÅÈ¢ÑÊéíÁâàÁ≠âÔºåÂ¶ÇÊûú‰∏ªÁ∫øÁ®ãÊúâÁõ∏ÂÖ≥Êìç‰ΩúÔºåËÆ∞ÂΩïÊìç‰ΩúÔºåÂú®Â≠êÁ∫øÁ®ãÂÆåÊàêÁõ∏ÂÖ≥Êìç‰ΩúÂêéÂ∞ÜËøôÊù°Êìç‰ΩúÔºå‰∏éÂ≠êÁ∫øÁ®ãÁöÑÊï∞ÊçÆËøõË°åÂêåÊ≠•ÔºåÂÜçÂõûÂà∞‰∏ªÁ∫øÁ®ãÂà∑Êñ∞ÁïåÈù¢ Áº∫ÁÇπÔºöÈúÄË¶ÅÊã∑Ë¥ùÂ§ßÈáèÊï∞ÊçÆÔºåËÄóÂÜÖÂ≠ò 2&gt;„ÄÅ‰∏≤Ë°åËÆøÈóÆ ÂàõÂª∫‰∏Ä‰∏™GCD‰∏≤Ë°åÈòüÂàóÔºå‰∏ªÁ∫øÁ®ãÁöÑÊìç‰ΩúÈúÄË¶ÅÁ≠âÂæÖÂ≠êÁ∫øÁ®ãÊìç‰ΩúÂÆåÊàê Áº∫ÁÇπÔºöÈúÄË¶ÅÁ≠âÂæÖÂ≠êÁ∫øÁ®ãÂÆåÊàêÔºåÂèØËÉΩ‰ºöËÄóÊó∂ËæÉÈïø 3&gt; ÊØîËæÉ:‰∏§ÁßçÊñπÊ°àÂêÑÊúâÂà©Âºä‰∏≤Ë°åËÆøÈóÆÊñπÂºè: Ë¶ÅÊ±ÇÂú®Â≠êÁ∫øÁ®ãÂ§ÑÁêÜ‰ªªÂä°ÁâπÂà´ËÄóÊó∂ÁöÑÊó∂ÂÄô,Êàë‰ª¨Êüê‰∏Ä‰∏™Âà†Èô§Âä®‰ΩúÂèØËÉΩ‰ºöÊúâÂª∂Êó∂.Âπ∂ÂèëËÆøÈóÆ,Êï∞ÊçÆÊã∑Ë¥ùÊñπÂºè:Ë¶ÅËÆ∞ÂΩïÊï∞ÊçÆÂêåÊ≠•Êìç‰Ωú,Â¶Ç‰∏äËæπ‰æãÂ≠êÈúÄË¶ÅËÆ∞ÂΩïÂêåÊ≠•Âà†Èô§ÁöÑÂä®‰Ωú,ÈúÄË¶ÅËøõË°åÂ§ßÈáèÁöÑÊï∞ÊçÆÊ∫êÊã∑Ë¥ù,ÂØπÂÜÖÂ≠òÁöÑÂºÄÈîÄÊòØÊúâ‰∏ÄÂÆöÁöÑÈóÆÈ¢ò.ÊâÄ‰ª•Âú®ÂÖ∑‰ΩìÂú∫ÊôØ‰∏≠,ÈúÄË¶ÅÊ†πÊçÆÂÆûÈôÖ‰∏öÂä°ÂéªÈÄâÊã©‰ΩøÁî®Âì™ÁßçÊñπÊ°à. ‰∫å„ÄÅ‰∫ã‰ª∂‰º†ÈÄí&amp;ËßÜÂõæÂìçÂ∫î1„ÄÅUIViewÂíåCALayerÁöÑÂÖ≥Á≥ªÂíåÂå∫Âà´ ÂÖ≥Á≥ªÔºöUIViewÁöÑÂÜÖÈÉ®ÂåÖÂê´CALayerÂ±Ç„ÄÇÂàõÂª∫UIViewÊó∂Ôºå‰ºöËá™Âä®ÂàõÂª∫‰∏Ä‰∏™CALyerÂ±ÇÁöÑÂØπË±°ÔºåÈÄöËøáUIViewÁöÑlayerÂ±ûÊÄßÂèØ‰ª•ËÆøÈóÆÂà∞„ÄÇUIViewÈúÄË¶ÅÊòæÁ§∫Êó∂Ôºå‰ºöË∞ÉÁî®drawRectÊñπÊ≥ïËøõË°åÁªòÂà∂ÔºåÂπ∂Â∞ÜÊâÄÊúâÂÜÖÂÆπÁªòÂà∂Âú®Ëá™Â∑±ÁöÑlayerÂ±Ç„ÄÇ‰πüÂ∞±ÊòØCALayerÂ±ÇÊâçÊúâÊòæÁ§∫ÂäüËÉΩ„ÄÇÂå∫Âà´ÔºöUIViewË¥üË¥£Êèê‰æõÂÜÖÂÆπÔºå‰ª•ÂèäË¥üË¥£Â§ÑÁêÜËß¶Êë∏Á≠â‰∫ã‰ª∂ÔºåÂèÇ‰∏éÂìçÂ∫îÈìæCALayerË¥üË¥£ÊòæÁ§∫ÂÜÖÂÆπcontentsËøô‰ΩìÁé∞‰∫ÜÁ≥ªÁªüËÆæËÆ°ÁöÑÂéüÂàô:ÂÖ≠Â§ßËÅåË¥£ÂéüÂàô‰∏≠ÁöÑ Âçï‰∏ÄÂéüÂàô, ËÅåË¥£‰∏äÁöÑÂàÜÂ∑•. 2„ÄÅ‰∫ã‰ª∂‰º†ÈÄí‰∏éËßÜÂõæÂìçÂ∫îÈìæ ÈóÆÈ¢ò:ÁÇπÂáªc2Á©∫ÁôΩÂå∫Âüü,Á≥ªÁªüÊúÄÁªàÊòØ‰ª•ÊÄéÊ†∑ÊñπÂºèÊâæÂà∞ÊúÄÁªàËßÜÂõæÂìçÂ∫îËßÜÂõæÊòØc2Âë¢?(ËÄÉÂØüÁ≥ªÁªüÊúâÂÖ≥ËßÜÂõæ) ‰∫ã‰ª∂ÁöÑÂàÜÂèë‰∏é‰º†ÈÄí:1)ÂΩìiOSÁ®ãÂ∫è‰∏≠ÂèëÁîüËß¶Êë∏‰∫ã‰ª∂ÔºåÁ≥ªÁªü‰ºöÂ∞Ü‰∫ã‰ª∂Âä†ÂÖ•Âà∞UIApplicationÁÆ°ÁêÜÁöÑ‰∏Ä‰∏™‰ªªÂä°ÈòüÂàó2)UIApplicationÂ∞ÜÂ§Ñ‰∫é‰ªªÂä°ÈòüÂàóÊúÄÂâçÁ´ØÁöÑ‰∫ã‰ª∂Âêë‰∏ãÂàÜÂèë„ÄÇÂç≥UIWindow -&gt;UIView3)UIViewÈ¶ñÂÖàÁúãËá™Â∑±ÊòØÂê¶ËÉΩÂ§ÑÁêÜ‰∫ã‰ª∂ÔºåËß¶Êë∏ÁÇπÊòØÂê¶Âú®Ëá™Â∑±Ë∫´‰∏ä„ÄÇÂ¶ÇÊûúËÉΩÔºåÈÇ£‰πàÁªßÁª≠ÂØªÊâæÂ≠êËßÜÂõæ„ÄÇ4)ÈÅçÂéÜÂ≠êÊéß‰ª∂ÔºåÈáçÂ§ç‰ª•‰∏ä‰∏§Ê≠•5)Â¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÔºåÈÇ£‰πàËá™Â∑±Â∞±ÊòØ‰∫ã‰ª∂Â§ÑÁêÜËÄÖ6)Â¶ÇÊûúËá™Â∑±‰∏çËÉΩÂ§ÑÁêÜÔºåÈÇ£‰πà‰∏çÂÅö‰ªª‰ΩïÂ§ÑÁêÜ ÂÖ∂‰∏≠‰∏çÊé•ÂèóÂ§ÑÁêÜÁöÑ‰∫ã‰ª∂ÊÉÖÂÜµÂ¶Ç‰∏ã‰∏âÁßçÔºö alpha &lt;0.01 userInteractionEnabled = NO hidden Ôºù YES.Â¶ÇÊûúÁà∂ËßÜÂõæ‰∏çÊé•Âèó‰∫ã‰ª∂Â§ÑÁêÜÔºåÂàôÂ≠êËßÜÂõæ‰πü‰∏çËÉΩÊé•Êî∂„ÄÇ‰∫ã‰ª∂Âè™Ë¶ÅËß¶Êë∏Â∞±‰ºö‰∫ßÁîüÔºåÂÖ≥ÈîÆÂú®‰∫éÊòØÂê¶ÊúâÂêàÈÄÇÁöÑViewÂ§ÑÁêÜÊé•Êî∂‰∫ã‰ª∂ 1&gt; Â¶Ç‰ΩïÂØªÊâæÊúÄÂêàÈÄÇÁöÑViewÂë¢Ôºü‰ª•‰∏ã‰∏§‰∏™ÊñπÊ≥ï //ËøîÂõûÂìçÂ∫î‰∫ã‰ª∂ÁöÑËßÜÂõæ - (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event; //Âà§Êñ≠ÁÇπÂáª‰ΩçÁΩÆÊòØÂê¶Âú®ÂΩìÂâçËßÜÂõæËåÉÂõ¥ÂÜÖ, Âú®ËåÉÂõ¥ÂÜÖËøîÂõûYES - (BOOL)pointInside:(CGPoint)point withEvent:(UIEvent *)event; Ëøô‰∏§‰∏™ÊñπÊ≥ïÔºåÁ¨¨‰∏Ä‰∏™ÊñπÊ≥ïÁî®‰∫éÊâæÂá∫‰∫ã‰ª∂ÁöÑÂìçÂ∫îËÄÖÔºåÁ¨¨‰∫å‰∏™ÊñπÊ≥ïÁî®‰∫éÁ°ÆÂÆö‰∫ã‰ª∂Ëß¶ÂèëÁöÑ‰ΩçÁΩÆ„ÄÇ ‰∫ã‰ª∂‰º†ÈÄíÁªôÁ™óÂè£ÊàñÊéß‰ª∂ÁöÑÂêéÔºåÂ∞±Ë∞ÉÁî®hitTest:withEvent:ÊñπÊ≥ïÂØªÊâæÊõ¥ÂêàÈÄÇÁöÑview,Â¶ÇÊûúÂ≠êÊéß‰ª∂ÊòØÂêàÈÄÇÁöÑviewÔºåÂàôÂú®Â≠êÊéß‰ª∂ÂÜçË∞ÉÁî®hitTest:withEvent:Áõ¥Âà∞ÊâæÂà∞ÊúÄÂêàÈÄÇÁöÑ‰∏∫Ê≠¢„ÄÇ ÈÄöËøáËøô‰∏§‰∏™ÊñπÊ≥ïÊù•ÂÅö‰∫ã‰ª∂ÁöÑ‰º†ÈÄíÂíåÂìçÂ∫îËøáÁ®ãÔºåÂ¶Ç‰∏ãÂõæÔºö 2&gt;‰∫ã‰ª∂‰º†ÈÄíÊµÅÁ®ã hitTest:withEvent:ÊñπÊ≥ïÂÜÖÈÉ®‰ºöËøõË°å‰∏Ä‰∏™ÈÄíÂΩíË∞ÉÁî®ÔºåÂØπÂìçÂ∫îËÄÖÁöÑÊâÄÊúâsubviewsË∞ÉÁî®hittestÔºåhitTest:withEvent:Á≥ªÁªüÂÆûÁé∞Â¶Ç‰∏ãÂõæÔºö 3&gt;‰ª£Á†ÅÂÆûÊàò:ÊñπÂΩ¢ÊåâÈíÆÊåáÂÆöÂå∫ÂüüÊé•Êî∂‰∫ã‰ª∂ÂìçÂ∫î 4&gt;ËßÜÂõæÂìçÂ∫îÊµÅÁ®ã ÂìçÂ∫îËÄÖÈìæÁöÑ‰º†ÈÄíÊñπÊ≥ïÊòØ‰∫ã‰ª∂‰º†ÈÄíÁöÑÂèçÊñπÊ≥ïÔºåÂ¶ÇÊûúÊâÄÊúâÁöÑÂìçÂ∫îËÄÖÈÉΩ‰∏çÂ§ÑÁêÜÔºåÂàô‰∫ã‰ª∂Ë¢´‰∏¢ÂºÉ ËßÜÂõæ‰∫ã‰ª∂ÂìçÂ∫î‰∏â‰∏™ÊñπÊ≥ï: - (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event; - (void)touchesMoved:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event; - (void)touchesEnded:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event; ‰∏â„ÄÅÂõæÂÉèÊòæÁ§∫ÂéüÁêÜ CPU GPUÈÄöËøáÊÄªÁ∫øËøûÊé• ÈÄöËøáCPUËøõË°åÁªòÂõæÔºåÂ∞Ü‰ΩçÂõæÁªèÁî±ÊÄªÁ∫øÂú®ÂêàÈÄÇÁöÑÊó∂Êú∫ÁªôGPUÔºåGPUÂÅö‰ΩçÂõæÁöÑÊ∂ÇÂ±ÇÊ∏≤ÊüìÂíåÁ∫πÁêÜÂêàÊàêÔºåÂÜçÊîæÂà∞Â∏ßÁºìÂÜ≤Âå∫Âüü(Frame Buffer)‰∏≠Ôºå Áî±ËßÜÈ¢ëÊéßÂà∂Âô®Ê†πÊçÆVSyncÂú®Â∏ßÁºìÂÜ≤Âå∫Âüü‰∏≠ÊèêÂèñÂ±èÂπïÊòæÁ§∫ÂÜÖÂÆπÔºåÊòæÁ§∫Âà∞ÊâãÊú∫Â±èÂπï‰∏≠ ÂèØ‰ª•ÁúãÂà∞ÔºåCPUÂ§ÑÁêÜ‰∫ÜUIÂ∏ÉÂ±ÄÔºåÁªòÂà∂Ôºå‰ª•ÂèäÂõæÁâáÁºñËß£Á†ÅÁ≠âÈ¢ÑÂ§ÑÁêÜÂ∑•‰ΩúÔºåÊúÄÂêéÂ∞Übitmap‰ΩçÂõæÊèê‰∫§ÁªôGPUËøõË°åÂ±èÂπïÊ∏≤Êüì„ÄÇ 1„ÄÅCPUÂ∑•‰ΩúLayout(UIÂ∏ÉÂ±Ä„ÄÅÊñáÊú¨ËÆ°ÁÆó)Ôºõ Display(ÁªòÂà∂ÔºådrawRectÊñπÊ≥ï)ÔºõPrepare(ÂõæÁâáÁºñËß£Á†Å)Ôºõ Commit(Êèê‰∫§‰ΩçÂõæ)„ÄÇ2„ÄÅGPUÊ∏≤ÊüìÁÆ°Á∫ø(openGL)È°∂ÁÇπÁùÄËâ≤„ÄÅÂõæÂÖÉË£ÖÈÖç„ÄÅÂÖâÊ†ÖÂåñ„ÄÅÁâáÊÆµÁùÄËâ≤„ÄÅÁâáÊÆµÂ§ÑÁêÜ„ÄÇGPUÊ∏≤ÊüìÁÆ°Á∫ø‰∫îÊ≠•ÂÅöÂÆåÂêéÂ∞±‰ºö,Â∞±‰ºöÊääÊúÄÁªàÂÉèÁ¥†ÁÇπÊèê‰∫§Âà∞ÂØπÂ∫îÁöÑÂ∏ßÁºìÂÜ≤Âå∫‰∏≠,ÁÑ∂ÂêéÁî±ËßÜÈ¢ëÊéßÂà∂Âô®Âú®ÂØπÂ∫îÁöÑVSync‰ø°Âè∑Âà∞Êù•‰πãÂâç,ÂéªÂ∏ßÁºìÂÜ≤Âå∫‰∏≠ÊèêÂèñÊúÄÁªàË¶ÅÊòæÁ§∫ÁöÑÂ±èÂπïÂÜÖÂÆπ„ÄÇ Âõõ„ÄÅÂç°È°ø&amp;ÊéâÂ∏ß1„ÄÅÂéüÂõ† UIÂç°È°ø„ÄÅÊéâÂ∏ßÁöÑÂéüÂõ†:‰øùÊåÅÊµÅÁïÖÁöÑUI‰∫§‰∫íÔºåÂ±èÂπïÁöÑÂà∑Êñ∞È¢ëÁéáÂ∫îËØ•‰øùÊåÅÂú®60Â∏ßÔºåÂç≥ÊØè16.7msÂ∞±‰ºöËøõË°å‰∏ÄÊ¨°Â±èÂπïÂà∑Êñ∞ÔºåÂ¶ÇÊûúÊ≠§Êó∂Á≥ªÁªü‰∏≠ÁªòÂà∂Ê∏≤ÊüìÂ∑•‰ΩúËøòÊ≤°ÊúâÂÆåÊàêÔºåÂØºËá¥VSync‰ø°Âè∑Âà∞Êù•‰πãÂâçCPUÂíåGPUÊó†Ê≥ïÂÆåÊàê‰∏ã‰∏ÄÂ∏ßÁîªÈù¢ÁöÑÂêàÊàêÔºåÂàô‰ºöÂ∞ÜÊòæÁ§∫ÊãñÂª∂Âà∞‰∏ã‰∏Ä‰∏™Âà∑Êñ∞ÁÇπÔºåËøôÊ†∑Â∞±‰ºöÈÄ†ÊàêÊéâÂ∏ß‰ªéËÄå‰∫ßÁîüÂç°È°ø 2„ÄÅÊªëÂä®‰ºòÂåñÊñπÊ°à(1)„ÄÅCPUÂØπË±°ÂàõÂª∫„ÄÅË∞ÉÊï¥„ÄÅÈîÄÊØÅ , ÊîæÂà∞Â≠êÁ∫øÁ®ã‰∏≠ÂÅöÔºõÈ¢ÑÊéíÁâàÔºàÂ∏ÉÂ±ÄËÆ°ÁÆó„ÄÅÊñáÊú¨ËÆ°ÁÆóÔºâ, ÊîæÂà∞Â≠êÁ∫øÁ®ã‰∏≠ÂÅöÔºõÈ¢ÑÊ∏≤ÊüìÔºàÊñáÊú¨Á≠âÂºÇÊ≠•ÁªòÂà∂ÔºåÂõæÁâáÁºñËß£Á†ÅÁ≠âÔºâ„ÄÇ(2)„ÄÅGPUÁ∫πÁêÜÊ∏≤ÊüìÔºàÁ¶ªÂ±èÊ∏≤ÊüìÔºâÔºõËßÜÂõæÊ∑∑ÂêàÔºàËßÜÂõæÂ±ÇÁ∫ßÂ§çÊùÇÂ∫¶ÔºåGPUÈúÄË¶ÅÂÅöÊØè‰∏™ËßÜÂõæÁöÑÂêàÊàêÔºâ„ÄÇ(Âú®ÁªòÂà∂Êó∂ÂáèÂ∞ëÂõæÂ±ÇÂ±ÇÁ∫ßÔºåÂ∞ÜÂ§ö‰∏™Â±ÇÁ∫ßÁªòÂà∂Âà∞‰∏Ä‰∏™Â±ÇÁ∫ß‰∏ãÔºå‰ª•ÂáèÂ∞ëGPUÂú®ÂÅöËßÜÂõæÊ∑∑ÂêàÊó∂Ê∂àËÄóÁöÑÊó∂Èó¥) Â¶Ç‰ΩïÂÖ∑‰Ωì‰ºòÂåñÂë¢Ôºü ÂÆòÊñπÂú®iOS9.0ÂêéÂØπUIImageViewËÆæÁΩÆÂúÜËßíËøõË°å‰ºòÂåñÔºå‰ΩÜÊòØËÆæÁΩÆÈò¥ÂΩ±‰æùÁÑ∂‰ºöËß¶ÂèëÁ¶ªÂ±èÊ∏≤Êüì ÂúÜËßí‰ºòÂåñ1.‰ΩøÁî®Ë¥ùÂ°ûÂ∞îÊõ≤Á∫øUIBezierPathÂíåCore GraphicsÊ°ÜÊû∂ÁîªÂá∫‰∏Ä‰∏™ÂúÜËßí2.‰ΩøÁî®CAShapeLayerÂíåUIBezierPathËÆæÁΩÆÂúÜËßí shadow‰ºòÂåñÈÄöËøáËÆæÁΩÆshadowPathÊù•‰ºòÂåñÊÄßËÉΩ ÂÖ∂‰ªñ‰ºòÂåñÊñπÊ°àÔºö Â∞ΩÈáè‰ΩøÁî®‰∏çÂåÖÂê´ÈÄèÊòéÔºàalphaÔºâÈÄöÈÅìÁöÑÂõæÁâáËµÑÊ∫ê Â∞ΩÈáèËÆæÁΩÆlayerÁöÑÂ§ßÂ∞èÂÄº‰∏∫Êï¥ÂΩ¢ÂÄº ‰ΩøÁî®‰∏ÄÂº†‰∏≠Èó¥ÈÄèÊòéÂõæÁâáËíô‰∏äÂéª Â¶ÇÊûúÊòØÊú¨Âú∞Âõæ:Áõ¥Êé•ËÆ©ÁæéÂ∑•ÊääÂõæÁâáÂàáÊàêÂúÜËßíËøõË°åÊòæÁ§∫ ‰∏ä‰º†ÂõæÁâáËøõË°åÊòæÁ§∫ÔºåÂèØ‰ª•ËÆ©ÊúçÂä°Á´ØÂ§ÑÁêÜÂúÜËßí Âà©Áî®UIBezierPathÔºàCoreGraphicsÊ°ÜÊû∂ÔºâÁîªÂá∫Êù•ÂúÜËßíÂõæÁâá Core AnimationÂ∑•ÂÖ∑Ê£ÄÊµãÁ¶ªÂ±èÊ∏≤ÊüìÂØπ‰∫éÁ¶ªÂ±èÊ∏≤ÊüìÁöÑÊ£ÄÊµãÔºåËãπÊûú‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÊµãËØïÂ∑•ÂÖ∑Core Animation„ÄÇÂèØ‰ª•Âú®Xcode-&gt;Open Develeper Tools-&gt;Instruments‰∏≠ÊâæÂà∞ ‰∫î„ÄÅUIViewÁªòÂà∂ÂéüÁêÜ&amp;ÂºÇÊ≠•ÁªòÂà∂ CALayer‰ºöÂú®ÂΩìÂâçRunLoopÁªìÊùüÂâçË∞ÉÁî®Ëá™Ë∫´ÁöÑdisplayÊñπÊ≥ïËøõË°åÁªòÂà∂Ôºå‰∏ãÂõæÊòØÁ≥ªÁªüË∞ÉÁî®CALayerÁöÑdisplayÊñπÊ≥ïÁªòÂà∂ÁöÑÊµÅÁ®ãÔºö ‰∏Ä„ÄÅÁ≥ªÁªüÁªòÂà∂ÊµÅÁ®ã UIViewÁöÑdrawRectÊñπÊ≥ïÊòØ‰∏Ä‰∏™Á©∫ÊñπÊ≥ïÔºå‰ªñÁªôË∞ÉÁî®ËÄÖÊèê‰æõ‰∫Ü‰∏Ä‰∏™Âú®Á≥ªÁªüÁªòÂà∂ÁöÑÂü∫Á°Ä‰∏ä‰∫åÊ¨°Êìç‰ΩúÁöÑÁ©∫Èó¥„ÄÇbitmap‰Ωú‰∏∫layerÁöÑcontentsÂ±ûÊÄßÁöÑÂÄºÔºåÂú®Ë¢´ËµãÂÄºÂêéÊèê‰∫§ÁªôGPUËøõË°åÊ∏≤Êüì„ÄÇÊàë‰ª¨ÂèØ‰ª•Âú®displayLayerÊñπÊ≥ï‰∏≠ËøõË°åÂºÇÊ≠•ÁªòÂà∂„ÄÇ ‰∫å„ÄÅÂºÇÊ≠•ÁªòÂà∂-[layer.delegate displayLayer:]‰ª£ÁêÜË¥üË¥£ÁîüÊàêÂØπÂ∫îÁöÑbitmapËÆæÁΩÆËØ•bitmap‰Ωú‰∏∫layer.contentsÂ±ûÊÄßÁöÑÂÄº ÂÖ≠„ÄÅÁ¶ªÂ±èÊ∏≤Êüì1„ÄÅ‰ªÄ‰πàÊòØÁ¶ªÂ±èÊ∏≤ÊüìÔºü On-Screen RenderingÊÑè‰∏∫ÂΩìÂâçÂ±èÂπïÊ∏≤ÊüìÔºåÊåáÁöÑÊòØGPUÁöÑÊ∏≤ÊüìÊìç‰ΩúÊòØÂú®ÂΩìÂâçÁî®‰∫éÊòæÁ§∫ÁöÑÂ±èÂπïÁºìÂÜ≤Âå∫‰∏≠ËøõË°å Off-Screen RenderingÊÑè‰∏∫Á¶ªÂ±èÊ∏≤ÊüìÔºåÊåáÁöÑÊòØGPUÂú®ÂΩìÂâçÂ±èÂπïÁºìÂÜ≤Âå∫‰ª•Â§ñÊñ∞ÂºÄËæü‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ËøõË°åÊ∏≤ÊüìÊìç‰Ωú ÈÄö‰øóËÆ≤: ÂΩìËÆæÁΩÆÊüê‰∏Ä‰∫õUIËßÜÂõæÁöÑÂõæÂ±ÇÂ±ûÊÄßÊó∂ÔºåÂ¶ÇÊûúÊú™Ë¢´È¢ÑÂêàÊàê‰πãÂâç‰∏çËÉΩÁî®‰∫éÂΩìÂâçÂ±èÂπïÁõ¥Êé•ÊòæÁ§∫ÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöËß¶ÂèëÁ¶ªÂ±èÊ∏≤ÊüìÔºåÊØîÂ¶ÇËÆæÁΩÆÂúÜËßíÂ±ûÊÄßÔºå‰∏Ä‰∫õËßÜÂõæÈÅÆÁΩ©„ÄÇËÄåÁ¶ªÂ±èÊ∏≤ÊüìÁöÑÊ¶ÇÂøµËµ∑Ê∫ê‰∫éGPUÂ±ÇÈù¢ÔºåÊåáÁöÑÊòØGPUÂú®ÂΩìÂâçÂ±èÂπïÁºìÂÜ≤Âå∫‰ª•Â§ñÊñ∞ÂºÄËæü‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ËøõË°åÊ∏≤ÊüìÊìç‰Ωú„ÄÇ ÂΩìÂ±èÊ∏≤ÊüìÔºöÊåáÁöÑÊòØGPUÁöÑÊ∏≤ÊüìÊìç‰ΩúÊòØÂú®ÂΩìÂâçÁî®‰∫éÊòæÁ§∫ÁöÑÂ±èÂπïÁºìÂ≠òÂå∫‰∏≠ËøõË°å„ÄÇ 2„ÄÅ‰ΩïÊó∂‰ºöËß¶ÂèëÔºü(1)„ÄÅÂúÜËßíÔºàlayer.masksToBounds = YES Âíålayer.cornerRadius ÂêåÊó∂‰ΩøÁî®)(2)„ÄÅÂõæÂ±ÇËíôÁâà (layer.mask)(3)„ÄÅÈò¥ÂΩ± (layer.shadow)(4)„ÄÅÂÖâÊ†ÖÂåñ ( layer.shouldRasterize=true)(5)„ÄÅÈÄèÊòéÂ∫¶ (layer.allowsGroupOpacity = YES Âíå layer.opacity &lt; 1.0) Áî±‰∫éÁ¶ªÂ±èÊ∏≤ÊüìË¶ÅÂàõÂª∫Êñ∞ÁöÑÊ∏≤ÊüìÁºìÂÜ≤Âå∫ÔºåÂêåÊó∂ËøòË¶ÅËøõË°å‰∏ä‰∏ãÊñáÁöÑÂàáÊç¢ÔºåËøô‰ºöÂ¢ûÂä†GPUÁöÑÂ§ÑÁêÜÊó∂Èó¥ÔºåÂèØËÉΩ‰ºöÈÄ†ÊàêÊéâÂ∏ß 3„ÄÅ‰∏∫‰ΩïË¶ÅÈÅøÂÖçÁ¶ªÂ±èÊ∏≤ÊüìÔºü(1)„ÄÅËß¶ÂèëÁ¶ªÂ±èÊ∏≤ÊüìÔºå‰ºöÂ¢ûÂä†GPUÁöÑÂ∑•‰ΩúÈáèÔºå‰ºöÂØºËá¥CPUÂíåGPUÁöÑÂ∑•‰ΩúÊÄªËÄóÊó∂Ë∂ÖËøá16.7ÊØ´ÁßíÔºå‰ºöÂØºËá¥UIÁöÑÂç°È°øÂíåÊéâÂ∏ß„ÄÇ(2)„ÄÅÂàõÂª∫Êñ∞ÁöÑÊ∏≤ÊüìÁºìÂÜ≤Âå∫Ôºå‰ºöÂÜÖÂ≠òÂºÄÈîÄ„ÄÇ(3)„ÄÅ‰∏ä‰∏ãÊñáÂàáÊç¢Ôºå‰ºöÂØºËá¥GPUÈ¢ùÂ§ñÂºÄÈîÄ„ÄÇ UIËßÜÂõæÁõ∏ÂÖ≥Èù¢ËØïÈóÆÈ¢òÊÄªÁªìÔºö1„ÄÅÁ≥ªÁªüÁöÑUI‰∫ã‰ª∂‰º†ÈÄíÊú∫Âà∂ÊòØÂíãÊ†∑ÁöÑÔºüËÄÉÂØühitTest: ÂíåpointInside: Á≥ªÁªüÂÜÖÈÉ®ÂÆûÁé∞2„ÄÅ‰ΩøUITableViewÊªöÂä®Êõ¥ÊµÅÁïÖÁöÑÊñπÊ°àÊàñÊÄùË∑ØÈÉΩÊúâÂì™‰∫õÔºü(ÂèÇËÄÉÊªëÂä®‰ºòÂåñÊñπÊ°à)‰ªéCPUÂíåGPU‰∏§ÊñπÈù¢3„ÄÅ‰ªÄ‰πàÊòØÁ¶ªÂ±èÊ∏≤ÊüìÔºü(ÂèÇËÄÉÊ¶ÇÂøµ Âíå‰∏∫‰ΩïË¶ÅÈÅøÂÖçÁ¶ªÂ±èÊ∏≤Êüì)Á¶ªÂ±èÊ∏≤ÊüìÁöÑÊ¶ÇÂøµËµ∑Ê∫ê‰∫éGPUÂ±ÇÈù¢ÔºåÊåáÁöÑÊòØGPUÂú®ÂΩìÂâçÂ±èÂπïÁºìÂÜ≤Âå∫‰ª•Â§ñÊñ∞ÂºÄËæü‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ËøõË°åÊ∏≤ÊüìÊìç‰Ωú„ÄÇ 4„ÄÅUIViewÂíåCALayer‰πãÈó¥ÁöÑÂÖ≥Á≥ªÊòØÂíãÊ†∑ÁöÑÔºü]]></content>
      <categories>
        <category>iOSÁ¨îËÆ∞</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CarthageÂÆâË£ÖÂíå‰ΩøÁî®ÊïôÁ®ã]]></title>
    <url>%2F2018%2F11%2F18%2FCarthage%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[CarthageÁÆÄÂçï‰ªãÁªç ‰∏ªÈ°µ: https://github.com/Carthage/Carthage.git ‰ΩúËÄÖ: Justin Spahr-SummersÁ≠â ÁâàÊú¨: 0.31 ÁõÆÊ†á: Áî®ÊúÄÁÆÄÂçïÁöÑÊñπÂºèÊù•ÁÆ°ÁêÜCocoaÁ¨¨‰∏âÊñπÊ°ÜÊû∂ ÊÄßË¥®: Á¨¨‰∏âÊñπÊ°ÜÊû∂ÁÆ°ÁêÜÂ∑•ÂÖ∑(Á±ª‰ºº‰∫écocoapods) Carthage‰∏∫Áî®Êà∑ÁÆ°ÁêÜÁ¨¨‰∏âÊñπÊ°ÜÊû∂Âíå‰æùËµñÔºå‰ΩÜ‰∏ç‰ºöËá™Âä®‰øÆÊîπÈ°πÁõÆÊñá‰ª∂ÂíåÁîüÊàêÈÖçÁΩÆÔºåÊääÂØπÈ°πÁõÆÁªìÊûÑÂíåËÆæÁΩÆÁöÑÊéßÂà∂ÊùÉ‰∫§ÁªôÁî®Êà∑„ÄÇ ÂéüÁêÜ Ëá™Âä®Â∞ÜÁ¨¨‰∏âÊñπÊ°ÜÊû∂ÁºñÁ®ã‰∏∫Dynamic framework(Âä®ÊÄÅÂ∫ì) ÈôêÂà∂ ‰ªÖÊîØÊåÅiOS8+„ÄÇÂÆÉÂè™ÊîØÊåÅÊ°ÜÊû∂ÔºåÊâÄ‰ª•‰∏çËÉΩÁî®Êù•ÈíàÂØπiOS8‰ª•ÂâçÁöÑÁ≥ªÁªüÁâàÊú¨ËøõË°åÂºÄÂèë CarthageÁöÑÂÆâË£ÖÂíå‰ΩøÁî® Áõ¥Êé•‰∏ãËΩΩCarthage.pkgÂÆâË£ÖÂåÖÔºåÂÆâË£ÖËøêË°å Carthage.pkg‰∏ãËΩΩ Â¶ÇÊûú‰ΩøÁî®ÁöÑXCode‰∏∫7.0+ÁâàÊú¨ÔºåÈÇ£‰πà‰πüÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÊñπÊ≥ïÊù•ÂÆâË£Ö 1 ÂÆâË£Öhomebrew $ /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; 2 ÂçáÁ∫ßbrew $ brew update 3 ‰ΩøÁî®brewÊù•ÂÆâË£Ö $ brew install Carthage 4 Êü•ÁúãÁâàÊú¨ $ Carthage version CarthageÁöÑ‰ΩøÁî®ÂÖàËøõÂÖ•Âà∞È°πÁõÆÊâÄÂú®Êñá‰ª∂Â§π $ cd È°πÁõÆË∑ØÂæÑ ÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑCarthageÊñá‰ª∂$ touch Cartfile ÁºñËæëcartfileÊñá‰ª∂,‰æãÂ¶ÇË¶ÅÂÆâË£ÖAFNÊ°ÜÊû∂GitHubÂ∫ìÂèØÂú®cartfileÊñá‰ª∂Ê∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπ,ÊåáÂÆöGitHubÁöÑÂÖ≥ÈîÆÂ≠ó: github &quot;AFNetworking/AFNetworking&quot; ÊàñËÄÖÂ°´ÂÜôÂÖ∂‰ªñgitÊ∫ê,ÊåáÂÆögitÂÖ≥ÈîÆËØç: git &quot;https://github.com/AFNetworking/AFNetworking.git&quot; ‰øùÂ≠òÂπ∂ÂÖ≥Èó≠cartfileÊñá‰ª∂Ôºå‰ΩøÁî®cartfileÂÆâË£ÖÊ°ÜÊû∂$ Carthage update --platform iOS Ê≥®: ‰∏çËøΩÂä†ÂèÇÊï∞‰ºöÁºñËØëÂá∫ iOS„ÄÅOSX„ÄÅtvosÂ§ö‰∏™framework Ê≥®2: Â¶ÇÊûúÂ§±Ë¥•ÁöÑËØùÔºåÂÖàÁî®XcodeÊâìÂºÄ‰Ω†ÁöÑÈ°πÁõÆÔºåProduct &gt; Scheme &gt; Manage Schemes Âú®Êñ∞Á™óÂè£‰∏≠ÔºåÂãæÈÄâ‰∏ä SharedÔºåÁÇπÂáª Close„ÄÇÂú®ÁªàÁ´ØÂÜçÊ¨°ÊâßË°åËøô‰∏™ÂëΩ‰ª§ ÊâìÂºÄCarthage Êü•ÁúãÁîüÊàêÁöÑÊñá‰ª∂ÁõÆÂΩï$ open Carthage ÊâßË°åÂÆâË£Ö‰æùËµñÂëΩ‰ª§ÂêéÁöÑÊñá‰ª∂Â§πÁªìÊûÑ # ÊâßË°åÊñá‰ª∂Â§öÂá∫‰∏â‰∏™Êñá‰ª∂ Cartfile # Â≠òÊîæÈúÄË¶ÅÂÆâË£ÖÁöÑ‰æùËµñÂàóË°® Cartfile.resolved # Ëá™Âä®ÁîüÊàêÁöÑ‰æùËµñÂÖ≥Á≥ªÊñá‰ª∂ÔºåÈúÄÊèê‰∫§Âà∞git # Á°Æ‰øùÊèê‰∫§ÁöÑÈ°πÁõÆÂèØ‰ª•‰ΩøÁî®ÂÆåÂÖ®Áõ∏ÂêåÁöÑÈÖçÁΩÆ‰∏éÊñπÂºèËøêË°åÂêØÁî®, Ë∑üË∏™È°πÁõÆÂΩìÂâçÊâÄÁî®ÁöÑ‰æùËµñÁâàÊú¨Âè∑ Carthage # Ëá™Âä®ÁîüÊàêÁöÑCarthageÁõÆÂΩï (‰∏çÈúÄË¶ÅÊèê‰∫§Âà∞ Git) # ÁõÆÂΩï‰∏ãÊúâ‰∏§‰∏™Êñá‰ª∂Â§πÔºöBuild Checkouts # Build Â≠òÊîæÁºñËØëÂêéÁöÑÊñá‰ª∂ÔºåÂåÖÊã¨ iOS/Mac/tvOS/watchOSÂØπÂ∫îÁöÑframework # Checkouts Â≠òÊîæ‰ªégitÊãâÂèñÁöÑ‰æùËµñÂ∫ìÊ∫êÊñá‰ª∂ ÈÖçÁΩÆÈ°πÁõÆÊâìÂºÄÈ°πÁõÆÔºåÁÇπÂáªTarget -&gt; Build Phases -&gt; Link Library with LibrariesÈÄâÊã©Carthage/BuildÁõÆÂΩï‰∏≠Ë¶ÅÂØºÂÖ•ÁöÑframework Ê∑ªÂä†ÁºñËØëÁöÑËÑöÊú¨ÔºàËØ•ËÑöÊú¨Êñá‰ª∂‰øùËØÅÂú®Êèê‰∫§ÂΩíÊ°£Êó∂‰ºöÂØπÁõ∏ÂÖ≥Êñá‰ª∂ÂíådSYMsËøõË°åÂ§çÂà∂Ôºâ (1)ÁÇπÂáªBuild PhasesÔºåÁÇπÂáª‚Äú+‚Äù -&gt; New Run Script Phase (2)Ê∑ªÂä†Ê∑ªÂä†ËÑöÊú¨ /usr/local/bin/Carthage copy-frameworks (3)Ê∑ªÂä†‚ÄùInput Files‚Äù $(SRCROOT)/Carthage/Build/iOS/AFNetworking.framework Âú®È°πÁõÆ‰∏≠‰ΩøÁî®Á¨¨‰∏âÊñπÂ∫ì #import &lt;AFNetworking/AFNetworking.h&gt; ÂÖ∂ÂÆÉÔºö Âç∏ËΩΩCarthageÔºö$ brew uninstall Carthage Êõ¥Êñ∞Á¨¨‰∏âÊñπÊ°ÜÊû∂ÔºöÊõ¥Êñ∞Â§ö‰∏™Ê°ÜÊû∂Ôºö‰øÆÊîπCartfileÊñá‰ª∂ÔºåÂπ∂ÈáçÊñ∞ÊâßË°å $ carthage updateÊõ¥Êñ∞Êüê‰∏™Ê°ÜÊû∂Ôºö$ carthage update ÂÖ∑‰ΩìÁöÑÊ°ÜÊû∂ÂêçÁß∞ carthage update # ‰øÆÊîπ‰∫ÜCartfileÊñá‰ª∂ÔºåÂπ∂ÈáçÊñ∞ÁºñËØë carthage update Alamofire # ‰ªÖÊõ¥Êñ∞AlamofireÊ°ÜÊû∂ carthage update --platform ios # ‰ªÖÁºñËØëiOSÂπ≥Âè∞ÁöÑframework carthage bootstrap # ‰ªéÊú¨Âú∞Â∫ìÈáçÊñ∞ÁºñËØë‰æùËµñ Carthage‰ºòÁº∫ÁÇπCarthageÁöÑ‰ºòÁÇπ‚Äã 1Ôºâ‰ΩøÁî®‰∫ÜCocoaPodsÁöÑÈ°πÁõÆÊòØÈ´òÂ∫¶ÈõÜÊàêÁöÑÔºåËÄåCarthageÊõ¥ÁÅµÊ¥ªÂº∫Ë∞ÉÂ∞ΩÂèØËÉΩÂ∞Ü‰ªªÂä°ÂßîÊâòÁªôXcodeÂíåGit„ÄÇ‚Äã CocoaPodsÂú®‰ΩøÁî®‰∏≠‰ºöËá™Âä®ÂàõÂª∫ÂíåÊõ¥Êñ∞workspace„ÄÅ‰æùËµñÂíåPodÈ°πÁõÆÂπ∂ËøõË°åÊï¥Âêà;‚Äã CarthageÂú®‰ΩøÁî®‰∏≠‰∏çÈúÄË¶ÅÂàõÂª∫ÂíåÈõÜÊàêÁõ∏Â∫îÁöÑworkspaceÂíåproject,Âè™ÈúÄË¶Å‰æùËµñÊâìÂåÖÂ•ΩÁöÑframeworkÊñá‰ª∂Âç≥ÂèØ„ÄÇ‚Äã ÊÄªÁªì‰∏Ä‰∏ãÔºåCocoaPodsÁöÑÊñπÊ≥ïÊõ¥ÂÆπÊòì‰ΩøÁî®ÔºåËÄåCarthageÊõ¥ÁÅµÊ¥ª‰∏îÂØπÈ°πÁõÆÊ≤°Êúâ‰æµÂÖ•ÊÄß„ÄÇ‚Äã 2ÔºâCocoaPodsÁõ∏ÂØπÊù•ËØ¥ÂäüËÉΩË¶ÅÊØîCarthageÂ§öÂæàÂ§öÔºåÂõ†Ê≠§‰πüÊõ¥Â§çÊùÇ,ËÄåCocoaPodsÈÖçÁΩÆÁÆÄÂçïÈ°πÁõÆÂπ≤ÂáÄ„ÄÇ‚Äã 3ÔºâCocoaPodsÊúâ‰∏Ä‰∏™‰∏≠ÂøÉ‰ªìÂ∫ìÔºåËÄåCarthageÊòØÂéª‰∏≠ÂøÉÂåñÁöÑÔºåÊ≤°Êúâ‰∏≠ÂøÉÊúçÂä°Âô®‰πüÂ∞±ÈÅøÂÖç‰∫ÜÂèØËÉΩÂõ†‰∏≠ÂøÉËäÇÁÇπÈîôËØØËÄåÂ∏¶Êù•ÁöÑÂ§±Ë¥•ÔºåÂç≥CarthageÊØèÊ¨°ÈÖçÁΩÆÂíåÊõ¥Êñ∞ÁéØÂ¢ÉÔºåÂè™‰ºöÂéªÊõ¥Êñ∞ÂÖ∑‰ΩìÁöÑÂ∫ìÔºåÊó∂Èó¥Êõ¥Âø´„ÄÇ‚Äã 4) Carthage ÁÆ°ÁêÜÁöÑ‰æùËµñÂè™ÈúÄÁºñËØë‰∏ÄÊ¨°ÔºåÈ°πÁõÆÂπ≤ÂáÄÁºñËØëÊó∂Ôºå‰∏ç‰ºöÂÜçÂéªÈáçÊñ∞ÁºñËØë‰æùËµñÔºåËäÇÁúÅÊó∂Èó¥‚Äã 5) ‰∏é CocoaPods Êó†ÁºùÈõÜÊàêÔºå‰∏Ä‰∏™È°πÁõÆËÉΩÂêåÊó∂Êã•Êúâ CocoaPods Âíå Carthage CarthageÁöÑ‰∏çË∂≥ ‰ªÖÊîØÊåÅ iOS8 + ÂÆÉÂè™ÊîØÊåÅÊ°ÜÊû∂ÔºåÊâÄ‰ª•‰∏çËÉΩÁî®Êù•ÈíàÂØπ iOS 8 ‰ª•ÂâçÁöÑÁ≥ªÁªüÁâàÊú¨ËøõË°åÂºÄÂèë ÊîØÊåÅÁöÑ Carthage ÂÆâË£ÖÁöÑÁ¨¨‰∏âÊñπÊ°ÜÊû∂Âíå‰æùËµñ‰∏çÂ¶Ç CocoaPods ‰∏∞ÂØå Êó†Ê≥ïÂú® Xcode ÈáåÂÆö‰ΩçÂà∞Á¨¨‰∏âÊñπÂ∫ìÊ∫êÁ†Å CarthageÁöÑÂ∑•‰ΩúËøáÁ®ãËØ¥Êòé‚ë† ÂàõÂª∫‰∏Ä‰∏™CartfileÊñá‰ª∂ÔºåÂú®ËØ•Êñá‰ª∂‰∏≠ÂàóÂá∫ÊÇ®ÊÉ≥‰ΩøÁî®ÁöÑÊ°ÜÊû∂ ‚ë° ËøêË°åCarthage,Ëé∑ÂèñÂπ∂ÁºñËØëCartfileÊñá‰ª∂‰∏≠ÂàóÂá∫ÁöÑÊ°ÜÊû∂ ‚ë¢ ÊääÊ°ÜÊû∂ÁöÑ‰∫åËøõÂà∂Êñá‰ª∂ÈÖçÁΩÆÂà∞È°πÁõÆ‰∏≠ ÂÖ≥‰∫éÁâàÊú¨ÊåáÂÆöCarthage ÊîØÊåÅ‰ª•‰∏ãÂá†ÁßçÁâàÊú¨ÊåáÂÆöÊñπÊ≥ï: = 1.0 ‰ª£Ë°® ‚ÄúÊúÄ‰Ωé 1.0ÁâàÊú¨‚Äù~&gt; 1.0 ‰ª£Ë°® ‚ÄúË°®Á§∫‰ΩøÁî®ÁâàÊú¨1.0‰ª•‰∏ä‰ΩÜÊòØ‰Ωé‰∫é2.0ÁöÑÊúÄÊñ∞ÁâàÊú¨ÔºåÂ¶Ç1.5, 1.9‚Äù== 1.0 ‰ª£Ë°® ‚ÄúÂøÖÈ°ªÊòØ 1.0 ÁâàÊú¨‚Äù ‚Äúsome-branch-or-tag-or-commit‚ÄùÊåáÂÆö‰∏Ä‰∏™ Git ÂØπË±° (‰ªª‰ΩïË¢´ git rev-parse ÂÖÅËÆ∏ÁöÑ)Â¶ÇÊûúÊ≤°ÊúâÁâàÊú¨Ë¶ÅÊ±Ç,‰ªª‰ΩïÁâàÊú¨ÁöÑ‰æùËµñÊòØÂÖÅËÆ∏ÁöÑ„ÄÇ ÁâàÊú¨Â•ΩÁöÑÂÖºÂÆπÊÄßÊòØÊ†πÊçÆËØ≠ËØ≠‰πâÂåñÁâàÊú¨ÊéßÂà∂ÂÜ≥ÂÆöÁöÑ„ÄÇËøôÊÑèÂë≥ÁùÄ‰ªª‰ΩïÂ§ß‰∫éÊàñÁ≠â‰∫é1.5.1ÁâàÊú¨,‰ΩÜÂ∞è‰∫é2.0,Â∞ÜËÆ§‰∏∫‰∏é1.5.1‚ÄúÂÖºÂÆπ‚Äù„ÄÇ CartfileÁ§∫‰æã # Require version 2.3.1 or later ÊúÄ‰Ωé2.3.1ÁâàÊú¨ github &quot;ReactiveCocoa/ReactiveCocoa&quot; &gt;= 2.3.1 # Require version 1.x ÂøÖÈ°ª1.xÁâàÊú¨ github &quot;Mantle/Mantle&quot; ~&gt; 1.0 # (Â§ß‰∫éÊàñÁ≠â‰∫é 1.0 ÔºåÂ∞è‰∫é 2.0) # Require exactly version 0.4.1 ÂøÖÈ°ª0.4.1ÁâàÊú¨ github &quot;jspahrsummers/libextobjc&quot; == 0.4.1 # Use the latest version ‰ΩøÁî®ÊúÄÊñ∞ÁâàÊú¨ github &quot;jspahrsummers/xcconfigs&quot; # Use the branch ‰ΩøÁî®gitÂàÜÊîØ github &quot;jspahrsummers/xcconfigs&quot; &quot;branch&quot; # Use a project from GitHub Enterprise ‰ΩøÁî®‰∏Ä‰∏™‰ºÅ‰∏öÈ°πÁõÆÔºåÂú® &quot;development&quot; ÂàÜÊîØ github &quot;https://enterprise.local/ghe/desktop/git-error-translations&quot; # Use a project from any arbitrary server, on the &quot;development&quot; branch ‰ΩøÁî®‰∏Ä‰∏™ÁßÅÊúâÈ°πÁõÆÔºåÂú® &quot;development&quot; ÂàÜÊîØ git &quot;https://enterprise.local/desktop/git-error-translations2.git&quot; &quot;development&quot; # Use a local project ‰ΩøÁî®‰∏Ä‰∏™Êú¨Âú∞ÁöÑÈ°πÁõÆ git &quot;file:///directory/to/project&quot; &quot;branch&quot; Git ‰∏≠ÂøΩÁï•‰∏çÈúÄË¶ÅÊèê‰∫§Âà∞ÁâàÊú¨Â∫ìÁöÑÊñá‰ª∂‰∏éÊñá‰ª∂Â§π‰øÆÊîπ .gitignore Êñá‰ª∂ÔºåÂ¢ûÂä†ÂøΩÁï• Carthage Êñá‰ª∂Â§πÂ∞±Ë°å‰∫ÜÔºö #Carthage Carthage CarthageÁöÑÂÖ∂‰ªñÂëΩ‰ª§ archive Archives built frameworks into a zip that Carthage can use bootstrap Check out and build the project&#39;s dependencies build Build the project&#39;s dependencies checkout Check out the project&#39;s dependencies copy-frameworks In a Run Script build phase, copies each framework specified by a SCRIPT_INPUT_FILE environment variable into the built app bundle fetch Clones or fetches a Git repository ahead of time help Display general or command-specific help outdated Check for compatible updates to the project&#39;s dependencies update Update and rebuild the project&#39;s dependencies version Display the current version of Carthage]]></content>
      <categories>
        <category>Tool</category>
      </categories>
      <tags>
        <tag>iOSTool</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GCD‰πãdispatch_semaphore]]></title>
    <url>%2F2018%2F11%2F17%2FGCD%E4%B9%8Bdispatch-semaphore%2F</url>
    <content type="text"><![CDATA[dispatch_semaphoreÂÆö‰πâ1&gt; ‰ø°Âè∑ÈáèÔºöÂ∞±ÊòØ‰∏ÄÁßçÂèØÁî®Êù•ÊéßÂà∂ËÆøÈóÆËµÑÊ∫êÁöÑÊï∞ÈáèÁöÑÊ†áËØÜÔºåËÆæÂÆö‰∫Ü‰∏Ä‰∏™‰ø°Âè∑ÈáèÔºåÂú®Á∫øÁ®ãËÆøÈóÆ‰πãÂâçÔºåÂä†‰∏ä‰ø°Âè∑ÈáèÁöÑÂ§ÑÁêÜÔºåÂàôÂèØÂëäÁü•Á≥ªÁªüÊåâÁÖßÊàë‰ª¨ÊåáÂÆöÁöÑ‰ø°Âè∑ÈáèÊï∞ÈáèÊù•ÊâßË°åÂ§ö‰∏™Á∫øÁ®ã„ÄÇ ÂÖ∂ÂÆûÔºåËøôÊúâÁÇπÁ±ª‰ººÈîÅÊú∫Âà∂‰∫ÜÔºåÂè™‰∏çËøá‰ø°Âè∑ÈáèÈÉΩÊòØÁ≥ªÁªüÂ∏ÆÂä©Êàë‰ª¨Â§ÑÁêÜ‰∫ÜÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂú®ÊâßË°åÁ∫øÁ®ã‰πãÂâçÔºåËÆæÂÆö‰∏Ä‰∏™‰ø°Âè∑ÈáèÂÄºÔºåÂπ∂‰∏îÂú®‰ΩøÁî®Êó∂ÔºåÂä†‰∏ä‰ø°Âè∑ÈáèÂ§ÑÁêÜÊñπÊ≥ïÂ∞±Ë°å‰∫Ü„ÄÇ 2&gt; ‰ø°Âè∑Èáè‰∏ªË¶ÅÊúâ3‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´ÊòØÔºö // ÂàõÂª∫‰ø°Âè∑Èáè.ËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™longÁ±ªÂûãÁöÑÂèÇÊï∞, ËøîÂõû‰∏Ä‰∏™dispatch_semaphore_tÁ±ªÂûãÁöÑ‰ø°Âè∑ÈáèÔºåÂÄº‰∏∫‰º†ÂÖ•ÁöÑÂèÇÊï∞ dispatch_semaphore_t dispatch_semaphore_create(long value) //Á≠âÂæÖÈôç‰Ωé‰ø°Âè∑Èáè. Êé•Êî∂‰∏Ä‰∏™‰ø°Âè∑ÂíåÊó∂Èó¥ÂÄºÔºåËã•‰ø°Âè∑ÁöÑ‰ø°Âè∑Èáè‰∏∫0ÔºåÂàô‰ºöÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÔºåÁõ¥Âà∞‰ø°Âè∑ÈáèÂ§ß‰∫é0ÊàñËÄÖÁªèËøáËæìÂÖ•ÁöÑÊó∂Èó¥ÂÄºÔºõËã•‰ø°Âè∑ÈáèÂ§ß‰∫é0ÔºåÂàô‰ºö‰Ωø‰ø°Âè∑ÈáèÂáè1Âπ∂ËøîÂõûÔºåÁ®ãÂ∫èÁªßÁª≠‰Ωè‰∏ãÊâßË°å long dispatch_semaphore_wait(dispatch_semaphore_t dsema, dispatch_time_t timeout) // ÊèêÈ´ò‰ø°Âè∑Èáè. ‰Ωø‰ø°Âè∑ÈáèÂä†1Âπ∂ËøîÂõû long dispatch_semaphore_signal(dispatch_semaphore_t dsema) //dispatch_semaphore_wait() ‰∏é dispatch_semaphore_signal() ÊàêÂØπ‰ΩøÁî® dispatch_semaphore ÁÆÄÂçï‰ΩøÁî®- (void)dispatchSignal{ //crateÁöÑvalueË°®Á§∫ÔºåÊúÄÂ§öÂá†‰∏™ËµÑÊ∫êÂèØËÆøÈóÆ dispatch_semaphore_t semaphore = dispatch_semaphore_create(2); dispatch_queue_t quene = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); //‰ªªÂä°1 dispatch_async(quene, ^{ dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); NSLog(@&quot;run task 1&quot;); sleep(1); NSLog(@&quot;complete task 1&quot;); dispatch_semaphore_signal(semaphore); });&lt;br&gt; //‰ªªÂä°2 dispatch_async(quene, ^{ dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); NSLog(@&quot;run task 2&quot;); sleep(1); NSLog(@&quot;complete task 2&quot;); dispatch_semaphore_signal(semaphore); });&lt;br&gt; //‰ªªÂä°3 dispatch_async(quene, ^{ dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); NSLog(@&quot;run task 3&quot;); sleep(1); NSLog(@&quot;complete task 3&quot;); dispatch_semaphore_signal(semaphore); }); } ÊâßË°åÁªìÊûúÔºö ÊÄªÁªìÔºöÁî±‰∫éËÆæÂÆöÁöÑ‰ø°Âè∑ÂÄº‰∏∫2ÔºåÂÖàÊâßË°å‰∏§‰∏™Á∫øÁ®ãÔºåÁ≠âÊâßË°åÂÆå‰∏Ä‰∏™ÔºåÊâç‰ºöÁªßÁª≠ÊâßË°å‰∏ã‰∏Ä‰∏™Ôºå‰øùËØÅÂêå‰∏ÄÊó∂Èó¥ÊâßË°åÁöÑÁ∫øÁ®ãÊï∞‰∏çË∂ÖËøá2„ÄÇ ËøôÈáåÊàë‰ª¨Êâ©Â±ï‰∏Ä‰∏ãÔºåÂÅáËÆæÊàë‰ª¨ËÆæÂÆö‰ø°Âè∑ÂÄº=1 dispatch_semaphore_create(1) ÈÇ£‰πàÁªìÊûúÂ∞±ÊòØÔºö Â¶ÇÊûúËÆæÂÆö‰ø°Âè∑ÂÄº=3 dispatch_semaphore_create(3) ÈÇ£‰πàÁªìÊûúÂ∞±ÊòØÔºö ÂÖ∂ÂÆûËÆæÂÆö‰∏∫3ÔºåÂ∞±ÊòØ‰∏çÈôêÂà∂Á∫øÁ®ãÊâßË°å‰∫ÜÔºåÂõ†‰∏∫‰∏ÄÂÖ±ÊâçÂè™Êúâ3‰∏™Á∫øÁ®ã„ÄÇ dispatch_semaphore ‰ΩúÁî® dispatch_semaphoreÊúâ‰∏§‰∏™‰∏ªË¶ÅÂ∫îÁî® Ôºö ‰øùÊåÅÁ∫øÁ®ãÂêåÊ≠• ‰∏∫Á∫øÁ®ãÂä†ÈîÅ dispatch_semaphore ‰øùÊåÅÁ∫øÁ®ãÂêåÊ≠•- (void)syncThread{ dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); dispatch_semaphore_t semaphore = dispatch_semaphore_create(0); __block int j = 0; dispatch_async(queue, ^{ j = 100; dispatch_semaphore_signal(semaphore); }); dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); NSLog(@&quot;finish j = %d&quot;, j); } ÁªìÊûúËæìÂá∫ j Ôºù 100ÔºõÂ¶ÇÊûúÊ≥®Êéâdispatch_semaphore_waitËøô‰∏ÄË°åÔºåÂàô j Ôºù 0ÔºõÂéüÁêÜÔºö Áî±‰∫éÊòØÂ∞ÜblockÂºÇÊ≠•Ê∑ªÂä†Âà∞‰∏Ä‰∏™Âπ∂Ë°åÈòüÂàóÈáåÈù¢ÔºåÊâÄ‰ª•Á®ãÂ∫èÂú®‰∏ªÁ∫øÁ®ãË∑ÉËøáblockÁõ¥Êé•Âà∞dispatch_semaphore_waitËøô‰∏ÄË°åÔºåÂõ†‰∏∫semaphore‰ø°Âè∑Èáè‰∏∫0ÔºåÊó∂Èó¥ÂÄº‰∏∫DISPATCH_TIME_FOREVERÔºåÊâÄ‰ª•ÂΩìÂâçÁ∫øÁ®ã‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÔºåÁõ¥Âà∞blockÂú®Â≠êÁ∫øÁ®ãÊâßË°åÂà∞dispatch_semaphore_signalÔºå‰Ωø‰ø°Âè∑Èáè+1ÔºåÊ≠§Êó∂semaphore‰ø°Âè∑Èáè‰∏∫1‰∫ÜÔºåÊâÄ‰ª•Á®ãÂ∫èÁªßÁª≠ÂæÄ‰∏ãÊâßË°å„ÄÇËøôÂ∞±‰øùËØÅ‰∫ÜÁ∫øÁ®ãÈó¥ÂêåÊ≠•‰∫Ü„ÄÇ dispatch_semaphore Á∫øÁ®ãÂä†ÈîÅ- (void)lockThread{ dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); dispatch_semaphore_t semaphore = dispatch_semaphore_create(1); for (int i = 0; i &lt; 100; i++) { dispatch_async(queue, ^{ // Áõ∏ÂΩì‰∫éÂä†ÈîÅ dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER); NSLog(@&quot;i = %d semaphore = %@&quot;, i, semaphore); // Áõ∏ÂΩì‰∫éËß£ÈîÅ dispatch_semaphore_signal(semaphore); }); } } ÂéüÁêÜÔºöÂΩìÁ∫øÁ®ã1ÊâßË°åÂà∞dispatch_semaphore_waitËøô‰∏ÄË°åÊó∂ÔºåsemaphoreÁöÑ‰ø°Âè∑Èáè‰∏∫1ÔºåÊâÄ‰ª•‰Ωø‰ø°Âè∑Èáè-1Âèò‰∏∫0ÔºåÂπ∂‰∏îÁ∫øÁ®ã1ÁªßÁª≠ÂæÄ‰∏ãÊâßË°åÔºõÂ¶ÇÊûúÂΩìÂú®Á∫øÁ®ã1NSLogËøô‰∏ÄË°å‰ª£Á†ÅËøòÊ≤°ÊâßË°åÂÆåÁöÑÊó∂ÂÄôÔºåÂèàÊúâÁ∫øÁ®ã2Êù•ËÆøÈóÆÔºåÊâßË°ådispatch_semaphore_waitÊó∂Áî±‰∫éÊ≠§Êó∂‰ø°Âè∑Èáè‰∏∫0Ôºå‰∏îÊó∂Èó¥‰∏∫DISPATCH_TIME_FOREVER,ÊâÄ‰ª•‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÁ∫øÁ®ã2ÔºàÊ≠§Êó∂Á∫øÁ®ã2Â§Ñ‰∫éÁ≠âÂæÖÁä∂ÊÄÅÔºâÔºåÁõ¥Âà∞Á∫øÁ®ã1ÊâßË°åÂÆåNSLogÂπ∂ÊâßË°åÂÆådispatch_semaphore_signal‰Ωø‰ø°Âè∑Èáè‰∏∫1ÂêéÔºåÁ∫øÁ®ã2ÊâçËÉΩËß£Èô§ÈòªÂ°ûÁªßÁª≠‰Ωè‰∏ãÊâßË°å„ÄÇ‰ª•‰∏äÂèØ‰ª•‰øùËØÅÂêåÊó∂Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÊâßË°åNSLogËøô‰∏ÄË°å‰ª£Á†Å„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÊäÄÊúØ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AppExtensionÁºñÁ®ãÊåáÂçó:Êâ©Â±ïÂü∫Á°Ä]]></title>
    <url>%2F2018%2F11%2F17%2FAppExtension%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97-%E6%89%A9%E5%B1%95%E5%9F%BA%E7%A1%80%2F</url>
    <content type="text"><![CDATA[ÈÄöËøáÂ∫îÁî®Êâ©Â±ïÊèêÂçá‰Ω†ÁöÑÂ∫îÁî®iOS8/OS X v10.10 ÁøªËØëËá™ËãπÊûúÂÆòÊñπÊñáÊ°£ App Extension Programming Guide‚ÄìApp Extensions Essentials ÈáçË¶ÅÊèêÁ§∫Ôºö ËØ•ÊñáÊ°£ÊòØ‰∏Ä‰∏™ÂºÄÂèëËøáÁ®ã‰∏≠‰ΩøÁî®APIÊàñÊäÄÊúØÁöÑÈ¢ÑÂèëÂ∏ÉÊñáÊ°£„ÄÇAppleÊèê‰æõËØ•ÊñáÊ°£ÁöÑÁõÆÁöÑÂú®‰∫éËÆ©ÂºÄÂèëËÄÖÂ∞ΩÂø´ÁÜüÊÇâÊñ∞ÊäÄÊúØÂíåÊñ∞ÁöÑÁºñÁ®ãÊé•Âè£Ôºå‰ΩøÂæóÂºÄÂèëËÄÖÈíàÂØπËãπÊûúÂìÅÁâåËÆæÂ§áËøõË°åÂºÄÂèë„ÄÇ‰ΩÜÊòØËØ•ÊñáÊ°£‰ºö‰∏çÊñ≠ÁöÑÊõ¥Êñ∞Ôºå‰ΩøÁî®ËØ•ÊñáÊ°£Êèê‰æõÁöÑÊäÄÊúØÂºÄÂèëÁöÑËΩØ‰ª∂Â∫îËØ•Âü∫‰∫éÊúÄÁªàÊìç‰ΩúÁ≥ªÁªüËΩØ‰ª∂ÂíåÊúÄÁªàÁöÑÊñáÊ°£ËøõË°åÊµãËØï„ÄÇË¶ÅÊó∂ÂàªÂÖ≥Ê≥®ËØ•ÊñáÊ°£ÁöÑÊõ¥Êñ∞Ôºå‰ª•‰æø‰∫ÜËß£Êñ∞ÁöÑAPIÂíåÊäÄÊúØÁâπÊÄß„ÄÇ ÂΩìiOS 8.0ÂíåOS X v10.10ÂèëÂ∏ÉÂêéÔºå‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÊ¶ÇÂøµÂá∫Áé∞Âú®Êàë‰ª¨ÁúºÂâçÔºåÈÇ£Â∞±ÊòØÂ∫îÁî®Êâ©Â±ï„ÄÇÈ°æÂêçÊÄù‰πâÔºåÂ∫îÁî®Êâ©Â±ïÂÖÅËÆ∏ÂºÄÂèëËÄÖÊâ©Â±ïÂ∫îÁî®ÁöÑËá™ÂÆö‰πâÂäüËÉΩÂíåÂÜÖÂÆπÔºåËÉΩÂ§üËÆ©Áî®Êà∑Âú®‰ΩøÁî®ÂÖ∂‰ªñappÊó∂‰ΩøÁî®ËØ•È°πÂäüËÉΩ„ÄÇ‰Ω†ÂèØ‰ª•ÂºÄÂèë‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÊù•ÊâßË°åÊüê‰∫õÁâπÂÆöÁöÑ‰ªªÂä°ÔºåÁî®Êà∑‰ΩøÁî®ËØ•Êâ©Â±ïÂêéÂ∞±ÂèØ‰ª•Âú®Â§ö‰∏™‰∏ä‰∏ãÊñáÁéØÂ¢É‰∏≠ÊâßË°åËØ•‰ªªÂä°„ÄÇÊØîÂ¶ÇËØ¥Ôºå‰Ω†Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËÉΩËÆ©Áî®Êà∑ÊääÂÜÖÂÆπÂàÜ‰∫´Âà∞Á§æ‰∫§ÁΩëÁ´ôÁöÑÊâ©Â±ïÔºåÁî®Êà∑ÂèØ‰ª•Âú®ÈòÖËØªÈÇÆ‰ª∂‰ø°ÊÅØÊàñËÄÖ‰∏äÁΩëÊó∂ÈÄöËøáappÊâ©Â±ïÊù•ÂèëË°®ËØÑËÆ∫„ÄÇÊàñËÄÖËØ¥ÔºåÂ¶ÇÊûú‰Ω†Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËÉΩÂ±ïÁ§∫ÂΩìÂâçÊØîËµõÂàÜÊï∞ÁöÑÊâ©Â±ïÔºåÈÇ£‰πàÁî®Êà∑ÂèØ‰ª•ÊääÂÆÉÊîæÂú®ÈÄöÁü•‰∏≠ÂøÉÔºåËøôÊ†∑Âú®‰ªñ‰ª¨ÊâìÂºÄToday viewÊó∂Â∞±ËÉΩÁúãÂà∞ÊúÄÊñ∞ÁöÑÊØîÂàÜ„ÄÇ‰Ω†ÁîöËá≥ÂèØ‰ª•ÂºÄÂèë‰∏Ä‰∏™Êèê‰æõËá™ÂÆö‰πâÈîÆÁõòÁöÑÊâ©Â±ïÔºåÁî®Êà∑ÂèØ‰ª•Áî®ÂÆÉ‰ª£ÊõøiOSÁ≥ªÁªüËá™Â∏¶ÁöÑÈîÆÁõò„ÄÇ APPÊâ©Â±ïÁöÑÁ±ªÂûãiOSÂíåOS XÂÆö‰πâ‰∫ÜÂá†ÁßçÂ∫îÁî®Êâ©Â±ïÁöÑÁ±ªÂûãÔºåÊØè‰∏ÄÁßçÁ±ªÂûãÁöÑÊâ©Â±ïÈÉΩÂØπÂ∫îÁ≥ªÁªü‰∏≠ÁöÑ‰∏ÄÂùóÂå∫ÂüüÔºåÊØîÂ¶ÇÂàÜ‰∫´„ÄÅÈÄöÁü•‰∏≠ÂøÉ‰ª•ÂèäÈîÆÁõòÁ≠â„ÄÇÊàë‰ª¨ÊääËøô‰∫õÊîØÊåÅÊâ©Â±ïÁöÑÂå∫ÂüüÁß∞‰∏∫Êâ©Â±ïÁÇπ„ÄÇÊØè‰∏™Êâ©Â±ïÁÇπÈÉΩÂÆö‰πâ‰∫Ü‰ΩøÁî®Á≠ñÁï•Âπ∂Êèê‰æõ‰∫ÜAPIÔºå‰Ω†ÂèØ‰ª•Áî®Êù•ÈíàÂØπËØ•Âå∫ÂüüÂàõÂª∫Êâ©Â±ï„ÄÇË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁÇπÊòØÔºåÂΩì‰Ω†ÈíàÊüê‰∏™Êâ©Â±ïÁÇπÂºÄÂèëÂ∫îÁî®Êâ©Â±ïÊó∂ÔºåËØ•Â∫îÁî®Êâ©Â±ïÁöÑÂäüËÉΩÂøÖÈ°ªË¶ÅÁ¨¶ÂêàËØ•Êâ©Â±ïÁÇπÁöÑÂäüËÉΩÁâπÊÄß„ÄÇ table 1-1 ÂàóÂá∫‰∫ÜiOSÂíåOS X‰∏≠ÁöÑÊâ©Â±ïÁÇπÔºåÂπ∂Âàó‰∏æ‰∫ÜÂØπÂ∫îÊâ©Â±ïÁÇπÁöÑÁ§∫‰æã‰ªªÂä°„ÄÇ Áî±‰∫éÁ≥ªÁªüÂÆö‰πâ‰∫ÜÊâ©Â±ïÁâπÂÆöÈ¢ÜÂüüÔºåÊâÄ‰ª•ÂΩì‰Ω†Âú®ÂºÄÂèëÂ∫îÁî®Êâ©Â±ïÊó∂ÔºåÂæàÈáçË¶ÅÁöÑ‰∏ÄÁÇπÊòØÔºå‰Ω†Ë¶ÅÈÄâÊã©ÊúÄËÉΩÂåπÈÖç‰Ω†ÊÉ≥Âú®app‰∏≠Êèê‰æõÁöÑÂäüËÉΩÁöÑÂå∫Âüü„ÄÇÊØîÂ¶ÇËØ¥‰Ω†Ë¶ÅÂºÄÂèë‰∏Ä‰∏™ÂàÜ‰∫´‰ø°ÊÅØÁöÑÂ∫îÁî®Êâ©Â±ïÔºåÈÇ£‰πà‰Ω†Âè™ËÉΩÈÄâÊã©ÂàÜ‰∫´Êâ©Â±ïÁÇπÔºåËÄå‰∏çËÉΩ‰ΩøÁî®TodayÊàñActionÊâ©Â±ïÁÇπ„ÄÇ ÈáçË¶ÅÊèêÁ§∫Ôºö‰Ω†ÂºÄÂèëÁöÑappÊâ©Â±ïË¶ÅÁ≤æÁ°ÆÂú∞ÂåπÈÖçTable 1-1‰∏≠ÂàóÂá∫ÁöÑÊâ©Â±ïÁÇπ„ÄÇ‰Ω†‰∏çËÉΩÂºÄÂèë‰∏Ä‰∏™ÈÄöÁî®ÁöÑÊâ©Â±ïÊù•ÂåπÈÖç‰∏Ä‰∏™‰ª•‰∏äÁöÑÊâ©Â±ïÁÇπÔºå XcodeÂíåApp StoreÂ∏ÆÂä©‰Ω†ÂàõÂª∫Âπ∂‰∫§‰ªòÂ∫îÁî®Êâ©Â±ïÂ∫îÁî®Êâ©Â±ï‰∏çÂêå‰∫éÂ∫îÁî®ÔºåËôΩÁÑ∂‰Ω†ÈúÄË¶ÅÂü∫‰∫éÂ∫îÁî®ÂéªÂºÄÂèëÂ∫îÁî®Êâ©Â±ïÔºå‰ΩÜÊòØÊØè‰∏™Â∫îÁî®Êâ©Â±ïÈÉΩÊòØÁã¨Á´ã‰∫éÂ∫îÁî®ËøêË°åÁöÑ‰∫åËøõÂà∂Êñá‰ª∂„ÄÇ ÂΩì‰Ω†Ë¶ÅÂàõÂª∫‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÊó∂ÔºåÈúÄË¶ÅÂú®È°πÁõÆ‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑTarget„ÄÇÂíåÂÖ∂‰ªñ Target ‰∏ÄÊ†∑ÔºåÊâ©Â±ï Target Â∞ÜËÆæÁΩÆ‰ø°ÊÅØÂíåÁõ∏ÂÖ≥Êñá‰ª∂ÊâìÂåÖÂú®ProductsÊñá‰ª∂‰∏ãÁîüÊàê‰∏Ä‰∏™Êâ©Â±ïÂêç‰∏∫.appexÁöÑÂåÖ„ÄÇ‰Ω†ÂèØ‰ª•Âú®Â∫îÁî®È°πÁõÆ‰∏≠ÂàõÂª∫Â§ö‰∏™Êâ©Â±ïTargetÔºà‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â∫îÁî®Êâ©Â±ïÔºåËØ•Â∫îÁî®Á®ãÂ∫èÁß∞‰∏∫‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫èÔºâ„ÄÇ ÂºÄÂèë‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÊúÄÂ•ΩÁöÑÂàáÂÖ•ÁÇπÊòØ‰ΩøÁî® Xcode Âú®‰∏§‰∏™Âπ≥Âè∞‰∏ä‰∏∫ÊØè‰∏™Êâ©Â±ïÁÇπÊèê‰æõÁöÑÊ®°ÊùøÂéªÂºÄÂèë„ÄÇÊØè‰∏™Ê®°ÊùøÂåÖÂê´Êâ©Â±ïÁÇπÁöÑÂÖ∑‰ΩìÂÆûÁé∞Êñá‰ª∂ÂíåÁõ∏ÂÖ≥ËÆæÁΩÆÔºåÂπ∂ÁîüÊàêÁã¨Á´ãÁöÑ‰∫åËøõÂà∂Êñá‰ª∂Ê∑ªÂä†Âà∞Â∫îÁî®Á®ãÂ∫èÁöÑÂåÖ‰∏≠„ÄÇ Ê≥®ÊÑèÔºöÂú®iOS‰∏≠ÔºåÂåÖÂê´Êâ©Â±ïÁöÑÂ∫îÁî®ÂøÖÈ°ªÊèê‰æõ‰∏Ä‰∏™Êâ©Â±ï‰πãÂ§ñÁöÑÂäüËÉΩ„ÄÇËÄåÂú®OS X‰∏≠Ê≤°ÊúâËøô‰∏™Á°¨ÊÄßË¶ÅÊ±ÇÔºå‰∏Ä‰∏™ÂåÖÂê´Êâ©Â±ïÁöÑÂ∫îÁî®‰∏çË¶ÅÊ±ÇÂøÖÈ°ªÊèê‰æõ‰∏Ä‰∏™È¢ùÂ§ñÂäüËÉΩ„ÄÇ ‰∏∫‰∫ÜÂ∞ÜÊâ©Â±ïÂàÜÂèëÁªô‰ΩøÁî®ËÄÖÔºå‰Ω†ÈúÄË¶ÅÊèê‰∫§‰∏Ä‰∏™ÂåÖÂê´Êâ©Â±ïÁöÑÂ∫îÁî®Âà∞App Store„ÄÇÁî®Êà∑Âè™Ë¶Å‰∏ãËΩΩÂπ∂ÂÆâË£Ö‰∫Ü‰Ω†ÁöÑÂ∫îÁî®ÔºåÈÇ£‰πàÂêåÊó∂‰πüËá™Âä®ÂÆâË£Ö‰∫Ü‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ï„ÄÇ ÂΩìÂÆâË£Ö‰∫ÜÂ∫îÁî®Êâ©Â±ï‰πãÂêéÔºåÁî®Êà∑È¶ñÂÖàÂøÖÈ°ªË¶ÅÂºÄÂêØ‰ªñ‰ª¨„ÄÇÈÄöÂ∏∏ÔºåÁî®Êà∑ÂèØ‰ª•Âú®‰ªñ‰ª¨ÂΩìÂâç‰ªªÂä°ÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢É‰∏≠ÂêØÂä®Êâ©Â±ï„ÄÇÊØîÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†ÁöÑÊâ©Â±ïÂêØÁî®‰∫Ü‚ÄúToday‚ÄùÈÄöÁü•ÔºåÈÇ£Áî®Êà∑ÂèØ‰ª•Âú®ÈÄöÁü•‰∏≠ÂøÉÁºñËæë‚ÄúToday ‚Äùview Êù•Ê∑ªÂä†‰Ω†ÁöÑÊâ©Â±ï„ÄÇÂú®ÂÖ∂‰ªñÊÉÖÂÜµ‰∏≠ÔºåÁî®Êà∑ÂèØ‰ª•‰ΩøÁî® iOS ‰∏≠ÁöÑ‚ÄúSettings‚ÄùÊàñËÄÖ OS X ‰∏≠ÁöÑ‚ÄúSystem Preferences‚ÄùÊù•ÂêØÁî®ÂíåÁÆ°ÁêÜÊâ©Â±ï„ÄÇ Áî®Êà∑Âú®‰∏çÂêåÁöÑÊÉÖÂΩ¢‰∏ã‰ΩìÈ™å‰∏çÂêåÁöÑÂ∫îÁî®Êâ©Â±ïËôΩÁÑ∂ÊØèÁßçÁ±ªÂûãÁöÑÂ∫îÁî®Êâ©Â±ïÁöÑÂäüËÉΩÈÉΩÊòØ‰∏çÂêåÁöÑÔºå‰ΩÜÂØπÂ§ßÈÉ®ÂàÜÊâ©Â±ïÊù•ËØ¥ÔºåÂÆÉ‰ª¨Âú®Áî®Êà∑‰ΩìÈ™å‰∏äËøòÊòØÊúâ‰∏Ä‰∫õÂÖ±ÂêåÁÇπÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÂáÜÂ§áÂºÄÂèë‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÔºåÊúâ‰∏ÄÁÇπÂæàÈáçË¶ÅÔºåÈÇ£Â∞±ÊòØË¶ÅÁêÜËß£Âú®‰Ω†ÈÄâÊã©ÁöÑÊâ©Â±ïÁÇπ‰∏≠ÔºåÁî®Êà∑‰ΩìÈ™åÊòØ‰ªÄ‰πàÊ†∑ÁöÑ„ÄÇ‰ªé‰∏Ä‰∏™Êõ¥È´òËßíÂ∫¶ÁúãÔºåÂØπ‰∫éÊâÄÊúâÊâ©Â±ïÊù•ËØ¥ÔºåÊúÄ‰Ω≥ÁöÑÁî®Êà∑‰ΩìÈ™åÊòØÂø´ÈÄü„ÄÅÊµÅÁïÖ‰ª•ÂèäÂè™ÂÖ≥Ê≥®Âçï‰∏Ä‰ªªÂä°„ÄÇ ÈÄöÂ∏∏Áî®Êà∑ÈÄöËøá‰∏éÁ≥ªÁªüÊèê‰æõÁöÑÁî®Êà∑ÁïåÈù¢ËøõË°å‰∫§‰∫íÊù•ÂºÄÂêØÂ∫îÁî®Êâ©Â±ï„ÄÇÊØîÂ¶ÇËØ¥ÔºåÁî®Êà∑Âú®app‰∏≠ÈÄöËøáÊøÄÊ¥ªÁ≥ªÁªüÊèê‰æõÁöÑÂàÜ‰∫´ÊåâÈíÆÊù•ËÆøÈóÆ Share Êâ©Â±ïÔºåÂπ∂‰ªéÂ±ïÁ§∫ÁöÑÂàóË°®‰∏≠ÈÄâÊã©Êâ©Â±ï„ÄÇ‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÂøÖÈ°ªË¶ÅÊèê‰æõ‰∏Ä‰∏™ÂõæÊ†áÔºå‰ª•‰æøÁî®Êà∑ÈÄâÊã©ÂíåËØÜÂà´ÔºåÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂ∫îÁî®Êâ©Â±ïÁöÑÂõæÊ†á‰∏éÂ∫îÁî®Á®ãÂ∫èÁöÑÂõæÊ†áÊòØÁõ∏ÂêåÁöÑ„ÄÇ ËôΩÁÑ∂Â§ßÂ§öÊï∞ÁöÑÂ∫îÁî®Á®ãÂ∫èÊâ©Â±ïÈÉΩÊèê‰æõ‰∫Ü‰∏Ä‰∫õËá™ÂÆö‰πâÁöÑUIÂÖÉÁ¥†Ôºå‰ΩÜ‰∏ÄËà¨Áî®Êà∑‰∏ç‰ºöÁúãÂà∞‰Ω†ÁöÑËá™ÂÆö‰πâÁî®Êà∑ÁïåÈù¢ÔºåÈô§Èùû‰ªñ‰ª¨ËøõÂÖ•Âà∞Â∫îÁî®Á®ãÂ∫èÊâ©Â±ï‰∏≠„ÄÇÂΩìÁî®Êà∑ËøõÂÖ•Â∫îÁî®Êâ©Â±ïÔºå‰Ω†ÁöÑËá™ÂÆö‰πâUIÂèØ‰ª•ËÆ©Áî®Êà∑Áü•Êôì‰ªñ‰ª¨Ê≠£ËøõÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢É„ÄÇÁî±‰∫éÁî®Êà∑ÂèØ‰ª•Êää‰Ω†ÁöÑÊâ©Â±ïÂíåÂΩìÂâçÂ∫îÁî®Âå∫Âà´ÂºÄÊù•ÔºåÊâÄ‰ª•‰ªñ‰ª¨‰ºöÊ¨£Ëµè‰Ω†Êèê‰æõÁöÑÁã¨ÁâπÂäüËÉΩ„ÄÇÂΩìÁî®Êà∑ÊÑèËØÜÂà∞Êâ©Â±ïÂÖ∂ÂÆûÊòØÁã¨Á´ãËøêË°åÁöÑÂÆû‰ΩìÊó∂Ôºå‰ªñ‰ª¨‰πüÂèØ‰ª•Á°ÆËÆ§Âπ∂ÁßªÈô§‰ΩìÈ™å‰∏çÂ•ΩÊàñÂäüËÉΩ‰∏çÂ•ΩÁöÑÊâ©Â±ï„ÄÇ ‰∏∫‰∫ÜËÆ©Áî®Êà∑Âπ≥ÊªëËøáÊ∏°Âà∞‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫èÊâ©Â±ïÔºå‰Ω†Ë¶ÅÊñüÈÖåËá™ÂÆö‰πâÁïåÈù¢‰∏éÊâ©Â±ïÁÇπÁïåÈù¢ÁöÑÈ£éÊ†ºÔºåÂÅö‰∏Ä‰∏™ÊùÉË°°„ÄÇÊØîÂ¶ÇËØ¥Ôºå‰∏Ä‰∏™ÂæàÂ•ΩÁöÑÊñπÊ≥ïÂ∞±ÊòØËÆ©‰Ω†ÁöÑÊèí‰ª∂ÁúãËµ∑Êù•ÂÉèÊòØÈÄöÁü•‰∏≠ÂøÉ‰∏≠ÂéüÁîüÁöÑWidgetÔºåÂÜçÊØîÂ¶ÇËØ¥ÁÖßÁâáÁºñËæëÊâ©Â±ïÔºå‰Ω†Â∫îËØ•ÂàõÂª∫‰∏Ä‰∏™Âíå iOS ‰∏≠ Photos Â∫îÁî®È£éÊ†ºÁõ∏ÂçèË∞ÉÁöÑÁî®Êà∑ÁïåÈù¢„ÄÇ Ê≥®ÊÑèÔºöÂç≥‰Ωø‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫èÊâ©Â±ïÊ≤°ÊúâÂ±ïÁ§∫Ëá™ÂÆö‰πâUIÔºà‰∏çÂåÖÊã¨ÂõæÊ†áÔºâÔºå‰ΩÜÁî®Êà∑‰ªçÁÑ∂Áü•ÈÅìËØ•Êâ©Â±ï‰∏çÂêå‰∫éÂΩìÂâçÁöÑÂ∫îÁî®ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÈúÄË¶ÅÈááÁî®ÁâπÂÆöÁöÑÊìç‰ΩúÊù•ÊøÄÊ¥ª„ÄÇ ‰∫ÜËß£Â∫îÁî®Á®ãÂ∫èÊâ©Â±ïÁöÑÂ∑•‰ΩúÂéüÁêÜiOS8/OS X v10.10 Â∫îÁî®Á®ãÂ∫èÊâ©Â±ï‰∏çÊòØ‰∏Ä‰∏™Â∫îÁî®ÔºåÁõ∏ÂèçÔºåÂÆÉÊòØ‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫èÔºàcontaining appÔºâ‰∏≠‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂåÖÔºåÂπ∂ËÉΩÁîüÊàêÂçïÁã¨ÁöÑ‰∫åËøõÂà∂Êñá‰ª∂„ÄÇ‰∏é‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫è‰∏çÂêåÔºåÂ∫îÁî®Êâ©Â±ïÂÆûÁé∞ÁöÑÊòØ‰∏Ä‰∏™ÁâπÂÆöÁöÑ„ÄÅÁã≠‰πâËåÉÂõ¥ÂÜÖÁöÑ‰ªªÂä°ÔºåÂπ∂‰∏îË¶Å‰∏•Ê†ºÈÅµÂæ™Êâ©Â±ïÁÇπÁöÑÂçèËÆÆ„ÄÇ Â∫îÁî®Á®ãÂ∫èÊâ©Â±ïÁöÑÁîüÂëΩÂë®ÊúüÂõ†‰∏∫‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÊâ©Â±ï‰∏çÊòØ‰∏Ä‰∏™Â∫îÁî®ÔºåÊâÄ‰ª•ÂÆÉÁöÑÁîüÂëΩÂë®ÊúüÂíåËøêË°åÁéØÂ¢É‰πü‰∏çÂêå‰∫éÂ∫îÁî®„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµÊù•ËØ¥ÔºåÂ∫îÁî®Á®ãÂ∫èÊâ©Â±ïÁöÑÁîüÂëΩÂë®ÊúüÂßã‰∫éÁî®Êà∑‰ªéÊüê‰∏™Â∫îÁî®‰∏≠ÂêØÂä®ÂÆÉ„ÄÇÂÖÅËÆ∏Áî®Êà∑ÈÄâÊã©Êüê‰∏ÄÁßçÊâ©Â±ïÊù•Â∏ÆÂä©‰ªñ‰ª¨ÊâßË°åÊüêÈ°π‰ªªÂä°ÁöÑÂ∫îÁî®ÔºåÊàë‰ª¨Áß∞‰πã‰∏∫Êâ©Â±ïÁöÑËΩΩ‰ΩìÂ∫îÁî®Ôºàhost appÔºâ„ÄÇËΩΩ‰ΩìÂ∫îÁî®Ôºàhost appÔºâÂÆö‰πâ‰∫ÜÊøÄÊ¥ªÊâ©Â±ïÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢ÉÔºåÂπ∂Âú®ÂÖ∂ÂèëÈÄÅËØ∑Ê±Ç‰ª•ÂìçÂ∫îÁî®Êà∑Êìç‰ΩúÊó∂ÂºÄÂßãÊâ©Â±ïÁöÑÁîüÂëΩÂë®Êúü„ÄÇÂΩìÂ∫îÁî®Êâ©Â±ïÂÆåÊàêËΩΩ‰ΩìÂ∫îÁî®ÂèëÈÄÅÁöÑËØ∑Ê±Ç‰ªªÂä°ÂêéÔºåËØ•Êâ©Â±ïÁöÑÁîüÂëΩÂë®Êúü‰πüÈöè‰πãÁªìÊùü„ÄÇ ÊØîÂ¶ÇËØ¥ÔºåÂÅáÂÆöËøôÊ†∑‰∏Ä‰∏™Âú∫ÊôØÔºåÁî®Êà∑Âú®Êâ©Â±ïËΩΩ‰ΩìÂ∫îÁî®Ôºàhost appÔºâ‰∏≠ÈÄâ‰∏≠‰∏ÄÊÆµÊñáÂ≠óÔºåÁÇπÂáªÂàÜ‰∫´ÊåâÈíÆÔºåÂπ∂‰ªéÂàÜ‰∫´ÂàóË°®‰∏≠ÈÄâÊã©Êüê‰∏Ä‰∏™ÂàÜ‰∫´Êâ©Â±ïÔºåÂ∞ÜÈÄâ‰∏≠ÁöÑÂÜÖÂÆπÂàÜ‰∫´Ëá≥Á§æ‰∫§ÁΩëÁ´ô„ÄÇÊ≠§Êó∂ÔºåËΩΩ‰ΩìÂ∫îÁî®Â∞±‰ºöÂêëÊâ©Â±ïÂèëÈÄÅ‰∏Ä‰∏™ÂåÖÂê´Áî®Êà∑ÊâÄÈÄâÊñáÊú¨ÁöÑËØ∑Ê±ÇÔºåÂêØÂä®ËØ•Êâ©Â±ïÔºå‰ªéËÄåÂéªÂìçÂ∫îÁî®Êà∑ÁöÑËØ∑Ê±ÇÔºåÂç≥ÂàÜ‰∫´ÊâÄÈÄâÊñáÊú¨ÁöÑÂÜÖÂÆπ„ÄÇÂ∫îÁî®Êâ©Â±ïÂü∫Êú¨ÁöÑÁîüÂëΩÂë®ÊúüÂΩíÁ∫≥Âú®‰∏ãÂõæ2-1‰∏≠„ÄÇ Âü∫Êú¨ÁöÑÊâ©Â±ïÁîüÂëΩÂë®Êúü Âú®Âõæ2-1‰∏≠ÁöÑÁ¨¨2Ê≠•‰∏≠ÔºåÁ≥ªÁªüÂÆû‰æãÂåñËΩΩ‰ΩìÂ∫îÁî®ËØ∑Ê±Ç‰∏≠Á°ÆÂÆöÁöÑÊâ©Â±ïÔºåÂπ∂Âú®‰∏§ËÄÖ‰πãÈó¥Âª∫Á´ãÈÄö‰ø°ÈÄöÈÅì„ÄÇÁÑ∂ÂêéÊâ©Â±ïÂú®ËΩΩ‰ΩìÂ∫îÁî®ÁöÑ‰∏ä‰∏ãÊñáÂú∫ÊôØ‰∏≠ÊòæÁ§∫Áõ∏ÂÖ≥ÁïåÈù¢ÔºåÂπ∂‰ΩøÁî®ÂÖ∂Âú®ËΩΩ‰ΩìÂ∫îÁî®ËØ∑Ê±Ç‰∏≠Êé•Êî∂Âà∞ÁöÑÈ°πÁõÆÊù•ÊâßË°å‰ªªÂä°ÔºàÂú®‰∏äËø∞ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊâ©Â±ïÊé•Êî∂Âà∞ÁöÑÈ°πÁõÆÊòØÁî®Êà∑ÈÄâ‰∏≠ÁöÑÊñáÊú¨Ôºâ Âú®Âõæ2-1ÁöÑÁ¨¨3Ê≠•‰∏≠ÔºåÁî®Êà∑Âú®Êâ©Â±ï‰∏≠ÊâßË°åÊàñÂèñÊ∂àÊüê‰∏™‰ªªÂä°ÔºåÊàñËÄÖÁõ¥Êé•ÂèØ‰ª•ÂøΩÁï•ËØ•Êâ©Â±ï„ÄÇÂú®ÂØπÁî®Êà∑ÁöÑÊìç‰ΩúÂÅöÂá∫ÂìçÂ∫îÁöÑËøáÁ®ã‰∏≠ÔºåÊâ©Â±ï‰ºöÊ†πÊçÆËΩΩ‰ΩìÂ∫îÁî®ÁöÑËØ∑Ê±ÇÁ´ãÂç≥ÂºÄÂßãÊâßË°å‰ªªÂä°Ôºå‰ΩÜÂ¶ÇÊûúÊúâÁâπÊÆäÈúÄË¶ÅÊó∂ÔºåÊâ©Â±ï‰πü‰ºöÂú®Á≥ªÁªüÂêéÂè∞ÊâßË°å‰ªªÂä°ÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÔºåËΩΩ‰Ωì‰∏ç‰ºöÊòæÁ§∫Êâ©Â±ïÁõ∏ÂÖ≥ÁïåÈù¢ÔºåÂπ∂‰∏îÁî®Êà∑ËøîÂõûÂà∞ÂÖ∂ÂÖàÂâçÂú®ËΩΩ‰ΩìÂ∫îÁî®‰∏≠ÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢É„ÄÇÂΩìÂ∫îÁî®Êâ©Â±ïÊâßË°åÂÆå‰ªªÂä°ÂêéÔºå‰∏çÁÆ°ÊòØÁ´ãÂàªËøîÂõûËøòÊòØÂª∂ËøüËøîÂõûÔºå‰ΩÜÊúÄÂêéÂÖ∂ÊâßË°åÁªìÊûúÈÉΩ‰ºöËøîÂõûÁªôËΩΩ‰ΩìÂ∫îÁî®„ÄÇ ÂΩìÊâ©Â±ïÂºÄÂßãÊâßË°å‰ªªÂä°‰πãÂêéÔºàÊàñËÄÖÂºÄÂßãÂú®Á≥ªÁªüÂêéÂè∞ÊâßË°å‰ªªÂä°ÔºâÔºåÁ≥ªÁªüÂ∞±‰ºöÁªàÊ≠¢Êâ©Â±ïÔºåÊØîÂ¶ÇÂõæ2-1‰∏≠ÁöÑÁ¨¨4Ê≠•„ÄÇ Â∫îÁî®Êâ©Â±ïÊòØÂ¶Ç‰ΩïËøõË°åÈÄö‰ø°ÁöÑÂΩìÂ∫îÁî®Êâ©Â±ïÂú®ËøêË°åÁöÑÊó∂ÂÄôÔºåÂÆÉÂè™‰ºöÁõ¥Êé•ÂíåËΩΩ‰ΩìÂ∫îÁî®Ôºàhost appÔºâËøõË°åÈÄö‰ø°ÔºåËÄåÊâ©Â±ïÂíå‰∏ª‰ΩìÂ∫îÁî®containing app‰πãÈó¥‰∏ç‰ºöÁõ¥Êé•ÈÄö‰ø°„ÄÇÂú®Êâ©Â±ïËøêË°åÁöÑËøáÁ®ã‰∏≠Ôºå‰∏ª‰ΩìÂ∫îÁî®Ôºàcontaining appÔºâÁîöËá≥ÈÉΩ‰∏çËøêË°å„ÄÇÂè¶Â§ñÔºåËΩΩ‰ΩìÂ∫îÁî®Ôºàhost appÔºâÂíå‰∏ª‰ΩìÂ∫îÁî®Ôºàcontaining appÔºâ‰πãÈó¥‰πü‰∏ç‰ºöËøõË°åÈÄö‰ø°„ÄÇÂõæ2-2‰∏≠ÊèèËø∞‰∫ÜËøêË°å‰∏≠ÁöÑÂ∫îÁî®Êâ©Â±ï„ÄÅËΩΩ‰ΩìÂ∫îÁî®Ôºàhost appÔºâ‰ª•Âèä‰∏ª‰ΩìÂ∫îÁî®Ôºàcontaining appÔºâËøô‰∏âËÄÖ‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ ËøêË°å‰∏≠ÁöÑÊâ©Â±ï‰ªÖÂíåËΩΩ‰ΩìÂ∫îÁî®ËøõË°åÈÄö‰ø° ÂΩì‰∏Ä‰∏™Êâ©Â±ïÈúÄË¶ÅÂíå‰∏ª‰ΩìÂ∫îÁî®containing appËøõË°åÈÄö‰ø°Êó∂ÔºåÂè™ËÉΩÂú®ËΩΩ‰ΩìÂ∫îÁî®Á°ÆÂÆöÁöÑ‰∏ä‰∏ãÊñáÁéØÂ¢É‰∏≠ËøõË°åÈó¥Êé•ÈÄö‰ø°„ÄÇÊØîÂ¶ÇÔºå‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÊúâÂèØËÉΩ‰ºöËøêË°åË∞ÉÁî®ÂÆÉÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇÂú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊâ©Â±ï‰ΩøÁî®‰∫Ü‰∏çËÉΩ‰∏é containing app ‰º†ÈÄíÊ∂àÊÅØÁöÑAPI„ÄÇÊ≠§Â§ñÔºåÂ∫îÁî®Êâ©Â±ï‰∏éÂÖ∂ containing app ÂèØ‰ª•Âú®‰∏Ä‰∏™ÂÆö‰πâ‰∏∫ÁßÅÊúâÁöÑÂÖ±‰∫´ÂÆπÂô®‰∏≠ËÆøÈóÆÊï∞ÊçÆ„ÄÇÂõæ2-3ÊèèËø∞‰∫ÜÊâ©Â±ïÂíå containing app ‰πãÈó¥ÁöÑÈó¥Êé•ÈÄö‰ø°Á±ªÂûã„ÄÇ ËøêË°å‰∏≠ÁöÑÊâ©Â±ïÂèØ‰ª•‰∏éÂÖ∂containing appËøõË°åÈó¥Êé•ÈÄö‰ø° Ê≥®ÊÑèÔºöÂú®Â∫ïÂ±ÇÔºåÁ≥ªÁªü‰ΩøÁî®ËøõÁ®ãÈó¥ÈÄö‰ø°Êù•Á°Æ‰øùÂ∫îÁî®Êâ©Â±ïÂíåÊâ©Â±ïËΩΩ‰ΩìÂ∫îÁî®ÂÖ±ÂêåÊù•ÂºÄÂêØÊó†ÁºùÁªìÂêà‰ΩìÈ™å„ÄÇÂú®‰Ω†ÁöÑ‰ª£Á†Å‰∏≠Ôºå‰Ω†Êó†ÈúÄËÄÉËôëËøô‰∫õÂ∫ïÂ±ÇÁöÑÈÄö‰ø°Êú∫Âà∂ÔºåÂõ†‰∏∫‰Ω†‰ΩøÁî®ÁöÑÊòØÊâ©Â±ïÁÇπÂíåÁ≥ªÁªüÊèê‰æõÁöÑÈ´òÁ∫ßAPI„ÄÇ ÂàõÂª∫Â∫îÁî®Êâ©Â±ïiOS8/OS X v10.10 ÂΩì‰Ω†ÂáÜÂ§áÂ•ΩÂºÄÂèë‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÊó∂ÔºåÂèØ‰ª•‰ªéÈÄâÊã©‰∏Ä‰∏™ÊîØÊåÅ‰Ω†ÊÉ≥ÊâßË°åÁöÑ‰ªªÂä°ÁöÑÊâ©Â±ïÁÇπÂºÄÂßã„ÄÇÁÑ∂ÂêéÈÄâÊã©ÈÄÇÁî®‰∫é‰Ω†ÊâÄÈÄâÁöÑÊâ©Â±ïÁÇπÁöÑXcodeÊ®°ÊùøÔºåÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØùÔºåÂèØ‰ΩøÁî®Ëá™ÂÆö‰πâ‰ª£Á†ÅÂíåËá™ÂÆö‰πâÁî®Êà∑ÁïåÈù¢Êù•Â¢ûÂº∫ÈªòËÆ§Êñá‰ª∂„ÄÇÊúÄÂêéÔºåÂú®‰Ω†Ë∞ÉËØïÂπ∂‰ºòÂåñ‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ï‰πãÂêéÔºåÂ∞±ÂèØ‰ª•ÊâìÂåÖËøõ‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫èÁªôÁî®Êà∑‰ΩøÁî®‰∫Ü„ÄÇ ‰ªéÈÄâÊã©Ê≠£Á°ÆÁöÑÊâ©Â±ïÁÇπÂºÄÂßãÊØè‰∏™Êâ©Â±ïÁÇπÈÉΩÈíàÂØπ‰∏Ä‰∏™ÂÆö‰πâÊòéÁ°ÆÁöÑÁî®Êà∑Âú∫ÊôØÔºå‰Ω†È¶ñÂÖàË¶ÅÊ∏ÖÊ•öËøô‰∏™Â∫îÁî®ËÉΩ‰∏∫Áî®Êà∑Êèê‰æõ‰ªÄ‰πàÊ†∑ÁöÑÂäüËÉΩÔºåÊâÄ‰ª•Ë¶ÅÈÄâÊã©‰∏Ä‰∏™ÊîØÊåÅËØ•ÂäüËÉΩÁöÑÊâ©Â±ïÁÇπ„ÄÇËøôÊòØÈùûÂ∏∏ÂÖ≥ÈîÆÁöÑÔºåÂõ†‰∏∫ÊØè‰∏™Êâ©Â±ïÁÇπÂÆö‰πâ‰∫Ü‰∏çÂêåÁöÑAPIÔºå‰∏∫‰Ω†Êèê‰æõ‰∏çÂêåÁöÑÂäüËÉΩÂºÄÂèëÔºåÊâÄ‰ª•Â¶ÇÊûúÈÄâÈîô‰∫ÜÊâ©Â±ïÁÇπÔºåÈÇ£‰πàÂæàÊúâÂèØËÉΩÊó†Ê≥ïÂÆûÁé∞ÊÉ≥Ë¶ÅÁöÑÂäüËÉΩ„ÄÇË°®1-1ÂàóÂá∫‰∫ÜiOSÂíåOS X‰∏≠ÊîØÊåÅÁöÑÊâÄÊúâÊâ©Â±ïÁÇπ„ÄÇ ÈÄâÂÆö‰∫Ü‰∏Ä‰∏™ÈÄÇÁî®‰∫éÂ∫îÁî®Êâ©Â±ïÁöÑÊâ©Â±ïÁÇπÂêéÔºåÂú®‰Ω†ÁöÑcontaining app‰∏≠‰ºöÊúâ‰∏Ä‰∏™Êñ∞ÁöÑTarget„ÄÇÊ∑ªÂä†Â∫îÁî®Êâ©Â±ïTargetÊúÄÁÆÄÂçïÁöÑÊñπÂºèÂ∞±ÊòØ‰ΩøÁî®XcodeÊèê‰æõÁöÑÊ®°ÊùøÔºåËøô‰∫õÊ®°Êùø‰∏∫Êâ©Â±ïÁÇπÊèê‰æõ‰∫ÜÈ¢ÑÈÖçÁΩÆ„ÄÇ ‰Ω†ÂèØ‰ª•ÈÄöËøáËèúÂçïÈÄâÊã© File &gt; New &gt; TargetÂú®‰Ω†ÁöÑXcodeÂ∑•Á®ã‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Êñ∞Target„ÄÇÂú®Â∑¶ËæπÁöÑ‰æßËæπÊ†è‰∏≠ÔºåÈÄâÊã©iOSÊàñOS XÁöÑApplication ExtensionÈÄâÈ°πÔºåÁÑ∂ÂêéÂú®Âè≥ËæπÈù¢ÊùøÂëàÁé∞ÁöÑXcode Ê®°Êùø‰∏≠ÈÄâÊã©‰Ω†ÊÉ≥Ë¶ÅÂàõÂª∫ÁöÑÂ∫îÁî®Êâ©Â±ïÊ®°ÊùøÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ÈÄâÊã©Â•ΩÊ®°ÊùøÔºåÂπ∂Âú®Â∑•Á®ã‰∏≠Ê∑ªÂä†TargetÔºåÂú®Ëá™ÂÆö‰πâÊâ©Â±ï‰ª£Á†Å‰πãÂâçÔºå‰Ω†ÂèØ‰ª•ËØïÁùÄÁºñËØëÂπ∂ËøêË°å‰∏Ä‰∏ãÈ°πÁõÆ„ÄÇÂ¶ÇÊûú‰Ω†ÊòØÂü∫‰∫éXcodeÊèê‰æõÁöÑÊ®°ÊùøÂàõÂª∫ÁöÑÊâ©Â±ïÔºåÈÇ£‰πàÂΩìÁºñËØëÊàêÂäüÂêéÔºåÂ∞±‰ºöÁîüÊàê‰∏Ä‰∏™Êâ©Â±ïÂêç‰∏∫ .appexÁöÑÂ∫îÁî®Êâ©Â±ïÂåÖ„ÄÇ Ê≥®ÊÑè64‰ΩçÁöÑÊû∂ÊûÑÔºö‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÊâ©Â±ïÂú®ArchitecturesËÆæÁΩÆ‰∏≠ÂøÖÈ°ªË¶ÅÂåÖÂê´arm64ÁöÑÊû∂ÊûÑÔºåÂê¶ÂàôÂú®‰∏ä‰º†App StoreÊó∂‰ºöË¢´ÊãíÁªù„ÄÇÂàõÂª∫ÂÆå‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÂêéÔºå‰Ω†ÂèØ‰ª•Âú®XcodeÁöÑ‚ÄúStandard architectures‚ÄùËÆæÁΩÆÈÄâÈ°π‰∏≠ËÆæÁΩÆarm64Êû∂ÊûÑ„ÄÇ Â¶ÇÊûú‰Ω†ÁöÑÂåÖÂê´Êâ©Â±ïÁöÑÂ∫îÁî®Á®ãÂ∫è‰ΩøÁî®‰∫Ü‰∏Ä‰∫õÂµåÂÖ•Ê°ÜÊû∂ÔºåÈÇ£‰πà‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫è‰πüÂøÖÈ°ªË¶ÅÂåÖÂê´arm64Êû∂ÊûÑÔºåÂê¶Âàô‰∏ä‰º†App StoreÊó∂‰πü‰ºöË¢´ÊãíÁªù„ÄÇ ÂÖ≥‰∫é64‰ΩçÊû∂ÊûÑÂºÄÂèëÁéØÂ¢ÉÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºåËØ∑Ê†πÊçÆ‰Ω†ÁöÑtargetÂπ≥Âè∞ÂèÇÈòÖ64-Bit Transition Guide for Cocoa TouchÊàñËÄÖ64-Bit Transition Guide for Cocoa„ÄÇ Âú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÂú®System PreferencesÊàñSettings‰∏≠ÂêØÁî®Â∫îÁî®Êâ©Â±ïÊàñËÄÖÊéà‰∫àÊùÉÈôêÊù•ÊµãËØïÈªòËÆ§ÁöÑÂ∫îÁî®Êâ©Â±ïÔºåÁÑ∂ÂêéÂèØ‰ª•ÈÄöËøáÂÖ∂‰ªñÂ∫îÁî®Êù•ËÆøÈóÆÂÆÉ„ÄÇÊØîÂ¶Ç‰Ω†ÂèØ‰ª•Âú®OS XÁ≥ªÁªü‰∏≠ÈÄöËøáSafari‰∏≠ÊâìÂºÄ‰∏Ä‰∏™È°µÈù¢Êù•ÊµãËØïÂàÜ‰∫´Êâ©Â±ïÔºåÁÇπÂáªÂàÜ‰∫´ÊåâÈíÆÔºåÁÑ∂ÂêéÈÄâÊã©‰Ω†Ë¶ÅÊµãËØïÁöÑÊâ©Â±ïÂç≥ÂèØ„ÄÇ Ê£ÄÊü•ÈªòËÆ§ÁöÑÊâ©Â±ïÊ®°Êùø‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊØè‰∏™Êâ©Â±ïÊ®°ÊùøÈÉΩÂåÖÂê´‰∏Ä‰∏™Â±ûÊÄßÂàóË°®Êñá‰ª∂ÔºàÂ∞±ÊòØInfo.plistÊñá‰ª∂ÔºâÔºå‰∏Ä‰∏™View ControllerÁ±ªÂíå‰∏Ä‰∏™ÈªòËÆ§ÁöÑUIÔºåËøô‰∫õÈÉΩÊòØÊâ©Â±ïÁÇπÂÆö‰πâÁöÑ„ÄÇÈªòËÆ§ÁöÑView ControllerÁ±ªÔºàÊàñprincipal classÔºâÈÉΩÂê´ÊúâÊâ©Â±ïÁÇπÂØπÂ∫îÂäüËÉΩÁöÑÊñπÊ≥ïÔºåÈúÄË¶ÅÊàë‰ª¨ÂéªÂÆûÁé∞„ÄÇ Â∫îÁî®Êâ©Â±ïTargetÁöÑInfo.plistÊñá‰ª∂Èô§‰∫ÜËØÜÂà´Êâ©Â±ïÁÇπÂ§ñËøòÁΩóÂàó‰∫ÜÂ∫îÁî®Êâ©Â±ïÁöÑËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇËØ•Êñá‰ª∂Ëá≥Â∞ëÂåÖÊã¨NSExtensionÂ≠óÂÖ∏‰ª•ÂèäÊâ©Â±ïÁÇπÊåáÂÆöÁöÑÂÖ∂‰ªñÈîÆÂÄºÂ≠óÂÖ∏„ÄÇ„ÄÇÊØîÂ¶ÇNSExtensionPointIdentifierÁöÑkeyÂÄºÂ∞±ÊòØÊâ©Â±ïÁÇπÁöÑÂèçÂêëDNSÂêçÁß∞ÔºåÊØîÂ¶Çcom.apple.widget-extension„ÄÇÂú®Â∫îÁî®Êâ©Â±ïÁöÑNSExtensionÂ≠óÂÖ∏‰∏≠ËøòÊúâÂÖ∂‰ªñÁöÑKeyÂíåÂÄºÔºö NSExtensionAttributesÔºöËøôÊòØ‰∏Ä‰∏™ÊèèËø∞Êâ©Â±ïÁÇπÂÖ∑‰ΩìÂ±ûÊÄßÁöÑÂ≠óÂÖ∏ÔºåÂ∞±ÂÉèÁÖßÁâáÁºñËæëÊâ©Â±ï‰∏≠ÁöÑPHSupportedMediaTypes‰∏ÄÊ†∑„ÄÇNSExtensionPrincipalClassÔºöËøôÊòØÊâ©Â±ïÊ®°ÊùøÂàõÂª∫ÁöÑ‰∏ª‰ΩìËßÜÂõæÊéßÂà∂Âô®Á±ªÔºåÊØîÂ¶ÇSharingViewController„ÄÇÂΩìËΩΩ‰ΩìÂ∫îÁî®Á®ãÂ∫èÔºàhost appÔºâË∞ÉÁî®Êâ©Â±ïÊó∂ÔºåÊâ©Â±ïÁÇπ‰ºöÂÆû‰æãÂåñËøô‰∏™Á±ª„ÄÇNSExtensionMainStoryboardÔºàÂè™ÈÄÇÁî®‰∫éiOSÔºâÔºöÊâ©Â±ïÈªòËÆ§ÁöÑStoryboardÊñá‰ª∂Ôºå‰∏ÄËà¨Âêç‰∏∫MainInterface„ÄÇ Èô§‰∫ÜÂú®Â±ûÊÄßÂàóË°®‰∏≠ËÆæÁΩÆ‰ª•Â§ñÔºåÊâ©Â±ïÊ®°ÊùøËøòÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∫õÈªòËÆ§ÁöÑÂäüËÉΩ„ÄÇÊØè‰∏™Êâ©Â±ïÁÇπÂèØ‰ª•ÂÆö‰πâÊâ©Â±ïÁÇπÊîØÊåÅÁöÑÈÄÇÁî®‰∫éÊüê‰∏™Á±ªÂûã‰ªªÂä°ÁöÑÂäüËÉΩ„ÄÇÊØîÂ¶ÇÔºå‰∏Ä‰∏™iOSÁöÑDocument ProviderÊâ©Â±ïÂ∞±ÂåÖÂê´com.apple.security.application-groupsÁöÑÂäüËÉΩ„ÄÇ ÊâÄÊúâÁöÑOS XÊâ©Â±ïÊ®°ÊùøÈÉΩÈªòËÆ§ÂåÖÂê´Â∫îÁî®Á®ãÂ∫èÊ≤ôÁÆ±Âíåcom.apple.security.files.user-selected.read-onlyÂäüËÉΩ„ÄÇÂ¶ÇÊûú‰Ω†ÂºÄÂèëÁöÑÊâ©Â±ïÈúÄË¶ÅÈÄÇÁî®ÁΩëÁªúÔºåÊàñËÄÖËÆøÈóÆÁî®Êà∑ÁöÑÁõ∏ÂÜåÔºåÂÜçÊàñËÄÖÈúÄË¶ÅËÆøÈóÆÁî®Êà∑ÁöÑÈÄöËÆØÂΩïÔºåÈÇ£‰πà‰Ω†Â∞±ÈúÄË¶ÅÈ¢ùÂ§ñÂÆö‰πâËøô‰∫õÂäüËÉΩ„ÄÇ Ê≥®ÊÑèÔºöÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÁî®Êà∑ÂÖÅËÆ∏‰∏ªÂ∫îÁî®Á®ãÂ∫èÔºàcontaining appÔºâËÆøÈóÆ‰ªñ‰ª¨ÁöÑÁßÅÊúâÊï∞ÊçÆÔºåÈÇ£‰πà‰∏ªÁ®ãÂ∫èÈáåÁöÑÊâ©Â±ï‰πüÂêåÊ†∑Êã•ÊúâËØ•ÊùÉÈôê„ÄÇ ÂìçÂ∫î‚ÄúËΩΩ‰ΩìÁ®ãÂ∫è‚ÄùÔºàHost AppÔºâÁöÑËØ∑Ê±ÇÊ≠£Â¶Ç‰Ω†Âú®Understand How an Extension WorksËøôÁØáÊñáÊ°£‰∏≠‰∫ÜËß£ÁöÑÔºåÂΩìÁî®Êà∑Âú®host appÈÄâÊã©‰∏Ä‰∏™Êâ©Â±ïÔºåÂπ∂‰Ωøhost appÂêëÊâ©Â±ïÂèëÂá∫ËØ∑Ê±ÇÊó∂ÔºåÂ∞±‰ºöÊâìÂºÄÊâ©Â±ï„ÄÇËØ¥ÁöÑÂÜçËØ¶ÁªÜ‰∏ÄÁÇπÔºå‰Ω†ÁöÑÊâ©Â±ï‰ºöÊ†πÊçÆÁî®Êà∑ÁöÑÊìç‰ΩúÊé•Êî∂Âà∞ËØ∑Ê±ÇÔºåÂ∏ÆÁî®Êà∑ÊâßË°å‰ªªÂä°ÔºåÁÑ∂ÂêéÂÆåÊàêÊàñËÄÖÂÖ≥Èó≠ËØ∑Ê±Ç„ÄÇÊØîÂ¶ÇËØ¥Ôºå‰∏Ä‰∏™ÂàÜ‰∫´Êâ©Â±ïÊî∂Âà∞‰∫ÜÊù•Ëá™host appÁöÑËØ∑Ê±ÇÔºåÁÑ∂ÂêéËØ•Êâ©Â±ï‰ºöÊâìÂºÄÁõ∏Â∫îËßÜÂõæÊù•ÂìçÂ∫îËØ∑Ê±Ç„ÄÇÁÑ∂ÂêéÁî®Êà∑Âú®ËØ•ÁïåÈù¢‰∏≠ÁºñËæëË¶ÅÂàÜ‰∫´ÁöÑÂÜÖÂÆπÔºåÁî®Êà∑ÂèØ‰ª•ÈÄâÊã©ÂèëÈÄÅÊàñËÄÖ‰∏çÂèëÈÄÅÔºåÊúÄÂêéÊâ©Â±ïÊ†πÊçÆÁî®Êà∑ÁöÑË°å‰∏∫ÂìçÂ∫îÂÆåÊàêËøòÊòØÂÖ≥Èó≠ËØ∑Ê±Ç„ÄÇ ÂΩìhost appÂêëÊâ©Â±ïÂèëÂá∫ËØ∑Ê±ÇÊó∂Ôºå‰∏ÄËà¨ÈÉΩ‰ºöÊåáÊòéÊâ©Â±ïËøêË°åÁöÑ‰∏ä‰∏ãÊñá„ÄÇÂØπ‰∫éÂæàÂ§öÊâ©Â±ïÊù•ËØ¥ÔºåÊúÄÈáçË¶ÅÁöÑ‰∏ÄÈÉ®ÂàÜÂ∞±ÊòØË¶ÅËÆæÁΩÆ‰∏Ä‰∏™Â∑•‰ΩúÈ°πÔºåËøô‰∏™Â∑•‰ΩúÈ°πÂ∞±ÊòØÁî®Êà∑Âú®‰ΩøÁî®Ëøô‰∏™Êâ©Â±ïÊó∂Ë¶ÅÂ§ÑÁêÜÁöÑÂ∑•‰ΩúÈ°π„ÄÇÊØîÂ¶ÇËØ¥Ôºå‰∏Ä‰∏™ÂàÜ‰∫´Êâ©Â±ïÁöÑ‰∏ä‰∏ãÊñáÂèØËÉΩÂ∞±ÂåÖÂê´Áî®Êà∑ÈÄâÊã©ÁöÑÊÉ≥Ë¶ÅÂàÜ‰∫´ÁöÑ‰∏ÄÊÆµÊñáÂ≠ó„ÄÇ ÂΩìhost appÂèëÂá∫‰∏Ä‰∏™ËØ∑Ê±ÇÔºàÈÄöÂ∏∏Â∞±ÊòØË∞ÉÁî®beginRequestWithExtensionContext:ÊñπÊ≥ïÔºâÔºå‰Ω†ÁöÑÊâ©Â±ïÂ∞±ÂèØ‰ª•Áî®‰∏ªËØïÂõæÊéßÂà∂Âô®‰∏≠ÁöÑ extensionContext Â±ûÊÄßÊù•Ëé∑Âæó‰∏ä‰∏ãÊñáÔºåÁÑ∂Âêé‰ΩøÁî® NSExtensionContext Á±ªËß£Êûê‰∏ä‰∏ãÊñáÂπ∂Ëé∑ÂæóÂ∑•‰ΩúÈ°π„ÄÇÈÄöÂ∏∏ÔºåÂú®ËßÜÂõæÊéßÂà∂Âô®ÁöÑ loadView ÊñπÊ≥ï‰∏≠Ëß£Êûê‰∏ä‰∏ãÊñáÂπ∂Ëé∑ÂæóÂ∑•‰ΩúÈ°πÔºåËøôÊ†∑Âú®Âä†ËΩΩÂÆåËßÜÂõæÂêéÂ∞±ÂèØ‰ª•Â∞Ü‰ø°ÊÅØÊòæÁ§∫Âú®ËßÜÂõæÁïåÈù¢‰∏≠‰∫Ü„ÄÇËé∑ÂèñÊâ©Â±ï‰∏ä‰∏ãÊñáÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†ÅÔºö NSExtensionContext *myExtensionContext = [self extensionContext]; ÊúâÊÑèÊÄùÁöÑÊòØÂÜÖÂÆπÂØπË±°ÁöÑ inputItems Â±ûÊÄßÔºåÂÆÉÂåÖÂê´‰∫ÜÂ∫îÁî®Êâ©Â±ïÈúÄË¶Å‰ΩøÁî®ÁöÑÂ∑•‰ΩúÈ°π„ÄÇinputItems Â±ûÊÄßÂåÖÂê´‰∏Ä‰∏™ NSExtensionItem Á±ªÂûãÁöÑÊï∞ÁªÑÔºåÊï∞ÁªÑÁöÑÊØè‰∏Ä‰∏™ÊàêÂëòÈÉΩÂåÖÂê´‰∏Ä‰∏™ÂèØÊâßË°åÁöÑÂ∑•‰ΩúÈ°π„ÄÇ‰ªé‰∏ä‰∏ãÊñá‰∏≠Ëé∑ÂèñÂ∑•‰ΩúÈ°πÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ã‰ª£Á†ÅÔºö NSArray *inputItems = [myExtensionContext inputItems]; ÊØè‰∏™ NSExtensionItem ÂØπË±°ÈÉΩÂåÖÂê´Ëã•Âπ≤‰∏™ÊèèËø∞Â∑•‰ΩúÈ°πÁöÑÂ±ûÊÄßÔºåÊØîÂ¶ÇÊ†áÈ¢ò„ÄÅÊñáÊú¨ÂÜÖÂÆπ„ÄÅÈôÑ‰ª∂‰ø°ÊÅØ„ÄÅÁî®Êà∑‰ø°ÊÅØ„ÄÇ Ê≥®ÊÑè attachments Â±ûÊÄßÔºåÂÆÉÂåÖÂê´‰∏Ä‰∏™‰∏éÂ∑•‰ΩúÈ°πÁõ∏ÂÖ≥ËÅîÁöÑÂ™í‰ΩìÊï∞ÊçÆÊï∞ÁªÑ„ÄÇÊØîÂ¶ÇËØ¥‰∏Ä‰∏™ÂàÜ‰∫´ËØ∑Ê±ÇÁöÑÂ∑•‰ΩúÈ°πÔºåÈÇ£‰πà attachments Â±ûÊÄßÂèØËÉΩÂ∞±ÂåÖÂê´Áî®Êà∑ÊÉ≥Ë¶ÅÂàÜ‰∫´ÁΩëÈ°µ‰∏≠ÁöÑ‰ø°ÊÅØ„ÄÇ ÂΩìÁî®Êà∑Â∑•‰ΩúÈ°πÂ§ÑÁêÜÂÆåÂêéÔºåÂ∫îÁî®Êâ©Â±ïÈÄöÂ∏∏‰ºöÁªôÁî®Êà∑‰∏§‰∏™ÈÄâÊã©ÔºåÂÆåÊàê‰ªªÂä°ÊàñÂèñÊ∂à‰ªªÂä°„ÄÇÊ†πÊçÆÁî®Êà∑ÁöÑÈÄâÊã©ÔºåÊâ©Â±ï‰ºöË∞ÉÁî® completeRequestReturningItems:expirationHandler:completion: ÊñπÊ≥ïÔºåÊääÂ∑•‰ΩúÈ°πËøîÂõûÁªô host appÔºåÊàñËÄÖ‰ºöË∞ÉÁî® cancelRequestWithError: ÊñπÊ≥ïÔºåËøîÂõû‰∏Ä‰∏™ÈîôËØØ‰ª£Á†Å„ÄÇ Âú®iOS‰∏≠Ôºå‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫èÊâ©Â±ïÂèØËÉΩÈúÄË¶ÅÊõ¥Â§öÁöÑÊó∂Èó¥ÂéªÂ§ÑÁêÜÊΩúÂú®ÁöÑÈúÄÈïøÊó∂Èó¥Â§ÑÁêÜÁöÑ‰ªªÂä°ÔºåÊØîÂ¶ÇËØ¥ÂæÄÁΩë‰∏ä‰∏ä‰º†ÂÜÖÂÆπ„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰Ω†Â∞±Ë¶Å‰ΩøÁî® NSURLSession Á±ªÂ∞ÜËØ•‰ªªÂä°ËΩ¨‰∏∫ÂêéÂè∞Â§ÑÁêÜÁöÑ‰ªªÂä°„ÄÇÂõ†‰∏∫ËΩ¨Êç¢Âà∞ÂêéÂè∞Â§ÑÁêÜ‰ªªÂä°ÈúÄË¶ÅÁî®‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ∫øÁ®ãÔºåÊâÄ‰ª•Âú®Êâ©Â±ïÂÆåÊàê‰∏ªÂ∫îÁî®ËØ∑Ê±ÇÂπ∂ÂÖ≥Èó≠Âêé‰ªçÁÑ∂ÂèØ‰ª•Â§ÑÁêÜ„ÄÇÊÉ≥‰∫ÜËß£Êõ¥Â§öÂÖ≥‰∫éÊâ©Â±ï‰∏≠NSURLSessionÁ±ªÁöÑÁî®Ê≥ïÔºåËØ∑ÂèÇÈòÖÔºöPerforming Uploads and Downloads„ÄÇ ÈáçË¶ÅÔºöËôΩÁÑ∂‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÂêéÂè∞URLÊù•‰∏ä‰º†Êàñ‰∏ãËΩΩ‰ªªÂä°Ôºå‰ΩÜÊòØÊúâ‰∏Ä‰∫õÁ±ªÂûãÁöÑÂêéÂè∞‰ªªÂä°ÔºåÊØîÂ¶ÇÊîØÊåÅ VoIp ÊàñËÄÖÂú®ÂêéÂè∞Êí≠ÊîæÈü≥‰πêÁöÑ‰ªªÂä°ÔºåÊòØ‰∏çËÉΩÈÄöËøáÊâ©Â±ïÊù•ÂÆûÁé∞ÁöÑ„ÄÇ Â¶ÇÊûú‰Ω†Â∫îÁî®Êâ©Â±ïÁöÑInfo.plistÊñá‰ª∂‰∏≠Âê´Êúâ UIBackgroundModes ÂÖ≥ÈîÆÂ≠óÔºåÈÇ£‰πàÂú®‰∏ä‰º†App StoreÊó∂‰ºöË¢´ÊãíÁªù„ÄÇÔºàÊÉ≥‰∫ÜËß£Êõ¥Â§öÂÖ≥‰∫é UIBackgroundModes ÂÖ≥ÈîÆÂ≠óÁöÑÂÜÖÂÆπÔºåËØ∑ÂèÇÈòÖ Information Property List Key Reference ‰∏≠ÁöÑ UIBackgroundModesÔºâ ‰ºòÂåñÊïàÁéáÂíåÊÄßËÉΩÂ∫îÁî®Êâ©Â±ïÂú®ÂÜÖÂ≠ò‰ΩøÁî®‰ºòÂÖàÁ∫ß‰∏äË¶ÅÊòéÊòæ‰Ωé‰∫éÂΩìÂâçËøêË°åÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ‰∏çÁÆ°ÊòØ iOS ËøòÊòØ OS XÔºåÁ≥ªÁªüÈÉΩ‰ºöÊØ´‰∏çÁäπË±´Âú∞ÁªàÊ≠¢Êâ©Â±ïÔºåÂõ†‰∏∫Áî®Êà∑ÊÉ≥ËøîÂõûÂà∞host app‰∏≠ÁöÑ‰∏ªË¶ÅÁõÆÊ†á‰∏≠„ÄÇ‰ΩÜÊòØ‰πüÊúâ‰∏Ä‰∫õÂ∫îÁî®Êâ©Â±ïÁöÑÂÜÖÂ≠ò‰ΩøÁî®‰ºòÂÖàÁ∫ßË¶ÅÈ´ò‰∫éÂÖ∂‰ªñÊâ©Â±ïÔºåÊØîÂ¶ÇËØ¥widgetsÂ∞±Ë¶ÅÊ±ÇË¶ÅÈ´ò‰∏Ä‰∫õÔºåÂõ†‰∏∫ÂÆÉË¶ÅÂÆûÊó∂ÁöÑÊòæÁ§∫‰∏Ä‰∫õ‰ø°ÊÅØÔºåÂõ†‰∏∫‰∏ÄËà¨Áî®Êà∑Êõ¥ÂÄæÂêë‰∫éÂêåÊó∂ÂºÄÂêØÂ§ö‰∏™widgets„ÄÇ ‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÂπ∂‰∏çÊã•Êúâ‰∏ªÂæ™ÁéØÁ∫øÁ®ãÔºå‰Ω†Ë¶ÅÈÅµÂæ™Ëøô‰∏ÄËßÑÂàôÔºå‰ª•‰æøËÆ©Êâ©Â±ïÂú®‰∏ªÂæ™ÁéØÁ∫øÁ®ã‰∏≠ÂèëÊå•ÊúÄÂ•ΩÁöÑÊÄßËÉΩ„ÄÇÊØîÂ¶ÇËØ¥ÔºåÂ¶ÇÊûú‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÈòªÊ≠¢‰∫Ü‰∏ªÂæ™ÁéØÁ∫øÁ®ãÔºåÈÇ£‰πàÂú®Áî®Êà∑‰ΩøÁî®‰∏ªÂ∫îÁî®Á®ãÂ∫èÁöÑËøáÁ®ã‰∏≠‰ºöÈÄ†ÊàêÈùûÂ∏∏Á≥üÁ≥ïÁöÑÁî®Êà∑‰ΩìÈ™åÊïàÊûú„ÄÇÊàë‰ª¨ÈúÄË¶ÅËÆ∞‰ΩèÁöÑ‰∏ÄÁÇπÊòØÔºåGPUÂú®Á≥ªÁªü‰∏≠ÊòØ‰∏Ä‰∏™ÂÖ±‰∫´ÁöÑËµÑÊ∫êÔºåÊâÄ‰ª•Â∫îÁî®Êâ©Â±ï‰∏ç‰ºöÂæóÂà∞ÂæàÈ´òÁöÑ‰ºòÂÖàÁ∫ßÁÖßÈ°æ„ÄÇÊØîÂ¶ÇËØ¥ÔºåÂ¶ÇÊûú‰Ω†Ê≠£Âú®Áé©‰∏Ä‰∏™ÂØπGPUÊ∂àËÄóÂæàÈ´òÁöÑÊ∏∏ÊàèÔºåÈÇ£‰πàÁî±‰∫éÂÜÖÂ≠òÂéãÂäõÊØîËæÉÂ§ßÔºåÂÆÉÂ∞±ÊúâÂèØËÉΩ‰ºöÈÄâÊã©ÂÖ≥Èó≠Today widget„ÄÇ ËÆæËÆ°‰∏Ä‰∏™Á≤æÁÆÄÁöÑÁî®Êà∑ÁïåÈù¢Â§ßÂ§öÊï∞ÁöÑÊâ©Â±ïÁÇπÈÉΩË¶ÅÊ±Ç‰Ω†ÂêëÁî®Êà∑Êèê‰æõ‰∏Ä‰∫õËá™ÂÆö‰πâÁöÑÁïåÈù¢ÔºåÂÆÉÂú®Áî®Êà∑ÊâìÂºÄ‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÊó∂ÂëàÁé∞ÁªôÁî®Êà∑„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂ∫îÁî®Êâ©Â±ïÁöÑÁïåÈù¢Ë¶ÅÂ∞ΩÂèØËÉΩÁöÑÁÆÄÁ∫¶„ÄÅÂÜÖÊïõÔºåÂπ∂‰∏ªË¶ÅÂÖ≥Ê≥®‰∏Ä‰∏™Âçï‰∏Ä‰ªªÂä°„ÄÇ‰∏∫‰∫ÜÊèêÈ´òÊÄßËÉΩÂíåÁî®Êà∑‰ΩìÈ™åÊïàÊûúÔºå‰Ω†Ë¶ÅÈÅøÂÖç‰∏éËØ•Êâ©Â±ïÂäüËÉΩÊó†ÂÖ≥ÁöÑÁïåÈù¢Âá∫Áé∞„ÄÇ Â§ßÂ§öÊï∞Xcode Êèê‰æõÁöÑÂ∫îÁî®Êâ©Â±ïÊ®°ÊùøÈÉΩÂåÖÂê´‰∏Ä‰∏™ÂàùÂßãÁïåÈù¢Êñá‰ª∂Ôºå‰Ω†ÂèØ‰ª•‰ªéËøô‰∏™Êñá‰ª∂‰∏≠ËÆæËÆ°ÁïåÈù¢ÂºÄÂßã„ÄÇ Âú®Áî®Êà∑ÁöÑÊÉØÊÄßÊÄùÁª¥‰∏≠Ôºå‰∏ÄËà¨‰ªñ‰ª¨ÈÉΩÊòØÈÄöËøáÂ∫îÁî®Êâ©Â±ïÁöÑÂõæÊ†áÊù•Ëæ®ËØÜÊâ©Â±ïÂäüËÉΩÁöÑ„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂ∫îÁî®Êâ©Â±ïÁöÑÂõæÊ†áÂíåÂÆÉÁöÑ‰∏ª‰ΩìÂ∫îÁî®ÁöÑÂõæÊ†áÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ‰ΩøÁî®‰∏ª‰ΩìÂ∫îÁî®ÁöÑÂõæÊ†á‰Ωú‰∏∫Â∫îÁî®Êâ©Â±ïÁöÑÂõæÊ†áÊúâÂà©‰∫éÁî®Êà∑ÂéªÂà§Êñ≠Ëøô‰∏™Êâ©Â±ïÁöÑÊù•Ê∫êÔºå‰πüÂ∞±ÊòØËØ¥ËÆ©Áî®Êà∑Á°Æ‰ø°Ëøô‰∏™Êâ©Â±ïÊòØÊù•Ê∫ê‰∫é‰ªñ‰ª¨ÂÆâË£ÖÁöÑ‰∏ª‰ΩìÂ∫îÁî®„ÄÇÂΩìÁÑ∂‰πüÊúâ‰∏Ä‰∫õ‰æãÂ§ñ„ÄÇ Âú®iOS‰∏≠ÔºåËá™ÂÆö‰πâÁöÑActionÊâ©Â±ïÁöÑÂõæÊ†á‰ΩøÁî®ÂÖ∂‰∏ª‰ΩìÂ∫îÁî®ÁöÑÂõæÊ†á„ÄÇÂú®OS X‰∏≠ÔºåÂ¶ÇÊûú‰∏Ä‰∏™Êâ©Â±ïÁöÑ‰∏ª‰ΩìÁ®ãÂ∫èÂè™ÊòØÁî®Êù•ÂÆâË£ÖÊâ©Â±ïÁöÑÂ∞ÅË£ÖÂåÖÔºåÈÇ£‰πàËØ•Êâ©Â±ïË¶ÅÊèê‰æõ‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂõæÊ†áÔºåÂê¶ÂàôÈÉΩ‰ºö‰ΩøÁî®‰∏ª‰ΩìÂ∫îÁî®ÁöÑÂõæÊ†á„ÄÇ Â∫îÁî®Êâ©Â±ïË¶Å‰ΩøÁî®‰∏Ä‰∏™ÁÆÄÁü≠ÔºåËØ≠‰πâÊòéÁ°ÆÁöÑÂêçÂ≠óÔºåËøôËÉΩËÆ©Â∏ÆÂä©Áî®Êà∑ÊääÊâ©Â±ïÂíå‰Ω†ÁöÑ‰∏ªÂ∫îÁî®Á®ãÂ∫èËÅîÁ≥ªËµ∑Êù•ÔºåÂπ∂‰∏îËÉΩËÆ©‰ªñ‰ª¨Âú®Á≥ªÁªü‰∏≠Êõ¥Â•ΩÁöÑÁÆ°ÁêÜÂ∫îÁî®Êâ©Â±ï„ÄÇÈÄöËøáÂ∫îÁî®Êâ©Â±ï TargetÁöÑ CFBundleDisplayName Â±ûÊÄßÊù•ËÆæÁΩÆÂÆÉÁöÑÂêçÁß∞Ôºå‰Ω†ÂèØ‰ª•Âú®Info.plistÊñá‰ª∂‰∏≠‰øÆÊîπÂÆÉ„ÄÇÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÁªô CFBundleDisplayNameËÆæÁΩÆÂÄºÔºå‰πüÂ∞±ÊòØÊ≤°ÊúâÁªôÊâ©Â±ïËÆæÁΩÆÂêçÁß∞ÔºåÈÇ£‰πàÂ∫îÁî®Êâ©Â±ï‰ºö‰ΩøÁî®ÂÖ∂‰∏ª‰ΩìÂ∫îÁî®ÁöÑÂêçÁß∞Ôºå‰πüÂ∞±ÊòØCFBundleNameÂ±ûÊÄß‰∏≠ÁöÑÂÄº„ÄÇ ÂêåÊó∂‰∏Ä‰∫õÂ∫îÁî®Êâ©Â±ï‰πüÈúÄË¶Å‰∏Ä‰∏™ÁÆÄÁü≠ÁöÑËØ¥Êòé„ÄÇÊØîÂ¶ÇËØ¥ÔºåOS X‰∏≠ÁöÑ Widget Êâ©Â±ïÂ∞±‰ºöÊòæÁ§∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊèèËø∞ÔºåËøôËÉΩÂ∏ÆÂä©Áî®Êà∑Êõ¥Â•ΩÁöÑÈÄâÊã©‰ªñ‰ª¨ÊÉ≥Ë¶ÅÊòæÁ§∫Âú®‰ªäÊó•ÈÄöÁü•‰∏≠ÁöÑWidgetÊâ©Â±ï„ÄÇÊâ©Â±ïÁöÑÊèèËø∞ÂèØ‰ª•Âú® InfoPlist.strings Êñá‰ª∂ÁöÑwidget.description Â±ûÊÄß‰∏≠ËÆæÁΩÆ„ÄÇ Á°Æ‰øùÊÇ®ÁöÑiOS AppÊâ©Â±ïÈÄÇÁî®‰∫éÊâÄÊúâËÆæÂ§áÊÇ®ÂøÖÈ°ªÁ°Æ‰øùÊèê‰∫§ÁöÑÂ∫îÁî®Êâ©Â±ïÁ®ãÂ∫èÊòØÈÄöÁî®ÁöÑÔºöÂÆÉÂøÖÈ°ªÈÄÇÁî®‰∫éiPhoneÔºåiPod touchÂíåiPad„ÄÇÊó†ËÆ∫ÊÇ®‰∏∫ÂåÖÂê´ÁöÑÂ∫îÁî®ÈÄâÊã©Âì™‰∏™ÁõÆÊ†áËÆæÂ§áÁ≥ªÂàóÔºåÊ≠§Ë¶ÅÊ±ÇÂùáÈÄÇÁî®„ÄÇXcode‰∏≠ÁöÑÂ∫îÁî®Á®ãÂ∫èÊâ©Â±ïÊ®°ÊùøÂ∑≤ÈíàÂØπÈÄöÁî®ÁõÆÊ†áËÆæÂ§áÁ≥ªÂàóËøõË°å‰∫ÜÊ≠£Á°ÆÈÖçÁΩÆ„ÄÇ Ë¶ÅÂ£∞ÊòéÊÇ®ÁöÑÂ∫îÁî®Êâ©Â±ïÁ®ãÂ∫èÊòØÈÄöÁî®ÁöÑÔºåËØ∑‰ΩøÁî®Xcode‰∏≠ÁöÑÁõÆÊ†áËÆæÂ§áÁ≥ªÂàóÊûÑÂª∫ËÆæÁΩÆÔºåÊåáÂÆö‚ÄúiPhone / iPad‚ÄùÂÄº„ÄÇ Á°Æ‰øùÊÇ®ÁöÑÂ∫îÁî®Êâ©Â±ïÁ®ãÂ∫èÂÖ∑ÊúâÈÄöÁî®ÊÄß Âú®keyboard projectÁöÑXcodeÈ°πÁõÆÂØºËà™Âô®‰∏≠ÔºåÈÄâÊã©È°πÁõÆÊñá‰ª∂„ÄÇÂ¶ÇÊûúÈöêËóè‰∫ÜÈ°πÁõÆÁºñËæëÂô®‰∏≠ÁöÑprojectÂíåtargetsÂàóË°®ÔºåËØ∑ÊòæÁ§∫ÂÆÉ„ÄÇ‰∏∫Ê≠§ÔºåËØ∑ÂçïÂáªprojectÁºñËæëÂô®ÈÄâÈ°πÂç°Ê†èÂ∑¶‰æßÁöÑÊåâÈíÆ„ÄÇ Âú®project Âíå targetsÂàóË°®ÁöÑtargetsÁªÑ‰∏≠ÔºåÈÄâÊã©Â∫îÁî®Êâ©Â±ïÁ®ãÂ∫èÁöÑtargets„ÄÇ Âú®projectÁºñËæëÂô®‰∏≠ÈÄâÊã©Build SettingsÈÄâÈ°πÂç°„ÄÇÁ°Æ‰øùÈÄâ‰∏≠Basic Âíå CombinedÊåâÈíÆÔºå‰ª•‰æø‰∫éÊÇ®Êõ¥ËΩªÊùæÂú∞ÊâæÂà∞ÊâÄÈúÄÁöÑËÆæÁΩÆ„ÄÇ Âú®projectÁºñËæëÂô®ÁöÑDeployment group‰∏≠ÔºåÊü•Áúã‚ÄúTargeted Device Family‚ÄùËÆæÁΩÆ„ÄÇÂØπ‰∫éDebugÂíåReleaseÈÖçÁΩÆÔºåÂÄºÂ∫î‰∏∫‚ÄúiPhone / iPad‚Äù„ÄÇÂ¶ÇÊûúÊÇ®ÊâæÂà∞‰∏çÂêåÁöÑÂÄºÔºåËØ∑Â∞ÜÂÖ∂Êõ¥Ê≠£‰∏∫‚ÄúiPhone / iPad‚Äù„ÄÇ Âú®ËÆæËÆ°ÂíåÊûÑÂª∫Â∫îÁî®Êâ©Â±ïÊó∂ ‰ΩøÁî®Auto LayoutÂíåsize classesÁ±ª„ÄÇÊµãËØïÊÇ®ÁöÑÂ∫îÁî®Êâ©Â±ïÁ®ãÂ∫èÔºå‰ª•Á°Æ‰øùÂÖ∂Á¨¶ÂêàÊÇ®ÂØπÊâÄÊúâËÆæÂ§áÂ§ßÂ∞èÂíåÊñπÂêëÁöÑÈ¢ÑÊúüË°å‰∏∫„ÄÇÂ¶Ç‚Äú Simulator User GuideÊâÄËø∞ÔºåÂú®iOSÊ®°ÊãüÂô®‰∏≠ÊâßË°åÊ≠§Êìç‰ΩúÔºåÂ¶ÇÊûúÂèØËÉΩÔºåËøòÂèØ‰ª•Âú®‰∏§‰∏™ÊñπÂêë‰∏äÂØπÁâ©ÁêÜËÆæÂ§áËøõË°åÊµãËØï„ÄÇ ËØ∑ËÆ∞‰ΩèÔºåÂç≥‰ΩøÊÇ®ÁöÑ‰∏ª‰ΩìÂ∫îÁî®(containing app)‰ªÖÈíàÂØπiPadËÆæÂ§áÁ≥ªÂàóÔºåÊÇ®ÊâÄÂåÖÂê´ÁöÑÂ∫îÁî®Êâ©Â±ïÁ®ãÂ∫è‰πü‰ºö‰ª•ÂÖºÂÆπÊ®°ÂºèËøêË°åÊòæÁ§∫Âú®ÁöÑiPhoneÂ∫îÁî®‰∏≠„ÄÇ ÈáçË¶ÅË¶ÅÈÄöËøáApp ReviewÔºåÊÇ®ÂøÖÈ°ªÂ∞Ü‚ÄúiPhone / iPad‚ÄùÔºàÊúâÊó∂Áß∞‰∏∫*universal)*ÔºâÊåáÂÆö‰∏∫Â∫îÁî®Êâ©Â±ïÁ®ãÂ∫èÁöÑÁõÆÊ†áËÆæÂ§áÁ≥ªÂàóÔºåÊó†ËÆ∫ÊÇ®‰∏∫‰∏ª‰ΩìÂ∫îÁî®(containing app)ÈÄâÊã©Âì™‰∏™ÁõÆÊ†áËÆæÂ§áÁ≥ªÂàó„ÄÇ Âú®‰ª•ÂêéÁöÑiOSÊõ¥Êñ∞‰∏≠ÔºåÂ∫îÁî®Êâ©Â±ïÁ®ãÂ∫è‰ªÖÂú®Êâ©Â±ïÁ®ãÂ∫è‰∏ª‰ΩìÂ∫îÁî®Êú¨Êú∫ÊîØÊåÅÁöÑËÆæÂ§áÔºàÊàñËÆæÂ§áÂÖºÂÆπÊ®°ÂºèÔºâ‰∏äËøêË°å„ÄÇ‰æãÂ¶ÇÔºåÂú®ÂÖºÂÆπÊ®°Âºè‰∏ã‰ΩøÁî®iPhoneÂ∫îÁî®Á®ãÂ∫èÊó∂ÔºåÂú®Âè™ÊúâiPadÁöÑ‰∏ª‰ΩìÂ∫îÁî®(containing app)Êèê‰æõÁöÑÊâ©Â±ïÁ®ãÂ∫èÂ∞Ü‰∏çÂèØËßÅ„ÄÇ‰∏∫Á°Æ‰øùËé∑ÂæóÊúÄ‰Ω≥Áî®Êà∑‰ΩìÈ™åÔºåÊàë‰ª¨Âª∫ËÆÆÊÇ®ÁöÑ‰∏ª‰ΩìÂ∫îÁî®(containing app)ÂíåÂÖ∂Â∫îÁî®Êâ©Â±ïÁ®ãÂ∫èÊòØÈÄöÁî®ÁöÑ„ÄÇ Ë∞ÉËØïÔºåÈÖçÁΩÆÂíåÊµãËØï‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ï Ê≥®ÊÑèÔºöË¶ÅÁ°Æ‰øù‰∏ª‰ΩìÂ∫îÁî®‰∏≠ÁöÑÊâÄÊúâÊâ©Â±ïÈÉΩË¶Å‰ΩøÁî®Áõ∏ÂêåÁ≠æÂêçÊñπÂºèÁöÑ‰ª£Á†Å„ÄÇXcodeÈ°πÁõÆ‰∏≠ÁöÑÊâÄÊúâtargetÈÉΩÂøÖÈ°ª‰ª•Áõ∏ÂêåÁöÑÊñπÂºèËøõË°å‰ª£Á†ÅÁ≠æÂêç„ÄÇ‰æãÂ¶ÇÔºåÂú®ÊµãËØïÊúüÈó¥ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®‰∏¥Êó∂‰ª£Á†ÅÁ≠æÂêçÊàñ‰ΩøÁî®ÂºÄÂèë‰∫∫ÂëòËØÅ‰π¶Ôºå‰ΩÜÂøÖÈ°ªÂØπÈ°πÁõÆ‰∏≠ÁöÑÊâÄÊúâtarget‰ΩøÁî®Áõ∏ÂêåÁöÑÊñπÊ≥ï„ÄÇË¶ÅÊèê‰∫§Âà∞App StoreÔºåËØ∑‰ΩøÁî®ÊÇ®ÁöÑÂàÜÂèëËØÅ‰π¶Êù•Ëé∑ÂèñÊâÄÊúâÁõÆÊ†á„ÄÇ ‰ΩøÁî® Xcode Ë∞ÉËØïÂ∫îÁî®Êâ©Â±ïÂíåË∞ÉËØïÂÖ∂‰ªñÁ®ãÂ∫èÂü∫Êú¨ÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ΩÜÂîØ‰∏ÄÁÇπ‰∏çÂêåÁöÑÊòØÔºö‰Ω†Ë¶ÅÈÄâÊã©‰∏Ä‰∏™ËÉΩËÆøÈóÆÊâ©Â±ïÁöÑËΩΩ‰ΩìÂ∫îÁî®„ÄÇÂΩì‰Ω†ÁºñËØëËøêË°åÂ∫îÁî®Êâ©Â±ïÂêéÔºåXcode ‰ºöËøêË°åËΩΩ‰ΩìÂ∫îÁî®ÔºåÁ≠âÂæÖ‰Ω†Âéª‰ΩøÁî®Êâ©Â±ïÂπ∂Ëß¶ÂèëË∞ÉËØïÁÇπÊù•Ë∞ÉËØïÊâ©Â±ï„ÄÇ‰Ω†Ë¶ÅÂú® scheme ‰∏≠Ë¶Å‰∏∫Êâ©Â±ïÊåáÂÆö‰∏Ä‰∏™ËΩΩ‰ΩìÂ∫îÁî®Ôºà‰∏Ä‰∏™ scheme Â∞ÅË£Ö‰∫Ü Target ÁºñËØëÁöÑËØ¥ÊòéÔºâ„ÄÇ ÂΩì‰Ω†Âú®‰∏ª‰ΩìÂ∫îÁî®Â∑•Á®ã‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÁöÑTargetÊó∂ÔºåXcode Â∞±‰ºö‰∏∫Â∫îÁî®Êâ©Â±ïÈªòËÆ§ÂàõÂª∫‰∏Ä‰∏™ scheme„ÄÇÂ∫îÁî®Êâ©Â±ïÁöÑ scheme ÂèØ‰ª•ËÆ©‰Ω†ÊåáÂÆöÂú®Ë∞ÉËØïÊó∂Áî±Âì™‰∏™Â∫îÁî®Á®ãÂ∫èÊù•Ë∞ÉÁî®‰Ω†ÁöÑÊâ©Â±ïÔºå‰πüÂ∞±ÊòØÊåáÂÆö‰∏Ä‰∏™Ë∞ÉËØïÊó∂ÁöÑËΩΩ‰ΩìÂ∫îÁî®„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂΩì‰Ω†ÁºñËØëËøêË°åÊâ©Â±ïÊó∂Ôºå‰ºöËØ¢ÈóÆ‰Ω†‰ΩøÁî®Âì™‰∏™ËΩΩ‰ΩìÂ∫îÁî®Êù•Ë∞ÉÁî®ËØ•Êâ©Â±ï„ÄÇ Âú®‰Ω†ÁºñËØëËøêË°åÂ∫îÁî®Êâ©Â±ï‰πãÂâçÔºå‰Ω†Ë¶ÅÁ°Æ‰øù‰Ω†ÁöÑÊâ©Â±ïÂ∑≤ÁªèÈÄâÊã©‰∫Ü‰∏Ä‰∏™ scheme„ÄÇ‰Ω†ÂèØ‰ª•ÈÄöËøá Product &gt; Scheme &gt; MyExtensionName ÊàñËÄÖ‰ΩøÁî® Xcode ËèúÂçïÊ†èÂëºÂá∫ scheme ËèúÂçïÂπ∂ÈÄâÊã© MyExtensionName Êù•ËÆæÁΩÆÂ∫îÁî®Êâ©Â±ïÁöÑ scheme„ÄÇ Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰Ω†ËøêË°å‰∏ª‰ΩìÂ∫îÁî®ÁöÑ scheme ‰ª£ÊõøÂ∫îÁî®Êâ©Â±ïÁöÑ schemeÔºåÈÇ£‰πà‰Ω†Âú®ÁºñËØëÂ∑•Á®ãÊó∂Xcode‰ºöÂëäËØâ‰Ω†ÂÆÉÊ≠£Âú®Á≠âÂæÖË∞ÉËØïÂ∫îÁî®Êâ©Â±ï„ÄÇ ÂΩì‰Ω†ÁºñËØëËøêË°åÂ∫îÁî®Êâ©Â±ïÊó∂ÔºåXcode‰ºö‰∏∫‰Ω†ÂàóÂá∫ÂÖÅËÆ∏Ë∞ÉÁî®ËØ•Êâ©Â±ïÁöÑËΩΩ‰ΩìÂ∫îÁî®Á®ãÂ∫è„ÄÇÂΩì‰Ω†ÈÄâÊã©‰∏Ä‰∏™ËΩΩ‰ΩìÂ∫îÁî®Á®ãÂ∫èÂπ∂‰∏îËøêË°åÂêéÔºåË∞ÉËØïÂô®Â∞±ÂáÜÂ§áÂºÄÂßãÂ∑•‰Ωú‰∫ÜÔºåÂπ∂ÂáÜÂ§áÂ•ΩÂú®‰Ω†ÊâìÁöÑÊñ≠ÁÇπÂ§ÑËøõË°åÊã¶Êà™„ÄÇÂΩì‰Ω†Âú®ËΩΩ‰ΩìÂ∫îÁî®Á®ãÂ∫è‰∏≠‰ΩøÁî®Êâ©Â±ïÊó∂ÔºåÂ∞±ÂèØ‰ª•ÂØπÂ∫îÁî®Êâ©Â±ïËøõË°åDebugË∞ÉËØï‰∫Ü„ÄÇË∞ÉËØïÂ∫îÁî®Êâ©Â±ïÁöÑÊñπÂºèÂíå‰ΩøÁî®XcodeË∞ÉËØïÂÖ∂‰ªñËøõÁ®ã‰∏ÄÊ†∑„ÄÇ Âú®OS X‰∏≠Ôºå‰Ω†Âú®ËΩΩ‰ΩìÂ∫îÁî®Á®ãÂ∫è‰∏≠ËÆøÈóÆÊâ©Â±ï‰πãÂâçÔºåË¶ÅÁ°Æ‰øùËØ•Êâ©Â±ïÊòØÂÖÅËÆ∏Ë¢´‰ΩøÁî®ÁöÑ„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂú®System PreferencesÁöÑÊâ©Â±ïÈù¢Êùø‰∏≠ÂºÄÂêØÊàñÂÖ≥Èó≠Êâ©Â±ïÔºà‰Ω†‰πüÂèØ‰ª•Âú®ÂÖ±‰∫´ÊàñActionËèúÂçï‰∏≠ÊâìÂºÄÂ∫îÁî®Êâ©Â±ïÈù¢ÊùøÔºâ„ÄÇËøôÈáåË¶ÅÊ≥®ÊÑè‰∏ÄÁÇπÔºåÂú® OS X ‰∏≠‰ΩøÁî® Widget Ê®°ÊãüÂô®Ë∞ÉËØï WidgetÊâ©Â±ïÊó∂ÔºåÊòØ‰∏çÈúÄË¶ÅÂØπÂÖ∂ËøõË°åÂºÄÂêØÊìç‰ΩúÁöÑ„ÄÇÂΩì‰Ω†Ë¶ÅË∞ÉËØïÈîÆÁõòÊâ©Â±ïÊó∂ÔºåÂøÖÈ°ªË¶ÅÂºÄÂêØËØ•Êâ©Â±ïÔºà‰Ω†ÂèØ‰ª•ÈÄöËøáSettings &gt; General &gt; Keyboard &gt; KeyboardsÂºÄÂêØÈîÆÁõòÊâ©Â±ïÔºâ„ÄÇ Âú®Ë∞ÉËØïÊó∂ÔºåXcode‰ºöÂú®OS X‰∏≠ÂàõÂª∫‰∏Ä‰∏™ÊåÅÁª≠ÁöÑÁºñËØëÂ∫îÁî®Êâ©Â±ïÁöÑ‰ºöËØù„ÄÇËøôÊÑèÂë≥ÁùÄÔºåÂ¶ÇÊûú‰Ω†Ë¶Å‰ΩøÁî®OS XÁ≥ªÁªü‰∏ãÁöÑÊâ©Â±ïÔºå‰Ω†ÈúÄË¶Å‰ΩøÁî®FinderÊääÂÆÉ‰ªéÊûÑÂª∫Â§ÑÊã∑Ë¥ùÂà∞Á±ª‰ºº Applications folderÁöÑÂú∞Êñπ„ÄÇ Ê≥®ÊÑèÔºöÂú®XcodeÁöÑË∞ÉËØïÊéßÂà∂Âè∞Êó•Âøó‰∏≠ÔºåÂ∫îÁî®Êâ©Â±ïÁöÑ‰∫åËøõÂà∂ÂÄºÂèØËÉΩÊòØÂíå CFBundleIdentifier Â±ûÊÄßÂÖ≥ËÅîÔºåËÄå‰∏çÊòØ CFBundleDisplayName Â±ûÊÄß„ÄÇ Áî±‰∫éÂ∫îÁî®Êâ©Â±ïÂøÖÈ°ªÂÖ∑ÊúâÂìçÂ∫îÊÄßÂíåÈ´òÊïàÊÄßÔºåÂõ†Ê≠§ÂΩìËøêË°åÂ∫îÁî®Êâ©Â±ïÊó∂ÔºåÊúÄÂ•ΩÂú®Ë∞ÉËØïÂØºËà™Âô®‰∏≠Êü•ÁúãË∞ÉËØïÊåáÊ†á( the debug gauges)„ÄÇË∞ÉËØïÊåáÊ†áÊòæÁ§∫Êâ©Â±ïÂú®ËøêË°åÊó∂Â¶Ç‰Ωï‰ΩøÁî®CPUÔºåÂÜÖÂ≠òÂíåÂÖ∂‰ªñÁ≥ªÁªüËµÑÊ∫ê„ÄÇÂΩì‰Ω†ÂèëÁé∞Á±ª‰ººÂç†Áî®CPUËµÑÊ∫êÂá∫Áé∞ÂºÇÂ∏∏ÁöÑÊÄßËÉΩÈóÆÈ¢òÊó∂Ôºå‰æãÂ¶ÇCPU‰ΩøÁî®ÁéáÂá∫Áé∞ÂºÇÂ∏∏È´òÂ≥∞ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®InstrumentsÊù•ÂàÜÊûêÊÇ®ÁöÑÊâ©Â±ïÔºåÂπ∂Á°ÆÂÆöÈúÄË¶ÅÊîπËøõÁöÑÂú∞Êñπ„ÄÇÈÄöËøáÂú®‰ªª‰ΩïË∞ÉËØï‰ª™Ë°®Êä•Âëä‰∏≠ÂçïÂáªInstruments‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÊÇ®ÂèØ‰ª•Âú®Ë∞ÉËØï‰ºöËØùÊúüÈó¥ÊâìÂºÄInstrumentsÔºàË¶ÅÊü•ÁúãË∞ÉËØï‰ª™Êä•ÂëäÔºåËØ∑ÂçïÂáªË∞ÉËØïÂå∫Âüü‰∏≠ÁöÑ‰ª™Ë°®Ôºâ„ÄÇÊÉ≥Â≠¶‰π†‰∫ÜËß£Ë∞ÉËØïÁõëÊéßÂô®ÔºåËØ∑Êü•ÈòÖDebug Your AppÔºõÊÉ≥Â≠¶‰π†‰∫ÜËß£InstrumentsÔºåËØ∑Êü•ÈòÖInstruments User Guide„ÄÇ Ê≥®ÊÑèÔºöÂú®Xcode‰∏≠ÈÄâÊã© Product &gt; ProfileÂèØ‰ª•Áõ¥Êé•Âú®Instruments‰∏≠ÁºñËØëÂπ∂ËøêË°åÂ∫îÁî®Êâ©Â±ï„ÄÇInstruments‰ΩøÁî®ÊñπÊ°àÁöÑProfileÈÉ®ÂàÜ‰∏≠ÁöÑÂèØÊâßË°åÊñá‰ª∂ÈõÜ‰Ωú‰∏∫Êâ©Â±ïÁöÑËΩΩ‰Ωì„ÄÇ Â¶ÇÊûúË¶Å‰ΩøÁî®XcodeÊèê‰æõÁöÑÊµãËØïÊ°ÜÊû∂ÔºàÊØîÂ¶ÇXCTest APIsÔºâÊµãËØïÂ∫îÁî®Êâ©Â±ïÔºå‰Ω†ÈúÄË¶ÅÂú®‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫è‰∏≠ÂÜô‰∏Ä‰∫õÊµãËØïÁî®‰æã‰ª£Á†Å„ÄÇÊÉ≥‰∫ÜËß£Êõ¥Â§öXCTestÁöÑÁü•ËØÜÔºåËØ∑ÂèÇÈòÖTesting with Xcode„ÄÇ ÂàÜÂèëÊâ©Â±ï‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫è‰Ω†Êó†Ê≥ïÁõ¥Êé•Â∞ÜÂ∫îÁî®Êâ©Â±ï‰∏ä‰º†Ëá≥App StoreÔºåÈô§ÈùûÂÆÉÂåÖÂê´Âú®‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÂπ∂‰∏î‰Ω†‰∏çËÉΩÂ∞ÜÂ∫îÁî®Êâ©Â±ï‰ªé‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫è‰∏≠ËΩ¨Âà∞Âè¶‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫è„ÄÇ Â¶ÇÊûúÊÉ≥ËÆ©Áî®Êà∑‰ΩøÁî®‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÔºå‰Ω†ÂøÖÈ°ªÊèê‰∫§‰∏Ä‰∏™‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫èÂà∞App Store‰∏≠ÔºåÂπ∂‰∏î‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫èÂ¶ÇË¶ÅÊúâÂÖ∂‰ªñÁöÑÂäüËÉΩÔºå‰∏çËÉΩÂè™ÂåÖÂê´Â∫îÁî®Êâ©Â±ï„ÄÇ Â¶ÇÊûú‰Ω†ÊÉ≥Êèê‰∫§ OS X Â∫îÁî®Á®ãÂ∫èÊâ©Â±ïÔºåÊé®Ëçê‰Ω†Â∞Ü‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫èÊèê‰∫§Ëá≥App StoreÔºå‰ΩÜËøô‰πü‰∏çÊòØÂîØ‰∏ÄÁöÑÈÄîÂæÑ„ÄÇÂú®OS X‰∏≠Ôºå‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫èÂ∞±ÂèØ‰ª•Âè™ÂåÖÂê´Â∫îÁî®Êâ©Â±ïÔºåËÄå‰∏çÈúÄË¶ÅÊèê‰æõÊâ©Â±ïÂ§ñÁöÑÂÖ∂‰ªñÂäüËÉΩ„ÄÇ Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰Ω†‰∏ç‰ΩøÁî®App StoreÊù•Â∞Ü‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫èÂíåOS X Êâ©Â±ï‰∫§‰ªòÁªôÁî®Êà∑ÔºåÈÇ£‰πàÂú®‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫èÈÄöËøáÂÆ°Ê†∏ÂâçÔºåGatekeeperÊòØ‰∏ç‰ºöÂÖÅËÆ∏Â∫îÁî®Êâ©Â±ïÁîüÊïàÁöÑ„ÄÇÂêåÊó∂ÔºåÂ¶ÇÊûú‰Ω†‰∏çÂ∞Ü‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫è‰∏ä‰º†Ëá≥App StoreÔºåÈÇ£‰πàËØ•‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫è‰πü‰∏çËÉΩÁ≠æÁΩ≤‰Ω†ÁöÑÂºÄÂèëËÄÖIDÂêçÁß∞ÔºåÊâÄ‰ª•Áî®Êà∑ÂøÖÈ°ªÊòéÁ°Æ‰ªé‰∏ª‰ΩìÂ∫îÁî®Á®ãÂ∫è‰∏≠ÈáçËΩΩGatekeeperÔºåÊâçÂèØ‰ª•ËÆ©Â∫îÁî®Êâ©Â±ïÁîüÊïà„ÄÇ Â∏∏ËßÅÈóÆÈ¢òÁöÑÂ§ÑÁêÜÊñπÊ°àÂΩìÁºñÂÜôËá™ÂÆö‰πâ‰ª£Á†Å‰ª•ÊâßË°åappÊâ©Â±ï‰ªªÂä°Êó∂Ôºå‰Ω†ÂèØËÉΩÈúÄË¶ÅÂ§ÑÁêÜ‰∏Ä‰∫õÂÖ∂‰ªñÂ§öÁßçÁ±ªÂûãÊâ©Â±ï‰πü‰ºöÂá∫Áé∞ÁöÑÊÉÖÂÜµ„ÄÇÂú®Ëøô‰∏ÄÁ´†ËäÇ‰∏≠ÔºåÊàë‰ª¨Â∞ÜÂ∏ÆÂä©‰Ω†Â¶Ç‰ΩïÂ∫îÂØπÂíåÂ§ÑÁêÜËøô‰∫õÂ∏∏ËßÅÁöÑÈóÆÈ¢ò„ÄÇ ‰ΩøÁî®ÂÜÖÂµåÊ°ÜÊû∂ÂÖ±‰∫´‰ª£Á†Å‰Ω†ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÂÜÖÂµåÊ°ÜÊû∂ÔºåÁî®‰∫éÂú®Â∫îÁî®Êâ©Â±ïÂíåÂÆÉÁöÑ‰∏ªÂ∫îÁî®Á®ãÂ∫èÔºàcontaining appÔºâ‰πãÈó¥ÂÖ±‰∫´‰ª£Á†Å„ÄÇÊØîÂ¶ÇÔºå‰Ω†Âú®ÁÖßÁâáÁºñËæëÊâ©Â±ï‰∏≠ÂºÄÂèë‰∫ÜÂõæÁâáÊª§ÈïúÂäüËÉΩÔºåÈÇ£‰πàÂêåÊó∂ËØ•Êâ©Â±ïÁöÑ‰∏ªÂ∫îÁî®Á®ãÂ∫ècontaining app‰πüÊúâËøô‰∏™ÂäüËÉΩÔºåÈÇ£‰πà‰Ω†ÂèØ‰ª•Â∞ÜÂÆûÁé∞ËØ•ÂäüËÉΩÁöÑ‰ª£Á†ÅÂ∞ÅË£ÖÊàê‰∏Ä‰∏™Ê°ÜÊû∂ÔºåÂπ∂Âú®Êâ©Â±ïtargetÂíå‰∏ªÂ∫îÁî®Á®ãÂ∫ètarget‰∏≠ÂµåÂÖ•Ëøô‰∏™Ê°ÜÊû∂„ÄÇ ‰Ω†Ë¶ÅÁ°Æ‰øù‰Ω†ÂàõÂª∫ÁöÑÂÜÖÂµåÊ°ÜÊû∂‰∏çÂåÖÂê´Â∫îÁî®Êâ©Â±ï‰∏çËÉΩ‰ΩøÁî®ÁöÑAPI„ÄÇËøôÁ±ªAPI‰∏ÄËà¨‰ΩøÁî®unavailabilityÂÆèÊù•Ê†áËÆ∞ÔºåÊØîÂ¶ÇÂÉè NS_EXTENSION_UNAVAILABLE„ÄÇ Â¶ÇÊûú‰Ω†ÂàõÂª∫ÁöÑÂÜÖÂµåÊ°ÜÊû∂‰∏≠ÂåÖÂê´Â∫îÁî®Êâ©Â±ï‰∏çËÉΩ‰ΩøÁî®ÁöÑAPIÔºå‰Ω†ÂèØÂ∞ÜÂÖ∂ÂÆâÂÖ®Âú∞LinkÂà∞containing appÔºåÂÆÉÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®Ê°ÜÊû∂‰∏≠ÁöÑAPIÔºå‰ΩÜÊòØ‰∏çËÉΩ‰∏éÂ∫îÁî®Êâ©Â±ïÂÖ±‰∫´‰ª£Á†ÅÔºàËØëËÄÖÊ≥®Ôºö‰πüÂ∞±ÊòØÂ∫îÁî®Êâ©Â±ï‰∏çËÉΩ‰ΩøÁî®ËØ•Ê°ÜÊû∂Êèê‰æõÁöÑÊâÄÊúâAPIÔºåÁªßËÄåÊó†Ê≥ïÂÅöÂà∞‰ª£Á†ÅÂÖ±‰∫´Ôºâ„ÄÇÂ¶ÇÊûú‰Ω†‰∏ä‰º†App StoreÁöÑÂ∫îÁî®Êâ©Â±ï‰∏≠ÊúâËøôÁßçÊ°ÜÊû∂ÔºåÊàñËÄÖÂÖ∂‰ªñÈÉ®ÂàÜ‰ΩøÁî®‰∫Ü‰∏çÂèØÁî®ÁöÑAPIÔºåÈÇ£‰πàÂÆ°Ê†∏Êó∂‰ºöË¢´ÊãíÁªù„ÄÇ Â¶ÇÊûúÊàë‰ª¨Ë¶ÅÊÉ≥Â∫îÁî®Êâ©Â±ï‰ΩøÁî®ÂÜÖÂµåÊ°ÜÊû∂ÔºåÈÇ£‰πàÈ¶ñÂÖàË¶ÅÈÖçÁΩÆ‰∏Ä‰∏ã„ÄÇÂ∞ÜtargetÁöÑRequire Only App-Extension-Safe APIÈÄâÈ°πËÆæÁΩÆ‰∏∫Yes„ÄÇÂ¶ÇÊûú‰Ω†‰∏çËøôÊ†∑ËÆæÁΩÆÔºåÈÇ£‰πàXcode‰ºöÂêë‰Ω†ÊèêÁ§∫Ë≠¶ÂëäÔºölinking against dylib not safe for use in application extensions„ÄÇ ÈáçË¶ÅÊèêÁ§∫ÔºöÂ¶ÇÊûúcontaining appË¶ÅÈìæÊé•Ëá≥ÂÜÖÂµåÊ°ÜÊû∂ÔºåÈÇ£‰πàÂøÖÈ°ªË¶ÅÊîØÊåÅarm64Êû∂ÊûÑÔºåÂê¶ÂàôÂú®‰∏ä‰º†App StoreÊó∂‰ºöË¢´ÊãíÁªù„ÄÇÔºàÂ¶Ç‚ÄúÂàõÂª∫Â∫îÁî®Êâ©Â±ï‚ÄùÁ´†ËäÇ‰∏≠‰ªãÁªçÁöÑÔºåÊâÄÊúâÂ∫îÁî®Êâ©Â±ïÈÉΩË¶ÅÊîØÊåÅarm64Êû∂ÊûÑ„ÄÇÔºâ Âú®ÈÖçÁΩÆÈÖçÁΩÆXcodeÈ°πÁõÆÊó∂ÔºåÂøÖÈ°ªÂú®Copy FilesÁºñËØëÈò∂ÊÆµÈÄâÊã©‚ÄúFrameworks‚Äù‰Ωú‰∏∫ÂÜÖÂµåÊ°ÜÊû∂ÁöÑÁõÆÊ†á„ÄÇ ÈáçË¶ÅÊèêÁ§∫ÔºöÊàë‰ª¨ÈÄöÂ∏∏Ë¶ÅÈÄâÊã© Frameworks ‰Ωú‰∏∫ Copy Files ÁºñËØëÈò∂ÊÆµÁõÆÊ†á„ÄÇÂ¶ÇÊûú‰Ω†Â∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫ SharedFrameworkÔºåÈÇ£‰πà‰∏ä‰º†App StoreÊó∂‰ºöË¢´ÊãíÁªùÁöÑ„ÄÇ ‰Ω†ÂèØ‰ª•ËÆ©containing appÊîØÊåÅiOS7ÊàñÊõ¥Êó©ÁöÑÁâàÊú¨Ôºå‰ΩÜÂΩìÂú®iOS8ÊàñÊõ¥Êñ∞ÁöÑÁâàÊú¨‰∏≠ËøêË°åÊó∂ÔºåË¶ÅÁâπÂà´Ê≥®ÊÑèÂÜÖÂµåÊ°ÜÊû∂ÁöÑÂÆâÂÖ®ÊÄß„ÄÇËØ¶ÁªÜÂÜÖÂÆπÂèØ‰ª•ÂèÇÈòÖ Deploying a Containing App to Older Versions of iOS„ÄÇ ÊúâÂÖ≥ÂàõÂª∫Âíå‰ΩøÁî®ÂÜÖÂµåÊ°ÜÊû∂ÁöÑÊõ¥Â§öÂÜÖÂÆπÔºåËØ∑ËßÇÁúãWWDC 2014ÁöÑËßÜÈ¢ë‚ÄúBuilding Modern Frameworks‚Äù„ÄÇ ‰∏éContaining AppÂÖ±‰∫´Êï∞ÊçÆÂ∫îÁî®Êâ©Â±ïÂíåÂÆÉÁöÑcontaining appÁöÑÂÆâÂÖ®ÂüüÊòØÊúâÂå∫Âà´ÁöÑ„ÄÇÂç≥‰æøÊâ©Â±ïÂåÖÊòØÂµåÂ•óÂú®containing appÂåÖ‰∏≠ÁöÑ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ∫îÁî®Êâ©Â±ïÂíåcontaining appÊòØ‰∏çËÉΩÁõ¥Êé•ËÆøÈóÆÂØπÊñπÁöÑÂÆπÂô®ÁöÑ„ÄÇ BACKGROUND Ë¶Å‰∫ÜËß£ÂÆπÂô®ÔºåÈòÖËØª About the iOS File System ‰∏≠ÁöÑ File System Programming Guid. ‰∏çËøá‰Ω†ÂèØ‰ª•ÈÄöËøáÊï∞ÊçÆÂÖ±‰∫´Êù•ÂÆûÁé∞Ëøô‰∏™ÊÑøÊúõ„ÄÇÊØîÂ¶ÇÔºå‰Ω†Â∏åÊúõÂ∫îÁî®Êâ©Â±ïÂíåÂÆÉÁöÑcontaining appÂÖ±‰∫´‰∏Ä‰∏™Âçï‰∏ÄÁöÑÂ§ßÊï∞ÊçÆÈõÜ„ÄÇÊØîÂ¶Çprerendered assets„ÄÇ Ë¶ÅÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´ÔºåÊàë‰ª¨Ë¶Å‰ΩøÁî®XcodeÊàñËÄÖÂºÄÂèëËÄÖÈó®Êà∑ÁΩëÁ´ôÂÖÅËÆ∏Â∫îÁî®Êâ©Â±ïÂíåÂÆÉÁöÑcontaining appÊàê‰∏∫‰∏Ä‰∏™Â∫îÁî®ÁªÑÔºåÁÑ∂ÂêéÂú®ÂºÄÂèëËÄÖÈó®Êà∑ÁΩëÁ´ô‰∏≠Ê≥®ÂÜåÂ∫îÁî®ÁªÑÔºåÂπ∂ÊåáÊòéÂú®containing app‰∏≠‰ΩøÁî®ËØ•Â∫îÁî®ÁªÑ„ÄÇÂÖ≥‰∫éÂ∫îÁî®ÁªÑÁöÑÁü•ËØÜËØ∑Êü•ÈòÖ Entitlement Key Reference ÊñáÊ°£ÁöÑ Adding an App to an App Group Á´†ËäÇ„ÄÇ ÂΩì‰Ω†ËÆæÁΩÆÂ•ΩÂ∫îÁî®ÁªÑÂêéÔºåÂ∫îÁî®Êâ©Â±ïÂíåÂÆÉÁöÑcontaining appÂ∞±ÂèØ‰ª•ÈÄöËøá NSUserDefaults APIÂÖ±‰∫´ËÆøÈóÆÁî®Êà∑ÁöÑ‰ø°ÊÅØ„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® initWithSuiteName: ÊñπÊ≥ïÂÆû‰æãÂåñ‰∏Ä‰∏™ NSUserDefaults ÂØπË±°ÔºåÁÑ∂Âêé‰º†ÂÖ•ÂÖ±‰∫´ÁªÑÁöÑÊ†áÁ§∫Á¨¶„ÄÇÊØîÂ¶Ç‰∏Ä‰∏™ÂÖ±‰∫´Êâ©Â±ïÔºåÂÆÉÊàñËÆ∏‰ºöÊõ¥Êñ∞Áî®Êà∑ÊúÄËøëÁªèÂ∏∏‰ΩøÁî®ÁöÑÂÖ±‰∫´Ë¥¶Âè∑ÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑Êù•ÂÜôÔºö // Create and share access to an NSUserDefaults object. NSUserDefaults *mySharedDefaults = [[NSUserDefaults alloc] initWithSuiteName:@"com.example.domain.MyShareExtension"]; // Use the shared user defaults object to update the user's account. [mySharedDefaults setObject:theAccountName forKey:@"lastAccountName"]; ‰∏ãÂõæÂêëÊàë‰ª¨Â±ïÁ§∫‰∫ÜÂ∫îÁî®Êâ©Â±ïÂíåÂÆÉÁöÑcontaining appÊòØÂ¶Ç‰ΩïÈÄöËøáÂÖ±‰∫´ÂÆπÂô®ÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´ÁöÑ. Figure 4-1Â∫îÁî®Êâ©Â±ïÁöÑÂÆπÂô®‰∏éÂÖ∂containing appÁöÑÂÆπÂô®ÊòØ‰∏çÂêåÁöÑ„ÄÇ ÈáçË¶ÅÊèêÁ§∫ÔºöÂ¶ÇÊûú‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ï‰ΩøÁî®NSURLSessionÁ±ªÊâßË°åÂêéÂè∞ÁöÑ‰∏ä‰º†‰∏ãËΩΩ‰ªªÂä°Êó∂Ôºå‰Ω†ÂøÖÈ°ªË¶ÅËÆæÁΩÆ‰∏Ä‰∏™ÂÖ±‰∫´ÂÆπÂô®ÔºåËøôÊ†∑Êâ©Â±ïÂíåcontaining appÂ∞±ÂèØ‰ª•ËÆøÈóÆÂà∞ËΩ¨Êç¢‰º†ËæìÁöÑÊï∞ÊçÆ„ÄÇÂêéÂè∞‰∏ä‰º†‰∏ãËΩΩÁöÑÊõ¥Â§öÁü•ËØÜËØ∑ÂèÇÈòÖ Performing Uploads and Downloads„ÄÇ Â¶ÇÊûú‰Ω†ËÆæÁΩÆ‰∫ÜÂÖ±‰∫´ÂÆπÂô®ÔºåÈÇ£‰πàcontaining appÂíåÂÆÉÂåÖÂê´ÁöÑÂÖÅËÆ∏ÂèÇ‰∏éÊï∞ÊçÆÂàÜ‰∫´ÁöÑÊâ©Â±ïÂ∞±ÂèØ‰ª•ÂØπÂÖ±‰∫´ÂÆπÂô®ÈáåÁöÑÂÜÖÂÆπËøõË°åËØªÂÜôÊìç‰Ωú‰∫Ü„ÄÇÂêåÊó∂‰Ω†ËøòÂøÖÈ°ªË¶ÅÂØπÊï∞ÊçÆÁöÑÊìç‰ΩúËøõË°åÂêåÊ≠•Ôºå‰ª•ÈÅøÂÖçÊï∞ÊçÆÊçüÂùèÊàñÂá∫Èîô„ÄÇ‰ΩøÁî®UIDocumentÁ±ª„ÄÅCore DataÊàñËÄÖSQLiteÂèØ‰ª•Â∏Æ‰Ω†ÂèØ‰ª•ËÆ©Áî®Êà∑ÈÄöËøáË¶ÅÊ±ÇSafariËøêË°åJSÊñá‰ª∂Êù•ËÆøÈóÆÁΩëÁªúÂÜÖÂÆπÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõûÂà∞Êâ©Â±ï„ÄÇ ÁâàÊú¨ËØ¥ÊòéÂú®iOS 8.2ÂèäÊõ¥È´òÁâàÊú¨‰∏≠ÔºåÊÇ®‰πüÂèØ‰ª•‰ΩøÁî®UIDocumentËØ•Á±ªÊù•ÂçèË∞ÉÂÖ±‰∫´Êï∞ÊçÆËÆøÈóÆ„ÄÇÂú®iOS 9ÂèäÊõ¥È´òÁâàÊú¨‰∏≠ÔºåÊÇ®ÂèØ‰ª•NSFileCoordinatorÁõ¥Êé•‰ΩøÁî®ËØ•Á±ªËøõË°åÂÖ±‰∫´Êï∞ÊçÆËÆøÈóÆÔºå‰ΩÜÊòØÂ¶ÇÊûúÊÇ®ËøôÊ†∑ÂÅöÔºåÂàôÂøÖÈ°ªNSFilePresenterÂú®Â∫îÁî®Êâ©Â±ïËΩ¨Êç¢‰∏∫ÂêéÂè∞Êó∂Âà†Èô§ÂØπË±°„ÄÇ ËÆøÈóÆÁΩëÈ°µÂú®ÂàÜ‰∫´Êâ©Â±ïÔºàiOS‰∏éOS XÂπ≥Âè∞ÔºâÂíåActionÊâ©Â±ïÔºàiOSÂπ≥Âè∞Ôºâ‰∏≠Ôºå‰∏ÄËà¨ÈÉΩÂÖÅËÆ∏Áî®Êà∑‰ΩøÁî®SafariÊµèËßàÂô®ËÆøÈóÆÁΩëÈ°µÂπ∂ÈÄöËøáÊâßË°åJavaScriptËÑöÊú¨ÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõûÂà∞Êâ©Â±ï‰∏≠„ÄÇ‰Ω†‰πüÂèØ‰ª•Âú®‰Ω†ÁöÑÊâ©Â±ïËøêË°å‰πãÂâçÔºàÈÄÇÁî®‰∫é‰∏§‰∏™Âπ≥Âè∞ÔºâÊàñÊâßË°åÂÆå‰ªªÂä°‰πãÂêéÔºà‰ªÖÈÄÇÁî®‰∫éiOSÂπ≥Âè∞ÔºâÈÄöËøáJavaScriptÊñá‰ª∂‰øÆÊîπÁΩëÈ°µÂÜÖÂÆπ„ÄÇÊØîÂ¶ÇÂàÜ‰∫´Êâ©Â±ïÔºåÂÆÉÂèØ‰ª•Â∏ÆÂä©Áî®Êà∑ÂàÜ‰∫´ÁΩëÈ°µ‰∏äÁöÑÂÜÖÂÆπÔºåÊàñËÄÖiOS‰∏äÁöÑActionÊâ©Â±ïÂèØËÉΩ‰ºöÊòæÁ§∫ÂΩìÂâçÁΩëÈ°µÁöÑÊåáÂÆöÁøªËØëÂÜÖÂÆπ„ÄÇ Â¶ÇÊûúÊÉ≥Ê∑ªÂä†ÁΩëÈ°µËÆøÈóÆÂíåÊìç‰ΩúÂ∫îÁî®Êâ©Â±ïÔºåÈÇ£‰πàÈúÄË¶ÅÈÅµÂæ™‰∏ãÈù¢Âá†‰∏™Ê≠•È™§Ôºö1.ÂàõÂª∫‰∏Ä‰∏™JavaScriptÊñá‰ª∂ÔºåÂπ∂Áî≥Êòé‰∏Ä‰∏™ÂÖ®Â±ÄÂØπË±°ÔºåÂëΩÂêç‰∏∫ ExtensionPreprocessingJSÔºåÂπ∂‰∏∫ËØ•ÂØπË±°ÂàÜÈÖç‰∏Ä‰∏™Êñ∞ÁöÑËá™ÂÆö‰πâJavaScriptÁ±ªÁöÑÂÆû‰æã„ÄÇ2.Âú®Â∫îÁî®Êâ©Â±ïÁöÑÂ±ûÊÄßÂàóË°®Êñá‰ª∂‰∏≠Ê∑ªÂä†ÂÖ≥ÈîÆÂ≠ó NSExtensionJavaScriptPreprocessingFileÔºåÁªô Safari ÊµèËßàÂô®ÊåáÊòé‰ΩøÁî®Âì™‰∏™ JavaScript Êñá‰ª∂„ÄÇ3.Âú®NSExtensionActivationRuleÂ≠óÂÖ∏‰∏≠ÔºåÂ∞ÜNSExtensionActivationSupportsWebURLWithMaxCount ËµãÂÄº‰∏Ä‰∏™ÈùûÈõ∂ÁöÑÂÄº„ÄÇÔºàÊõ¥Â§öÂÖ≥‰∫é NSExtensionActivationRule Â≠óÂÖ∏ÁöÑÁü•ËØÜËØ∑ÂèÇÈòÖ Declaring Supported Data Types for a Share or Action Extension„ÄÇÔºâ4.ÂΩì‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÂºÄÂßãËøêË°åÊó∂Ôºå‰ΩøÁî®NSItemProviderÁ±ªËé∑ÂæóËøêË°åJavaScriptÊñá‰ª∂ÊâÄËøîÂõûÁöÑÁªìÊûú„ÄÇ5.Âú®iOSÁ≥ªÁªüÁöÑÂ∫îÁî®Êâ©Â±ï‰∏≠ÔºåÂ¶ÇÊûú‰Ω†Â∏åÊúõSafariÂú®Êâ©Â±ïÊâßË°åÂÆå‰ªªÂä°ÂêéÊõ¥Êñ∞ÁΩëÈ°µÔºåÈÇ£‰πà‰Ω†Ë¶ÅÂêëJavaScriptÊñá‰ª∂‰∏≠‰º†ÂÖ•ÂÄº„ÄÇÔºàÂú®Ëøô‰∏ÄÊ≠•‰∏≠‰πü‰ΩøÁî®NSItemProviderÁ±ª„ÄÇÔºâ ‰∏∫‰∫ÜÂëäÁü•Safari‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ï‰∏≠ÂåÖÂê´‰∏Ä‰∏™JavaScriptÊñá‰ª∂Ôºå‰Ω†ÈúÄË¶ÅÂú®Â∫îÁî®Êâ©Â±ïÁöÑInfo.plistÊñá‰ª∂‰∏≠ÔºåÂêëNSExtensionAttributesÂ≠óÂÖ∏Ê∑ªÂä†NSExtensionJavaScriptPreprocessingFileÂÖ≥ÈîÆÂ≠óÊù•ÊåáÊòé‰Ω†ÁöÑJavaScriptÊñá‰ª∂„ÄÇËøô‰∏™ÈîÆÁöÑÂÄºÂ∞±ÊòØ‰Ω†Â∏åÊúõÂΩì‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïËøêË°åÂâçÔºåSafariË¶ÅÂä†ËΩΩÁöÑJavaScriptÊñá‰ª∂ÁöÑÂêçÁß∞„ÄÇÊØîÂ¶ÇÔºö &lt;key>NSExtensionAttributes&lt;/key> &lt;dict> &lt;key>NSExtensionJavaScriptPreprocessingFile&lt;/key> &lt;string>MyJavaScriptFile&lt;/string> &lt;!-- Do not include the ".js" filename extension --> &lt;/dict> Âú®iOSÂíåOS XÂπ≥Âè∞‰∏≠ÔºåÂú®‰Ω†Ëá™ÂÆö‰πâÁöÑJavaScriptÁ±ª‰∏≠ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™run()ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Â∞±ÊòØSafariÂä†ËΩΩJavaScriptÊñá‰ª∂ÁöÑÂÖ•Âè£„ÄÇÂú®run()ÂáΩÊï∞‰∏≠ÔºåSafariÊèê‰æõ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫completionFunctionÁöÑÂèÇÊï∞Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÈîÆÂÄºÂØπË±°ÁöÑÂΩ¢ÂºèÂ∞ÜÁªìÊûú‰º†ÁªôÂ∫îÁî®Êâ©Â±ï„ÄÇ Âú®iOSÂπ≥Âè∞‰∏≠Ôºå‰Ω†ËøòÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™finalize()ÂáΩÊï∞ÔºåÂΩìÂ∫îÁî®Êâ©Â±ïÂú®‰ªªÂä°ÁªìÊùüÈò∂ÊÆµË∞ÉÁî®completeRequestReturningItems:expirationHandler:completion:ÊñπÊ≥ïÊó∂Safari‰ºöË∞ÉÁî®finalize()ÂáΩÊï∞„ÄÇÂú®ËØ•ÂáΩÊï∞‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÂêëcompleteRequestReturningItems:expirationHandler:completion:ÊñπÊ≥ï‰º†ÂÄºÔºåÊù•ÊîπÂèòÁΩëÈ°µÂÜÖÂÆπ„ÄÇ ÊØîÂ¶ÇÔºå‰Ω†ÁöÑiOSÂ∫îÁî®Êâ©Â±ïÈúÄË¶ÅÂü∫‰∫é‰∏Ä‰∏™ÁΩëÈ°µURIÂêØÂä®ÔºåÂπ∂‰∏îÂΩìÂÆÉÁªìÊùüËøêË°åÊó∂ÊîπÂèòÁΩëÈ°µÁöÑËÉåÊôØËâ≤ÔºåÈÇ£‰πà‰Ω†ÈúÄË¶ÅËøôÊ†∑ÂÜôJavaScript‰ª£Á†ÅÔºö Ê∏ÖÂçï4-1Á§∫‰æãrun()Âíåfinalize()ÂáΩÊï∞ var MyExtensionJavaScriptClass = function() {}; MyExtensionJavaScriptClass.prototype = { run: function(arguments) { // Pass the baseURI of the webpage to the extension. arguments.completionFunction({"baseURI": document.baseURI}); }, // Note that the finalize function is only available in iOS. finalize: function(arguments) { // arguments contains the value the extension provides in [NSExtensionContext completeRequestReturningItems:completion:]. // In this example, the extension provides a color as a returning item. document.body.style.backgroundColor = arguments["bgColor"]; } }; // The JavaScript file must contain a global object named "ExtensionPreprocessingJS". var ExtensionPreprocessingJS = new MyExtensionJavaScriptClass; Âú®iOSÂíåOS XÂπ≥Âè∞‰∏≠Ôºå‰Ω†ÈúÄË¶ÅÁºñÂÜô‰ª£Á†ÅÊù•Â§ÑÁêÜrun()ÂáΩÊï∞ËøîÂõûÁöÑÂÄºÔºå‰∏∫Ëé∑ÂèñÂà∞Â≠óÂÖ∏‰∏≠ÁöÑÂÄºÔºåÊàë‰ª¨ÈúÄË¶ÅÊåáÂÆökUTTypePropertyListÁ±ªÂûã‰Ωú‰∏∫Ê†áÁ§∫Á¨¶‰º†ÂÖ•NSItemProviderÁ±ªÁöÑ loadItemForTypeIdentifier:options:completionHandler:ÊñπÊ≥ï„ÄÇÂú®ËØ•Â≠óÂÖ∏‰∏≠‰ΩøÁî® NSExtensionJavaScriptPreprocessingResultsKey‰Ωú‰∏∫keyÊù•ÂèñÂÄº„ÄÇÊØîÂ¶Ç‰∏ãÈù¢‰æãÂ≠ê‰∏≠Êàë‰ª¨ÊÉ≥Ë¶ÅËé∑ÂèñÂ∞Ü URI ‰º†ÂÖ• run()ÁöÑËøîÂõûÂÄºÔºö [imageProvider loadItemForTypeIdentifier:kUTTypePropertyList options:nil completionHandler:^(NSDictionary *item, NSError *error) { NSDictionary *results = (NSDictionary *)item; NSString *baseURI = [[results objectForKey:NSExtensionJavaScriptPreprocessingResultsKey] objectForKey:@"baseURI"]; }]; finalize() ÂáΩÊï∞ÊòØÂú®ÂΩìÂ∫îÁî®Êâ©Â±ïÊâßË°åÂÆå‰ªªÂä°Âêé‰º†ÂèÇÂπ∂Ë∞ÉÁî®ÁöÑÔºåÂàõÂª∫‰∏Ä‰∏™Âê´ÊúâÊàë‰ª¨ÈúÄË¶ÅÂ§ÑÁêÜÁöÑÂÄºÁöÑÂ≠óÂÖ∏ÔºåÁÑ∂ÂêéÁî®NSItemProvider ÁöÑ initWithItem:typeIdentifier:ÊñπÊ≥ïÊù•Â∞ÅË£ÖËØ•Â≠óÂÖ∏„ÄÇÊØîÂ¶ÇÂΩìÊâ©Â±ïÊâßË°åÂÆå‰ªªÂä°ÂêéÊàë‰ª¨ÊÉ≥ËÆ©ÁΩëÈ°µÂèò‰∏∫Á∫¢Ëâ≤ÔºåÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö NSExtensionItem *extensionItem = [[NSExtensionItem alloc] init]; extensionItem.attachments = @[[[NSItemProvider alloc] initWithItem: @{NSExtensionJavaScriptFinalizeArgumentKey: @{@"bgColor":@"red"}} typeIdentifier:(NSString *)kUTTypePropertyList]]; [[self extensionContext] completeRequestReturningItems:@[extensionItem] completion:nil]; ÊâßË°å‰∏ä‰º†‰∏ãËΩΩ‰ªªÂä°Áî®Êà∑‰∏ÄËà¨ÁöÑÊìç‰Ωú‰π†ÊÉØÈÉΩÂÄæÂêë‰∫éÂΩì‰ΩøÁî®‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÂÆåÊàêÊüê‰∏™‰ªªÂä°ÂêéÔºåÂèØ‰ª•Â∞ÜÁªìÊûúÁ´ãÂç≥ÂèçÈ¶àÂú®‰ΩøÁî®Êâ©Â±ïÁöÑÂ∫îÁî®‰∏≠„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™Êâ©Â±ïË¶ÅÂ§ÑÁêÜÁöÑ‰ªªÂä°ÂåÖÂê´ËæÉÈïøÊó∂Èó¥ÁöÑ‰∏ä‰º†‰∏ãËΩΩÊìç‰ΩúÊó∂Ôºå‰Ω†Ë¶ÅÁ°Æ‰øùÂΩì‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÂÖ≥Èó≠ÂêéËÉΩÁªßÁª≠ÂÆåÊàêËØ•‰ªªÂä°„ÄÇ‰∏∫ÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÔºåÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®NSURLSessionÁ±ªÂàõÂª∫‰∏Ä‰∏™URL‰ºöËØùÂπ∂ÂàõÂª∫ÂêéÂè∞ÁöÑ‰∏ä‰º†‰∏ãËΩΩ‰ªªÂä°„ÄÇ ÊèêÁ§∫Ôºö‰Ω†ÂèØ‰ª•ÂõûÊÉ≥‰∏Ä‰∏ãÂÖ∂‰ªñÁ±ªÂûãÁöÑÂêéÂè∞‰ªªÂä°ÔºåÊØîÂ¶ÇÂêéÂè∞ÊîØÊåÅVoIP„ÄÅÂêéÂè∞Êí≠ÊîæÈü≥‰πêÔºåËøô‰∫õÊòØ‰∏çËÉΩÁî®Â∫îÁî®Êâ©Â±ïÂéªÂÆûÁé∞ÁöÑ„ÄÇÊõ¥Â§ö‰ø°ÊÅØËØ∑ÂèÇÈòÖRespond to the Host App‚Äôs Request„ÄÇ ÂΩì‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÂáÜÂ§áÂ•Ω‰∏ä‰º†‰∏ãËΩΩ‰ªªÂä°ÂêéÔºåÊâ©Â±ï‰ºöÂÆåÊàêË∞ÉÁî®ÂÆÉÁöÑÂ∫îÁî®ÂèëÂá∫ÁöÑËØ∑Ê±ÇÔºåÂπ∂Âú®‰∏çÂΩ±Âìç‰∏ä‰º†‰∏ãËΩΩ‰ªªÂä°ÁöÑÂâçÊèê‰∏ãÁªàÊ≠¢Êâ©Â±ï„ÄÇÊõ¥Â§öÂÖ≥‰∫éÊâ©Â±ïÂ§ÑÁêÜËΩΩ‰ΩìÂ∫îÁî®ËØ∑Ê±ÇÁöÑÁü•ËØÜËØ∑ÂèÇÈòÖRespond to the Host App‚Äôs Request„ÄÇÂú®iOSÁ≥ªÁªü‰∏≠ÔºåÂ¶ÇÊûú‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÂú®ÊâßË°åÂÆåÂêéÂè∞‰ªªÂä°Êó∂Âπ∂Ê≤°ÊúâÂú®ËøêË°åÔºåÈÇ£‰πàÁ≥ªÁªü‰ºöËá™Âä®Âú®ÂêéÂè∞ËøêË°åÊâ©Â±ïÁöÑËΩΩ‰ΩìÂ∫îÁî®ÔºåÂπ∂Ë∞ÉÁî®application:handleEventsForBackgroundURLSession:completionHandler: ‰ª£ÁêÜÊñπÊ≥ï„ÄÇ ÈáçË¶ÅÊèêÁ§∫ÔºöÂ¶ÇÊûú‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÂú®ÂêéÂè∞ÂàõÂª∫‰∫Ü NSURLSession ‰ªªÂä°ÔºåÈÇ£‰πà‰Ω†ÂøÖÈ°ªË¶ÅËÆæÁΩÆ‰∏Ä‰∏™ÂÖ±‰∫´ÂÆπÂô®Ôºå‰ª•Á°Æ‰øùÊâ©Â±ïÂíåËΩΩ‰ΩìÂ∫îÁî®ÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´„ÄÇÊàë‰ª¨ÂèØ‰ª•Âú® NSURLSessionConfiguration Á±ª‰∏≠‰ΩøÁî®sharedContainerIdentifierÂ±ûÊÄßÊù•ÊåáÂÆö‰∏Ä‰∏™ÂÖ±‰∫´ÂÆπÂô®ÁöÑÊ†áÁ§∫Á¨¶ÔºåÁÑ∂ÂêéÊàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøáËØ•Ê†áÁ§∫Á¨¶Ëé∑ÂèñÂà∞ÂÖ±‰∫´ÂÆπÂô®„ÄÇËØ∑ÂèÇÈòÖ Sharing Data with Your Containing App ÊñáÊ°£Êù•ËÆæÁΩÆÂÖ±‰∫´ÂÆπÂô®„ÄÇ ‰∏ãÈù¢ÁöÑ‰æãÂ≠êÂ±ïÁ§∫‰∫ÜÂ¶Ç‰ΩïÈÖçÁΩÆ‰∏Ä‰∏™URL‰ºöËØùÔºåÂπ∂ÂàõÂª∫‰∏Ä‰∏™‰∏ãËΩΩ‰ªªÂä°Ôºö NSURLSession *mySession = [self configureMySession]; NSURL *url = [NSURL URLWithString:@"http://www.example.com/LargeFile.zip"]; NSURLSessionTask *myTask = [mySession downloadTaskWithURL:url]; [myTask resume]; - (NSURLSession *) configureMySession { if (!mySession) { NSURLSessionConfiguration* config = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier:@‚Äúcom.mycompany.myapp.backgroundsession‚Äù]; // To access the shared container you set up, use the sharedContainerIdentifier property on your configuration object. config.sharedContainerIdentifier = @‚Äúcom.mycompany.myappgroupidentifier‚Äù; mySession = [NSURLSession sessionWithConfiguration:config delegate:self delegateQueue:nil]; } return mySession; } Âõ†‰∏∫Âú®Âçï‰ΩçÊó∂Èó¥ÂÜÖÂè™ËÉΩÁî±‰∏Ä‰∏™ËøõÁ®ã‰ΩøÁî®ÂêéÂè∞‰ºöËØùÔºåÊâÄ‰ª•‰Ω†ÈúÄË¶Å‰∏∫ËΩΩ‰ΩìÂ∫îÁî®‰∏≠ÁöÑÊâÄÊúâÊâ©Â±ïÂàõÂª∫‰∏çÂêåÁöÑÂêéÂè∞‰ºöËØùÔºàÊØè‰∏™ÂêéÂè∞‰ºöËØùÈÉΩË¶ÅÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÊ†áÁ§∫Á¨¶Ôºâ„ÄÇÂú®ËøôÈáåÊàë‰ª¨Âª∫ËÆÆÂΩìËΩΩ‰ΩìÂ∫îÁî®Âú®ÂêéÂè∞Â§ÑÁêÜÊâ©Â±ïÁöÑ‰ªªÂä°Êó∂ÔºåÂè™‰ΩøÁî®‰∏Ä‰∏™ËØ•Êâ©Â±ïÂàõÂª∫ÁöÑÂêéÂè∞‰ºöËØù„ÄÇÂ¶ÇÊûú‰Ω†Ë¶ÅÊâßË°åÂÖ∂‰ªñÁöÑÁΩëÁªúÁõ∏ÂÖ≥ÁöÑ‰ªªÂä°ÔºåÈÇ£‰πàÂ∞±Ë¶ÅÂàõÂª∫Áõ∏Â∫îÁöÑURL‰ºöËØù„ÄÇ Â¶ÇÊûú‰Ω†ÈúÄË¶ÅÂú®ÂêéÂè∞ÂàõÂª∫URL‰ºöËØù‰πãÂâçÂÆåÊàêËΩΩ‰ΩìÂ∫îÁî®ÁöÑËØ∑Ê±ÇÔºåÈÇ£‰πàË¶ÅÁ°Æ‰øùÂàõÂª∫Âíå‰ΩøÁî®‰ºöËØùÁöÑ‰ª£Á†ÅÊòØÊúâÊïàÂèØÊâßË°åÁöÑ„ÄÇÂΩì‰Ω†ÁöÑÊâ©Â±ïË∞ÉÁî® completeRequestReturningItems:completionHandler: ÊñπÊ≥ïÂëäÁü•‰∏ªÂè´Â∫îÁî®Â∑≤ÁªèÂÆåÊàêÁõ∏ÂÖ≥ËØ∑Ê±ÇÂêéÔºåÁ≥ªÁªüÂ∞±ÂèØ‰ª•ÈöèÊó∂ÁªàÊ≠¢‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ï„ÄÇ ‰∏∫ÂàÜ‰∫´ÂíåActionÊâ©Â±ïÁî≥ÊòéÊîØÊåÅÁöÑÊï∞ÊçÆÁ±ªÂûãÂú®‰Ω†ÁöÑÂàÜ‰∫´ÊàñActionÊâ©Â±ï‰∏≠ÔºåÂú®ÂÆÉ‰ª¨ÁöÑÂ∑•‰Ωú‰∏≠ÂèØËÉΩ‰ºö‰ΩøÁî®Âà∞‰∏Ä‰∫õÊï∞ÊçÆÔºåÂπ∂‰∏îËøô‰∫õÊï∞ÊçÆÁöÑÁ±ªÂûãÂêÑ‰∏çÁõ∏Âêå„ÄÇ‰∏∫‰∫ÜÁ°Æ‰øùÂè™ÊúâÂΩìÁî®Êà∑Âú®ËΩΩ‰ΩìÂ∫îÁî®‰∏≠ÈÄâÊã©‰∫Ü‰Ω†ÁöÑÊâ©Â±ïÊîØÊåÅÁöÑÊï∞ÊçÆÁ±ªÂûãÊó∂ÔºåÊâç‰ºöÂ±ïÁ§∫‰Ω†ÁöÑÊâ©Â±ïÂäüËÉΩ„ÄÇ‰Ω†ÈúÄË¶ÅÂú®Êâ©Â±ïÁöÑInfo.plistÂ±ûÊÄßÂàóË°®Êñá‰ª∂‰∏≠Ê∑ªÂä† NSExtensionActivationRule ÂÖ≥ÈîÆÂ≠ó„ÄÇ‰Ω†‰πüÂèØ‰ª•‰ΩøÁî®ËØ•ÂÖ≥ÈîÆÂ≠óÊåáÂÆöÊâ©Â±ïÂ§ÑÁêÜÊØèÁßçÁ±ªÂûãÁöÑÊúÄÂ§ßÊï∞ÁõÆ„ÄÇÂΩì‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïËøêË°åÊó∂ÔºåÁ≥ªÁªü‰ºöÂ∞ÜNSExtensionActivationRuleÈîÆÁöÑÂÄº‰∏éÊâ©Â±ïÈ°πÁöÑattachmentsÂ±ûÊÄß‰∏≠ÁöÑ‰ø°ÊÅØËøõË°åÊØîËæÉ„ÄÇÂÖ≥‰∫é NSExtensionActivationRule ÂÖ≥ÈîÆÂ≠óÁöÑËØ¶ÁªÜ‰ø°ÊÅØÂèØ‰ª•ÂèÇÈòÖ Action Extension KeysÊñáÊ°£‰∏≠ÁöÑ Information Property List Key Reference Á´†ËäÇ„ÄÇ ÊØîÂ¶ÇÔºå‰Ω†ÂèØ‰ª•Áî≥Êòé‰Ω†ÁöÑÂàÜ‰∫´Êâ©Â±ïÊîØÊåÅÊúÄÂ§öÂ§ÑÁêÜ10Âº†ÂõæÁâáÔºå‰∏ÄÈÉ®ÂΩ±ÁâáÂíå‰∏Ä‰∏™ÁΩëÁ´ôURL„ÄÇÊÇ®ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂ≠óÂÖ∏‰Ωú‰∏∫ËØ•NSExtensionAttributesÈîÆÁöÑÂÄºÔºö &lt;key&gt;NSExtensionAttributes&lt;/key&gt; &lt;dict&gt; &lt;key&gt;NSExtensionActivationRule&lt;/key&gt; &lt;dict&gt; &lt;key&gt;NSExtensionActivationSupportsImageWithMaxCount&lt;/key&gt; &lt;integer&gt;10&lt;/integer&gt; &lt;key&gt;NSExtensionActivationSupportsMovieWithMaxCount&lt;/key&gt; &lt;integer&gt;1&lt;/integer&gt; &lt;key&gt;NSExtensionActivationSupportsWebURLWithMaxCount&lt;/key&gt; &lt;integer&gt;1&lt;/integer&gt; &lt;/dict&gt; &lt;/dict&gt; Â¶ÇÊûú‰Ω†ÊÉ≥ÊåáÂÆö‰∏çÊîØÊåÅÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÈÇ£‰πà‰Ω†ÂèØ‰ª•Â∞ÜËØ•Á±ªÂûãÁöÑÂÄºËÆæÁΩÆ‰∏∫0ÔºåÊàñËÄÖÂú® NSExtensionActivationRule ‰∏≠‰∏çÊ∑ªÂä†ËØ•Á±ªÂûãÂç≥ÂèØ„ÄÇ Ê≥®ÊÑèÔºöÂ¶ÇÊûú‰Ω†ÁöÑÂàÜ‰∫´Êâ©Â±ïÊàñiOS‰∏≠ÁöÑActionÊâ©Â±ïÈúÄË¶ÅËÆøÈóÆÁΩëÈ°µÔºåÈÇ£‰Ω†ÂøÖÈ°ªË¶ÅÁ°Æ‰øù NSExtensionActivationSupportsWebURLWithMaxCount ÂÖ≥ÈîÆÂ≠óÁöÑÂÄº‰∏ç‰∏∫0ÔºàÊõ¥Â§öÂÖ≥‰∫éÂú®Â∫îÁî®Êâ©Â±ï‰∏≠ÈÄöËøáJavaScriptËÆøÈóÆÁΩëÈ°µÁöÑÂÜÖÂÆπËØ∑ÂèÇÈòÖAccessing a Webpage ‰Ω†‰πüÂèØ‰ª•‰ΩøÁî® NSExtensionItem ÂÆö‰πâÁöÑ UTIÂ≠ê Á±ªÂûã‰ª•‰æøÊï∞ÊçÆÊ£ÄÊµãÂô®Ê£ÄÊµãÊñáÊú¨‰ø°ÊÅØÔºåÊØîÂ¶ÇÁîµËØùÂè∑Á†ÅÊàñÈÄöËÆØÂú∞ÂùÄ„ÄÇ NSExtensionActivationRuleÂ≠óÂÖ∏‰∏≠ÁöÑÈîÆË∂≥‰ª•Êª°Ë∂≥Â§ßÂ§öÊï∞Â∫îÁî®ÁöÑËøáÊª§ÈúÄÊ±Ç„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂÅöÊõ¥Â§çÊùÇÁöÑËøáÊª§ÔºåÊØîÂ¶ÇÂÉè public.url Âíå public.image ‰πãÈó¥ÁöÑÂå∫Âà´ÔºåÈÇ£‰πà‰Ω†Â∞±ÂæóÂú®ÊñáÊú¨‰∏≠ÂàõÂª∫Êñ≠Ë®ÄËØ≠Âè•„ÄÇÂ¶ÇÊûú‰Ω†Ë¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ≠Ë®ÄÔºåÈÇ£‰πàÂ∞±Â∞ÜNSExtensionActivationRuleÂÖ≥ÈîÆÂ≠óÁöÑÂÄºËÆæÁΩÆ‰∏∫‰Ω†ÊåáÂÆöÁöÑÊñ≠Ë®ÄÂ≠óÁ¨¶‰∏≤„ÄÇÔºàÂú®ËøêË°åÊó∂ÔºåÁ≥ªÁªü‰ºöËá™Âä®Â∞ÜËØ•Â≠óÁ¨¶‰∏≤ÁºñËØë‰∏∫ NSPredicate ÂØπË±° ÊØîÂ¶ÇÔºå‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÁöÑÈôÑ‰ª∂Â±ûÊÄßÂèØ‰ª•ÊåáÂÆö‰∏∫PDFÊñá‰ª∂ÔºåÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö {extensionItems = ({ attachments = ({ registeredTypeIdentifiers = ( &quot;com.adobe.pdf&quot;, &quot;public.file-url&quot; ); }); })} ‰∏∫‰∫ÜÊåáÂÆö‰Ω†ÁöÑÂ∫îÁî®Êâ©Â±ïÂèØ‰ª•Â§ÑÁêÜPDFÊñá‰ª∂Ôºå‰Ω†ÂèØ‰ª•ÂÉèËøôÊ†∑ÂàõÂª∫Êñ≠Ë®ÄÂ≠óÁ¨¶‰∏≤Ôºö SUBQUERY ( extensionItems, $extensionItem, SUBQUERY ( $extensionItem.attachments, $attachment, ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO &quot;com.adobe.pdf&quot; ).@count == $extensionItem.attachments.@count ).@count == 1 ‰ª•‰∏ãÊòØÊõ¥Â§çÊùÇÁöÑÊñ≠Ë®ÄËØ≠Âè•ÁöÑÁ§∫‰æãÔºö SUBQUERY ( extensionItems, $extensionItem, SUBQUERY ( $extensionItem.attachments, $attachment, ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO &quot;org.appextension.action-one&quot; || ANY $attachment.registeredTypeIdentifiers UTI-CONFORMS-TO &quot;org.appextension.action-two&quot; ).@count == $extensionItem.attachments.@count ).@count == 1 Ê≠§ËØ≠Âè•ÈÅçÂéÜ‰∏Ä‰∏™NSExtensionItemÂØπË±°Êï∞ÁªÑÔºåÂÖ∂Ê¨°ÊòØÈÅçÂéÜattachmentsÊØè‰∏™Êâ©Â±ïÈ°π‰∏≠ÁöÑÊï∞ÁªÑ„ÄÇÂØπ‰∫éÊØè‰∏™ÈôÑ‰ª∂ÔºåË∞ìËØçËØÑ‰º∞ÈôÑ‰ª∂‰∏≠ÊØè‰∏™Ë°®Á§∫ÁöÑÁªü‰∏ÄÁ±ªÂûãÊ†áËØÜÁ¨¶ÔºàUTIÔºâ„ÄÇÂΩìÈôÑ‰ª∂Ë°®Á§∫UTIÁ¨¶Âêà‰∏§‰∏™‰∏çÂêåÁöÑÊåáÂÆöUTI‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÔºàÊÇ®Âú®ÊØè‰∏™UTI-CONFORMS-TOÊìç‰ΩúÂëòÁöÑÂè≥‰æßÁúãÂà∞ÔºâÊó∂ÔºåÊî∂ÈõÜËØ•UTI‰ª•ËøõË°åÊúÄÁªàÊØîËæÉÊµãËØï„ÄÇTRUEÂ¶ÇÊûúÂ∫îÁî®Á®ãÂ∫èÊâ©Â±ïÂêç‰ªÖÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÊîØÊåÅUTIÁöÑÊâ©Â±ïÈ°πÈôÑ‰ª∂ÔºåÂàôËøîÂõûÊúÄÂêé‰∏ÄË°å„ÄÇ ÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÂú®‰Ω†ÂàõÂª∫Êñ≠Ë®ÄËØ≠Âè•‰πãÂâç‰Ω†ÂèØ‰ª•‰ΩøÁî®TRUEPREDICATEÂ∏∏ÈáèÔºàÁªìÊûú‰∏∫trueÔºâÊµãËØï‰Ω†ÁöÑ‰ª£Á†ÅË∑ØÂæÑ„ÄÇÊõ¥Â§öÊñ≠Ë®ÄËØ≠Âè•ÁöÑËØ≠Ê≥ïÁü•ËØÜËØ∑ÂèÇÈòÖPredicate Format String Syntax„ÄÇ ÈáçË¶ÅÊèêÁ§∫ÔºöÂú®Â∞Ü‰Ω†ÁöÑËΩΩ‰ΩìÂ∫îÁî®‰∏ä‰º†App Store‰πãÂâçÔºåË¶ÅÁ°Æ‰øùÊâÄÊúâÁöÑ TRUEPREDICATE Â∏∏ÈáèÂ∑≤ÁªèÊõøÊç¢‰∏∫ÊåáÂÆöÁöÑÊñ≠Ë®ÄËØ≠Âè•Êàñ NSExtensionActivationRule ÂÖ≥ÈîÆÂ≠óÔºå‰∏çÁÑ∂ËΩΩ‰ΩìÂ∫îÁî®‰ºöË¢´App StoreÊãíÁªù„ÄÇ ÈÖçÁΩÆËΩΩ‰ΩìÂ∫îÁî®‰ª•ÈÄÇÁî®‰∫éËÄÅÁâàÊú¨ÁöÑiOSÁ≥ªÁªüÂ¶ÇÊûú‰Ω†Âú®‰∏ª‰ΩìÂ∫îÁî®‰∏≠‰ΩøÁî®‰∫ÜÂÜÖÂµåÊ°ÜÊû∂ÔºåÈÇ£‰πàÂÆÉÂ∞±ÂèØ‰ª•Âú®iOS8.0‰πãÂêéÁöÑÁâàÊú¨‰∏≠‰ΩøÁî®ÔºåÂç≥‰æøÂÜÖÂµåÊ°ÜÊû∂‰∏çÊîØÊåÅËÄÅÁâàÊú¨ÁöÑÁ≥ªÁªü‰πüÊ≤°ÂÖ≥Á≥ª„ÄÇ ‰Ωø‰∏ª‰ΩìÂ∫îÁî®ËÉΩÂÅöÂà∞‰∏äËø∞Ëøô‰∏ÄÁÇπÁöÑÊòØ dlopen ÂëΩ‰ª§ÔºåÂÆÉÂèØ‰ª•‰Ωø‰Ω†‰ΩøÁî®Êù°‰ª∂ÈìæÊé•ÂíåÂä†ËΩΩÊ°ÜÊû∂ÂåÖÁöÑÊú∫Âà∂„ÄÇ‰Ω†ÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™ÂëΩ‰ª§Êù•‰ª£ÊõøÁºñËØëÊó∂ÈìæÊé•Ôºå‰Ω†ÂèØ‰ª•Âú® Xcode ÁöÑ General ÈÄâÈ°πÊàñ Build Phases ÈÄâÈ°π‰∏≠ÂØπËØ•ÂëΩ‰ª§ËøõË°åÁºñËæë„ÄÇÂÖ∂ÂéüÁêÜÂ∞±ÊòØÂè™ÊúâÂΩì‰∏ª‰ΩìÂ∫îÁî®Âú® iOS8.0 ÊàñÊõ¥È´òÁöÑÁâàÊú¨‰∏≠ËøêË°åÊó∂ÔºåÊâç‰ºöÈìæÊé•‰ΩøÁî®ÂÜÖÂµåÊ°ÜÊû∂„ÄÇ ÊÇ®ÂøÖÈ°ªÂú®ÊúâÊù°‰ª∂Âú∞ framework bundleÁöÑ‰ª£Á†ÅËØ≠Âè•‰∏≠‰ΩøÁî®Objective-CËÄå‰∏çÊòØSwift„ÄÇÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÁöÑÂÖ∂‰ΩôÈÉ®ÂàÜÂèØ‰ª•Áî®‰ªª‰Ωï‰∏ÄÁßçËØ≠Ë®ÄÁºñÂÜôÔºåÂÜÖÂµåÊ°ÜÊû∂Êú¨Ë∫´‰πüÂèØ‰ª•Áî®‰ªª‰Ωï‰∏ÄÁßçËØ≠Ë®ÄÁºñÂÜô„ÄÇ Ë∞ÉÁî®‰πãÂêédlopenÔºå‰ΩøÁî®‰ª•‰∏ãÁ±ªÂûãÁöÑËØ≠Âè•ËÆøÈóÆÂÜÖÂµåÊ°ÜÊû∂Á±ªÔºö MyLoadedClass *loadedClass = [[NSClassFromString (@&quot;MyClass&quot;) alloc] init]; ÈáçË¶ÅÊèêÁ§∫ÔºöÂ¶ÇÊûú‰Ω†ÁöÑ‰∏ª‰ΩìÂ∫îÁî®‰ΩøÁî®‰∫ÜÂÜÖÂµåÊ°ÜÊû∂ÔºåÈÇ£‰πàÂ∞±ÂøÖÈ°ªË¶ÅÊîØÊåÅarm64Êû∂ÊûÑÔºåÂê¶Âàô‰ºöË¢´App StoreÊãíÁªù„ÄÇ ËÆæÁΩÆXcodeÈ°πÁõÆ‰∏≠Â∫îÁî®Êâ©Â±ïÁöÑÊù°‰ª∂ÈìæÊé• 1.Â∞ÜÊØè‰∏Ä‰∏™Â∫îÁî®Êâ©Â±ïÁöÑËøêË°åÁ≥ªÁªüÁâàÊú¨ËÆæÁΩÆ‰∏∫iOS8.0ÊàñÊõ¥È´òÔºåÈÄöÂ∏∏ÈÄâ‰∏≠Xcode‰∏≠ÁöÑtargetÔºåÂú®GeneralÈÄâÈ°π‰∏≠ËÆæÁΩÆDeployment info„ÄÇ2.Â∞Ü‰Ω†‰∏ª‰ΩìÂ∫îÁî®ÁöÑËøêË°åÁ≥ªÁªüÁâàÊú¨ËÆæÁΩÆ‰∏∫‰Ω†ÊÉ≥ÊîØÊåÅÁöÑÊúÄ‰ΩéiOSÁâàÊú¨„ÄÇ3.Âú®‰Ω†ÁöÑ‰∏ª‰ΩìÂ∫îÁî®‰∏≠ÔºåÈÄöËøá systemVersion ÊñπÊ≥ïÔºåÂú®ËøêË°åÊó∂Ê£ÄÊü•Âà§Êñ≠iOSÁöÑÁâàÊú¨ÔºåÂπ∂Âà§Êñ≠ÊòØÂê¶ÊâßË°ådlopenÂëΩ‰ª§„ÄÇÂè™Êúâ‰Ω†ÁöÑËΩΩ‰ΩìÂ∫îÁî®Âú®iOS8.0ÊàñÊõ¥È´òÁöÑÁâàÊú¨‰∏≠ËøêË°åÊó∂Êâç‰ºöÊåáÂÆödlopenÂëΩ‰ª§„ÄÇËøõË°åÊ≠§Ë∞ÉÁî®Êó∂ÔºåËØ∑Âä°ÂøÖ‰ΩøÁî®Objective-CÔºåËÄå‰∏çÊòØSwift„ÄÇ ÁâπÂÆöÁöÑiOS APIÈÄöËøádlopenÂëΩ‰ª§‰ΩøÁî®ÂÜÖÂµåÊ°ÜÊû∂„ÄÇ‰Ω†ÂøÖÈ°ªÈÄâÊã©ÊÄßÁöÑ‰ΩøÁî®Ëøô‰∫õAPIÔºåÂ∞±ÂÉè‰ΩøÁî® dlopen ÂëΩ‰ª§Êó∂ÈÇ£Ê†∑„ÄÇËøô‰∫õAPIÈÉΩÊòØ CFBundleRef ÁöÑÂ∞ÅË£ÖÁ±ªÂûãÔºö CFBundleGetFunctionPointerForName CFBundleGetFunctionPointersforNames ËøòÊúâÊù•Ëá™NSBundleÁ±ªÁöÑÊñπÊ≥ïÔºö loadloadAndReturnError:classNamed: Âõ†‰∏∫‰Ω†‰∏ÄËà¨‰ºöÂ∞ÜËΩΩ‰ΩìÂ∫îÁî®ÁöÑËøêË°åÁ≥ªÁªüÁâàÊú¨ÈÖçÁΩÆ‰∏∫ËæÉ‰ΩéÁöÑÁâàÊú¨ÔºåÊâÄ‰ª•Ëøô‰∫õAPIÈÄöÂ∏∏ÈÉΩÊòØÂú®ËøêË°åÊó∂Ê£ÄÊü•ÔºåÂè™ÊúâÁ°Æ‰øùËΩΩ‰ΩìÂ∫îÁî®Âú®iOS8.0ÊàñÊõ¥È´òÁâàÊú¨‰∏≠ËøêË°åÊó∂Êâç‰ºö‰ΩøÁî®Ëøô‰∫õAPI„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018CocoaPodsÂÆâË£ÖÂíå‰ΩøÁî®]]></title>
    <url>%2F2018%2F11%2F12%2F2018CocoaPods%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[2018 CocoaPodsÊúÄÊñ∞ÂÆâË£ÖÂíå‰ΩøÁî®‰ª•ÂèäË∑≥Ëøápod setupÂø´ÈÄüÂÆâË£ÖÊïôÁ®ã Á¨¨‰∏ÄÊ≠•:‰øÆÊîπrubyÊ∫êÂÆâË£ÖCocoaPods,ÈúÄË¶ÅrubyÁéØÂ¢É,ÁÑ∂ËÄåMacÁ≥ªÁªüÈªòËÆ§‰ºöÂÆâË£ÖÂ•ΩrubyÁéØÂ¢É„ÄÇ ÊâìÂºÄMacÁªàÁ´Ø gem sources -l //Êü•ÁúãrubyÊ∫ê ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰ºöÊòæÁ§∫ https://rubygems.org/ rubyÊ∫êÂú®Â¢ôÂÜÖÊòØËÆøÈóÆ‰∏çÂà∞ÁöÑ,ÈúÄË¶ÅÁΩÆÊç¢‰∏∫ÂõΩÂÜÖ ÂéüÊù•‰∏ÄÁõ¥Áî®ÁöÑÊòØÊ∑òÂÆùÁöÑ gem sources -a https://ruby.taobao.org/ ‰ΩÜÊòØÊ∑òÂÆùÁöÑrubyÊ∫ê‰∏çÊõ¥Êñ∞‰∫Ü,‰∏çÂª∫ËÆÆ‰ΩøÁî® ,ÂéüÂõ†ÂèØ‰ª•ÁúãËøô‰∏™ÈìæÊé• https://ruby.taobao.org/ Áé∞Âú®Áî® https://gems.ruby-china.org //Âà†Èô§‰πãÂâç‰ΩøÁî®ÁöÑÊ∑òÂÆù gem sources --remove https://ruby.taobao.org/ gem source -a https://gems.ruby-china.org ‰∏∫‰∫ÜÈ™åËØÅ‰Ω†ÁöÑRubyÈïúÂÉèÊòØÂπ∂‰∏î‰ªÖÊòØgems.ruby-chinaÔºåÂèØ‰ª•Áî®‰ª•‰∏ãÂëΩ‰ª§Êü•ÁúãÔºö gem sources -l //Ê£ÄÊµãÊòØÂê¶ÊàêÂäü Âè™ÊúâÂú®ÁªàÁ´Ø‰∏≠Âá∫Áé∞‰∏ãÈù¢ÊñáÂ≠óÊâçË°®Êòé‰Ω†‰∏äÈù¢ÁöÑÂëΩ‰ª§ÊòØÊàêÂäüÁöÑÔºö https://gems.ruby-china.org Ë°•ÂÖÖ: ÊúÄËøëruby-chinaÂüüÂêçÂèòÂåñÁî±orgÊõ¥Êîπ‰∏∫comÔºåËØ∑Â§ßÂÆ∂Êîπ‰∏∫ https://gems.ruby-china.com gem sources --remove https://gems.ruby-china.org gem source -a https://gems.ruby-china.com Á¨¨‰∫åÊ≠•:ÂçáÁ∫ßGemGemÊòØÊù•ÁÆ°ÁêÜRubyÊ†áÂáÜÂåÖ. gem -v //Êü•ÁúãÁâàÊú¨ sudo gem update --system //ÂçáÁ∫ßgem ‰∏çÂçáÁ∫ßÂú®Á¨¨‰∏âÊ≠•ÂèØËÉΩ,‰ºöÊä•ÂæàÂ§öÈîôËØØ,Âõ†‰∏∫GemÁâàÊú¨Â§™‰Ωé,Êó†Ê≥ïÂÆâË£ÖÁ¨¨‰∏âÊ≠•,ÂÆâË£ÖCocoaPods Â¶ÇÊûúÊä•ÈîôÔºö ERROR: While executing gem ... (OptionParser::AmbiguousOption) ambiguous option: -system ÂÆâË£ÖRVM: curl -L get.rvm.io | bash -s stable Êü•ÁúãÁâàÊú¨Ôºö ruby -v Â∑≤Áü•ÁâàÊú¨Ôºö rvm list known ÂÆâË£ÖÁâàÊú¨Ôºö rvm install 2.4.1 Á¨¨‰∏âÊ≠•,ÂÆâË£ÖCocoaPodssudo gem install cocoapods // Mac OS X 10.11Ââç ËæìÂÖ•Ëøô‰∏ÄÊù° sudo gem install -n /usr/local/bin cocoapods //Mac OS X 10.11Âêé ËæìÂÖ•Ëøô‰∏ÄÊù° ÊàêÂäüÂêé pod setup ËøôÊù°ÂëΩ‰ª§ÊòØÂ∞ÜGithub‰∏äÁöÑÂºÄÊ∫êÂ∫ìÈÉΩÊâòÁÆ°ÈÉΩÂÆâË£ÖPodspecÁ¥¢ÂºïÂÆâË£ÖÂà∞Âà∞Êú¨Âú∞, ÊµãËØïÂ¶ÇÊûúÊúâÁâàÊú¨Âè∑ÔºåÂàôËØ¥ÊòéÂ∑≤ÁªèÂÆâË£ÖÊàêÂäü pod --version //Êü•ÁúãÁâàÊú¨ Á¨¨ÂõõÊ≠•,Âà©Áî®cocoapodsÊù•ÂÆâË£ÖÁ¨¨‰∏âÊñπÊ°ÜÊû∂ 1 ËøõÂÖ•Ë¶ÅÂÆâË£ÖÊ°ÜÊû∂ÁöÑÈ°πÁõÆÁöÑ.xcodeprojÂêåÁ∫ßÊñá‰ª∂Â§π 2 Âú®ËØ•Êñá‰ª∂Â§π‰∏≠Êñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂Podfile pod init pod initÈ¶ñÂÖàÈúÄË¶ÅÂà§Êñ≠ÂΩìÂâçÁõÆÂΩïÊúâÊ≤°Êúâ XCODEPROJ È°πÁõÆÔºåÂ¶ÇÊûúÊ≤°ÊúâÁõ¥Êé•Êä•ÈîôÔºõËã•ÊûúÊúâÂçï‰∏™ XCODEPROJ È°πÁõÆÔºå‰ºöÁõ¥Êé•ÂàõÂª∫‰∏Ä‰∏™ podfile Êñá‰ª∂ÔºõÂ¶ÇÊûúÊúâÂ§ö‰∏™XCODEPROJ È°πÁõÆÔºåÈúÄË¶ÅÊåáÂÆö‰∏Ä‰∏™È°πÁõÆÔºåÂê¶Âàô‰ºöÊä•ÈîôÔºö [!] Multiple Xcode projects found, please specify one ÊàñËÄÖÊâãÂä® Êñ∞Âª∫Êñá‰ª∂Podfile vim Podfile vim Podfile PodfileÊñá‰ª∂‰∏≠, ÂÜôÂÖ•‰ª•‰∏ãÂÜÖÂÆπÂπ∂‰øùÂ≠ò Â∞èÊèêÁ§∫ÔºöÔºàÁªàÁ´ØvimÊñá‰ª∂ Êåâ i ÂèØÁºñËæë Ôºåesc ÈÄÄÂá∫ÁºñËæëÔºåÔºöwq ÂèØ‰øùÂ≠òÈÄÄÂá∫Ôºâ # Uncomment the next line to define a global platform for your project platform :ios, &#39;7.0&#39; target &#39;MyApp&#39; do # Uncomment the next line if you&#39;re using Swift or would like to use dynamic frameworks # use_frameworks! # Pods for sync pod &#39;AFNetworking&#39; , &#39;~&gt; 3.1.0&#39; end Ëß£Èáä‰∏Ä‰∏ãplatform : ios, ‚Äò7.0‚Äô‰ª£Ë°®ÂΩìÂâçAFNetworkingÊîØÊåÅÁöÑiOSÊúÄ‰ΩéÁâàÊú¨ÊòØiOS 7.0, ‰ΩøÁî®Êó∂ÈúÄË¶ÅÂéªÊéâÂâçÈù¢‰∫ïÂè∑MyApp : Â∞±ÊòØ‰Ω†Ëá™Â∑±ÁöÑÂ∑•Á®ãÂêçÂ≠óÔºåpod &#39;AFNetworking&#39;, &#39;~&gt; 3.1.0&#39;‰ª£Ë°®Ë¶Å‰∏ãËΩΩÁöÑAFNetworkingÁâàÊú¨ÊòØ3.1.0Âèä‰ª•‰∏äÁâàÊú¨ÔºåËøòÂèØ‰ª•ÂéªÊéâÂêéÈù¢ÁöÑ‚Äô~&gt; 3.1.0‚ÄôÔºåÁõ¥Êé•ÂÜôpod ‚ÄòAFNetworking‚ÄôÔºåËøôÊ†∑‰ª£Ë°®‰∏ãËΩΩÁöÑAFNetworkingÊòØÊúÄÊñ∞Áâà„ÄÇ 3 ‰∏äÈù¢‰ø°ÊÅØË°®Á§∫Êñá‰ª∂‰∏≠ÂëäËØâcocoapodsÈúÄË¶ÅÂÆâË£ÖÁöÑÊ°ÜÊû∂‰ø°ÊÅØ a.ËØ•Ê°ÜÊû∂ÊîØÊåÅÁöÑÂπ≥Âè∞ b.ÈÄÇÁî®ÁöÑiOSÁâàÊú¨ c.Ê°ÜÊû∂ÁöÑÂêçÁß∞ d.Ê°ÜÊû∂ÁöÑÁâàÊú¨ 4.ÂØºÂÖ•Á¨¨‰∏âÊñπÂ∫ì‚Äìno-repo-update : ‰∏çÊõ¥Êñ∞‰ªìÂ∫ì,ËøÖÈÄüÂä†ËΩΩÁ¨¨‰∏âÊñπÊ°ÜÊû∂pod install --no-repo-update pod update --no-repo-update 5.ÂèØ‰ΩøÁî®searchÂëΩ‰ª§ÊêúÁ¥¢Á±ªÂ∫ìÂêçÊØîÂ¶Ç:pod search AFNetworkingÔºà‰πüÂèØ‰ª•pod search UIÁ≠âÔºåÂèØ‰ª•Êü•ËØ¢‰Ω†ÊÉ≥Ë¶ÅÁöÑÔºâ ÈÄÄÂá∫ÊêúÁ¥¢, ËæìÂÖ• :wq Á¨¨‰∫îÊ≠•,CocoaPods ‰∏≠Âà†Èô§‰∏çÈúÄË¶ÅÁöÑÁ¨¨‰∏âÊñπÂ∫ì 1 ÊâìÂºÄPodfile, ÊâæÂà∞‰∏çÈúÄË¶ÅÁöÑÁ±ªÂ∫ì, Áõ¥Êé•Âà†Èô§ËØ•Á±ªÂ∫ì‰ø°ÊÅØ, ÊàñËÄÖÂâçÈù¢Âä†#Ê≥®ÈáäÊéâÊØîÂ¶ÇË¶ÅÂà†Èô§AFNetworkingÂ∫ì ,Áõ¥Êé•ÂéªÊéâPodfile‰∏≠Á¨¨‰∫îË°å‰ø°ÊÅØ pod ‚ÄòAFNetworking‚Äô, ‚Äò~&gt; 3.1.0‚Äô 2 ÊâìÂºÄÁªàÁ´ØcdÂà∞ÂΩìÂâçÈ°πÁõÆÁöÑÊ†πÁõÆÂΩï‰∏ãÈáçÊñ∞ÊâßË°å pod update --no-repo-update 3 Êõ¥Êñ∞ÂÆåÊàêÂ∞±Âà†Èô§ÊàêÂäü‰∫Ü Ê≥®ÊÑè: Âà†Èô§‰∏Ä‰∫õ‰∏âÊñπÂ∫ìÂêéÁºñËØëÂèØËÉΩ‰ºöÊä•Èîô: library not found for -l Â∫ìÂêç Ëß£ÂÜ≥:Âú®Build Settings‰∏≠ÊêúÁ¥¢Other Linker FlagsÔºåÂéªÊéâ-l‚ÄùÂ∫ìÂêç‚Äù„ÄÇ(ÊúâÊó∂‰∏çÁÆ°Áî®,Â∫îËØ•ÊòØcocoapodsÁöÑÁâàÊú¨ÈóÆÈ¢ò) Á¨¨ÂÖ≠, CocoapodsÈôç‰ΩéÁâàÊú¨ÂèäÂç∏ËΩΩ‰∏Ä. ÁßªÈô§podÁªÑ‰ª∂ 1.ËøôÊù°Êåá‰ª§‰ºöÂëäËØâ‰Ω†CocoapodsÁªÑ‰ª∂Ë£ÖÂú®Âì™Èáå : which pod 2.‰Ω†ÂèØ‰ª•ÊâãÂä®ÁßªÈô§Ëøô‰∏™ÁªÑ‰ª∂ : sudo rm -rf Ë∑ØÂæÑ ‰∫å. ÁßªÈô§ RubyGems ‰∏≠ÁöÑ CocoapodsÁ®ãÂ∫èÂåÖ Q: RubyGemsÊòØ‰ªÄ‰πà? A: RubyGemsÔºàÁÆÄÁß∞ gemsÔºâÊòØ‰∏Ä‰∏™Áî®‰∫éÂØπ RubyÁªÑ‰ª∂ËøõË°åÊâìÂåÖÁöÑ Ruby ÊâìÂåÖÁ≥ªÁªü„ÄÇ ÂÆÉÊèê‰æõ‰∏Ä‰∏™ÂàÜÂèë Ruby Á®ãÂ∫èÂíåÂ∫ìÁöÑÊ†áÂáÜÊ†ºÂºèÔºåËøòÊèê‰æõ‰∏Ä‰∏™ÁÆ°ÁêÜÁ®ãÂ∫èÂåÖÂÆâË£ÖÁöÑÂ∑•ÂÖ∑„ÄÇ 1.Êü•Áúãgems‰∏≠Êú¨Âú∞Á®ãÂ∫èÂåÖ gem list 2.ÁßªÈô§Á®ãÂ∫èÂåÖ sudo gem uninstall cocoapods -v Ë¶ÅÁßªÈô§ÁöÑÁâàÊú¨Âè∑ 3.ÂÆâË£ÖÊåáÂÆöÁâàÊú¨ÁöÑCocoapods sudo gem install cocoapods -v Ë¶ÅÂÆâË£ÖÁöÑÁâàÊú¨Âè∑ Ë∑≥Ëøápod setupÂø´ÈÄüÂÆâË£ÖÊúâ‰∏çÂ∞ëÂêåÂ≠¶ÊâßË°åpod setupËøô‰∏ÄÊ≠•, ÊÑüËßâÂæàÊÖ¢‚Ä¶.. Â§ßÁ∫¶Ë¶Å‰∏ãËΩΩ200MÁöÑÊñá‰ª∂,ÂÅèÂÅè‰∏ãËΩΩÈÄüÂ∫¶Âá∫Â•áÁöÑÊÖ¢,Êú¨‰∫∫‰øùÊåÅÂú®30K/S,Â§ßÁ∫¶2‰∏™Â∞èÊó∂,ÂÖ≥ÈîÆÊòØÊ≤°Êúâ‰ªª‰ΩïËøõÂ∫¶Êù°ÊòæÁ§∫,Â∞±ËøôÊ†∑ÂÇª‰πé‰πéÁöÑÂç°Ê≠ªÂú®ËøôÈáå ‰∏ÄÂè• pod setup Âç°‰Ω†2‰∏™Â∞èÊó∂,ÂâçÊèêËøòÊòØ‰Ω†ÂÆâË£ÖÊ≤°ÊúâÈîô,Â¶ÇÊûúÈîôËØØ,ÂèàË¶ÅÈáçÊñ∞2Â∞èÊó∂. ÊÄé‰πàËÉΩÂ¶ÇÊ≠§Êµ™Ë¥πÊó∂Èó¥Âë¢? ÂâçÈù¢ËØ¥‰∫Ü,pod setup ËøôÊù°ÂëΩ‰ª§ÊòØÂ∞ÜGithub‰∏äÁöÑÂºÄÊ∫êÂ∫ìÈÉΩÊâòÁÆ°ÈÉΩÂÆâË£ÖPodspecÁ¥¢ÂºïÂÆâË£ÖÂà∞Âà∞Êú¨Âú∞. ÁÆÄÂçïËØ¥Â∞±ÊòØ‰∏ãËΩΩ‰∏Ä‰∏™ÂåÖ,Âà∞Êú¨Âú∞,‰πüÂ∞±ÊòØËøô‰∏™‰∏úË•ø Â¶ÇÊûú‰Ω†Âêå‰∫ãÁîµËÑë‰∏äÊúâÂÆâË£ÖÂ•Ω,‰Ω†ÂÖ∂ÂÆûÂèØ‰ª•‰ªé‰Ω†Âêå‰∫ãÁîµËÑë‰∏äÊã∑Ë¥ùËøáÊù•,Áõ¥Êé•ÊîæÂà∞ËØ•Ë∑ØÂæÑÂ∞±OK‰∫Ü. Â¶ÇÊûú‰Ω†Ë∫´ËæπÊ≤°ÊúâË£ÖÂ•ΩÁöÑCocoaPodsÁöÑÊúãÂèã,ÂèØ‰ª•ËÆøÈóÆËøô‰∏™ÈìæÊé• https://github.com/CocoaPods/Specs (githubÊâÄÊúâÁöÑÁ¨¨‰∏âÊñπÂºÄÊ∫êÂ∫ìÁöÑPodspecÊñá‰ª∂ÈÉΩÊâòÁÆ°Âú®ËøôÈáå,Ëøô‰πüÊòØ‰Ω†pod setupÊâÄË¶Å‰∏ãËΩΩÁöÑ). ÈÄâÊã©Download ZIP,Áî®‰Ω†ÁöÑÊµèËßàÂô®ÊàñËÄÖËøÖÈõ∑‰ªÄ‰πàÁöÑ,‰ªÄ‰πà‰∏ãËΩΩÂø´Áî®‰ªÄ‰πà,ÂàÜÂàÜÈíü‰∏ãËΩΩÂÆåÁõÆÂâç‰∏∫111.3M(ÈöèÁùÄÂºÄÊ∫êÂ∫ìÁöÑÂ£ÆÂ§ß,‰ºöÊÖ¢ÊÖ¢ÂèòÂ§ß). Ëß£ÂéãÂêé‰∏∫Ëøô‰∏™Ê†∑Â≠ê ÂØπÊØî‰∏äÂõæ,Specs-masterÊîπÂêç‰∏∫master ÊîæÂú® ~/.cocoapods/repos Ë∑ØÂæÑÂç≥ÂèØ. ~/.cocoapods/repos Ëøô‰∏™Ë∑ØÂæÑÊòØÂú®ÊâßË°å pod setupÁîüÊàêÁöÑ,ÊâÄ‰ª•ÁîµËÑëÊó†Ê≥ïÂâçÂæÄÊ≠§Ë∑ØÂæÑÊòØ,Âª∫ËÆÆÂÖàpod setup‰∏ã,ÁÑ∂ÂêéÂÖ≥Èó≠ÊéâÂç≥ÂèØÁîüÊàêË∑ØÂæÑ. ËøòÊúâÂ∞±ÊòØ,FQ,‰ºöÂæàÂø´‰∏ãËΩΩ,‰πüÂ∞±ÊòØÊåÇ‰∏™VPN.]]></content>
      <categories>
        <category>Tool</category>
      </categories>
      <tags>
        <tag>iOSTool</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HexoÊê≠Âª∫githubÂçöÂÆ¢]]></title>
    <url>%2F2018%2F11%2F11%2FHexo%E6%90%AD%E5%BB%BAgithub%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[hexoÂÆòÊñπÁΩëÁ´ô ‰∏Ä.Á≥ªÁªüÁéØÂ¢ÉÈÖçÁΩÆÔºöË¶Å‰ΩøÁî®HexoÔºåÈúÄË¶ÅÂú®‰Ω†ÁöÑÁ≥ªÁªü‰∏≠ÊîØÊåÅNodejs‰ª•ÂèäGitÔºåÂ¶ÇÊûúËøòÊ≤°ÊúâÔºåÈÇ£Â∞±ÂºÄÂßãÂÆâË£ÖÂêßÔºÅ 1.ÂÆâË£Ö node.js‚Äã ‰∏ãËΩΩÂú∞ÂùÄ node.js‚Äã Áõ¥Êé•ÂèåÂáª‰∏ãËΩΩ‰∏ãÊù•ÁöÑmsiÊñá‰ª∂Ôºå‰∏ÄË∑Ø‰∏ã‰∏ÄÊ≠•Â∞±ok‰∫ÜÔºåÂÆâË£ÖÂÆå‰πãÂêéË∞ÉÂá∫ÂëΩ‰ª§Ë°åÊàñËÄÖnodeÂëΩ‰ª§ËæìÂÖ•ÁªàÁ´ØÔºåËæìÂÖ•node -vÁúãÂà∞ÁâàÊú¨‰ø°ÊÅØÂ∞±Ë°®ÊòéÂÆâË£ÖÊàêÂäü‰∫Ü„ÄÇÂ¶ÇÊûú‰∏ç‰ºöÂ∞±ÂèÇËÄÉnode.jsÂÆâË£Ö 2.ÂÆâË£Ö git‚Äã ‰∏ãËΩΩÂú∞ÂùÄ git‰∏ãËΩΩ‚Äã Áõ¥Êé•ÂèåÂáª‰∏ãËΩΩ‰∏ãÊù•ÁöÑgitÂÆâË£ÖÁ®ãÂ∫èÔºåÂêånodeÂÆâË£ÖÔºåÂÆâË£ÖÂÆå‰πãÂêéÂè≥ÈîÆÂèëÁé∞Â§ö‰∫Ü‰∏§‰∏™Git GUI Here „ÄÅGit Bash HereÔºåÁÇπÂáªÂêéËÄÖÔºåÁÑ∂ÂêéËæìÂÖ•git ‚ÄìversionÂá∫Áé∞ÁâàÊú¨‰ø°ÊÅØÂ∞±Ë°®ÊòéÂÆâË£ÖÊàêÂäü‰∫Ü„ÄÇ 3.Ê≥®ÂÜå githubË¥¶Âè∑‚Äã github ÂÆòÁΩë github ‰∫å.Êê≠Âª∫‰∏™‰∫∫ÂçöÂÆ¢ÂÆâË£Ö hexoÔºö 1.Êõ¥Êñ∞ÈïúÂÉèÂèÇËÄÉ 2018 macÁªàÁ´ØÊõ¥Êñ∞Ê∑òÂÆùnpmÈïúÂÉè 2. ÂÆâË£Ö hexo ÂëΩ‰ª§ $ sudo cnpm install -g hexo-cli Âú®ËøôÈáå‰ºöÊúâ ‰∏ÄÊÆµÊó∂Èó¥Á≠âÂæÖÔºåËØ∑Á®çÁ≠â 3. ÂÆâË£Ö‰∏™‰∫∫ÂçöÂÆ¢ËøõÂÖ•Âà∞ ‰Ω†Êú¨Âú∞ÁöÑÂçöÂÆ¢Â≠òÊîæË∑ØÂæÑ # ËøõÂÖ•Êú¨Âú∞ÂçöÂÆ¢Â≠òÊîæÁõÆÂΩï $ cd /github/blog # ÂàùÂßãÂåñ ‰∏™‰∫∫ÂçöÂÆ¢ $ hexo init #Á≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ ÂàùÂßãÂåñÂÆåÊàê‰ª•ÂêéÔºå‰ºöÁîüÊàê‰ª•‰∏ãÁõÆÂΩïÔºö #ÁîüÊàêÈùôÊÄÅÁΩëÈ°µ $ hexo g # ÂêØÂä®ÊúçÂä°Âô®„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËÆøÈóÆÁΩëÂùÄ‰∏∫Ôºö http://localhost:4000/ $ hexo s ÊâßË°åÂÆå‰ª•ÂêéÔºå‰Ω†Â∞±ÂèØ‰ª•ÂéªÊâìÂºÄ http://localhost:4000/ ÁúãÊú¨Âú∞ÁâàÁöÑÂçöÂÆ¢ÊïàÊûú‰∫Ü„ÄÇ ‰∏â.‰øÆÊîπ‰∏ªÈ¢òÔºönextÂÆòÁΩëËøôÈáåÊúâ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑhexo‰∏ªÈ¢òÔºåËØªËÄÖÂèØ‰ª•ÊåëÈÄâËá™Â∑±ÂñúÊ¨¢ÁöÑÂÆâË£Ö„ÄÇ ‰∏™‰∫∫ÊØîËæÉÂñúÊ¨¢ next ËøôÊ¨æ‰∏ªÈ¢ò„ÄÇÂü∫Êú¨Âë¢Â∞±ÊòØËøô‰∏™ÊïàÊûú‰∏™‰∫∫ÂçöÂÆ¢ Ê∏ÖÈô§ÁºìÂ≠òÊñá‰ª∂ (db.json) ÂíåÂ∑≤ÁîüÊàêÁöÑÈùôÊÄÅÊñá‰ª∂ (public)„ÄÇ $ hexo clean ‰∏ãËΩΩ‰∏ªÈ¢ò $ git clone https://github.com/iissnan/hexo-theme-next.git themes/next ÂêØÂä®‰∏ªÈ¢òÔºö1. ‰øÆÊîπHexoÁõÆÂΩï‰∏ãÁöÑ_config.ymlÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑthemeÂ±ûÊÄßÔºåÂ∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫next theme : next 2.ÁîüÊàêÈùôÊÄÅÈ°µÈù¢ $ hexo clean # ÁîüÊàêÈùôÊÄÅÈ°µÈù¢ $ hexo g # ÂêØÂä®ÊúçÂä°Âô® $ hexo s ÊâìÂºÄ http://localhost:4000/ Êü•ÁúãÈùôÊÄÅÈ°µÈù¢. Âõõ.ÈÉ®ÁΩ≤Âà∞GitHub‰∏äÔºö‰øÆÊîπÁ´ôÁÇπÊ†πÁõÆÂΩï‰∏ã _config.yml Êñá‰ª∂ÔºåÂú®ÊúÄÂêéÊ∑ªÂä† # Deployment ## Docs: https://hexo.io/docs/deployment.html deploy: type: git repo: git@github.com:honkerSK/honkerSK.github.io.git #ËøôÈáåÂ°´‰Ω†Ëá™Â∑±ÁöÑgithubÂú∞ÂùÄ branch: master ÁÑ∂ÂêéÂú®ÂëΩ‰ª§Ë°å‰∏≠ÊâßË°å #Ê≥®ÊÑèÈúÄË¶ÅÊèêÂâçÂÆâË£Ö‰∏Ä‰∏™Êâ©Â±ïÔºö $ cnpm install hexo-deployer-git --save #ÈÉ®ÁΩ≤ÁΩëÁ´ô, Êèê‰∫§Âà∞github $ hexo d Âà∞Ê≠§Âë¢Ôºå‰Ω†ÁöÑÂçöÂÆ¢Âü∫Êú¨Â∞±Êê≠Âª∫ÂÆåÊØï‰∫Ü„ÄÇ ÂçöÂÆ¢Â§ñÈÉ®Êèí‰ª∂ÔºöËøô‰∏™ÊòØ‰∏™‰∫∫ÂçöÂÆ¢ÁöÑÁ¨¨‰∏âÊñπÊèí‰ª∂Ôºå‰∏Ä‰∏™ÂçöÂÆ¢ÊêúÁ¥¢Êèí‰ª∂Ôºå‰∏Ä‰∏™ËØÑËÆ∫Êèí‰ª∂„ÄÇ ÊêúÁ¥¢Êèí‰ª∂ algoliaÔºö 1) Ê≥®ÂÜåË¥¶Âè∑ algolia 2) ÁôªÈôÜÔºåËøõÂéªÂàõÂª∫‰∏Ä‰∏™Á¥¢ÂºïÔºåÂ¶ÇÂõæÔºö 3) ÂàõÂª∫‰∏Ä‰∏™api keyÔºåÂπ∂Ëµã‰∫àÂ¢ûÂà†ÁöÑÊùÉÈôêÔºåÂ¶ÇÂõæÊâÄÁ§∫Ôºö Âπ∂Ëµã‰∫à add records,delete recourds,list indices,delete index 4‰∏™ÊùÉÈôêÔºåÂ¶ÇÂõæÊâÄÁ§∫Ôºö 4) ÁÑ∂ÂêéÁºñËæëÈÖçÁΩÆÊñá‰ª∂ÔºåÈ¶ñÂÖàÊòØ next ÁõÆÂΩï‰∏ãÁöÑ _config.ymlÔºö Â∞Ü # Algolia Search ‰∏ãÁöÑ algolia_search: enable: true ---Êîπ‰∏∫true 5) ÁÑ∂Âêé‰øÆÊîπ Á´ôÁÇπÁõÆÂΩï‰∏ãÁöÑ _config.ymlÔºö ÊúÄÂêéÂ¢ûÂä†Ôºö #Á´ôÂÜÖÊêúÁ¥¢Ôºö algolia: applicationID: &#39;ZMNZVONxxx&#39; #Application ID ÂØπÂ∫îÁöÑÂÄº apiKey: &#39;a3b6cc86714b99e25e614968b07xxxxx&#39; # ËøôÈáåÂ°´‰Ω†Êñ∞Âª∫ÁöÑ api key ÂØπÂ∫îÁöÑÂÄº indexName: &#39;bigDataBeginner&#39; #ËøôÈáåÂ°´‰Ω† ÂàõÂª∫ÁöÑÁ¥¢ÂºïÂêçÁß∞ chunkSize: 5000 #Ëøô‰∏™ÂÄº‰∏çÂä® 6) ÊâßË°åÂëΩ‰ª§ÔºåÂ∞ÜÊñáÁ´†ÂàóË°®ÂêåÊ≠•Âà∞ algoliaÔºö $ export HEXO_ALGOLIA_INDEXING_KEY=a3b6cc86714b99e25e614968b073f442 # keyÂÄºÂØπ‰∫é‰Ω†Êñ∞Âª∫ api keyÁöÑÂÄº $ hexo algolia Â¶ÇÊûúÊä•Èîô ÊâßË°å hexo clean ÂêéÔºåÈáçËØï„ÄÇÁÑ∂ÂêéÈ¢ÑËßà„ÄÇ ËØÑËÆ∫Êèí‰ª∂ Êù•ÂøÖÂäõÔºö 1) Ê≥®ÂÜåË¥¶Âè∑Êù•ÂøÖÂäõ 2) ÁôªÈôÜÔºåÁªëÂÆöËá™Â∑±ÂçöÂÆ¢Âú∞ÂùÄ„ÄÇÂ¶ÇÂõæÊâÄÁ§∫Ôºö 3) Â§çÂà∂ Ëá™Â∑±Âú∞ÂùÄÂØπÂ∫îÁöÑidÂÄº„ÄÇÂ¶ÇÂõæÊâÄÁ§∫Ôºö 4) ÁºñËæë next ÁõÆÂΩï‰∏ãÁöÑ _config.yml ÈÖçÁΩÆÊñá‰ª∂Ôºö ‰øÆÊîπ‰∏ãÈù¢‰∏ÄË°åÔºö livere_uid: &quot;MTAyMC8zMjg2xxxxxx&quot; ---ËøôÈáåÂ°´ÂÖ•‰Ω†Â§çÂà∂ÁöÑidÂÄº Ê∏ÖÁ©∫ÁºìÂ≠òÔºåÈáçÊñ∞ÁîüÊàêÈùôÊÄÅÈ°µÈù¢È¢ÑËßàÂ∞±ÁúãÂà∞ÊïàÊûú‰∫Ü„ÄÇ HexoÂ∏∏Áî®ÂëΩ‰ª§Ôºö$ hexo clean Ê∏ÖÈô§Êú¨Âú∞ÁºìÂ≠ò $ hexo g # ÊàñËÄÖhexo generateÔºåÁîüÊàêÈùôÊÄÅÈ°µÈù¢ $ hexo s # ÊàñËÄÖhexo serverÔºåÂèØ‰ª•Âú®http://localhost:4000/ Êü•Áúã $ hexo new &quot;postName&quot; #Êñ∞Âª∫ÊñáÁ´† $ hexo new page &quot;pageName&quot; #Êñ∞Âª∫È°µÈù¢ $ hexo d # ‰ª£Á†ÅÂêåÊ≠•Âà∞github‰∏ä Â•Ω‰∫ÜÔºåÊú¨ÊñáÂà∞Ê≠§ÁªìÊùü„ÄÇ]]></content>
      <categories>
        <category>Tool</category>
      </categories>
      <tags>
        <tag>ÂâçÁ´ØTool</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰Ωï‰ºòÈõÖÁÆ°ÁêÜgithubÁöÑstarÈ°πÁõÆ]]></title>
    <url>%2F2018%2F11%2F11%2F%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E7%AE%A1%E7%90%86github%E7%9A%84star%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[Âú®‰ΩøÁî®GitHubÁöÑËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÁªèÂ∏∏‰ºöStar‰∏Ä‰∫õÈ°πÁõÆ„ÄÇÊï∞Èáè‰∏ÄÂ§öÔºåÂÆåÂÖ®Êó†Ê≥ïÊéåÊéß„ÄÇÂæàÊó©Â∞±Êúâ‰∫∫ÊèêËÆÆÂÆòÊñπÊ∑ªÂä†ÂàÜÁªÑÂíåÊ†áÁ≠æÂäüËÉΩÔºå‰ΩÜÂÆòÊñπÁªôÂá∫‰∫ÜÂõûÂ∫îËØ¥Ôºå‰∏ç‰ºöÂÅöËøô‰∏™ÂäüËÉΩ„ÄÇÊâÄ‰ª•Êàë‰ª¨Âè™ËÉΩ‰ΩøÁî®Á¨¨‰∏âÊñπÁöÑÂ∑•ÂÖ∑Êù•ÁÆ°ÁêÜstarÈ°πÁõÆ‰∫ÜÔºåÊé•‰∏ãÊù•‰ªãÁªçÂá†‰∏™Â∏∏Áî®ÁöÑÂ∑•ÂÖ∑Ôºö Chrome Êèí‰ª∂github-stars-manager (Êé®Ëçê)github-stars-managerÊ∫ê‰ª£Á†Å ChromeÂ∫îÁî®ÂïÜÂ∫ó ÊØîËæÉÔºö ‰ºòÁÇπ Áº∫ÁÇπ ÂºÄÊ∫ê Âè™ÊúâstartÊ†áÁ≠æÔºåÊ≤°ÊúâRepositoriesbÊ†áÁ≠æ Áõ¥Êé•Âú® github ÁöÑ star È°µÈù¢‰∏≠Â¢ûÂä†tagÔºåÊó†ÁºùÈõÜÊàê„ÄÇ ÈúÄË¶ÅgithubÊéàÊùÉËÆøÈóÆÊâÄÊúâÂÖ¨ÂºÄÂíåÁßÅÊúâ‰ªìÂ∫ì ÂèØ‰ª•Áõ¥Êé•ÂØºÂá∫Êï∞ÊçÆÂà∞chrome‰π¶Á≠æÊ†è Ê∑ªÂä†Ê†áÁ≠æË¶Å‰∏ÄÊ¨°ËØªÂèñÂÜÖÂÆπÔºåÊúâÂª∂Ëøü ÊØîËæÉÊñ∞Ôºå18Âπ¥5ÊúàÂàõÂª∫Âπ∂‰∏äÊû∂ChromeÂ∫îÁî®ÂïÜÂ∫ó Ê†áÁ≠æ‰∏çËÉΩÊéíÂ∫èÔºåÁúã‰∏äÂéªÊØîËæÉ‰π± github-stars-taggergithub-stars-taggerÊ∫ê‰ª£Á†Å ChromeÂ∫îÁî®ÂïÜÂ∫ó Github ÊîπÁâà‰πãÂâçÁöÑÊèí‰ª∂ÔºåÂèØ‰ª•ÁÆ°ÁêÜ star È°πÁõÆÔºåËá™Â∏¶ÂêåÊ≠•ÂäüËÉΩÔºåÊúÄËøëÊõ¥Êñ∞Êó∂Èó¥17Âπ¥2ÊúàÔºåGithubÊîπÁâà‰πãÂêéËøô‰∏™Êèí‰ª∂‰∏çËÉΩÁî®‰∫Ü„ÄÇ CodelfCodelfÂú®Á∫øÂ∫îÁî® ChromeÂ∫îÁî®ÂïÜÂ∫ó ÂÖ∑ÊúâBootstrap È£éÊ†ºÔºå‰∏çÊòØÂæàÁæéËßÇÔºå‰∏çËøáÂÆÉÊîØÊåÅÂØºÂá∫ÂØºÂÖ•Êï∞ÊçÆÔºåÊñπ‰æøÂêåÊ≠•ÔºÅ Ëøô‰∏™Â∑•ÂÖ∑Êúâ‰∏Ä‰∏™ Chrome Êèí‰ª∂Ôºå‰∏çËøáÊèí‰ª∂‰πüÊòØ‰∏Ä‰∏™ÁΩëÈ°µ„ÄÇ ÊØîËæÉÔºö ‰ºòÁÇπ Áº∫ÁÇπ ÊîØÊåÅÂØºÂÖ•ÂØºÂá∫ Âú®Á∫øÁΩëÁ´ôÁÆ°ÁêÜÔºåÈúÄË¶ÅÊéàÊùÉ ÂìçÂ∫îÂø´ Âè™ËÉΩÂØºÂÖ•ÂØºÂá∫ÔºåÊï∞ÊçÆ‰øùÂ≠òÂú®ÁºìÂ≠ò‰∏≠ÔºåÂÆπÊòì‰∏¢Â§±„ÄÇ ÂºÄÊ∫êÁöÑAstralAstralÊ∫ê‰ª£Á†Å AstralÂú®Á∫øÂ∫îÁî® Astral ÊòØ‰∏ÄÊ¨æÂü∫‰∫é PHP ‰ΩøÁî® Vue.js ÊûÑÂª∫ÁöÑ Github star È°πÁõÆÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÊñπ‰æø‰∏™‰∫∫Áî®Êà∑ÁÆ°ÁêÜËá™Â∑±ÁöÑ star È°πÁõÆ„ÄÇ ÊØîËæÉÔºö ‰ºòÁÇπ Áº∫ÁÇπ ÂºÄÊ∫ê Âú®Á∫øÁΩëÁ´ôÊ†áÁ≠æÁÆ°ÁêÜ ÁïåÈù¢ÊºÇ‰∫Æ ‰∏çËÉΩÂêåÊ≠•Âà∞chrome‰π¶Á≠æ ÂèØ‰ª•‰ª•jsonÂØºÂá∫Â§á‰ªΩ ÈúÄË¶ÅÊéàÊùÉ gitmarkgitmarkÊ∫ê‰ª£Á†Å gitmarkÂú®Á∫øÁΩëÂùÄ ÊØîËæÉÔºö ‰ºòÁÇπ Áº∫ÁÇπ ÂºÄÊ∫ê Âè™ÊòØÂú®Á∫øÊü•ÁúãÔºåÊ≤°ÊúâÊ†áÁ≠æÁÆ°ÁêÜÂäüËÉΩ 15Âπ¥ÂàõÂª∫È°πÁõÆÔºåÊúÄËøë‰∏ÄÁõ¥Âú®Êõ¥Êñ∞ ÈúÄË¶ÅÊéàÊùÉËÆøÈóÆÂÖ¨ÂÖ±‰ªìÂ∫ì ‰∏çÂºÄÊ∫êÁöÑGitconstellationGitconstellationÁΩëÁ´ôÔºöhttp://gitconstellation.com ËøôÊòØ‰∏Ä‰∏™‰∏çÂºÄÊ∫êÁöÑ star ÁÆ°ÁêÜÂ∑•ÂÖ∑„ÄÇÁïåÈù¢Êúâ‰∏ÄÁßçÂ∞èÊ∏ÖÊñ∞ÁöÑÈ£éÊ†º„ÄÇÂÆÉÈááÁî®ÂàÜÊÆµÂä†ËΩΩ star È°πÁõÆÁöÑÊñπÂºèÂä†ËΩΩ„ÄÇ ÊØîËæÉÔºö ‰ºòÁÇπ Áº∫ÁÇπ ÁïåÈù¢ÁæéËßÇ ‰∏çÂºÄÊ∫ê Âè™ÊéàÊùÉ‰∫ÜËØªÂèñÂÖ¨ÂÖ±‰ø°ÊÅØ Êó†Ê≥ïÂØºÂá∫Áõ∏ÂÖ≥ÂÜÖÂÆπ ÂìçÂ∫îÈÄüÂ∫¶ÊÖ¢ OhMyStar2ohmystarapp2 ÁΩëÂùÄÔºö http://www.ohmystarapp.com/ Âè™ËÉΩÂú®ËãπÊûúÁîµËÑë‰∏äÁî®„ÄÇ ÂàÜ‰∏∫ÂÖçË¥πÁâàÂíåÊî∂Ë¥πÁâà„ÄÇ ÊØîËæÉÔºö ‰ºòÁÇπ Áº∫ÁÇπ ÁïåÈù¢ÁæéËßÇ ‰∏çÂºÄÊ∫ê ÂèØ‰ª•ÂØºÂá∫Áõ∏ÂÖ≥ÂÜÖÂÆπ ÈúÄË¶ÅÊéàÊùÉËÆøÈóÆÂÖ¨ÂÖ±‰ªìÂ∫ì ÂÖçË¥πÁâàÊ∑ªÂä†Ê†áÁ≠æÊ≤°ÊúâÊï∞ÈáèÈôêÂà∂ Ê∑ªÂä†Ê†áÁ≠æÔºåÂìçÂ∫îÈÄüÂ∫¶ÊÖ¢ Starry ÂõΩ‰∫∫ÂºÄÂèëÔºåAppstore 17Âπ¥‰∏äÁ∫øÔºå ÁïåÈù¢ÂíåOhMyStar2Á±ª‰ºº„ÄÇ ÊØîËæÉÔºö ‰ºòÁÇπ Áº∫ÁÇπ ÂèØ‰ª•ÂàõÂª∫groupÁÆ°ÁêÜ ‰∏çÂºÄÊ∫ê ËÉΩÊãñÊãΩÈ°πÁõÆÊ∑ªÂä†Âà∞group‰∏≠ ÂÖçË¥πÁâàÊúÄÂ§öÊ∑ªÂä†5‰∏™group ÂìçÂ∫îÈÄüÂ∫¶Âø´ ÈúÄË¶ÅÊéàÊùÉËÆøÈóÆÂÖ¨ÂÖ±‰ªìÂ∫ì ‰∏çËÉΩÂØºÂá∫Êï∞ÊçÆ Star Orde AppStore‰∏äÊî∂Ë¥π12RMB,ÊúâmacÁâàÂíåiOSÁâà„ÄÇ ‰∏çÂª∫ËÆÆÁöÑMyGitStarMyGitStarÊ∫êÁ†Å Ëøô‰∏™È°πÁõÆÊúÄËøëÊõ¥Êñ∞ÊòØ14Âπ¥4ÊúàÔºå‰∏çÊ∏ÖÊ•öÂÖ∑‰ΩìÈïøÂï•Ê†∑„ÄÇ ËØ¥ÊòéÊñáÊ°£‰∏∫‰∏≠Êñá gitstars-openapigitstars-openapi Ê∫êÁ†Å ÊúÄËøëÊõ¥Êñ∞ÊòØ16Âπ¥9ÊúàÔºåÁé∞Âú®‰ªÖ‰ªÖÊòØÂÖàÊää API ÂÖ¨ÂºÄÂá∫Êù•‰∫ÜÔºåËøòÂú®ÂºÄÂèë‰∏≠ÔºåÁΩëÁ´ôËøòÊ≤°‰∏äÁ∫ø„ÄÇ GitStars.comGitStars.comÊ∫êÁ†Å ÊúÄËøëÊõ¥Êñ∞ÊòØ15Âπ¥3ÊúàÔºåÁé∞Âú®ÂÅú‰∫ÜÔºåÁΩëÁ´ôÈÉΩÊâì‰∏çÂºÄ‰∫ÜÔºå‰∏çËøáÊ∫êÁ†ÅËøòÂú®„ÄÇ Gitrep GitrepÂú®Á∫øÁΩëÁ´ô ÁΩëÁ´ôËôΩÁÑ∂Âú®Ôºå‰ΩÜÊòØÂü∫Êú¨ÊòØÂ∫ü‰∫ÜÔºå‰∏çËÉΩÁî®„ÄÇ ÊÄªÁªìÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÁßÅÊúâ‰ªìÂ∫ìÔºåÂª∫ËÆÆ‰ΩøÁî® googleÊèí‰ª∂github-stars-manager„ÄÇÂ¶ÇÊûúÊòØËãπÊûúÁîµËÑëÔºåÂπ∂‰∏îÊÉ≥Ë¶ÅÊú¨Âú∞ÁÆ°ÁêÜ‰øùÂ≠òÔºåÂª∫ËÆÆ‰ΩøÁî®macËΩØ‰ª∂ OhMyStar2]]></content>
      <categories>
        <category>Tool</category>
      </categories>
      <tags>
        <tag>plug-in</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â§ö‰∏™githubÂ∏êÂè∑Êõ¥Êñ∞Â§ö‰∏™hexoÂçöÂÆ¢]]></title>
    <url>%2F2018%2F11%2F11%2F%E5%A4%9A%E4%B8%AAgithub%E5%B8%90%E5%8F%B7%E6%9B%B4%E6%96%B0%E5%A4%9A%E4%B8%AAhexo%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[‰∏ÄÂè∞ÁîµËÑë, Â§ö‰∏™githubÂ∏êÂè∑ÁöÑSSH keyÂàáÊç¢, Êõ¥Êñ∞Â§ö‰∏™hexoÂçöÂÆ¢ githubË¥¶Âè∑ÔºåÂ∑•‰ΩúÊúâ‰∏Ä‰∏™ÔºåËá™Â∑±Êúâ‰∏Ä‰∏™„ÄÇ‰ΩÜÊòØÈªòËÆ§‰∏ã‰ΩøÁî®ssh keyÂú®git pushÊó∂Âè™ÊúâÈªòËÆ§Ë¥¶Âè∑ËÉΩÂÖçËæìÂÖ•Ë¥¶Âè∑ÂíåÂØÜÁ†Å„ÄÇ Â¶ÇÊûú‰Ω†Âª∫Á´ãÂπ∂ÈÖçÁΩÆ‰∫Ü.ssh/configÊñá‰ª∂Âêé, ‰ΩÜÂç¥‰∏çÁü•ÈÅìÊÄé‰πà‰ΩøÁî®„ÄÇËøôÁØáÊñáÁ´†ÊòØ‰∏∫‰Ω†ÂáÜÂ§áÁöÑ„ÄÇ ÊâìÂºÄÁªàÁ´Ø,ËøõÂÖ•sshÊ†πÁõÆÂΩï‰∏ãcd ~/.ssh/ ÂàõÂª∫Êñ∞ÁöÑ ÁßÅÈí•/ÂÖ¨Èí•, Âπ∂ÊåáÂÆöÁßòÈí•ÂêçÁß∞, Â¶Ç kentsun_rsa ‰ΩøÁî®‰∏Ä‰∏ãÂëΩ‰ª§Ë°å, ÁÑ∂Âêé‰∏§Ê¨°ÂõûËΩ¶Âç≥ÂèØ. ssh-keygen -t rsa -f ~/.ssh/Èöè‰æøÂêçÂ≠ó_id_rsa -C &quot;yourmail@xxx.com&quot; ÊàñËÄÖ‰ΩøÁî®‰∏ãÈù¢ÂëΩ‰ª§Ë°åÂàõÂª∫ÁßòÈí•, ÈúÄË¶Å‰∏âÊ¨°ÂõûËΩ¶, ‰ΩÜÊòØÁ¨¨‰∏ÄÊ¨°ÂõûËΩ¶ÈúÄË¶ÅËæìÂÖ•ÁßòÈí•ÂêçÂ≠ó. ssh-keygen -t rsa -C &quot;yourmail@xxx.com&quot; Ê≥®ÊÑè:ËøôÊ¨°ÂàõÂª∫Êñ∞ÁöÑÁßòÈí• ,‰∏çË¶ÅÂÜç‰∏âÊ¨°ÂõûËΩ¶‰∫Ü, Ë¶ÅÂú®Á¨¨‰∏ÄÊ¨°ÂõûËΩ¶ÁöÑÂú∞Êñπ,Â°´ÂÖ•Êñ∞ÁßòÈí•ÂêçÂ≠ó, Â¶ÇÊûú‰∏çÂ°´Â∞Ü‰ΩøÁî®ÈªòËÆ§ÁöÑid_rsa , ‰ºöÂ∞ÜÂéüÊù•ÁöÑssh_keyË¶ÜÁõñ. Êñ∞ÁßòÈí•ÂêçÂêéÈù¢Âª∫ËÆÆÂä†_rsaÊàñËÄÖid_rsa. ÈÖçÁΩÆconfigÂ¶ÇÊûú ~/.ssh/Ê†πË∑ØÂæÑ‰∏ã, Ê≤°Êúâconfig, ÂàôÂàõÂª∫‰∏Ä‰∏™configÊñá‰ª∂ touch config configÈÖçÁΩÆÂ¶Ç‰∏ã, Á¨¨‰∏Ä‰∏™‰∏∫ÂéüÊù•ÁöÑssh keyÈÖçÁΩÆ, kentsun‰∏∫Êñ∞ÁöÑssh keyÈÖçÁΩÆ #Á¨¨‰∏Ä‰∏™Ë¥¶Âè∑ÔºåÈªòËÆ§‰ΩøÁî®ÁöÑË¥¶Âè∑ Host github.com HostName github.com User git IdentityFile ~/.ssh/id_rsa # Á¨¨‰∫å‰∏™Ë¥¶Âè∑ kentsun Host kentsun.github.com # kentsun‰∏∫ÂâçÁºÄÂêçÔºåÂèØ‰ª•‰ªªÊÑèËÆæÁΩÆ HostName github.com User git IdentityFile ~/.ssh/kentsun_rsa Êàë‰ª¨ÊåáÂÆö kentsun.github.com Ëøô‰∏™‚Äù‰ΩúÁî®Âüü‚Äù‰∏ãÁöÑsshËøûÊé•Áªü‰∏ÄÊåáÂêë github.com ÔºåÂπ∂‰∏î‰ΩøÁî®‰πãÂâçÁîüÊàêÂ•ΩÁöÑ github_rsa Ëøô‰∏™ÂØÜÈí•Âä†ÂØÜ„ÄÇ ÈªòËÆ§ÁöÑ‰ΩøÁî® ~/.ssh/id_rsa Ëøô‰∏™ÂØÜÈí•Âä†ÂØÜ ÂéüÁêÜÂàÜÊûê: 1.ssh ÂÆ¢Êà∑Á´ØÊòØÈÄöËøáÁ±ª‰ºº git@github.com:githubUserName/repName.git ÁöÑÂú∞ÂùÄÊù•ËØÜÂà´‰ΩøÁî®Êú¨Âú∞ÁöÑÂì™‰∏™ÁßÅÈí•ÁöÑÔºåÂú∞ÂùÄ‰∏≠ÁöÑ User ÊòØ@ÂâçÈù¢ÁöÑgitÔºå Host ÊòØ@ÂêéÈù¢ÁöÑgithub.com„ÄÇ 2.Â¶ÇÊûúÊâÄÊúâË¥¶Âè∑ÁöÑ User Âíå Host ÈÉΩ‰∏∫ git Âíå github.comÔºåÈÇ£‰πàÂ∞±Âè™ËÉΩ‰ΩøÁî®‰∏Ä‰∏™ÁßÅÈí•„ÄÇÊâÄ‰ª•Ë¶ÅÂØπUser Âíå Host ËøõË°åÈÖçÁΩÆÔºåËÆ©ÊØè‰∏™Ë¥¶Âè∑‰ΩøÁî®Ëá™Â∑±ÁöÑ HostÔºåÊØè‰∏™ Host ÁöÑÂüüÂêçÂÅö CNAME Ëß£ÊûêÂà∞ github.comÔºåÂ¶Ç‰∏äÈù¢ÈÖçÁΩÆ‰∏≠ÁöÑHost kentsun.github.com„ÄÇ 3.ÈÖçÁΩÆ‰∫ÜÂà´Âêç‰πãÂêéÔºåÊñ∞ÁöÑÂú∞ÂùÄÂ∞±ÊòØgit@kentsun.github.com:githubUserName/repName.git„ÄÇËøôÊ†∑ ssh Âú®ËøûÊé•Êó∂Â∞±ÂèØ‰ª•Âå∫Âà´‰∏çÂêåÁöÑË¥¶Âè∑‰∫Ü„ÄÇ ËÆæÁΩÆÊñ∞githubË¥¶Êà∑SSH keyÊúÄÁªà‰ºöÁîüÊàê‰∏Ä‰∏™Êñá‰ª∂Âú®Áî®Êà∑ÁõÆÂΩï‰∏ãÔºåÊâìÂºÄÁî®Êà∑ÁõÆÂΩïÔºåÊâæÂà∞.ssh\kentsun_rsa.pubÊñá‰ª∂ÔºåËÆ∞‰∫ãÊú¨ÊâìÂºÄÂπ∂Â§çÂà∂ÈáåÈù¢ÁöÑÂÜÖÂÆπÔºåÊâìÂºÄ‰Ω†ÁöÑgithub‰∏ªÈ°µÔºåËøõÂÖ•‰∏™‰∫∫ËÆæÁΩÆ -&gt; SSH and GPG keys -&gt; New SSH keyÔºö Â∞ÜÂàöÂ§çÂà∂ÁöÑÂÜÖÂÆπÁ≤òË¥¥Âà∞keyÈÇ£ÈáåÔºåtitleÈöè‰æøÂ°´Ôºå‰øùÂ≠ò„ÄÇ Âú®.sshÊ†πÁõÆÂΩï‰∏ã, Ê∏ÖÁ©∫Êú¨Âú∞ÁöÑ SSH ÁºìÂ≠òÔºåÊ∑ªÂä†Êñ∞ÁöÑ SSH ÂØÜÈí• Âà∞ SSH agent‰∏≠cd ~/.ssh ssh-add -D ssh-add id_rsa ssh-add id_rsa_second ÊúÄÂêéÁ°ÆËÆ§‰∏Ä‰∏ãÊñ∞ÁßòÈí•Â∑≤ÁªèÊ∑ªÂä†ÊàêÂäüssh-add -l ËæìÂÖ•Êåá‰ª§, È™åËØÅÈÖçÁΩÆÊòØÂê¶ÊàêÂäü ÈªòËÆ§ssh_keyÈ™åËØÅ ssh -T git@github.com Êñ∞ssh_keyÈ™åËØÅ, Êñ∞ÁßòÈí•ÂêçÊõøÊç¢username ssh -T git@username.github.com Â¶Ç‰∏ãÊèêÁ§∫‰ø°ÊÅØ, ÂàôÈÖçÁΩÆÊàêÂäü $ ssh -T git@github.com Hi username! You&#39;ve successfully authenticated, but GitHub does not provide shell access. ËøõÂÖ•ÂêÑËá™È°πÁõÆÊñá‰ª∂Â§πÔºåÂçïÁã¨ËÆæÁΩÆÁî®Êà∑Âêç/ÈÇÆÁÆ± Ê≥®ÊÑèÔºöÂ¶ÇÊûúÊúâÂ§ö‰∏™Ë¥¶Âè∑ÔºåÂª∫ËÆÆ‰ΩøÁî®Â±ÄÈÉ®ÁöÑ„ÄÇ // ÂèñÊ∂àÂÖ®Â±Ä Áî®Êà∑Âêç/ÈÇÆÁÆ± ÈÖçÁΩÆ git config ‚Äìglobal ‚Äìunset user.name git config ‚Äìglobal ‚Äìunset user.email // ÂçïÁã¨ËÆæÁΩÆÊØè‰∏™repo Áî®Êà∑Âêç/ÈÇÆÁÆ± git config user.name &quot;Áî®Êà∑Âêç&quot; //Âú®configÂêéÂä†‰∏ä--globalÂç≥ÂÖ®Â±Ä git config user.email &quot;ÈÇÆÁÆ±&quot; Êü•ÁúãËÆæÁΩÆÊòØÂê¶ÊàêÂäügit config --list ÊúÄÂêéÂú® hexo ÈÖçÁΩÆÊñá‰ª∂‰øÆÊîπgitÂú∞ÂùÄdeploy: type: git repository: git@username.github.com:githubUserName/githubUserName.github.io.git branch: master repoÈÖçÁΩÆÁõ∏ÂΩì‰∫éÂú®ÂéüÊù• git‰ªìÂ∫ìÂú∞ÂùÄ‰∏≠Ê∑ªÂä†‰∫ÜHostÂêçÂ≠ó kentsun, ÂÖ∂‰ªñ‰∏çÂèò. ÂèØÂèÇËÄÉÊàëÁöÑ: deploy: type: git repo: git@kentsun.github.com:KentSun/KentSun.github.io.git branch: master ÈÖçÁΩÆÂ§ö‰∏™gitË¥¶Êà∑ÈáçÂ§ç‰ª•‰∏äÊ≠•È™§„ÄÇ ‰øÆÊîπremote ‰ΩúÁî®Âüü+ ÊúÄÂêé‰øÆÊîπ‰∏Ä‰∏ãÊàë‰ª¨Âú® kentsun ÂÖãÈöÜ‰∏ãÊù•ÁöÑÈ°πÁõÆÁöÑ remote ‚Äú‰ΩúÁî®Âüü‚Äù „ÄÇ $ git remote rm origin $ git remote add origin git@kentsun.github.com:kentsun/123.git // Ê≥®ÊÑèÊòØ kentsun.github.com $ git push origin master Everything up-to-date]]></content>
      <categories>
        <category>Tool</category>
      </categories>
      <tags>
        <tag>ÂâçÁ´ØTool</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂÆâË£Ötelnet]]></title>
    <url>%2F2018%2F11%2F11%2F%E5%AE%89%E8%A3%85telnet%2F</url>
    <content type="text"><![CDATA[MacOS 10.12Âèä‰ª•‰∏ãÁâàÊú¨ÔºåÈÉΩÂÜÖÁΩÆ‰∫ÜtelnetÂëΩ‰ª§Ôºå‰ΩÜÊòØÂú®‰πãÂêéÁöÑÁâàÊú¨Â∞±Â∑≤ÁªèÂèñÊ∂à‰∫Ü, ‰ºöÊä•‰∏Ä‰∏ãÈîôËØØ-bash: telnet: command not found ÊâÄ‰ª•Êé•‰∏ãÊù•, Êàë‰ª¨ÂÖàÊù•ÂÆâË£Ö‰∏ãtelnet: ‰∏Ä.telnetÂÆâË£Ö ÂÆâË£Öhomebrew /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; ‰ΩøÁî® homebrew ÂÆâË£ÖtelnetÔºö brew install telnet ‰∫å.telnet‰ΩøÁî®telnetÂëΩ‰ª§Áî®‰∫éÁôªÂΩïËøúÁ®ã‰∏ªÊú∫ÔºåÂØπËøúÁ®ã‰∏ªÊú∫ËøõË°åÁÆ°ÁêÜ„ÄÇtelnetÂõ†‰∏∫ÈááÁî®ÊòéÊñá‰º†ÈÄÅÊä•ÊñáÔºåÂÆâÂÖ®ÊÄß‰∏çÂ•ΩÔºåÂæàÂ§öLinuxÊúçÂä°Âô®ÈÉΩ‰∏çÂºÄÊîætelnetÊúçÂä°ÔºåËÄåÊîπÁî®Êõ¥ÂÆâÂÖ®ÁöÑsshÊñπÂºè‰∫Ü„ÄÇ‰ΩÜ‰ªçÁÑ∂ÊúâÂæàÂ§öÂà´ÁöÑÁ≥ªÁªüÂèØËÉΩÈááÁî®‰∫ÜtelnetÊñπÂºèÊù•Êèê‰æõËøúÁ®ãÁôªÂΩïÔºåÂõ†Ê≠§ÂºÑÊ∏ÖÊ•ötelnetÂÆ¢Êà∑Á´ØÁöÑ‰ΩøÁî®ÊñπÂºè‰ªçÊòØÂæàÊúâÂøÖË¶ÅÁöÑ„ÄÇ ËØ≠Ê≥ïtelnet(ÈÄâÈ°π)(ÂèÇÊï∞) ÈÄâÈ°π-8ÔºöÂÖÅËÆ∏‰ΩøÁî®8‰ΩçÂ≠óÁ¨¶ËµÑÊñôÔºåÂåÖÊã¨ËæìÂÖ•‰∏éËæìÂá∫Ôºõ -aÔºöÂ∞ùËØïËá™Âä®ÁôªÂÖ•ËøúÁ´ØÁ≥ªÁªüÔºõ -b&lt;‰∏ªÊú∫Âà´Âêç&gt;Ôºö‰ΩøÁî®Âà´ÂêçÊåáÂÆöËøúÁ´Ø‰∏ªÊú∫ÂêçÁß∞Ôºõ -cÔºö‰∏çËØªÂèñÁî®Êà∑‰∏ìÂ±ûÁõÆÂΩïÈáåÁöÑ.telnetrcÊñá‰ª∂Ôºõ -dÔºöÂêØÂä®ÊéíÈîôÊ®°ÂºèÔºõ -e&lt;ËÑ±Á¶ªÂ≠óÁ¨¶&gt;ÔºöËÆæÁΩÆËÑ±Á¶ªÂ≠óÁ¨¶Ôºõ -EÔºöÊª§Èô§ËÑ±Á¶ªÂ≠óÁ¨¶Ôºõ -fÔºöÊ≠§ÂèÇÊï∞ÁöÑÊïàÊûúÂíåÊåáÂÆö&quot;-F&quot;ÂèÇÊï∞Áõ∏ÂêåÔºõ -FÔºö‰ΩøÁî®Kerberos V5ËÆ§ËØÅÊó∂ÔºåÂä†‰∏äÊ≠§ÂèÇÊï∞ÂèØÊääÊú¨Âú∞‰∏ªÊú∫ÁöÑËÆ§ËØÅÊï∞ÊçÆ‰∏ä‰º†Âà∞ËøúÁ´Ø‰∏ªÊú∫Ôºõ -k&lt;ÂüüÂêç&gt;Ôºö‰ΩøÁî®KerberosËÆ§ËØÅÊó∂ÔºåÂä†‰∏äÊ≠§ÂèÇÊï∞ËÆ©ËøúÁ´Ø‰∏ªÊú∫ÈááÁî®ÊåáÂÆöÁöÑÈ¢ÜÂüüÂêçÔºåËÄåÈùûËØ•‰∏ªÊú∫ÁöÑÂüüÂêçÔºõ -KÔºö‰∏çËá™Âä®ÁôªÂÖ•ËøúÁ´Ø‰∏ªÊú∫Ôºõ -l&lt;Áî®Êà∑ÂêçÁß∞&gt;ÔºöÊåáÂÆöË¶ÅÁôªÂÖ•ËøúÁ´Ø‰∏ªÊú∫ÁöÑÁî®Êà∑ÂêçÁß∞Ôºõ -LÔºöÂÖÅËÆ∏ËæìÂá∫8‰ΩçÂ≠óÁ¨¶ËµÑÊñôÔºõ -n&lt;ËÆ∞ÂΩïÊñá‰ª∂&gt;ÔºöÊåáÂÆöÊñá‰ª∂ËÆ∞ÂΩïÁõ∏ÂÖ≥‰ø°ÊÅØÔºõ -rÔºö‰ΩøÁî®Á±ª‰ºº[rlogin](http://man.linuxde.net/rlogin &quot;rloginÂëΩ‰ª§&quot;)Êåá‰ª§ÁöÑÁî®Êà∑ÁïåÈù¢Ôºõ -S&lt;ÊúçÂä°Á±ªÂûã&gt;ÔºöËÆæÁΩÆtelnetËøûÁ∫øÊâÄÈúÄÁöÑ[ip](http://man.linuxde.net/ip &quot;ipÂëΩ‰ª§&quot;) TOS‰ø°ÊÅØÔºõ -xÔºöÂÅáËÆæ‰∏ªÊú∫ÊúâÊîØÊåÅÊï∞ÊçÆÂä†ÂØÜÁöÑÂäüËÉΩÔºåÂ∞±‰ΩøÁî®ÂÆÉÔºõ -X&lt;ËÆ§ËØÅÂΩ¢ÊÄÅ&gt;ÔºöÂÖ≥Èó≠ÊåáÂÆöÁöÑËÆ§ËØÅÂΩ¢ÊÄÅ„ÄÇ ÂèÇÊï∞ ËøúÁ®ã‰∏ªÊú∫ÔºöÊåáÂÆöË¶ÅÁôªÂΩïËøõË°åÁÆ°ÁêÜÁöÑËøúÁ®ã‰∏ªÊú∫Ôºõ Á´ØÂè£ÔºöÊåáÂÆöTELNETÂçèËÆÆ‰ΩøÁî®ÁöÑÁ´ØÂè£Âè∑„ÄÇ ÂÆû‰æãtelnet 192.168.2.10 Trying 192.168.2.10... Connected to 192.168.2.10 (192.168.2.10). Escape character is &#39;^]&#39;. localhost (Linux release 2.6.18-274.18.1.el5 #1 SMP Thu Feb 9 12:45:44 EST 2012) (1) [login](http://man.linuxde.net/login &quot;loginÂëΩ‰ª§&quot;): root Password: Login incorrect]]></content>
      <categories>
        <category>Tool</category>
      </categories>
      <tags>
        <tag>iOSTool</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®runtimeÂ∞ÅË£ÖÂ≠óÂÖ∏ËΩ¨Ê®°ÂûãÂàÜÁ±ª]]></title>
    <url>%2F2018%2F09%2F28%2F%E4%BD%BF%E7%94%A8runtime%E5%B0%81%E8%A3%85%E5%AD%97%E5%85%B8%E8%BD%AC%E6%A8%A1%E5%9E%8B%E5%88%86%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[Â∞ÜÂêéÂè∞JSONÊï∞ÊçÆ‰∏≠ÁöÑÂ≠óÂÖ∏ËΩ¨ÊàêÊú¨Âú∞ÁöÑÊ®°ÂûãÔºåÊàë‰ª¨‰∏ÄËà¨ÈÄâÁî®ÈÉ®ÂàÜ‰ºòÁßÄÁöÑÁ¨¨‰∏âÊñπÊ°ÜÊû∂ÔºåÂ¶ÇSBJSON„ÄÅJSONKit„ÄÅMJExtension„ÄÅYYModelÁ≠â„ÄÇ‰ΩÜÊòØÔºå‰∏Ä‰∫õÁÆÄÂçïÁöÑÊï∞ÊçÆÔºåÊàë‰ª¨‰πüÂèØ‰ª•Â∞ùËØïËá™Â∑±Êù•ÂÆûÁé∞ËΩ¨Êç¢ÁöÑËøáÁ®ã„ÄÇ Âø´ÈÄü‰ΩøÁî®ÂΩìÊàë‰ª¨ÁöÑËØ∑Ê±ÇÂà∞ÁöÑÊï∞ÊçÆ‰∏çÊòØÂæàÂ§çÊùÇ, ‰πü‰∏çÂ∏åÊúõÂºïÂÖ•Á¨¨‰∏âÊñπÊ°ÜÊû∂ÁöÑÊó∂ÂÄô, ÂèØ‰ª•‰ΩøÁî®‰∏ãËøô‰∏™ÂàÜÁ±ª, Êù•ÂÆûÁé∞Â≠óÂÖ∏ËΩ¨Ê®°Âûã. 1.Ê†πÊçÆËØ∑Ê±ÇÊï∞ÊçÆ, ÂàõÂª∫ÂØπÂ∫îÁöÑÊ®°ÂûãÁ±ª, Âπ∂Ê†πÊçÆÂ≠óÂÖ∏‰∏≠ÁöÑÈîÆÂÄºÂØπÂÆö‰πâÂØπÂ∫îÁöÑÂ±ûÊÄß ÂàõÂª∫Ê®°ÂûãÂéüÂàô: ‰ªéÂ§ñÂ±ÇÂà∞ÂÜÖÂ≠ò, ‰∏Ä‰∏™Á±ªÂûãÂ≠óÂÖ∏ÂØπÂ∫î‰∏Ä‰∏™Ê®°Âûã Á§∫‰æãÁ®ãÂ∫è‰∏≠, Ê†πÊçÆplist, ÂàõÂª∫‰∫Ü‰∏â‰∏™Á±ª: ShopItem , AttrModel , ListItemModel Ê≥®ÊÑè: ÂÆö‰πâÁöÑÂ±ûÊÄßÂêçÂíåÂ≠óÂÖ∏‰∏≠ÁöÑÈîÆÂêçÂ≠ó‰∏ÄËá¥. 2.Âú®ÂàÜÁ±ª‰∏≠ÂØºÂÖ•ÊúÄÂ§ñÂ±ÇÊ®°Âûã 3.ÊúÄÂ§ñÂ±ÇÁ±ª‰∏≠ÂØºÂÖ• NSObject+EnumDict ÂàÜÁ±ª 4.ÈÅµÂÆàÂàÜÁ±ªÂçèËÆÆ ModelDelegate, ÂÆûÁé∞ÂçèËÆÆÊñπÊ≥ï 5.ÊéßÂà∂Âô®‰∏≠, ÂØºÂÖ•ÊúÄÂ§ñÂ±ÇÊ®°Âûã ShopItem.h , Ëß£ÊûêÊï∞ÊçÆÈÅçÂéÜÊï∞ÁªÑ, Âπ∂Â≠óÂÖ∏ËΩ¨Ê®°Âûã ÂéüÁêÜËÆ≤Ëß£runtimeÂ≠óÂÖ∏ËΩ¨Ê®°ÂûãÁöÑÊ†∏ÂøÉÁÆóÊ≥ïÊÄùË∑Ø ‰ª•ÂæÄ, Êàë‰ª¨Â≠óÂÖ∏ËΩ¨Ê®°Âûã,ÊÄªÊòØÈúÄË¶ÅÂú®Ê®°ÂûãÁ±ª‰∏≠ÂÆö‰πâ‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ïÊàñËÄÖÂØπË±°ÊñπÊ≥ï,Êù•Â≠óÂÖ∏ËΩ¨Ê®°Âûã, ËøôÊ†∑, Êàë‰ª¨Âú®‰∏çÂêåÁöÑÊ®°Âûã‰∏≠, ÈÉΩÂøÖÈ°ªÂÆö‰πâËøôÊ†∑‰∏Ä‰∏™ÊñπÊ≥ïÊù•ÂÆåÊàêÂ≠óÂÖ∏ËΩ¨Ê®°Âûã, Â¶ÇÊûúÊàë‰ª¨ÂÜôÁöÑÈ°πÁõÆÊØîËæÉÂ§ß, Ê®°ÂûãÊØîËæÉÂ§ö,ËøôÊ†∑Â≠óÂÖ∏ËΩ¨Ê®°ÂûãÁöÑÊïàÁéáÂ∞±Â§™‰Ωé‰∫Ü,ËÄ¶ÂêàÊÄß‰πüÊØîËæÉÈ´ò, ÈÇ£Êàë‰ª¨Â¶Ç‰ΩïÂÅöÂà∞Â≠óÂÖ∏ËΩ¨Ê®°Âûã ‰∏é Ê®°ÂûãÁ±ªÁöÑÂΩªÂ∫ïËß£ËÄ¶Âë¢? Êàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ NSObject ÁöÑÂàÜÁ±ª, Âõ†‰∏∫ÊâÄÊúâÁöÑÁ±ª(NSProxy Èô§Â§ñ)ÈÉΩÁªßÊâøËá™ NSObject, ÈÇ£Êàë‰ª¨Â∞±ÂèØ‰ª•Áî®‰ªªÊÑèÁöÑÁ±ªÂéªË∞É NSObject ÁöÑËøô‰∏™ÂàÜÁ±ªÊñπÊ≥ï, Â≠êÁ±ªÂèØ‰ª•‰ªªÊÑèË∞ÉÁî®Áà∂Á±ªÊñπÊ≥ï ÈÇ£‰πàÊàë‰ª¨Â¶Ç‰ΩïÂú®Ëøô‰∏™ÂàÜÁ±ªÊñπÊ≥ï‰∏≠ÂÆåÊàêÂ≠óÂÖ∏ËΩ¨Ê®°ÂûãÂë¢? ËøôÈáåÂ∞±Ë¶ÅÁî®Âà∞ËøêË°åÊó∂ÁöÑÊ¶ÇÂøµ‰∫Ü, È¶ñÂÖàÊàë‰ª¨Âú®ÂàÜÁ±ª‰∏≠ÂØºÂÖ• &lt;objc/runtime.h&gt;Ëøô‰∏™Ê°ÜÊû∂, ÁÑ∂ÂêéËøõË°åÁ¨¨‰∏ÄÊ≠•,Ëé∑ÂèñÂ±ûÊÄßÂàóË°®const char *kPropertyListKey = "SKPropertyListKey"; + (NSArray *)sk_objcProperties { /* Ëé∑ÂèñÂÖ≥ËÅîÂØπË±° */ NSArray *ptyList = objc_getAssociatedObject(self, kPropertyListKey); /* Â¶ÇÊûú ptyList ÊúâÂÄº,Áõ¥Êé•ËøîÂõû */ if (ptyList) { return ptyList; } /* Ë∞ÉÁî®ËøêË°åÊó∂ÊñπÊ≥ï, ÂèñÂæóÁ±ªÁöÑÂ±ûÊÄßÂàóË°® */ /* ÊàêÂëòÂèòÈáè: * class_copyIvarList(__unsafe_unretained Class cls, unsigned int *outCount) * ÊñπÊ≥ï: * class_copyMethodList(__unsafe_unretained Class cls, unsigned int *outCount) * Â±ûÊÄß: * class_copyPropertyList(__unsafe_unretained Class cls, unsigned int *outCount) * ÂçèËÆÆ: * class_copyProtocolList(__unsafe_unretained Class cls, unsigned int *outCount) */ unsigned int outCount = 0; /** * ÂèÇÊï∞1: Ë¶ÅËé∑ÂèñÂæóÁ±ª * ÂèÇÊï∞2: Á±ªÂ±ûÊÄßÁöÑ‰∏™Êï∞ÊåáÈíà * ËøîÂõûÂÄº: ÊâÄÊúâÂ±ûÊÄßÁöÑÊï∞ÁªÑ, C ËØ≠Ë®Ä‰∏≠,Êï∞ÁªÑÁöÑÂêçÂ≠ó,Â∞±ÊòØÊåáÂêëÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂú∞ÂùÄ */ /* retain, creat, copy ÈúÄË¶Årelease */ objc_property_t *propertyList = class_copyPropertyList([self class], &outCount); NSMutableArray *mtArray = [NSMutableArray array]; /* ÈÅçÂéÜÊâÄÊúâÂ±ûÊÄß */ for (unsigned int i = 0; i < outCount; i++) { /* ‰ªéÊï∞ÁªÑ‰∏≠ÂèñÂæóÂ±ûÊÄß */ objc_property_t property = propertyList[i]; /* ‰ªé property ‰∏≠Ëé∑ÂæóÂ±ûÊÄßÂêçÁß∞ */ const char *propertyName_C = property_getName(property); /* Â∞Ü C Â≠óÁ¨¶‰∏≤ËΩ¨ÂåñÊàê OC Â≠óÁ¨¶‰∏≤ */ NSString *propertyName_OC = [NSString stringWithCString:propertyName_C encoding:NSUTF8StringEncoding]; [mtArray addObject:propertyName_OC]; } /* ËÆæÁΩÆÂÖ≥ËÅîÂØπË±° */ /** * ÂèÇÊï∞1 : ÂØπË±°self * ÂèÇÊï∞2 : Âä®ÊÄÅÊ∑ªÂä†Â±ûÊÄßÁöÑ key * ÂèÇÊï∞3 : Âä®ÊÄÅÊ∑ªÂä†Â±ûÊÄßÂÄº * ÂèÇÊï∞4 : ÂØπË±°ÁöÑÂºïÁî®ÂÖ≥Á≥ª */ objc_setAssociatedObject(self, kPropertyListKey, mtArray.copy, OBJC_ASSOCIATION_RETAIN_NONATOMIC); /* ÈáäÊîæ */ free(propertyList); return mtArray.copy; } ÂÖ∂ÂÆû‰∏äÈù¢ËøôÊÆµ‰ª£Á†Å,Âè™Êúâ4Âè•ÊòØÊúÄÂÖ≥ÈîÆÁöÑ1./* Ëé∑ÂèñÂÖ≥ËÅîÂØπË±° */ NSArray *ptyList = objc_getAssociatedObject(self, kPropertyListKey);Â¶ÇÊûúÂú®Á®ãÂ∫èËøêË°åÁöÑÊó∂ÂÄô, Ê®°ÂûãÂØπË±°ÁöÑÂ±ûÊÄßÊòØ‰∏ç‰ºöÂèëÁîüÂèòÂåñÁöÑ, Êàë‰ª¨Âú®Âà©Áî®Ëøô‰∏™ÂáΩÊï∞Â¶ÇÊûúËÉΩËé∑ÂèñÂà∞ÂÖ≥ËÅîÂØπË±°ÁöÑÂ±ûÊÄßÂàóË°®, Â∞±‰∏çÁî®ÂÜçËµ∞‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÂéªÂà©Áî®ËøêË°åÊó∂ÂÜçÂéªËé∑ÂèñÂ±ûÊÄßÂàóË°®‰∫Ü 2.objc_property_t *propertyList = class_copyPropertyList([self class], &amp;outCount);ËøôÂè•‰ª£Á†ÅÂ∞±ÊòØÁúüÊ≠£ÁöÑÂà©Áî®ËøêË°åÊó∂Ëé∑ÂèñÂ±ûÊÄßÂàóË°®, Ëøô‰∏™Â±ûÊÄßÂàóË°®ÊòØ C ÁöÑÁªìÊûÑ‰ΩìÊåáÈíàÊï∞ÁªÑ,Êàë‰ª¨ÂøÖÈ°ªÂ∞ÜÂÖ∂ÈÅçÂéÜ,Âπ∂Âà©Áî®Âè¶Â§ñ‰∏Ä‰∏™ÂáΩÊï∞Â∞ÜÂèñÂá∫ÁªìÊûÑ‰ΩìÊåáÈíàÊâÄÊåáÂêëÁöÑÁªìÊûÑ‰Ωì‰∏≠ÂõΩÁöÑ C Â≠óÁ¨¶‰∏≤,‰πüÂ∞±ÊòØÂ±ûÊÄßÂêçÁß∞ 3.const char *propertyName_C = property_getName(property);Ëé∑ÂæóCÂ≠óÁ¨¶‰∏≤Âêé,Êàë‰ª¨Âè™ÈúÄË¶ÅÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ OC Â≠óÁ¨¶‰∏≤,Âä†Âà∞ÂèØÂèòÊï∞ÁªÑ‰∏≠Âç≥ÂèØ 4.objc_setAssociatedObject(self, kPropertyListKey, mtArray.copy, OBJC_ASSOCIATION_RETAIN_NONATOMIC);ËÆæÁΩÆÂ±ûÊÄßÂàóË°®, Â∞±ÊòØÊääÂ∑≤ÁªèÁîüÊàêÂ•ΩÁöÑÂ±ûÊÄßÂàóË°®ËÆæÁΩÆÂà∞‰∏Ä‰∏™Á±ª‰ºº‰∫éÂ±ûÊÄßÁöÑ‰∏úË•øÂÇ®Â≠òËµ∑Êù•, ‰∏ãÊ¨° get ÁöÑÊó∂ÂÄô,Áõ¥Êé•ÊãøÂá∫Êù•Áî®Âç≥ÂèØ,ÊúâÁÇπÁ±ª‰ºº‰∫éÊáíÂä†ËΩΩ. Ëé∑ÂèñÂ±ûÊÄßÂàóË°®‰πãÂêé, Êàë‰ª¨Â∞±Ë¶ÅËøõË°åÂ≠óÂÖ∏ËΩ¨Ê®°ÂûãÁöÑÊìç‰Ωú‰∫ÜÈ¶ñÂÖàÊàë‰ª¨Ë¶ÅÈÅçÂéÜÂèÇÊï∞Â≠óÂÖ∏, Â¶ÇÊûúÊàë‰ª¨Ëé∑ÂèñÂæóÂ±ûÊÄßÂàóË°®‰∏≠ÂåÖÂê´‰∫ÜÂ≠óÂÖ∏‰∏≠ÁöÑ key,Â∞±Âà©Áî® KVC ÊñπÊ≥ïËµãÂÄº,ÁÑ∂ÂêéÂ∞±ÂÆåÊàê‰∫ÜÂ≠óÂÖ∏ËΩ¨Ê®°ÂûãÁöÑÊìç‰Ωú + (instancetype)sk_objcWithDict:(NSDictionary *)dict { /* ÂÆû‰æãÂåñÂØπË±° */ id objc = [[self alloc]init]; /* ‰ΩøÁî®Â≠óÂÖ∏,ËÆæÁΩÆÂØπË±°‰ø°ÊÅØ */ /* 1\. Ëé∑Âæó self ÁöÑÂ±ûÊÄßÂàóË°® */ NSArray *propertyList = [self sk_objcProperties]; /* 2\. ÈÅçÂéÜÂ≠óÂÖ∏ */ [dict enumerateKeysAndObjectsUsingBlock:^(id _Nonnull key, id _Nonnull obj, BOOL * _Nonnull stop) { /* 3\. Âà§Êñ≠ key ÊòØÂê¶Â≠ó propertyList ‰∏≠ */ if ([propertyList containsObject:key]) { /* ËØ¥ÊòéÂ±ûÊÄßÂ≠òÂú®,ÂèØ‰ª•‰ΩøÁî® KVC ËÆæÁΩÆÊï∞ÂÄº */ [objc setValue:obj forKey:key]; } }]; /* ËøîÂõûÂØπË±° */ return objc; } ËøôÊ†∑, ÊØîÂ¶ÇÊàëÂú® ViewDidLoad ÊñπÊ≥ï‰∏≠, Ëá™ÂÆö‰πâ‰∏Ä‰∏™Â≠óÂÖ∏ÁÑ∂ÂêéÊàëÂè™ÈúÄË¶Å‰∏ÄË°å‰ª£Á†ÅÂ∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞Ê®°ÂûãÂØπË±°,Â¶Ç‰∏ã - (void)viewDidLoad { [super viewDidLoad]; /* ÂàõÂª∫‰∏Ä‰∏™Â≠óÂÖ∏ */ NSDictionary *dict = @{ @"name":@"Â∞èÊòé", @"age":@18, @"title":@"master", @"height":@1.7, @"something":@"nothing" }; Person *person = [Person sk_objcWithDict:dict]; } ËÄåÊ≠§Êó∂, Ê®°ÂûãÁ±ª‰∏≠,Ê≤°ÊúâÊ∑ªÂä†‰ªª‰ΩïÁöÑÊûÑÈÄ†ÊñπÊ≥ï,Âè™ÊúâÂçïÁ∫ØÁöÑÂ±ûÊÄß,ËøôÊ†∑Â∞±ÂÅöÂà∞‰∫ÜÂΩªÂ∫ïÁöÑËß£ËÄ¶, ÊØîÂ¶ÇÊàëÁé∞Âú®ÂÜçÊù•‰∏Ä‰∏™Â≠¶Áîü(Student)Á±ª,Êàë‰πüÊó†ÈúÄÊ∑ªÂä†ÊûÑÈÄ†ÊñπÊ≥ï,‰πüÂêåÊ†∑Âè™ÈúÄË¶ÅË∞ÉÁî®-(instancetype)sk_objcWithDict:dict;Âç≥ÂèØ. Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÊäÄÊúØ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVOÂÆòÊñπÊñáÊ°£-ÈîÆÂÄºËßÇÂØüËÄÖÊåáÂçó]]></title>
    <url>%2F2018%2F09%2F18%2FKVO%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-%E9%94%AE%E5%80%BC%E8%A7%82%E5%AF%9F%E8%80%85%E6%8C%87%E5%8D%97%2F</url>
    <content type="text"><![CDATA[KVOÁºñÁ®ãÊåáÂçó Key-Value Observing Programming Guide 1 Introduction to Key-Value Observing Programming Guide - KVOÁºñÁ®ãÊåáÂçó‰ªãÁªçKey-value observing is a mechanism that allows objects to be notified of changes to specified properties of other objects. ÈîÆ - ÂÄºËßÇÂØüÊòØ‰∏ÄÁßçÊú∫Âà∂ÔºåÂΩìÊåáÂÆöÂØπË±°Â±ûÊÄßÊîπÂèòÁöÑÊó∂ÂÄôÂÖÅËÆ∏Âè¶‰∏Ä‰∏™ÂØπË±°Êé•ÂèóÈÄöÁü•„ÄÇ Important: In order to understand key-value observing, you must first understand key-value coding. ÈáçË¶ÅÔºö‰∫ÜËß£ÈîÆÂÄºËßÇÂØü‰πãÂâçÔºåÈ¶ñÂÖàË¶ÅÁêÜËß£ÈîÆÂÄºÁºñÁ®ã (key-value coding) 1.1 At a Glance - Ê¶ÇÊã¨Key-value observing provides a mechanism that allows objects to be notified of changes to specific properties of other objects. It is particularly useful for communication between model and controller layers in an application. (In OS X, the controller layer binding technology relies heavily on key-value observing.) A controller object typically observes properties of model objects, and a view object observes properties of model objects through a controller. In addition, however, a model object may observe other model objects (usually to determine when a dependent value changes) or even itself (again to determine when a dependent value changes). You can observe properties including simple attributes, to-one relationships, and to-many relationships. Observers of to-many relationships are informed of the type of change made‚Äîas well as which objects are involved in the change. There are three steps to setting up an observer of a property. Understanding these three steps provides a clear illustration of how KVO works. ÈîÆ - ÂÄºËßÇÂØüÊòØ‰∏ÄÁßçÊú∫Âà∂ÔºåÂΩìÊåáÂÆöÂØπË±°Â±ûÊÄßÊîπÂèòÁöÑÊó∂ÂÄôÂÖÅËÆ∏Âè¶‰∏Ä‰∏™ÂØπË±°Êé•ÂèóÈÄöÁü•„ÄÇÂú®Â∫îÁî®‰∏≠ÔºåÂØπ‰∫éÊ®°ÂûãÂíåÊéßÂà∂Âô®Â±Ç‰πãÈó¥ÁöÑ‰∫§ÊµÅÈùûÂ∏∏ÊúâÁî®„ÄÇÔºàÂú® OS X ‰∏≠ÔºåÊéßÂà∂Âô®Â±ÇÁªëÂÆöÊäÄÊúØ‰∏•Èáç‰æùËµñ‰∫éÈîÆ-ÂÄºËßÇÂØü„ÄÇÔºâ‰∏Ä‰∏™ÊéßÂà∂Âô®ÂØπË±°ÈÄöÂ∏∏ËßÇÂØüÊ®°ÂûãÂØπË±°ÁöÑÂ±ûÊÄßÔºåËßÜÂõæÂØπË±°ÈÄöËøáÊéßÂà∂Âô®ËßÇÂØüÊ®°ÂûãÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇÁÑ∂ÂêéÔºå‰∏Ä‰∏™Ê®°ÂûãÂØπË±°ÂèØ‰ª•ËßÇÂØüÂÖ∂ÂÆÉÊ®°ÂûãÂØπË±°ÔºàÈÄöÂ∏∏‰∏∫‰∫ÜÁ°ÆÂÆö‰ªéÂ±ûÂÄºÊòØ‰ªÄ‰πàÊó∂ÂÄôÊîπÂèòÁöÑÔºâÔºåÊàñËÄÖÁîöËá≥ËßÇÂØüËá™Ë∫´Ôºà‰πüÊòØ‰∏∫‰∫ÜÁ°ÆÂÆö‰ªéÂ±ûÂÄº‰ΩïÊó∂ÂèòÂåñÔºâ„ÄÇ ‰Ω†ÂèØ‰ª•ËßÇÂØü‰∏Ä‰∫õÂ±ûÊÄßÔºåÊØîÂ¶ÇÁÆÄÂçïÁöÑÂ±ûÊÄßÔºå‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ªÁöÑÔºå‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÁöÑ„ÄÇ‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÁöÑËßÇÂØüËÄÖÂèØ‰ª•Êî∂Âà∞ÂèòÂåñÁöÑÁ±ªÂûãÔºå‰ª•ÂèäÂì™‰∫õÂØπË±°ÂèëÁîü‰∫ÜÊîπÂèò„ÄÇ Âª∫Á´ãÂ±ûÊÄßÁöÑËßÇÂØüËÄÖÊúâ‰∏âÊ≠•„ÄÇ‰∏ãÈù¢Êèê‰æõ‰∏Ä‰∏™Ê∏ÖÊô∞ÁöÑKVOÂ∑•‰ΩúÊñπÂºèÊºîÁ§∫ÔºåÊù•ÁêÜËß£Ëøô‰∏âÊ≠•„ÄÇ 1.First, see whether you have a scenario where key-value observing could be beneficial, for example, an object that needs to be notified when any changes are made to a specific property in another object. 1.È¶ñÂÖàÔºåËÄÉËôëËøôÊ†∑ÁöÑ‰∏Ä‰∏™Âú∫ÊôØÔºå‰æãÂ¶ÇÂΩìÂØπ‰∏Ä‰∏™AÂØπË±°ÁöÑÁâπÂÆöÂÅöÂá∫‰ªª‰ΩïÊîπÂèòÁöÑÊó∂ÂÄôÔºåBÂØπË±°ÈúÄË¶ÅË¢´ÈÄöÁü•„ÄÇ 2.The PersonObject must register as an observer of the BankObject‚Äôs accountBalance property by sending an addObserver:forKeyPath:options:context: message. 2.PersonObjectÂøÖÈ°ªÊ≥®ÂÜå‰∏∫ BankObject ÁöÑ accountBalance Â±ûÊÄßÁöÑËßÇÂØüËÄÖÔºåÈÄöËøáÂèëÈÄÅ‰∏Ä‰∏™Ê∂àÊÅØ addObserver:forKeyPath:options:context: Note: The addObserver:forKeyPath:options:context: method establishes a connection between the instances of the objects that you specify. A connection is not established between the two classes, but rather between the two specified instances of the objects. Ê≥®ÊÑèÔºöaddObserver:forKeyPath:options:context: ÊñπÊ≥ïËßÑÂÆö‰∫Ü‰∏Ä‰∏™ÊåáÂÆöÂØπË±°ÂÆû‰æã‰πãÈó¥ÁöÑËøûÊé•„ÄÇÊ≥®ÊÑè‰∏çÊòØ‰∏§‰∏™Á±ª‰πãÈó¥ÁöÑËøûÊé•Ôºå‰∏§‰∏™ÂØπË±°ÁöÑÂÆû‰æã„ÄÇ 3.In order to respond to change notifications, the observer must implement the observeValueForKeyPath:ofObject:change:context: method. This method implementation defines how the observer responds to change notifications. It is in this method that you can customize your response to a change in one of the observed properties. 3.‰∏∫‰∫ÜÂìçÂ∫îÂèòÂåñÁöÑÈÄöÁü•ÔºåËßÇÂØüËÄÖÂøÖÈ°ªÂÆûÁé∞ÊñπÊ≥ï observeValueForKeyPath:ofObject:change:context:„ÄÇËøô‰∏™ÊñπÊ≥ïÁöÑÂÆûÁé∞‰∏≠ÂÆö‰πâ‰∫ÜËßÇÂØüËÄÖÂ¶Ç‰ΩïÂìçÂ∫îÊîπÂèòÈÄöÁü•„ÄÇÂèØ‰ª•Âú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠ÂÆöÂà∂Ë¢´ËßÇÂØüÂ±ûÊÄß‰πã‰∏ÄÊîπÂèòÊó∂ÁöÑÂìçÂ∫î„ÄÇ Registering for Key-Value Observing describes how to register and receive observation notifications. Registering for Key-Value ObservingËØ¥ÊòéÂ¶Ç‰ΩïÊ≥®ÂÜåÂíåÊé•ÂèóËßÇÂØüÁöÑÈÄöÁü•„ÄÇ 4.The observeValueForKeyPath:ofObject:change:context: method is automatically invoked when the value of an observed property is changed in a KVO-compliant manner, or if a key upon which it depends is changed. 4.ÂΩìË¢´ËßÇÂØüÂ±ûÊÄßÁöÑÂÄºÂú®KVO-compliantÊñπÂºè‰∏≠ÊîπÂèò ÊàñËÄÖÂÆÉ‰æùËµñÁöÑ‰∏Ä‰∏™keyÊîπÂèòÁöÑÊó∂ÂÄôÔºåobserveValueForKeyPath:ofObject:change:context: ÊñπÊ≥ïËá™Âä®Ë¢´Ë∞ÉÁî®„ÄÇ Registering Dependent Keys explains how to specify that the value of a key is dependent on the value of another key. Registering Dependent Keys Ëß£Èáä‰∫ÜÊåáÂÆö‰∏Ä‰∏™ÈîÆÁöÑÂÄº‰æùËµñ‰∫éÂè¶‰∏Ä‰∏™ÈîÆÁöÑÂÄº„ÄÇ KVO‚Äôs primary benefit is that you don‚Äôt have to implement your own scheme to send notifications every time a property changes. Its well-defined infrastructure has framework-level support that makes it easy to adopt‚Äîtypically you do not have to add any code to your project. In addition, the infrastructure is already full-featured, which makes it easy to support multiple observers for a single property, as well as dependent values. KVO Compliance describes the difference between automatic and manual key-value observing, and how to implement both. Unlike notifications that use NSNotificationCenter, there is no central object that provides change notification for all observers. Instead, notifications are sent directly to the observing objects when changes are made. NSObject provides this base implementation of key-value observing, and you should rarely need to override these methods. Key-Value Observing Implementation Details describes how key-value observing is implemented. KVOÁöÑ‰ºòÁÇπÊòØÔºåÊØèÊ¨°Â±ûÊÄßÊîπÂèòÁöÑÊó∂ÂÄôÔºå‰∏çÈúÄË¶ÅËá™Â∑±ÂÆûÁé∞ÂèëÈÄÅÈÄöÁü•„ÄÇÂÆÉËâØÂ•ΩÂÆö‰πâÁöÑÂü∫Á°ÄËÆæÊñΩÊúâÊû∂ÊûÑÂ±ÇÈù¢ÁöÑÊîØÊåÅÔºå‰ΩøÂæóÂÆÉÊòì‰∫é‰ΩøÁî®ÔºåÈÄöÂ∏∏‰∏çÈúÄË¶ÅÂÜçÂ∑•Á®ã‰∏≠Ê∑ªÂä†‰ªª‰Ωï‰ª£Á†Å„ÄÇÊ≠§Â§ñÔºåÂü∫Á°ÄËÆæÊñΩÂ∑≤ÁªèÊòØÂÖ®ÁâπÊÄßÁöÑÔºåÂÆÉÂèØ‰ª•ÂæàÂÆπÊòìÂú∞ÊîØÊåÅÂçï‰∏ÄÂ±ûÊÄßÁöÑÂ§ö‰∏™ËßÇÂØüËÄÖÔºå‰ª•ÂèäÁõ∏ÂÖ≥ÁöÑÂÄº„ÄÇ KVO Compliance ÊèèËø∞‰∫ÜËá™Âä®ÂíåÊâãÂä®ÈîÆÂÄºËßÇÂØüÁöÑÂå∫Âà´Ôºå‰ª•ÂèäÂ¶Ç‰ΩïÂÆûÁé∞‰∏§ËÄÖ„ÄÇ ‰∫é‰ΩøÁî® NSNotificationCenter ÁöÑÈÄöÁü•‰∏çÂêåÔºåËøôÈáåÊ≤°Êúâ‰∏∫ÊâÄÊúâËßÇÂØüËÄÖÊèê‰æõÊõ¥ÊîπÈÄöÁü•ÁöÑ‰∏≠Â§ÆÂØπË±°Ôºå„ÄÇÁõ∏ÂèçÔºåÊõ¥ÊîπÊó∂ÈÄöÁü•Áõ¥Êé•Ë¢´ÂèëÈÄÅÂà∞ËßÇÂØüÂØπË±°„ÄÇNSObject Êèê‰æõ‰∫ÜÈîÆÂÄºËßÇÂØüÁöÑÂü∫Êú¨ÂÆûÁé∞Ôºå‰Ω†Â∫îËØ•ÂæàÂ∞ëÈúÄË¶ÅÈáçÂÜôËøô‰∫õÊñπÊ≥ï„ÄÇ Key-Value Observing Implementation DetailsÊèèËø∞ÈîÆÂÄºËßÇÂØüÂÆ§Â¶Ç‰ΩïÂÆûÁé∞ÁöÑ„ÄÇ 2 Registering for Key-Value Observing - Ê≥®ÂÜåÈîÆÂÄºËßÇÂØüIn order to receive key-value observing notifications for a property, three things are required: The observed class must be key-value observing compliant for the property that you wish to observe. You must register the observing object with the observed object, using the method addObserver:forKeyPath:options:context:. The observing class must implement observeValueForKeyPath:ofObject:change:context:. ÈíàÂØπ‰∏Ä‰∏™Â±ûÊÄßÔºå‰∏∫‰∫ÜÊé•Êî∂ÈîÆÂÄºËßÇÂØüÈÄöÁü•ÔºåÊúâ3‰∏™Ë¶ÅÊ±ÇÔºö ÂØπ‰∫é‰Ω†Â∏åÊúõËßÇÂØüÁöÑÂ±ûÊÄßÔºåË¢´ËßÇÂØüÁöÑÁ±ªÂøÖÈ°ªÊòØÈîÆÂÄºËßÇÂØüÂÖºÂÆπÁöÑ„ÄÇ ‰Ω†ÂøÖÈ°ªÂØπË¢´ËßÇÂØüÁöÑÂØπË±°Ê≥®ÂÜåËßÇÂØüÂØπË±°Ôºå‰ΩøÁî®ÊñπÊ≥ï addObserver:forKeyPath:options:context: ËßÇÂØüÁ±ªÂøÖÈ°ªÂÆûÁé∞ÊñπÊ≥ï observeValueForKeyPath:ofObject:change:context: Important: Not all classes are KVO-compliant for all properties. You can ensure your own classes are KVO-compliant by following the steps described in KVO Compliance. Typically properties in Apple-supplied frameworks are only KVO-compliant if they are documented as such. ÈáçË¶ÅÊèêÁ§∫Ôºö‰∏çÊòØÊâÄÊúâÁ±ªÂØπ‰∫éÊâÄÊúâÂ±ûÊÄßÈÉΩÊòØKVOÂÖºÂÆπÁöÑ„ÄÇ‰Ω†ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢Âá†‰∏™Ê≠•È™§Á°Æ‰øù‰Ω†Ëá™Â∑±ÁöÑÁ±ªÊòØKVOÂÖºÂÆπÁöÑÔºåÂú®KVO Compliance‰∏≠ÊúâÊèèËø∞„ÄÇÈÄöÂ∏∏ÔºåÂ¶ÇÊûúÂÆÉ‰ª¨Ë¢´ËÆ∞ÂΩï‰∏∫ËøôÁßçËãπÊûúÊèê‰æõÁöÑÊ°ÜÊû∂Â±ûÊÄßÔºåÈÇ£Â∞±ÂîØ‰∏ÄKVOÂÖºÂÆπÁöÑ„ÄÇ 2.1 Registering as an Observer - Ê≥®ÂÜå‰∏∫‰∏Ä‰∏™ËßÇÂØüËÄÖIn order to be notified of changes to a property, an observing object must first register with the object to be observed by sending it an addObserver:forKeyPath:options:context: message, passing the observer object and the key path of the property to be observed. The options parameter specifies the information that is provided to the observer when a change notification is sent. Using the option NSKeyValueObservingOptionOld specifies that the original object value is provided to the observer as an entry in the change dictionary. Specifying the NSKeyValueObservingOptionNew option provides the new value as an entry in the change dictionary. To receive both values, you would bitwise OR the option constants. The example in Listing 1 demonstrates registering an inspector object for the property openingBalance. ‰∏∫‰∫ÜÂ±ûÊÄßÊîπÂèòÊó∂ËÉΩË¢´ÈÄöÁü•Âà∞ÔºåËßÇÂØüÂØπË±°È¶ñÂÖàË¶ÅÂØπË¢´ËßÇÂØüÂØπË±°ËøõË°åÊ≥®ÂÜåÔºåÈÄöËøáÁªôË¢´ËßÇÂØüÂØπË±°ÂèëÈÄÅÊ∂àÊÅØ addObserver:forKeyPath:options:context: „ÄÇ‰º†ÁªôÁöÑÂèÇÊï∞ÊòØËßÇÂØüËÄÖÂØπË±°ÔºåË¢´ËßÇÂØüÂØπË±°Â±ûÊÄßÁöÑÈîÆË∑ØÂæÑÔºàkey pathÔºâ„ÄÇÂèØÈÄâÁöÑÂèÇÊï∞ÊòØÂΩìÊîπÂèòÈÄöÁü•Ë¢´ÂèëÈÄÅÁöÑÊó∂ÂÄôÔºåÊèê‰æõÁªôËßÇÂØüËÄÖÁöÑÊåáÂÆö‰ø°ÊÅØ„ÄÇ‰ΩøÁî®ÈÄâÈ°π NSKeyValueObservingOptionOld ÊåáÂÆöÂéüÂßãÂØπË±°ÁöÑÂÄºÔºåÂú®ÂèòÂåñÂ≠óÂÖ∏‰∏≠Êèê‰æõÁªôËßÇÂØüËÄÖ„ÄÇNSKeyValueObservingOptionNew ÈÄâÈ°πÔºåÊèê‰æõÊñ∞ÁöÑÂÄº„ÄÇ‰∏∫‰∫ÜÊî∂Âà∞Ëøô‰∏§‰∏™ÂÄºÔºå‰Ω†Â∫îËØ•ÂØπËøô‰∏§‰∏™ÈÄâÈ°πÂ∏∏Èáè‰ΩøÁî®‰ΩçÊàñ„ÄÇ Ê∏ÖÂçï1ÁöÑ‰æãÂ≠êÊºîÁ§∫Áªô openingBalance Â±ûÊÄßÊ≥®ÂÜå‰∏Ä‰∏™ËßÇÂØüËÄÖ inspector ÂØπË±°„ÄÇ - (void)registerAsObserver { /* Ê≥®ÂÜå `inspector` ÔºåÊù•Êé•Êî∂ `account` ÂØπË±°ÁöÑÂ±ûÊÄß `openingBalance` ÊîπÂèòÊó∂ÁöÑÈÄöÁü•ÔºåÂπ∂‰∏îÊåáÂÆöÊóßÂÄºÂíåÊñ∞ÂÄºÈÉΩÂ∫îËØ•Êèê‰æõÁªôËßÇÂØüËÄÖ„ÄÇ */ [account addObserver:inspector forKeyPath:@"openingBalance" options:(NSKeyValueObservingOptionNew | NSKeyValueObservingOptionOld) context:NULL]; } When you register an object as an observer, you can also provide a context pointer. The context pointer is provided to the observer when observeValueForKeyPath:ofObject:change:context: is invoked. The context pointer can be a C pointer or an object reference. The context pointer can be used as a unique identifier to determine the change that is being observed, or to provide some other data to the observer. Note: The key-value observing addObserver:forKeyPath:options:context: method does not maintain strong references to the observing object, the observed objects, or the context. You should ensure that you maintain strong references to the observing, and observed, objects, and the context as necessary. Ê≥®ÂÜåÁöÑÊó∂ÂÄôÔºå‰πüÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™‰∏ä‰∏ãÊñáÊåáÈíàÔºàcontext pointerÔºâÔºåÂΩì observeValueForKeyPath:ofObject:change:context: Ë¢´Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåcontext pointer ‰ºöË¢´Êèê‰æõÁªôËßÇÂØüËÄÖ„ÄÇcontext pointer ÂèØ‰ª•ÊòØ‰∏Ä‰∏™ C pointer ÊàñËÄÖ ‰∏Ä‰∏™ÂØπË±°ÂºïÁî®„ÄÇcontext pointer ÂèØ‰ª•Áî®‰ΩúÂîØ‰∏ÄÊ†áËØÜÁ¨¶ÔºåÊù•Á°ÆÂÆöÊ≠£Âú®Ë¢´ËßÇÂØüÂØπË±°ÁöÑÂèòÂåñÔºåÊàñËÄÖÊèê‰æõÊüê‰∫õÂÖ∂‰ªñÊï∞ÊçÆÁªôËßÇÂØüËÄÖ„ÄÇ Ê≥®ÊÑèÔºöÈîÆÂÄºËßÇÂØüÊñπÊ≥ï addObserver:forKeyPath:options:context: ÔºåÂØπ‰∫éËßÇÂØüËÄÖÂØπË±°ÔºåË¢´ËßÇÂØüÁöÑÂØπË±°ÊàñËÄÖ context ÈÉΩ‰∏ç‰ºöÁª¥ÊåÅÂº∫ÂºïÁî®„ÄÇÂú®ÂøÖË¶ÅÁöÑÊó∂ÂÄôÔºå‰Ω†Â∫îËØ•Ëá™Â∑±Á°Æ‰øù‰Ω†ÂØπ‰∫éÂÆÉ‰ª¨Áª¥ÊåÅÂº∫ÂºïÁî®„ÄÇ 2.2 Receiving Notification of a Change - ÈíàÂØπÊîπÂèòÊé•Êî∂ÈÄöÁü•When the value of an observed property of an object changes, the observer receives an observeValueForKeyPath:ofObject:change:context: message. All observers must implement this method. The observer is provided the object and key path that triggered the observer notification, a dictionary containing details about the change, and the context pointer that was provided when the observer was registered. The change dictionary entry NSKeyValueChangeKindKey provides information about the type of change that occurred. If the value of the observed object has changed, the NSKeyValueChangeKindKey entry returns NSKeyValueChangeSetting. Depending on the options specified when the observer was registered, the NSKeyValueChangeOldKey and NSKeyValueChangeNewKey entries in the change dictionary contain the values of the property before, and after, the change. If the property is an object, the value is provided directly. If the property is a scalar or a C structure, the value is wrapped in an NSValue object (as with key-value coding). If the observed property is a to-many relationship, the NSKeyValueChangeKindKey entry also indicates whether objects in the relationship were inserted, removed, or replaced by returning NSKeyValueChangeInsertion, NSKeyValueChangeRemoval, or NSKeyValueChangeReplacement, respectively. The change dictionary entry for NSKeyValueChangeIndexesKey is an NSIndexSet object specifying the indexes in the relationship that changed. If NSKeyValueObservingOptionNew or NSKeyValueObservingOptionOld are specified as options when the observer is registered, the NSKeyValueChangeOldKey and NSKeyValueChangeNewKey entries in the change dictionary are arrays containing the values of the related objects before, and after, the change. The example in Listing 2 shows the observeValueForKeyPath:ofObject:change:context: implementation for an inspector that reflects the old and new values of the property openingBalance, as registered in Listing 1. ÂΩì‰∏Ä‰∏™ÊîπÂèò‰∫ÜË¢´ËßÇÂØüÂØπË±°Â±ûÊÄßÁöÑÂÄºÔºåËßÇÂØüËÄÖÊî∂Âà∞Ê∂àÊÅØ observeValueForKeyPath:ofObject:change:context: „ÄÇÊâÄÊúâÁöÑËßÇÂØüËÄÖÂøÖÈ°ªÂÆûÁé∞Ëøô‰∏™ÊñπÊ≥ï„ÄÇ ËßÇÂØüËÄÖË¢´Êèê‰æõ Ëß¶ÂèëËßÇÂØüËÄÖÈÄöÁü•ÁöÑÂØπË±°Âíå key path ÔºåÂ∞±ÊòØ‰∏Ä‰∏™Â≠óÂÖ∏ÔºåÂåÖÂê´‰∫ÜÂèòÂåñÂíåÊ≥®ÂÜåÊó∂Â°´ÂÜôÁöÑcontext pointer„ÄÇ ÂèòÂåñÂ≠óÂÖ∏‰∏≠ NSKeyValueChangeKindKey Êèê‰æõ‰∫ÜÂÖ≥‰∫éÂèëÁîüÂèòÂåñÁöÑ‰ø°ÊÅØ„ÄÇÂ¶ÇÊûúË¢´ËßÇÂØüÂØπË±°ÁöÑÂÄºË¢´ÊîπÂèò‰∫ÜÔºåNSKeyValueChangeKindKey ËøîÂõû NSKeyValueChangeSetting „ÄÇÊ†πÊçÆËßÇÂØüËÄÖË¢´Ê≥®ÂÜåÊó∂ÊåáÂÆöÁöÑÈÄâÈ°πÔºåNSKeyValueChangeOldKey Âíå NSKeyValueChangeNewKey ÔºåÂú®ÂèòÂåñÂ≠óÂÖ∏‰∏≠ÂåÖÂê´‰∫ÜÂ±ûÊÄß‰πãÂâçÁöÑÂÄº‰ª•ÂèäÊîπÂèò‰πãÂêéÁöÑÂÄº„ÄÇÂ¶ÇÊûúÂ±ûÊÄßÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂÄº‰ºöË¢´Áõ¥Êé•Êèê‰æõ„ÄÇÂ¶ÇÊûúÂ±ûÊÄßÊòØÊ†áÈáèÊàñËÄÖCÁªìÊûÑ‰ΩìÔºåÂÄº‰ºöË¢´ÂåÖÂê´Âú®‰∏Ä‰∏™ NSValue ÂØπË±°‰∏≠ÔºàÊØîÂ¶Ç ÈîÆÂÄºÁºñÁ®ãÔºâ„ÄÇ Â¶ÇÊûúË¢´ËßÇÂØüÁöÑÂ±ûÊÄßÊòØ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºàÊØîÂ¶ÇÊï∞ÁªÑÔºåÈõÜÂêàÔºâÔºåNSKeyValueChangeKindKey ‰πü‰ºöÊåáÂÆöÂÖ≥Á≥ª‰∏≠ÁöÑÂØπË±°ÊòØÂê¶Ë¢´ËøîÂõûÁöÑ NSKeyValueChangeInsertion ÊèíÂÖ•ÔºåNSKeyValueChangeRemoval ÁßªÈô§ÊàñËÄÖ NSKeyValueChangeReplacement Êõø‰ª£„ÄÇ ÂèòÂåñÂ≠óÂÖ∏ÁöÑÊù°ÁõÆ NSKeyValueChangeIndexesKey ÊòØ‰∏Ä‰∏™ NSIndexSet ÂØπË±°ÔºåÊåáÂá∫Ë¢´ÊîπÂèòÂÖ≥Á≥ªÁöÑ‰∏ãÊ†á„ÄÇÂ¶ÇÊûúÊ≥®ÂÜåÁöÑÊó∂ÂÄô NSKeyValueObservingOptionNew ÊàñËÄÖ NSKeyValueObservingOptionOld Ë¢´ÊåáÂÆö‰∏∫ÈÄâÈ°πÔºåÂèòÂåñÂ≠óÂÖ∏‰∏≠ NSKeyValueChangeOldKey Âíå NSKeyValueChangeNewKey Â∞±‰ºöÊòØÊï∞ÁªÑÔºåÂåÖÂê´‰∫ÜÁõ∏ÂÖ≥ÂØπË±°ÂèòÂåñ‰πãÂâçÂíå‰πãÂêéÁöÑÂÄº„ÄÇ Ê∏ÖÂçï2ÁöÑ‰æãÂ≠êÊºîÁ§∫‰∫Ü observeValueForKeyPath:ofObject:change:context: ÂÆûÁé∞ - (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context { if ([keyPath isEqual:@"openingBalance"]) { [openingBalanceInspectorField setObjectValue: [change objectForKey:NSKeyValueChangeNewKey]]; } /* Be sure to call the superclass's implementation *if it implements it*. NSObject does not implement the method. */ [super observeValueForKeyPath:keyPath ofObject:object change:change context:context]; } 2.3 Removing an Object as an Observer ÁßªÈô§ÂØπË±°ËßÇÂØüËÄÖYou remove a key-value observer by sending the observed object a removeObserver:forKeyPath: message, specifying the observing object and the key path. The example in Listing 3 removes the inspector as an observer of openingBalance. ‰Ω†ÂèØ‰ª•ÁªôË¢´ËßÇÂØüÂØπË±°ÂèëÈÄÅ‰∏Ä‰∏™Ê∂àÊÅØ removeObserver:forKeyPath: Êù•ÁßªÈô§ÈîÆÂÄºËßÇÂØüÔºåÊåáÂÆöËßÇÂØüËÄÖÂØπË±°Âíå key path „ÄÇÊ∏ÖÂçï3 ÁöÑ‰æãÂ≠êÁßªÈô§‰∫Ü openingBalance ÁöÑËßÇÂØüËÄÖ inspector „ÄÇ - (void)unregisterForChangeNotification { [observedObject removeObserver:inspector forKeyPath:@"openingBalance"]; } If the context is an object, you must keep a strong reference to it until removing the observer. After receiving a removeObserver:forKeyPath: message, the observing object will no longer receive any observeValueForKeyPath:ofObject:change:context: messages for the specified key path and object. Â¶ÇÊûú context ÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂú®ÁßªÈô§ËßÇÂØüËÄÖ‰πãÂâç‰Ω†ÂøÖÈ°ªÂØπÂÆÉ‰øùÊåÅ‰∏Ä‰∏™Âº∫ÂºïÁî®„ÄÇÊé•Êî∂Âà∞ removeObserver:forKeyPath: Ê∂àÊÅØÂêéÔºåËßÇÂØüÂØπË±°Â∞Ü‰∏çÂú®Êé•Êî∂‰ªª‰ΩïÊåáÂÆö key path ÂíåÂØπË±°ÁöÑ observeValueForKeyPath:ofObject:change:context: Ê∂àÊÅØ„ÄÇ 3 KVO Compliance - KVO ÂÖºÂÆπÊÄßIn order to be considered KVO-compliant for a specific property, a class must ensure the following: The class must be key-value coding compliant for the property, as specified in Ensuring KVC Compliance. KVO supports the same data types as KVC. The class emits KVO change notifications for the property. Dependent keys are registered appropriately (see Registering Dependent Keys). There are two techniques for ensuring the change notifications are emitted. Automatic support is provided by NSObject and is by default available for all properties of a class that are key-value coding compliant. Typically, if you follow standard Cocoa coding and naming conventions, you can use automatic change notifications‚Äîyou don‚Äôt have to write any additional code. Manual change notification provides additional control over when notifications are emitted, and requires additional coding. You can control automatic notifications for properties of your subclass by implementing the class method automaticallyNotifiesObserversForKey:. ËÄÉËôëÂà∞ÊåáÂÆöÂ±ûÊÄßÁöÑ KVO-compliantÔºåÁ±ªÂøÖÈ°ªÁ°ÆËÆ§‰∏ãÈù¢Âá†ÁÇπÔºö Á±ªÂØπ‰∫éÂ±ûÊÄßÂøÖÈ°ªË¢´ÈîÆÂÄºÁºñÁ®ãÂÖºÂÆπÔºåÂú® Ensuring KVC Compliance ‰∏≠ÊúâÊåáÂá∫„ÄÇKVOÊîØÊåÅ‰∏éKVCÁõ∏ÂêåÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇ Á±ªÂØπ‰∫éÂ±ûÊÄßËÉΩÂèëÂá∫KVOÊîπÂèòÈÄöÁü•„ÄÇ Âú®Ê≥®ÂÜåÊó∂ÈÄÇÂΩìÁöÑËÆæÁΩÆÁõ∏ÂÖ≥ÁöÑ key ÔºàËßÅ Registering Dependent KeysÔºâ Êúâ‰∏§ÁßçÊäÄÊúØÁ°Æ‰øùÊîπÂèòÈÄöÁü•Ë¢´ÂèëÂá∫„ÄÇËá™Âä®ÊîØÊåÅÁî± NSObject Êèê‰æõÔºåÂπ∂‰∏îÂØπ‰∫é‰∏Ä‰∏™Á±ªÁöÑÊâÄÊúâÂ±ûÊÄßÈîÆÂÄºÁºñÁ®ãÂÖºÂÆπÊÄßÈÉΩÊòØÂèØÁî®ÁöÑ„ÄÇÈÄöÂ∏∏Êù•ËØ¥ÔºåÂ¶ÇÊûúÈÅµÂæ™Ê†áÂáÜÁöÑCocoa ÁºñÁ®ãÂíåÂëΩÂêçËßÑËåÉÔºå‰Ω†Â∞±ÂèØ‰ª•‰ΩøÁî®Ëá™Âä®ÂèòÂåñÈÄöÁü•Ôºå‰∏çÁî®ÂÜô‰ªª‰ΩïÈ¢ùÂ§ñÁöÑ‰ª£Á†Å„ÄÇ ÊâãÂä®ÂèòÂåñÈÄöÁü•Âú®ÂΩìÈÄöÁü•Ë¢´ÂèëÂá∫ÁöÑÊó∂ÂÄôÊèê‰æõ‰∫ÜÈ¢ùÂ§ñÁöÑÊéßÂà∂ÔºåÂπ∂‰∏îÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∫õ‰ª£Á†Å„ÄÇ‰Ω†ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞Á±ªÊñπÊ≥ï automaticallyNotifiesObserversForKey: Êù•ÊéßÂà∂‰Ω†Â≠êÁ±ªÂ±ûÊÄßÁöÑËá™Âä®ÈÄöÁü•„ÄÇ 3.1 Automatic Change Notification - Ëá™Âä®ÂèòÂåñÈÄöÁü•NSObject provides a basic implementation of automatic key-value change notification. Automatic key-value change notification informs observers of changes made using key-value compliant accessors, as well as the key-value coding methods. Automatic notification is also supported by the collection proxy objects returned by, for example, mutableArrayValueForKey:. The examples shown in Listing 1 result in any observers of the property name to be notified of the change. Listing 1 Examples of method calls that cause KVO change notifications to be emitted NSObject Êèê‰æõ‰∫Ü‰∏Ä‰∏™Ëá™Âä®ÈîÆÂÄºÂèòÂåñÈÄöÁü•ÁöÑÂü∫Êú¨ÂÆûÁé∞„ÄÇËá™Âä®ÈîÆÂÄºÂèòÂåñÈÄöÁü•ÂëäÁü•ÊâÄÂÅöÊîπÂèòÁöÑËßÇÂØüËÄÖ‰ΩøÁî®ÈîÆÂÄºÂÖºÂÆπÁöÑ accessorsÔºå‰ª•ÂèäÈîÆÂÄºÁºñÁ®ãÊñπÊ≥ï„ÄÇËá™Âä®ÈÄöÁü•‰πüË¢´ËøîÂõûÁöÑÈõÜÂêà‰ª£ÁêÜÂØπË±°ÊîØÊåÅÔºå‰æãÂ¶Ç mutableArrayValueForKey:„ÄÇ Ê∏ÖÂçï1ÁöÑ‰æãÂ≠êÂ±ïÁ§∫‰∫ÜÊîπÂèòÊó∂ÔºåÂ±ûÊÄßÂêçË¢´‰øÆÊîπÁöÑÊÉÖÂÜµ‰∏ã‰ªª‰ΩïËßÇÂØüËÄÖÁöÑÁªìÊûú„ÄÇ Ê∏ÖÂçï1ÔºåÂØºËá¥ÂèëÂá∫KVOÂèòÂåñÈÄöÁü•ÁöÑÊñπÊ≥ïË∞ÉÁî®‰æãÂ≠ê // Call the accessor method. [account setName:@"Savings"]; // Use setValue:forKey:. [account setValue:@"Savings" forKey:@"name"]; // Use a key path, where 'account' is a kvc-compliant property of 'document'. [document setValue:@"Savings" forKeyPath:@"account.name"]; // Use mutableArrayValueForKey: to retrieve a relationship proxy object. Transaction *newTransaction = ; NSMutableArray *transactions = [account mutableArrayValueForKey:@"transactions"]; [transactions addObject:newTransaction]; 3.2 Manual Change Notification - ÊâãÂä®ÂèòÂåñÈÄöÁü•Manual change notification provides more granular control over how and when notifications are sent to observers. This can be useful to help minimize triggering notifications that are unnecessary, or to group a number of changes into a single notification. A class that implements manual notification must override the NSObject implementation of automaticallyNotifiesObserversForKey:. It is possible to use both automatic and manual observer notifications in the same class. For properties that perform manual notification, the subclass implementation of automaticallyNotifiesObserversForKey: should return NO. A subclass implementation should invoke super for any unrecognized keys. The example in Listing 2 enables manual notification for the openingBalance property allowing the superclass to determine the notification for all other keys. Listing 2 Example implementation of automaticallyNotifiesObserversForKey: ÊâãÂä®ÂèòÂåñÈÄöÁü•Âú®ÂΩìÈÄöÁü•Ë¢´ÂèëÈÄÅÁªôËßÇÂØüËÄÖÁöÑÊó∂ÂÄôÊèê‰æõ‰∫ÜÊõ¥Â§öÁ≤æÁªÜÁöÑÊéßÂà∂„ÄÇÂØπ‰∫éÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑËß¶ÂèëÈÄöÁü•ÔºåÊàñËÄÖ‰∏ÄÂ§ßÊ≥¢ÂèòÂåñÁªô‰∏Ä‰∏™ÈÄöÁü•ÔºåÈÉΩÂæàÊúâÂ∏ÆÂä©„ÄÇ ÂÆûÁé∞ÊâãÂä®ÈÄöÁü•ÁöÑÁ±ªÂøÖÈ°ªÈáçÂÜô NSObject ÂÆûÁé∞ÁöÑÊñπÊ≥ï automaticallyNotifiesObserversForKey: „ÄÇÊúâÂèØËÉΩÂú®Áõ∏ÂêåÁöÑÁ±ª‰∏≠‰ΩøÁî®Ëá™Âä®ÂíåÊâãÂä®ÁöÑËßÇÂØüÈÄöÁü•„ÄÇÂØπ‰∫éÊâßË°åÊâãÂä®ÈÄöÁü•ÁöÑÂ±ûÊÄßÔºåÂ≠êÁ±ªÁöÑ automaticallyNotifiesObserversForKey: ÊñπÊ≥ïÂÆûÁé∞Â∫îËØ•ËøîÂõû NO„ÄÇÂ≠êÁ±ªÂÆûÁé∞‰∏≠ÂØπ‰∫é‰ªª‰Ωï‰∏∫Á°ÆËÆ§ÁöÑ keyÔºåÂ∫îËØ•Ë∞ÉÁî®Áà∂Á±ª„ÄÇÊ∏ÖÂçï2ÁöÑ‰æãÂ≠êÂØπ‰∫é openingBalance Â±ûÊÄßÂêØÁî®‰∫ÜÊâãÂä®ÈÄöÁü•ÔºåÂÖÅËÆ∏Áà∂Á±ªÊù•ÂÜ≥ÂÆöÊâÄÊúâÂÖ∂‰ªñ key ÁöÑÈÄöÁü•„ÄÇ Ê∏ÖÂçï2 automaticallyNotifiesObserversForKey:ÂÆûÁé∞ÁöÑ‰æãÂ≠ê + (BOOL)automaticallyNotifiesObserversForKey:(NSString *)theKey { BOOL automatic = NO; if ([theKey isEqualToString:@"openingBalance"]) { automatic = NO; } else { automatic = [super automaticallyNotifiesObserversForKey:theKey]; } return automatic; } To implement manual observer notification, you invoke willChangeValueForKey: before changing the value, and didChangeValueForKey: after changing the value. The example in Listing 3 implements manual notifications for the openingBalance property. Listing 3 Example accessor method implementing manual notification Ë¶ÅÂÆûÁé∞ÊâãÂä®ËßÇÂØüÈÄöÁü•ÔºåÂú®ÂÄºÂèòÂåñ‰πãÂâçË¶ÅË∞ÉÁî® willChangeValueForKey:ÔºåÂÄºÂèòÂåñ‰πãÂêéË¶ÅË∞ÉÁî® didChangeValueForKey: „ÄÇÊ∏ÖÂçï3ÁöÑ‰æãÂ≠êÔºåÂØπ‰∫é openingBalance Â±ûÊÄßÂÆûÁé∞‰∫ÜÊâãÂä®ÈÄöÁü•„ÄÇ Ê∏ÖÂçï3 accessor ÊñπÊ≥ïÂÆûÁé∞ÊâãÂä®ÈÄöÁü•ÁöÑ‰æãÂ≠ê - (void)setOpeningBalance:(double)theBalance { [self willChangeValueForKey:@"openingBalance"]; _openingBalance = theBalance; [self didChangeValueForKey:@"openingBalance"]; } You can minimize sending unnecessary notifications by first checking if the value has changed. The example in Listing 4 tests the value of openingBalance and only provides the notification if it has changed. Listing 4 Testing the value for change before providing notification ‰Ω†ÂèØ‰ª•ÂÖàÊ£ÄÊü•ÂÄºÊòØÂê¶ÊîπÂèòÔºåÊù•Â∞Ü‰∏çÂøÖË¶ÅÂèëÈÄÅÁöÑÈÄöÁü•ÊúÄÂ∞èÂåñ„ÄÇÊ∏ÖÂçï3ÁöÑ‰æãÂ≠êÊµãËØï‰∫Ü openingBalance ÁöÑÂÄºÔºåÂπ∂‰∏îÂè™Êèê‰æõ‰∫ÜÂ¶ÇÊûúÂÆÉÊîπÂèòÁöÑÈÄöÁü•„ÄÇ Ê∏ÖÂçï4 Âú®ÈÄöÁü•‰πãÂâçÊµãËØïÂÄºÂæóÂèòÂåñ - (void)setOpeningBalance:(double)theBalance { if (theBalance != _openingBalance) { [self willChangeValueForKey:@&quot;openingBalance&quot;]; _openingBalance = theBalance; [self didChangeValueForKey:@&quot;openingBalance&quot;]; } } If a single operation causes multiple keys to change you must nest the change notifications as shown in Listing 5. Listing 5 Nesting change notifications for multiple keys Â¶ÇÊûú‰∏Ä‰∏™Êìç‰ΩúÂØºËá¥Â§ö‰∏™ key ÁöÑÂèòÂåñÔºå‰Ω†ÂøÖÈ°ªÂÉèÊ∏ÖÂçï5 ‰∏ÄÊ†∑Â∞ÜÂèòÂåñÈÄöÁü•ËøõË°åÂµåÂ•ó„ÄÇ Ê∏ÖÂçï5 ÂØπÂ§ö‰∏™ key Â∞ÜÂèòÂåñÈÄöÁü•ÂµåÂ•ó - (void)setOpeningBalance:(double)theBalance { [self willChangeValueForKey:@&quot;openingBalance&quot;]; [self willChangeValueForKey:@&quot;itemChanged&quot;]; _openingBalance = theBalance; _itemChanged = _itemChanged+1; [self didChangeValueForKey:@&quot;itemChanged&quot;]; [self didChangeValueForKey:@&quot;openingBalance&quot;]; } In the case of an ordered to-many relationship, you must specify not only the key that changed, but also the type of change and the indexes of the objects involved. The type of change is an NSKeyValueChange that specifies NSKeyValueChangeInsertion, NSKeyValueChangeRemoval, or NSKeyValueChangeReplacement. The indexes of the affected objects are passed as an NSIndexSet object. The code fragment in Listing 6 demonstrates how to wrap a deletion of objects in the to-many relationship transactions. Listing 6 Implementation of manual observer notification in a to-many relationship Âú®ÊúâÂ∫èÔºå‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÁöÑÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂøÖÈ°ªÊåáÂá∫‰∏ç‰ªÖ key ÂèëÁîü‰∫ÜÂèòÂåñÔºåËøòË¶ÅÊåáÂá∫ÂèòÂåñÁöÑÁ±ªÂûã‰ª•ÂèäË¢´Ë∞ÉÁî®ÂØπË±°ÁöÑ‰∏ãÊ†á„ÄÇÂèòÊç¢ÁöÑÁ±ªÂûãÊòØ NSKeyValueChange ÔºåÂèØ‰ª•ÊåáÂÆö NSKeyValueChangeInsertionÔºåNSKeyValueChangeRemovalÊàñËÄÖ NSKeyValueChangeReplacement „ÄÇÂèóÂΩ±ÂìçÂØπË±°ÁöÑÁ¥¢Âºï‰Ωú‰∏∫ NSIndexSet ÂØπË±°Ë¢´‰º†ÈÄí„ÄÇ Ê∏ÖÂçï6 ‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÁöÑÊâãÂä®ËßÇÂØüÈÄöÁü•ÁöÑÂÆûÁé∞ - (void)removeTransactionsAtIndexes:(NSIndexSet *)indexes { [self willChange:NSKeyValueChangeRemoval valuesAtIndexes:indexes forKey:@&quot;transactions&quot;]; // Remove the transaction objects at the specified indexes. [self didChange:NSKeyValueChangeRemoval valuesAtIndexes:indexes forKey:@&quot;transactions&quot;]; } 4 Registering Dependent Keys - Ê≥®ÂÜåÁõ∏ÂÖ≥ keyThere are many situations in which the value of one property depends on that of one or more other attributes in another object. If the value of one attribute changes, then the value of the derived property should also be flagged for change. How you ensure that key-value observing notifications are posted for these dependent properties depends on the cardinality of the relationship. ‰∏Ä‰∏™Â±ûÊÄßÁöÑÂÄºÂèñÂÜ≥‰∫é‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™ÂÖ∂‰ªñÂØπË±°ÁöÑÂ±ûÊÄßÔºåÊúâÂæàÂ§öÁßçÊÉÖÂÜµ„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™Â±ûÊÄßÂèòÂåñÔºåÈÇ£‰πàÊ¥æÁîüÂ±ûÊÄß‰πüÂ∫îËØ•Ë¢´Ê†áËÆ∞ÊîπÂèò„ÄÇÂØπ‰∫éËøô‰∫õÁõ∏ÂÖ≥Â±ûÊÄß‰æùËµñ‰∫éÂÖ≥Á≥ªÁöÑÂü∫Êï∞Ôºå‰Ω†Â¶ÇÊûúÁ°Æ‰øùÈÄöÁü•Ë¢´ÂèëÂá∫„ÄÇ 4.1 To-one Relationships - ‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ªTo trigger notifications automatically for a to-one relationship you should either override keyPathsForValuesAffectingValueForKey: or implement a suitable method that follows the pattern it defines for registering dependent keys. For example, the full name of a person is dependent on both the first and last names. A method that returns the full name could be written as follows: ÂØπ‰∫é‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ªÔºå‰∏∫‰∫ÜËá™Âä®Ëß¶ÂèëÈÄöÁü•Ôºå‰Ω†Â∫îËØ•ÈáçÂÜô keyPathsForValuesAffectingValueForKey: ÊñπÊ≥ïÔºåÊàñËÄÖÂÆûÁé∞‰∏Ä‰∏™ÂêàÈÄÇÁöÑÊñπÊ≥ïÔºåÈÅµÂæ™‰∏ÄÁßçÊ®°ÂºèÔºåÂÆÉÂÆö‰πâÂèñÂÜ≥‰∫éÊ≥®ÂÜåÁõ∏ÂÖ≥ÁöÑkey„ÄÇ ‰æãÂ¶ÇÔºå‰∏Ä‰∏™‰∫∫ÁöÑÂÖ®Âêç‰æùËµñ‰∫é‰∫∫ÁöÑÂßìÂíåÂêç„ÄÇ‰∏Ä‰∏™ËøîÂõûÂÖ®ÂêçÁöÑÊñπÊ≥ïÂèØ‰ª•ÂÜôÊàê‰∏ãÈù¢ÂΩ¢ÂºèÔºö - (NSString *)fullName { return [NSString stringWithFormat:@"%@ %@",firstName, lastName]; } An application observing the fullName property must be notified when either the firstName or lastName properties change, as they affect the value of the property. One solution is to override keyPathsForValuesAffectingValueForKey: specifying that the fullName property of a person is dependent on the lastName and firstName properties. Listing 1 shows an example implementation of such a dependency: Listing 1 Example implementation of keyPathsForValuesAffectingValueForKey: Â∫îÁî®ËßÇÂØü fullName Â±ûÊÄßÔºåÂøÖÈ°ªÊ≥®ÊÑèÂà∞ÂΩì firstName ÊàñËÄÖ lastName Â±ûÊÄßÂèòÂåñÊó∂Ôºå‰ºöÂΩ±ÂìçÂà∞ fullNameÂ±ûÊÄßÁöÑÂÄº„ÄÇ ‰∏ÄÁßçËß£ÂÜ≥ÊñπÊ≥ïÊòØÈáçÂÜô keyPathsForValuesAffectingValueForKey: ÔºåÊåáÂÆö‰∫∫ÁöÑ fullName Â±ûÊÄß‰æùËµñ‰∫é lastName Âíå firstName Â±ûÊÄß„ÄÇÊ∏ÖÂçï1 Â±ïÁ§∫‰∫ÜËøôÊ†∑‰∏Ä‰∏™‰æãÂ≠êÔºö Ê∏ÖÂçï1 keyPathsForValuesAffectingValueForKey: ÁöÑÂÆûÁé∞‰æãÂ≠ê + (NSSet *)keyPathsForValuesAffectingValueForKey:(NSString *)key { NSSet *keyPaths = [super keyPathsForValuesAffectingValueForKey:key]; if ([key isEqualToString:@"fullName"]) { NSArray *affectingKeys = @[@"lastName", @"firstName"]; keyPaths = [keyPaths setByAddingObjectsFromArray:affectingKeys]; } return keyPaths; } Your override should typically invoke super and return a set that includes any members in the set that result from doing that (so as not to interfere with overrides of this method in superclasses). You can also achieve the same result by implementing a class method that follows the naming convention keyPathsForValuesAffecting, where is the name of the attribute (first letter capitalized) that is dependent on the values. Using this pattern the code in Listing 1 could be rewritten as a class method named keyPathsForValuesAffectingFullName as shown in Listing 2. Listing 2 Example implementation of the keyPathsForValuesAffecting naming convention ÈáçÂÜôÔºåÈÄöÂ∏∏Â∫îËØ•Ë∞ÉÁî® super ÔºåÂπ∂‰∏îËøîÂõû‰∏Ä‰∏™ set ÔºåÂåÖÊã¨ËøôÊ†∑ÂÅöÁöÑÂØºËá¥ÁªìÊûúÁöÑ‰ªª‰ΩïÊàêÂëò„ÄÇÔºàÂú®Áà∂Á±ª‰∏≠‰∏çË¶ÅÂõ†‰∏∫Ëøô‰∏™ÊñπÊ≥ïÁöÑÈáçÂÜôÈÄ†ÊàêÂπ≤Êâ∞Ôºâ„ÄÇ ‰Ω†‰πüÂèØ‰ª•ÈÄöËøáÂÆûÁé∞‰∏Ä‰∏™Á±ªÊñπÊ≥ïËææÂà∞ÂêåÊ†∑ÁöÑÁªìÊûúÔºåÈÅµÂæ™ÂëΩÂêçÁ∫¶ÂÆö keyPathsForValuesAffectingÔºå ÊòØÂ±ûÊÄßÂêçÔºàÈ¶ñÂ≠óÊØçÂ§ßÂÜôÔºâÔºå‰æùËµñ‰∫éÂÄº„ÄÇÊ∏ÖÂçï1‰∏≠‰ΩøÁî®ËøôÁßçÊ®°ÂºèÁöÑ‰ª£Á†ÅÔºåÂèØ‰ª•ÂÉèÂú®Ê∏ÖÂçï2‰∏≠Ë¢´ÈáçÂÜô‰∏∫‰∏Ä‰∏™Á±ªÊñπÊ≥ï keyPathsForValuesAffectingFullName „ÄÇ Ê∏ÖÂçï2 keyPathsForValuesAffecting ÂëΩÂêçÁ∫¶ÂÆöÁöÑÂÆûÁé∞‰æãÂ≠ê + (NSSet *)keyPathsForValuesAffectingFullName { return [NSSet setWithObjects:@&quot;lastName&quot;, @&quot;firstName&quot;, nil]; } You can‚Äôt override the keyPathsForValuesAffectingValueForKey: method when you add a computed property to an existing class using a category, because you‚Äôre not supposed to override methods in categories. In that case, implement a matching keyPathsForValuesAffecting class method to take advantage of this mechanism. Note: You cannot set up dependencies on to-many relationships by implementing keyPathsForValuesAffectingValueForKey:. Instead, you must observe the appropriate attribute of each of the objects in the to-many collection and respond to changes in their values by updating the dependent key yourself. The following section shows a strategy for dealing with this situation. ÂΩì‰Ω†‰ΩøÁî®‰∏Ä‰∏™ category Áªô‰∏Ä‰∏™Áé∞ÊúâÁöÑÁ±ªÊ∑ªÂä†‰∏Ä‰∏™ËÆ°ÁÆóÂ±ûÊÄßÁöÑÊó∂ÂÄôÔºå‰Ω†‰∏çËÉΩÈáçÂÜô keyPathsForValuesAffectingValueForKey: ÊñπÊ≥ïÔºåÂõ†‰∏∫‰∏çÂÖÅËÆ∏ÈáçÂÜôÂàÜÁ±ªÔºàcategoriesÔºâ‰∏≠ÁöÑÊñπÊ≥ï„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂÆûÁé∞‰∏Ä‰∏™ÂåπÈÖçÁöÑ keyPathsForValuesAffecting&lt;Key&gt; Á±ªÊñπÊ≥ïÔºå‰ΩìÁé∞‰∫ÜËøôÁßçÊú∫Âà∂ÁöÑ‰ºòÂäø„ÄÇ Ê≥®ÊÑèÔºö‰Ω†‰∏çËÉΩÈÄöËøáÂÆûÁé∞ keyPathsForValuesAffectingValueForKey: ÊñπÊ≥ïÂª∫Á´ã‰æùËµñ‰∫é‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ª„ÄÇÁõ∏ÂèçÔºå‰Ω†ÂøÖÈ°ªËßÇÂØü‰∏ÄÂØπÂ§öÈõÜÂêà‰∏≠ÂØπË±°ÁöÑÊØè‰∏™ÂìçÂ∫îÂ±ûÊÄßÔºåÂπ∂ÈÄöËøáÊõ¥Êñ∞Ëá™Â∑±‰æùËµñÁöÑ key Êù•ÂìçÂ∫îÂÆÉ‰ª¨ÂÄºÁöÑÂèòÂåñ„ÄÇ‰∏ãÈù¢‰∏ÄËäÇËÆ≤‰∫ÜÂ§ÑÁêÜËøôÁßçÊÉÖÂÜµÁöÑ‰∏ÄÁßçÁ≠ñÁï•„ÄÇ 4.2 To-many Relationships - ‰∏ÄÂØπÂ§öÂÖ≥Á≥ªThe keyPathsForValuesAffectingValueForKey: method does not support key-paths that include a to-many relationship. For example, suppose you have a Department object with a to-many relationship (employees) to a Employee, and Employee has a salary attribute. You might want the Department object have a totalSalary attribute that is dependent upon the salaries of all the Employees in the relationship. You can not do this with, for example, keyPathsForValuesAffectingTotalSalary and returning employees.salary as a key. There are two possible solutions in both situations: 1.You can use key-value observing to register the parent (in this example, Department) as an observer of the relevant attribute of all the children (Employees in this example). You must add and remove the parent as an observer as child objects are added to and removed from the relationship (see Registering for Key-Value Observing). In the observeValueForKeyPath:ofObject:change:context: method you update the dependent value in response to changes, as illustrated in the following code fragment: keyPathsForValuesAffectingValueForKey: ÊñπÊ≥ï‰∏çÊîØÊåÅÂåÖÂê´‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÁöÑ key-path„ÄÇ‰æãÂ¶ÇÔºåDepartment ÂØπË±°Êúâ‰∏Ä‰∏™‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ª ÂØπ‰∫é EmployeeÔºåEmployee Êúâ salary Â±ûÊÄß„ÄÇ‰Ω†Â∏åÊúõ Department ÂØπË±°Êúâ‰∏Ä‰∏™ totalSalary Â±ûÊÄßÔºåËøô‰∏™Â±ûÊÄß‰æùËµñ‰∫éÊâÄÊúâ Employees„ÄÇ‰Ω†‰∏çËÉΩÂÉè‰∏ãÈù¢ËøôÊ†∑ÔºåkeyPathsForValuesAffectingTotalSalary Âπ∂‰∏îÂ∞Ü employees.salary ‰Ωú‰∏∫‰∏Ä‰∏™ key ËøîÂõû„ÄÇ Âú®‰∏§ÁßçÊÉÖÂÜµ‰∏≠Êúâ‰∏§‰∏™ÂèØËÉΩÁöÑËß£ÂÜ≥ÊñπÊ≥ïÔºö 1.ÂèØ‰ª•‰ΩøÁî®ÈîÆÂÄºËßÇÂØüÊ≥®ÂÜå parent(‰æãÂ≠ê‰∏≠Â∞±ÊòØ Department) ‰Ωú‰∏∫ÊâÄÊúâ childrenÔºàEmployeesÔºâ Áõ∏ÂÖ≥Â±ûÊÄßÁöÑËßÇÂØüËÄÖ„ÄÇ‰Ω†ÂøÖÈ°ªÊ∑ªÂä†ÂíåÁßªÈô§ parent „ÄÇÂú® observeValueForKeyPath:ofObject:change:context: ÊñπÊ≥ï‰∏≠ÔºåÂú®ÂìçÂ∫îÂèòÂåñ‰∏≠Êõ¥Êñ∞Áõ∏ÂÖ≥ÁöÑÂÄºÔºåÂ∞±ÂÉè‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊâÄÁ§∫Ôºö - (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context { if (context == totalSalaryContext) { [self updateTotalSalary]; } else // deal with other observations and/or invoke super... } - (void)updateTotalSalary { [self setTotalSalary:[self valueForKeyPath:@&quot;employees.@sum.salary&quot;]]; } - (void)setTotalSalary:(NSNumber *)newTotalSalary { if (totalSalary != newTotalSalary) { [self willChangeValueForKey:@&quot;totalSalary&quot;]; _totalSalary = newTotalSalary; [self didChangeValueForKey:@&quot;totalSalary&quot;]; } } - (NSNumber *)totalSalary { return _totalSalary; } 2.If you‚Äôre using Core Data, you can register the parent with the application‚Äôs notification center as an observer of its managed object context. The parent should respond to relevant change notifications posted by the children in a manner similar to that for key-value observing. 2.Â¶ÇÊûú‰ΩøÁî®Core DataÔºå‰Ω†ÂèØ‰ª•Âú®Â∫îÁî®Á®ãÂ∫èÁöÑÈÄöÁü•‰∏≠ÂøÉÊ≥®ÂÜå parent ‰Ωú‰∏∫ÂÆÉÁÆ°ÁêÜÁöÑÂØπË±° context ÁöÑËßÇÂØüËÄÖ„ÄÇparent Â∫îËØ•ÂìçÂ∫î ‰∏éÈîÆÂÄºËßÇÂØüÁ±ª‰ººÊñπÂºèË¢´ children ÂèëÂá∫ÁöÑÁöÑÂèòÂåñÈÄöÁü•„ÄÇ 4.3 Key-Value Observing Implementation Details - ÈîÆÂÄºËßÇÂØüÂÆûÁé∞ÁªÜËäÇAutomatic key-value observing is implemented using a technique called isa-swizzling. The isa pointer, as the name suggests, points to the object‚Äôs class which maintains a dispatch table. This dispatch table essentially contains pointers to the methods the class implements, among other data. When an observer is registered for an attribute of an object the isa pointer of the observed object is modified, pointing to an intermediate class rather than at the true class. As a result the value of the isa pointer does not necessarily reflect the actual class of the instance. You should never rely on the isa pointer to determine class membership. Instead, you should use the class method to determine the class of an object instance. Ëá™Âä®ÈîÆÂÄºËßÇÂØüÊòØ‰ΩøÁî®‰∏ÄÁßçÁß∞‰∏∫ isa-swizzling ÁöÑÊäÄÊúØÂÆûÁé∞„ÄÇ isa ÊåáÈíàÔºåÈ°æÂêçÊÄù‰πâÔºåÂè™ÊÉ≥‰∏Ä‰∏™ÂØπË±°ÁöÑÁ±ªÔºåÁª¥ÊåÅ‰∏Ä‰∏™Ë∞ÉÂ∫¶Ë°®„ÄÇËøô‰∏™Ë∞ÉÂ∫¶Ë°®Âü∫Êú¨‰∏äÂåÖÂê´ÊåáÂêëÁ±ªÁöÑÊñπÊ≥ïÂÆûÁé∞‰ª•ÂèäÂÖ∂‰ªñÊï∞ÊçÆÁöÑÊåáÈíà„ÄÇ ÂΩì‰∏Ä‰∏™ËßÇÂØüËÄÖË¢´Ê≥®ÂÜåÔºåË¢´ËßÇÂØüËÄÖÂØπË±°ÁöÑ isa ÊåáÈíàÊâÄÊåáÁöÑÂØπË±°ÁöÑÂ±ûÊÄßË¢´‰øÆÊîπÔºåÊåáÁöÑÊòØ‰∏Ä‰∏™‰∏≠Èó¥ÁöÑÁ±ªËÄå‰∏çÊòØÁúüÊ≠£ÁöÑÁ±ª„ÄÇÁªìÊûúÂ∞±ÊòØ isa ÊåáÈíàÁöÑÂÄºÂπ∂‰∏ç‰∏ÄÂÆöÂèçÊò†ÂÆûÈôÖÁ±ªÁöÑÂÆû‰æã„ÄÇ ‰Ω†Â∫îËØ•Ê∞∏Ëøú‰∏çË¶Å‰æùÈù† isa ÊåáÈíàÊù•Á°ÆÂÆöÁ±ªÊàêÂëòËµÑÊ†º„ÄÇÁõ∏ÂèçÔºå‰Ω†Â∫îËØ•‰ΩøÁî® class ÊñπÊ≥ïÊù•Á°ÆÂÆöÂØπË±°ÂÆû‰æãÁöÑÁ±ª„ÄÇ ËãπÊûúÂÆòÊñπÊñáÊ°£Âú∞ÂùÄÔºöKey-Value Observing Programming Guide Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVCÂÆòÊñπÊñáÊ°£-ÈîÆÂÄºÁºñÁ†ÅÊåáÂçóÁ¨¨‰∫åÈÉ®ÂàÜ6]]></title>
    <url>%2F2018%2F09%2F18%2FKVC%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-%E9%94%AE%E5%80%BC%E7%BC%96%E7%A0%81%E6%8C%87%E5%8D%97%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%866%2F</url>
    <content type="text"><![CDATA[Key-Value Coding Programming Guide ÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨6ËäÇ2018.9.20 Á¨¨‰∏ÄÊ¨°‰øÆÊ≠£ iOS-KVCÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨6ËäÇ Key-Value Coding Fundamatals‚ÄìAccessor Search Patterns##ËÆøÈóÆÂô®ÊêúÁ¥¢ÊñπÂºè NSObjectÈªòËÆ§ÂÆûÁé∞NSKeyValueCodingÂçèËÆÆÊèê‰æõÁöÑÂü∫‰∫éÈîÆÁöÑËÆøÈóÆÂô®Ôºå‰ΩøÁî®‰∏ÄÁªÑÊòéÁ°ÆÂÆö‰πâÁöÑËßÑÂàôÊù•Ë∞ÉÁî®ÂØπË±°ÁöÑÂü∫Á°ÄÂ±ûÊÄß„ÄÇËøô‰∫õÂçèËÆÆÊñπÊ≥ï‰ΩøÁî®ÈîÆÂèÇÊï∞Âú®ÂÖ∂Ëá™Â∑±ÁöÑÂØπË±°ÂÆû‰æã‰∏≠ÊêúÁ¥¢ËÆøÈóÆÂô®ÔºåÂÆû‰æãÂèòÈáè‰ª•ÂèäÈÅµÂæ™Êüê‰∫õÂëΩÂêçÁ∫¶ÂÆöÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï„ÄÇÂ∞ΩÁÆ°ÊÇ®ÂæàÂ∞ë‰øÆÊîπÊ≠§ÈªòËÆ§ÊêúÁ¥¢Ôºå ‰ΩÜ‰∫ÜËß£ÂÆÉÁöÑÂ∑•‰ΩúÊñπÂºè‰ºöÊúâÊâÄÂ∏ÆÂä©ÔºåÂØπ‰∫éË∑üË∏™ÈîÆÂÄºÁºñÁ†ÅÂØπË±°ÁöÑË°å‰∏∫Ôºå‰πüÂèØ‰ª•‰ΩøÊÇ®Ëá™Â∑±ÁöÑÂØπË±°ÂÖºÂÆπ„ÄÇ Ê≥®ÊÑèÊú¨ËäÇ‰∏≠ÁöÑÊèèËø∞‰ΩøÁî®&lt;key&gt;Êàñ&lt;Key&gt;‰Ωú‰∏∫ÈîÆÂ≠óÁ¨¶‰∏≤ÁöÑÂç†‰ΩçÁ¨¶ÔºåËØ•ÈîÆÂ≠óÁ¨¶‰∏≤Âú®‰∏Ä‰∏™ÈîÆÂÄºÁºñÁ†ÅÂçèËÆÆÊñπÊ≥ï‰∏≠‰Ωú‰∏∫ÂèÇÊï∞Âá∫Áé∞ÔºåÁÑ∂ÂêéËØ•ÊñπÊ≥ïÂ∞ÜËØ•ÈîÆÂ≠óÁ¨¶‰∏≤Áî®‰ΩúÈó¥Êé•ÊñπÊ≥ïË∞ÉÁî®ÊàñÂèòÈáèÂêçÁß∞Êü•ÊâæÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÊò†Â∞ÑÁöÑÂ±ûÊÄßÂêçÁß∞ÈÅµÂæ™Âç†‰ΩçÁ¨¶Â§ßÂ∞èÂÜôÁöÑÊÉÖÂÜµ„ÄÇ‰æãÂ¶ÇÔºåÂØπ‰∫égetter&lt;key&gt;Âíåis&lt;KEY &gt;ÔºåÂêç‰∏∫ hidden ÁöÑÂ±ûÊÄßÊò†Â∞Ñ‰∏∫hiddenÂíåisHidden .„ÄÇ Âü∫Êú¨ÁöÑGetterÊêúÁ¥¢Ê®°ÂºèvalueForKeyÔºöÁöÑÈªòËÆ§ÂÆûÁé∞ÔºåÁªôÂÆö‰∏Ä‰∏™keyÂèÇÊï∞‰Ωú‰∏∫ËæìÂÖ•ÔºåÂú®Êé•Êî∂valueForKeyÔºöË∞ÉÁî®ÁöÑÁ±ªÂÆû‰æã‰∏≠Êìç‰ΩúÔºåÊâßË°å‰ª•‰∏ãËøáÁ®ã„ÄÇ 1.ÊêúÁ¥¢ÂÆû‰æã‰∏éÂêçÁß∞ÔºåÊåâÁÖßËØ•È°∫Â∫èÔºåÊêúÁ¥¢ÊâæÂà∞ÁöÑÂêçÁß∞‰∏∫get&lt;Key&gt;„ÄÅ&lt;key&gt;„ÄÅis&lt;Key&gt;Êàñ&lt;key&gt;ÁöÑÁ¨¨‰∏Ä‰∏™ËÆøÈóÆÂô®ÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÊâæÂà∞ÔºåË∞ÉÁî®ÂÆÉÂπ∂ÁªßÁª≠Âà∞Ê≠•È™§5„ÄÇÂê¶ÂàôËØ∑ÁªßÁª≠ÊâßË°å‰∏ã‰∏ÄÊ≠•„ÄÇ 2.Â¶ÇÊûúÊâæ‰∏çÂà∞ÁÆÄÂçïÂèñÂÄºÊñπÊ≥ï, ÂàôÂú®ÂÆû‰æã‰∏≠ÊêúÁ¥¢ÂÖ∂ÊñπÊ≥ïÂêçÂΩ¢Â¶Ç countOf&lt;Key&gt;ÂíåobjectIn&lt;Key&gt;AtIndex: ÔºàÁõ∏ÂΩì‰∫éNSArrayÁ±ª‰∏≠ÂÆö‰πâÁöÑÂü∫Êú¨ÊñπÊ≥ïÔºâÂíå&lt;key&gt;AtIndexes:ÔºàÁõ∏ÂΩì‰∫éNSArrayÁ±ª‰∏≠ÁöÑobjectsAtIndexes:ÊñπÊ≥ïÔºâÁöÑÊñπÊ≥ï„ÄÇ Â¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÊñπÊ≥ïÂíåÂêéËæπ‰∏§‰∏™ÊñπÊ≥ï‰∏≠ÁöÑËá≥Â∞ë‰∏Ä‰∏™ÊñπÊ≥ïË¢´ÂÆûÁé∞‰∫Ü, ÂàôÂàõÂª∫‰∏Ä‰∏™ËÉΩÂ§üÂìçÂ∫îÊâÄÊúâNSArrayÊñπÊ≥ïÂπ∂ËøîÂõûËØ•ÊñπÊ≥ïÁöÑÈõÜÂêà‰ª£ÁêÜÂØπË±°„ÄÇÂê¶Âàô, ÁªßÁª≠ÊâßË°åÊ≠•È™§3„ÄÇ ‰ª£ÁêÜÂØπË±°ÈöèÂêéÂ∞ÜÂÆÉÊé•Êî∂ÁöÑ‰ªª‰ΩïNSArrayÊ∂àÊÅØËΩ¨Êç¢‰∏∫countOf &lt;Key&gt;ÔºåobjectIn &lt;Key&gt; AtIndexÔºöÂíå&lt;key&gt; AtIndexesÔºöÁöÑÊ∂àÊÅØÔºåÂπ∂Â∞ÜÂÖ∂ÂèëÈÄÅÁªôÂàõÂª∫ÂÆÉÁöÑÈîÆÂÄºÁºñÁ†ÅÂÖºÂÆπÂØπË±°„ÄÇÂ¶ÇÊûúÂéüÂßãÂØπË±°ËøòÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Âêç‰∏∫get &lt;Key&gt;ÔºörangeÔºöÁöÑÂèØÈÄâÊñπÊ≥ïÔºåÂàô‰ª£ÁêÜÂØπË±°‰πü‰ºöÂú®ÈÄÇÂΩìÊó∂‰ΩøÁî®ËØ•ÊñπÊ≥ï„ÄÇÂÆûÈôÖ‰∏äÔºå‰∏éÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°‰∏ÄËµ∑Â∑•‰ΩúÁöÑ‰ª£ÁêÜÂØπË±°ÂÖÅËÆ∏Â∫ïÂ±ÇÂ±ûÊÄßÁöÑË°å‰∏∫Â∞±ÂÉèÂÆÉÊòØ‰∏ÄÊ†∑NSArrayÔºåÂç≥‰ΩøÂÆÉ‰∏çÊòØ„ÄÇ 3.Â¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÁÆÄÂçïÁöÑËÆøÈóÆÂô®ÊñπÊ≥ïÊàñÊï∞ÁªÑËÆøÈóÆÊñπÊ≥ïÁªÑÔºåËØ∑Êü•ÊâæÂêç‰∏∫countOf &lt;Key&gt;ÔºåenumeratorOf &lt;Key&gt;ÂíåmemberOf &lt;Key&gt;ÔºöÁöÑÊñπÊ≥ïÁöÑ‰∏â‰∏™ÊñπÊ≥ïÔºàÂØπÂ∫î‰∫éNSSetÁ±ªÂÆö‰πâÁöÑÂéüÂßãÊñπÊ≥ïÔºâ„ÄÇ Â¶ÇÊûúÊâæÂà∞ÊâÄÊúâ‰∏â‰∏™ÊñπÊ≥ïÔºåËØ∑ÂàõÂª∫‰∏Ä‰∏™ÂìçÂ∫îÊâÄÊúâNSSetÊñπÊ≥ïÂπ∂ËøîÂõûËØ•ÊñπÊ≥ïÁöÑÈõÜÂêà‰ª£ÁêÜÂØπË±°„ÄÇ Âê¶ÂàôÔºåËØ∑ÁªßÁª≠ÊâßË°åÊ≠•È™§4„ÄÇ Ëøô‰∏™‰ª£ÁêÜÂØπË±°ÈöèÂêéÂ∞ÜÂÆÉÊé•Êî∂ÁöÑ‰ªª‰ΩïNSSetÊ∂àÊÅØËΩ¨Êç¢‰∏∫count Of &lt;Key&gt;Ôºåenumeration of &lt;Key&gt;Âíåmember Of &lt;Key&gt;ÔºöÊ∂àÊÅØÂà∞ÂàõÂª∫ÂÆÉÁöÑÂØπË±°„ÄÇÂÆûÈôÖ‰∏äÔºå‰∏éÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°‰∏ÄËµ∑Â∑•‰ΩúÁöÑ‰ª£ÁêÜÂØπË±°ÂÖÅËÆ∏Â∫ïÂ±ÇÂ±ûÊÄßÁöÑË°å‰∏∫Â∞±ÂÉèÂÆÉÊòØ‰∏ÄÊ†∑NSSetÔºåÂç≥‰ΩøÂÆÉ‰∏çÊòØ„ÄÇ 4.Â¶ÇÊûúÊâæ‰∏çÂà∞ÁÆÄÂçïËÆøÈóÆÂô®ÊñπÊ≥ïÊàñÈõÜÂêàËÆøÈóÆÊñπÊ≥ïÁªÑ, Âπ∂‰∏îÊ∂àÊÅØÊé•Êî∂ËÄÖÁöÑÁ±ªÊñπÊ≥ïaccessInstanceVariablesDirectlyËøîÂõûYES, ÂàôÁ≥ªÁªüÊåâ‰ª•‰∏ãÈ°∫Â∫èÊêúÁ¥¢Âêç‰∏∫:_&lt;key&gt;„ÄÅ _is&lt;Key&gt;„ÄÅ &lt;key&gt;Êàñis&lt;Key&gt;ÁöÑÂÆû‰æãÂèòÈáè„ÄÇÂ¶ÇÊûúÊâæÂà∞, ÂàôÁõ¥Êé•Ëé∑ÂèñÂÆû‰æãÂèòÈáèÁöÑÂÄº, ÁÑ∂ÂêéÁªßÁª≠ÊâßË°åÊ≠•È™§5„ÄÇÂê¶Âàô, ÁªßÁª≠Ë∑≥ËΩ¨Âà∞Ê≠•È™§6„ÄÇ 5.Â¶ÇÊûúËé∑ÂèñÂà∞ÁöÑÂ±ûÊÄßÂÄºÊòØÂØπË±°ÊåáÈíà,Âç≥Ëé∑ÂèñÁöÑÊòØÂØπË±°, ÂàôÁõ¥Êé•Â∞ÜÂØπË±°ËøîÂõû„ÄÇ Â¶ÇÊûúËé∑ÂèñÂà∞ÁöÑÂ±ûÊÄßÂÄºÊòØNSNumberÊîØÊåÅÁöÑÊï∞ÊçÆÁ±ªÂûã, ÂàôÂ∞ÜÂÖ∂Â≠òÂÇ®Âú®NSNumberÂÆû‰æãÂπ∂ËøîÂõû„ÄÇÂ¶ÇÊûúËé∑ÂèñÂà∞ÁöÑÂ±ûÊÄßÂÄº‰∏çÊòØ NSNumber ÊîØÊåÅÁöÑÁ±ªÂûã, ÂàôËΩ¨Êç¢‰∏∫NSValueÂØπË±°, ÁÑ∂ÂêéËøîÂõû„ÄÇ 6.Â¶ÇÊûú‰∏äËø∞ÊâÄÊúâÊñπÊ≥ïÈÉΩÊ≤°ÊúâÊâßË°åÔºåÂàôË∞ÉÁî®valueForUndefinedKeyÔºö„ÄÇ ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËøô‰ºöÂºïÂèëÂºÇÂ∏∏Ôºå‰ΩÜNSObjectÁöÑÂ≠êÁ±ªÂèØ‰ª•ÈÄöËøáÈáçËΩΩÂπ∂Ê†πÊçÆÁâπÂÆökeyÂÅö‰∏Ä‰∫õÁâπÊÆäÂ§ÑÁêÜ„ÄÇ Âü∫Êú¨ÁöÑSetterÊêúÁ¥¢ÊñπÂºèsetValue:forKey:ÁöÑÈªòËÆ§ÂÆûÁé∞, ÁªôÂÆökeyÂíåvalueÂèÇÊï∞‰Ωú‰∏∫ËæìÂÖ•, Âú®Êé•Êî∂Ë∞ÉÁî®ÁöÑÂØπË±°ÂÜÖÂ∞ùËØïÂ∞ÜÂêç‰∏∫keyÁöÑÂ±ûÊÄßËÆæÁΩÆ‰∏∫value(ÊàñËÄÖ, ÂØπ‰∫éÈùûÂØπË±°Â±ûÊÄß, Âàô‰∏∫unwarp value, ËØ¶ËßÅRepresenting Non-Object Values), ‰ΩøÁî®‰ª•‰∏ãËøáÁ®ã: 1.ÊåâÁÖßÈ°∫Â∫èÊü•ÊâæÁ¨¨‰∏Ä‰∏™Âêç‰∏∫set&lt;Key&gt;:Êàñ_set&lt;Key&gt;ÁöÑÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÊâæÂà∞, ‰º†ÂÖ•ËæìÂÖ•ÂÄº (ÊàñÊ†πÊçÆÈúÄË¶ÅÂ±ïÂºÄÂÄº) Ë∞ÉÁî®ÂÆÉ, ÁÑ∂ÂêéÂÆåÊàê„ÄÇ 2.Â¶ÇÊûúÊâæ‰∏çÂà∞ÁÆÄÂçïËÆøÈóÆÂô®, Âπ∂‰∏îÁ±ªÊñπÊ≥ïaccessInstanceVariablesDirectlyËøîÂõûYES, ÂàôÊåâ‰ª•‰∏ãÈ°∫Â∫èÊü•ÊâæÂÆû‰æãÂèòÈáè: _&lt;key&gt;„ÄÅ _is&lt;Key&gt;„ÄÅ&lt;key&gt;„ÄÅis&lt;Key&gt; „ÄÇÂ¶ÇÊûúÊâæÂà∞, ÂàôÁõ¥Êé•‰ΩøÁî®ËæìÂÖ•ÂÄº (ÊàñÂ±ïÂºÄÂÄº) ËÆæÁΩÆÂèòÈáèÂπ∂ÂÆåÊàê„ÄÇ 3.Â¶ÇÊûúÊâæ‰∏çÂà∞‰ª•‰∏äÊñπÊ≥ïÊàñÂÆû‰æãÂèòÈáè, ÂàôË∞ÉÁî®setValue:forUndefinedKey:„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËøô‰ºöÂºïÂèëÂºÇÂ∏∏Ôºå‰ΩÜNSObjectÁöÑÂ≠êÁ±ªÂèØ‰ª•ÈÄöËøáÈáçËΩΩÂπ∂Ê†πÊçÆÁâπÂÆökeyÂÅö‰∏Ä‰∫õÁâπÊÆäÂ§ÑÁêÜ„ÄÇ ÂèØÂèòÊï∞ÁªÑÁöÑÊêúÁ¥¢ÊñπÂºèmutableArrayValueForKeyÔºöÁöÑÈªòËÆ§ÂÆûÁé∞ÔºåÁªôÂÆö‰∏Ä‰∏™keyÂèÇÊï∞‰Ωú‰∏∫ËæìÂÖ•Ôºå‰ΩøÁî®‰ª•‰∏ãËøáÁ®ã‰∏∫Êé•Êî∂ËÆøÈóÆËÄÖË∞ÉÁî®ÁöÑÂØπË±°ÂÜÖÁöÑ‰∏Ä‰∏™Âêç‰∏∫keyÁöÑÂ±ûÊÄßËøîÂõû‰∏Ä‰∏™ÂèØÂèò‰ª£ÁêÜÊï∞ÁªÑÔºö 1.Êü•Êâæ‰∏ÄÂØπÊñπÊ≥ï, Âêç‰∏∫insertObjectÔºöin &lt;Key&gt; AtIndexÔºöÂíåremoveObjectFrom &lt;Key&gt; AtIndexÔºöÁöÑÊñπÊ≥ïÔºàÂàÜÂà´ÂØπÂ∫î‰∫éNSMutableArrayÂéüÂßãÊñπÊ≥ïinsertObjectÔºöatIndexÔºöÂíåremoveObjectAtIndexÔºöÔºâ ÔºåÊàñËÄÖÂêçÁß∞Á±ª‰ºº‰∫éinsert &lt;Key&gt;ÔºöatIndexesÔºöÂíåremove &lt;Key&gt; AtIndexesÔºöÔºàÂØπÂ∫î‰∫éNSMutableArrayinsertObjectsÔºöatIndexesÔºöÂíåremoveObjectsAtIndexesÔºöÊñπÊ≥ïÔºâ„ÄÇ Â¶ÇÊûúÂØπË±°Ëá≥Â∞ëÂÆûÁé∞‰∏Ä‰∏™ÊèíÂÖ•ÊñπÊ≥ïÂíåËá≥Â∞ë‰∏Ä‰∏™Âà†Èô§ÊñπÊ≥ïÔºåÂàôËøîÂõû‰∏Ä‰∏™ÂìçÂ∫îNSMutableArrayÊ∂àÊÅØÁöÑ‰ª£ÁêÜÂØπË±°ÔºåÊñπÊ≥ïÊòØÂèëÈÄÅinsertObjectÔºöin &lt;Key&gt; AtIndexÔºöÔºåremoveObjectFrom &lt;Key&gt; AtIndexÔºöÔºåinsert &lt;Key&gt;ÔºöatIndexesÔºöÔºåÂíåremove &lt;Key&gt; AtIndexesÔºöÊ∂àÊÅØÂà∞mutableArrayValueForKeyÔºöÁöÑÂéüÂßãÊé•Êî∂ËÄÖ„ÄÇ ÂΩìÊé•Êî∂mutableArrayValueForKeyÔºöÊ∂àÊÅØÁöÑÂØπË±°‰πüÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÂèØÈÄâÁöÑÊõøÊç¢ÂØπË±°ÊñπÊ≥ïÔºåÂÖ∂ÂêçÁß∞Â¶ÇreplaceObjectIn &lt;Key&gt; AtIndexÔºöwithObjectÔºöÊàñreplace &lt;Key&gt; AtIndexesÔºöwith &lt;Key&gt;ÔºöÔºå‰ª£ÁêÜÂØπË±°Âú®ÈÄÇÂêàÊúÄ‰Ω≥ÊÄßËÉΩÊó∂‰ºöËá™Âä®Ë∞ÉÁî®ËØ•ÂèØÈÄâÊñπÊ≥ï„ÄÇ 2.Â¶ÇÊûúÂØπË±°Ê≤°ÊúâÂèØÂèòÊï∞ÁªÑÊñπÊ≥ïÔºåÂàôÊü•ÊâæÂêçÁß∞‰∏éÊ®°Âºèset &lt;Key&gt;ÔºöÂåπÈÖçÁöÑËÆøÈóÆÂô®ÊñπÊ≥ï„ÄÇ Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÈÄöËøáÂêëmutableArrayValueForKeyÔºöÁöÑÂéüÂßãÊé•Êî∂ËÄÖÂèëÂá∫set &lt;Key&gt;ÔºöÊ∂àÊÅØÔºåËøîÂõûÂìçÂ∫îNSMutableArrayÊ∂àÊÅØÁöÑ‰ª£ÁêÜÂØπË±°„ÄÇ Ê≥®ÊÑè:Ê≠§Ê≠•È™§‰∏≠ÊèèËø∞ÁöÑÊú∫Âà∂ÊØî‰∏ä‰∏ÄÊ≠•ÁöÑÊïàÁéáË¶Å‰ΩéÂæóÂ§ö, Âõ†‰∏∫ÂÆÉÂèØËÉΩÊ∂âÂèäÈáçÂ§çÂàõÂª∫Êñ∞ÁöÑÈõÜÂêàÂØπË±°, ËÄå‰∏çÊòØ‰øÆÊîπÁé∞ÊúâÁöÑ„ÄÇÂõ†Ê≠§, Âú®ËÆæËÆ°Ëá™Â∑±ÁöÑÈîÆÂÄºÁºñÁ†ÅÂÖºÂÆπÂØπË±°Êó∂, ÈÄöÂ∏∏Â∫îÈÅøÂÖçËøôÁßçÊÉÖÂÜµ„ÄÇ 3.Â¶ÇÊûúÊó¢Ê≤°ÊúâÊâæÂà∞ÂèØÂèòÊï∞ÁªÑÊñπÊ≥ïÔºå‰πüÊ≤°ÊúâÊâæÂà∞ËÆøÈóÆÂô®ÔºåÂπ∂‰∏îÊé•Êî∂ËÄÖÁöÑÁ±ªÂØπaccessInstanceVariablesDirectlyÂìçÂ∫î‚ÄôYESÔºåÂàôÊåâÁÖßÈ°∫Â∫èÊêúÁ¥¢Âêç‰∏∫_ Êàñ`ÁöÑÂÆû‰æãÂèòÈáè„ÄÇ Â¶ÇÊûúÊâæÂà∞ËøôÊ†∑ÁöÑÂÆû‰æãÂèòÈáèÔºåÂàôËøîÂõû‰∏Ä‰∏™‰ª£ÁêÜÂØπË±°ÔºåËØ•ÂØπË±°Â∞ÜÂÆÉÊé•Êî∂ÁöÑÊØè‰∏™NSMutableArrayÊ∂àÊÅØËΩ¨ÂèëÁªôÂÆû‰æãÂèòÈáèÁöÑÂÄºÔºåËØ•ÂÄºÈÄöÂ∏∏ÊòØNSMutableArrayÁöÑÂÆû‰æãÊàñÂÖ∂Â≠êÁ±ª‰πã‰∏Ä„ÄÇ 4.Â¶ÇÊûúÊâÄÊúâÂÖ∂‰ªñÊñπÊ≥ïÈÉΩÂ§±Ë¥•‰∫ÜÔºåÂè™Ë¶ÅÊî∂Âà∞NSMutableArrayÊ∂àÊÅØÔºåÂ∞±ËøîÂõû‰∏Ä‰∏™ÂèØÂèòÈõÜÂêà‰ª£ÁêÜÂØπË±°ÔºåËØ•ÂØπË±°ÂêëmutableArrayValueForKeyÔºöÊ∂àÊÅØÁöÑÂéüÂßãÊé•Êî∂ËÄÖÂèëÂá∫setValueÔºöforUndefinedKeyÔºöÊ∂àÊÅØ„ÄÇ setValue:forUndefinedKey:ÁöÑÈªòËÆ§ÂÆûÁé∞‰ºöÊäõÂá∫NSUndefinedKeyExceptionÂºÇÂ∏∏, ‰ΩÜÂ≠êÁ±ªÂèØËÉΩ‰ºöÈáçÂÜôÊ≠§Ë°å‰∏∫„ÄÇ ÂèØÂèòÊúâÂ∫èÈõÜÁöÑÊêúÁ¥¢ÊñπÂºèmutableOrderedSetValueForKeyÁöÑÈªòËÆ§ÂÆûÁé∞ÔºöÂ∞ÜÁõ∏ÂêåÁöÑÁÆÄÂçïËÆøÈóÆÂô®ÊñπÊ≥ïÂíåÊúâÂ∫èÈõÜËÆøÈóÆÂô®ÊñπÊ≥ïËØÜÂà´‰∏∫valueForKey :(ËØ∑ÂèÇÈòÖ Default Search Pattern for the Basic GetterÔºâÔºåÂπ∂ÈÅµÂæ™Áõ∏ÂêåÁöÑÁõ¥Êé•ËÆøÈóÆÂÆû‰æãÂèòÈáèÁ≠ñÁï•Ôºå‰ΩÜÂßãÁªàËøîÂõûÂèØÂèòÈõÜÂêà‰ª£ÁêÜÂØπË±° valueForKeyÔºöËøîÂõûÁöÑ‰∏çÂèØÂèòÈõÜÂêà„ÄÇ Ê≠§Â§ñÔºåÂÆÉËøòÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö 1.ÊêúÁ¥¢ÂêçÁß∞Á±ª‰ºº‰∫é‰ª•‰∏ãÂΩ¢ÂºèÁöÑÊñπÊ≥ï: insertObjectÔºöin &lt;Key&gt; AtIndexÔºöÂíåremoveObjectFrom &lt;Key&gt; AtIndexÔºöÔºàÂØπÂ∫î‰∫éNSMutableOrderedSetÁ±ªÂÆö‰πâÁöÑ‰∏§‰∏™ÊúÄÂéüÂßãÊñπÊ≥ïÔºâÔºå‰ª•Âèäinsert &lt;Key&gt;Ôºö atIndexesÔºöÂíåremove &lt;Key&gt; AtIndexesÔºöÔºàÂØπÂ∫î‰∫éinsertObjectsÔºöatIndexesÔºöÂíåremoveObjectsAtIndexesÔºöÔºâ„ÄÇ Â¶ÇÊûúÊâæÂà∞Ëá≥Â∞ë‰∏Ä‰∏™insertÊñπÊ≥ïÂíåËá≥Â∞ë‰∏Ä‰∏™removeÊñπÊ≥ïÔºåËøîÂõûÁöÑ‰ª£ÁêÜÂØπË±°ÊØèÊ¨°Êé•Êî∂Âà∞ NSMutableOrderedSetÁöÑÊ∂àÊÅØÂêéÔºå ‰ºöÈÄöËøá‰ª•‰∏ãÁªÑÂêàÊñπÊ≥ïÁªômutableOrderedSetValueForKeyÁöÑÂéüÂßãÂØπË±° ÂèëÈÄÅÊ∂àÊÅØ: mutableOrderedSetValueForKey: insertObject:in&lt;Key&gt;AtIndex:, removeObjectFrom &lt;Key&gt; AtIndex :, insert &lt;Key&gt;ÔºöatIndexesÔºö remove&lt;Key&gt;AtIndexes: ‰ª£ÁêÜÂØπË±°Ëøò‰ΩøÁî®ÊñπÊ≥ïÂêç‰∏∫ replaceObjectIn &lt;Key&gt; AtIndexÔºöwithObjectÔºö ÁöÑÊñπÊ≥ïÔºåÊàñreplace&lt;Key&gt;AtIndexes:with&lt;Key&gt;: ,ÂΩìËøô‰∫õÊñπÊ≥ïÂ≠òÂú®‰∫éÂéüÂßãÂØπË±°‰∏≠Êó∂„ÄÇ 2.Â¶ÇÊûúÊâæ‰∏çÂà∞ÂèØÂèòÁöÑsetÊñπÊ≥ïÔºåËØ∑ÊêúÁ¥¢Âêç‰∏∫set &lt;Key&gt;ÔºöÁöÑËÆøÈóÆÂô®ÊñπÊ≥ï„ÄÇ Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåËøîÂõûÁöÑ‰ª£ÁêÜÂØπË±°ÊØèÊ¨°Êî∂Âà∞NSMutableOrderedSetÊ∂àÊÅØÊó∂ÈÉΩ‰ºöÂêëmutableOrderedSetValueForKeyÔºöÁöÑÂéüÂßãÊé•Êî∂ËÄÖÂèëÈÄÅ‰∏Ä‰∏™set &lt;Key&gt;ÔºöÊ∂àÊÅØ„ÄÇ Ê≥®ÊÑèÊ≠§Ê≠•È™§‰∏≠ÊèèËø∞ÁöÑÊú∫Âà∂ÊØîÂâç‰∏ÄÊ≠•È™§ÁöÑÊïàÁéá‰ΩéÂæóÂ§öÔºåÂõ†‰∏∫ÂÆÉÂèØËÉΩÊ∂âÂèäÈáçÂ§çÂàõÂª∫Êñ∞ÁöÑÈõÜÂêàÂØπË±°ËÄå‰∏çÊòØ‰øÆÊîπÁé∞ÊúâÁöÑÈõÜÂêàÂØπË±°„ÄÇ Âõ†Ê≠§ÔºåÂú®ËÆæËÆ°Ëá™Â∑±ÁöÑÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°Êó∂ÔºåÈÄöÂ∏∏Â∫îËØ•ÈÅøÂÖç‰ΩøÁî®ÂÆÉ„ÄÇ 3.Â¶ÇÊûúÊâæ‰∏çÂà∞ÂèØÂèòÈõÜÊ∂àÊÅØÂíåËÆøÈóÆÂô®ÔºåÂπ∂‰∏îÊé•Êî∂ËÄÖÁöÑaccessInstanceVariablesDirectlyÁ±ªÊñπÊ≥ïËøîÂõûYESÔºåÂàôÊåâÈ°∫Â∫èÊêúÁ¥¢ÂêçÁß∞Â¶Ç_ &lt;key&gt;Êàñ&lt;key&gt;ÁöÑÂÆû‰æãÂèòÈáè„ÄÇ Â¶ÇÊûúÊâæÂà∞ËøôÊ†∑ÁöÑÂÆû‰æãÂèòÈáèÔºåÂàôËøîÂõûÁöÑ‰ª£ÁêÜÂØπË±°Â∞ÜÂÆÉÊé•Êî∂ÁöÑ‰ªª‰ΩïNSMutableOrderedSetÊ∂àÊÅØËΩ¨ÂèëÁªôÂÆû‰æãÂèòÈáèÁöÑÂÄºÔºåËØ•ÂÄºÈÄöÂ∏∏ÊòØNSMutableOrderedSetÊàñÂÖ∂Â≠êÁ±ª‰πã‰∏ÄÁöÑÂÆû‰æã„ÄÇ 4.Â¶ÇÊûúÊâÄÊúâÂÖ∂‰ªñÊñπÊ≥ïÈÉΩÂ§±Ë¥•‰∫ÜÔºåÈÇ£‰πàÂè™Ë¶ÅÊî∂Âà∞‰∏Ä‰∏™ÂèØÂèòÁöÑsetÊ∂àÊÅØÔºåËøîÂõûÁöÑ‰ª£ÁêÜÂØπË±°Â∞±‰ºöÂêëmutableOrderedSetValueForKeyÔºöÁöÑÂéüÂßãÊé•Êî∂ËÄÖÂèëÈÄÅ‰∏Ä‰∏™setValueÔºöforUndefinedKeyÔºöÊ∂àÊÅØ„ÄÇ setValueÔºöforUndefinedKeyÔºöÁöÑÈªòËÆ§ÂÆûÁé∞ÂºïÂèë‰∫Ü‰∏Ä‰∏™NSUndefinedKeyExceptionÔºå‰ΩÜÊòØÂØπË±°ÂèØËÉΩ‰ºöË¶ÜÁõñÊ≠§Ë°å‰∏∫„ÄÇ ÂèØÂèòÈõÜÁöÑÊêúÁ¥¢ÊñπÂºèmutableSetValueForKeyÔºöÁöÑÈªòËÆ§ÂÆûÁé∞ÔºåÁªôÂÆö‰∏Ä‰∏™keyÂèÇÊï∞‰Ωú‰∏∫ËæìÂÖ•Ôºå‰ΩøÁî®‰ª•‰∏ãËøáÁ®ã‰∏∫Êé•Êî∂ËÆøÈóÆËÄÖË∞ÉÁî®ÁöÑÂØπË±°ÂÜÖÁöÑ‰∏Ä‰∏™Âêç‰∏∫keyÁöÑÊï∞ÁªÑÂ±ûÊÄßËøîÂõû‰∏Ä‰∏™ÂèØÂèò‰ª£ÁêÜÈõÜÔºö 1.ÊêúÁ¥¢ÊñπÊ≥ïÂêçÁß∞‰∏∫add&lt;Key&gt;Object:Âíå remove &lt;Key&gt; Object ÁöÑÊñπÊ≥ïÔºöÔºàÂàÜÂà´ÂØπÂ∫î‰∫éNSMutableSetÂéüÂßãÊñπÊ≥ïaddObject:ÂíåremoveObject:Ôºâ‰ª•Âèäadd&lt;Key&gt;ÔºöÂíåremove&lt;Key&gt;:ÔºàÂØπÂ∫î‰∫éNSMutableSet ÊñπÊ≥ïunionSet:ÂíåminusSet: Ôºâ„ÄÇÂ¶ÇÊûúÊâæÂà∞Ëá≥Â∞ë‰∏Ä‰∏™Ê∑ªÂä†ÊñπÊ≥ïÂíåËá≥Â∞ë‰∏Ä‰∏™Âà†Èô§ÊñπÊ≥ïÔºåÂàôËøîÂõû‰∏Ä‰∏™NSMutableSet‰ª£ÁêÜÂØπË±°ÔºåËØ•‰ª£ÁêÜÂØπË±°ÂèëÈÄÅadd &lt;Key&gt; ObjectÔºöÔºåremove &lt;Key&gt; ObjectÔºöÔºåadd &lt;Key&gt;ÔºöÁöÑÊüêÁßçÁªÑÂêàÔºå Âíåremove &lt;Key&gt;ÔºöÂØπ‰∫éÂÆÉÊî∂Âà∞ÁöÑÊØè‰∏™NSMutableSetÊ∂àÊÅØÁöÑmutableSetValueForKeyÔºöÁöÑÂéüÂßãÊé•Êî∂ËÄÖÁöÑÊ∂àÊÅØ„ÄÇ ‰ª£ÁêÜÂØπË±°Ëøò‰ΩøÁî®ÂêçÁß∞‰∏∫‚ÄúcrossÔºö‚ÄùÊàñ‚ÄúsetÔºö‚ÄùÁöÑÊñπÊ≥ïÊù•ÊèêÈ´òÊÄßËÉΩÔºàÂ¶ÇÊûúÂèØÁî®ÁöÑËØùÔºâ„ÄÇ 2.Â¶ÇÊûúmutableSetValueForKeyÔºöË∞ÉÁî®ÁöÑÊé•Êî∂ËÄÖÊòØÊâòÁÆ°ÂØπË±°ÔºåÂàôÊêúÁ¥¢Ê®°Âºè‰∏ç‰ºöÂÉèÈùûÊâòÁÆ°ÂØπË±°ÈÇ£Ê†∑ÁªßÁª≠„ÄÇ ÊúâÂÖ≥Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ‚ÄúCore Data Programming Guide‚Äù‰∏≠ÁöÑÊâòÁÆ°ÂØπË±°ËÆøÈóÆÂô®ÊñπÊ≥ï„ÄÇ 3.Â¶ÇÊûúÊâæ‰∏çÂà∞ÂèØÂèòÈõÜÂêàÊñπÊ≥ïÔºåÂπ∂‰∏îÂØπË±°‰∏çÊòØÊâòÁÆ°ÂØπË±°ÔºåÂàôÊêúÁ¥¢Âêç‰∏∫set &lt;Key&gt;ÔºöÁöÑËÆøÈóÆÂô®ÊñπÊ≥ï„ÄÇ Â¶ÇÊûúÊâæÂà∞ËøôÊ†∑ÁöÑÊñπÊ≥ïÔºåÂàôËøîÂõûÁöÑ‰ª£ÁêÜÂØπË±°Â∞Üset &lt;Key&gt;ÔºöÊ∂àÊÅØÂèëÈÄÅÁªôÂÆÉÊé•Êî∂ÁöÑÊØè‰∏™NSMutableSetÊ∂àÊÅØÁöÑmutableSetValueForKeyÔºöÁöÑÂéüÂßãÊé•Êî∂ËÄÖ„ÄÇ Ê≥®ÊÑèÊ≠§Ê≠•È™§‰∏≠ÊèèËø∞ÁöÑÊú∫Âà∂ÁöÑÊïàÁéáËøú‰Ωé‰∫éÁ¨¨‰∏ÄÊ≠•ÁöÑÊú∫Âà∂ÔºåÂõ†‰∏∫ÂÆÉÂèØËÉΩÊ∂âÂèäÈáçÂ§çÂàõÂª∫Êñ∞ÁöÑÈõÜÂêàÂØπË±°ËÄå‰∏çÊòØ‰øÆÊîπÁé∞ÊúâÁöÑÈõÜÂêàÂØπË±°„ÄÇ Âõ†Ê≠§ÔºåÂú®ËÆæËÆ°Ëá™Â∑±ÁöÑÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°Êó∂ÔºåÈÄöÂ∏∏Â∫îËØ•ÈÅøÂÖç‰ΩøÁî®ÂÆÉ„ÄÇ 4.Â¶ÇÊûúÊâæ‰∏çÂà∞ÂèØÂèòÁöÑsetÊñπÊ≥ïÂíåaccessorÊñπÊ≥ïÔºåÂπ∂‰∏îaccessInstanceVariablesDirectlyÁ±ªÊñπÊ≥ïËøîÂõûYESÔºåÂàôÊåâÁÖßÈ°∫Â∫èÊêúÁ¥¢Âêç‰∏∫_ &lt;key&gt;Êàñ&lt;key&gt;ÁöÑÂÆû‰æãÂèòÈáè„ÄÇ Â¶ÇÊûúÊâæÂà∞ËøôÊ†∑ÁöÑÂÆû‰æãÂèòÈáèÔºåÂàô‰ª£ÁêÜÂØπË±°Â∞ÜÂÆÉÊé•Êî∂ÁöÑÊØè‰∏™NSMutableSetÊ∂àÊÅØËΩ¨ÂèëÁªôÂÆû‰æãÂèòÈáèÁöÑÂÄºÔºåËØ•ÂÄºÈÄöÂ∏∏ÊòØNSMutableSetÁöÑÂÆû‰æãÊàñÂÖ∂Â≠êÁ±ª‰πã‰∏Ä„ÄÇ 5.Â¶ÇÊûúÊâÄÊúâÂÖ∂‰ªñÊñπÊ≥ïÈÉΩÂ§±Ë¥•‰∫ÜÔºåËøîÂõûÁöÑ‰ª£ÁêÜÂØπË±°ÈÄöËøáÂêëmutableSetValueForKeyÔºö&#39;ÁöÑÂéüÂßãÊé•Êî∂ËÄÖÂèëÈÄÅsetValueÔºöforUndefinedKeyÔºöÊ∂àÊÅØÊù•ÂìçÂ∫îÂÆÉÊî∂Âà∞ÁöÑ‰ªª‰ΩïNSMutableSet`Ê∂àÊÅØ„ÄÇ Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVCÂÆòÊñπÊñáÊ°£-ÈîÆÂÄºÁºñÁ†ÅÊåáÂçóÁ¨¨‰∫åÈÉ®ÂàÜ5]]></title>
    <url>%2F2018%2F09%2F18%2FKVC%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-%E9%94%AE%E5%80%BC%E7%BC%96%E7%A0%81%E6%8C%87%E5%8D%97%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%865%2F</url>
    <content type="text"><![CDATA[Key-Value Coding Programming Guide ÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨5ËäÇ2018.9.20 Á¨¨‰∏ÄÊ¨°‰øÆÊ≠£ iOS-KVCÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨5ËäÇ Key-Value Coding Fundamatals‚ÄìValidating PropertiesÈ™åËØÅÂ±ûÊÄßÈîÆÂÄºÁºñÁ†ÅÂçèËÆÆÂÆö‰πâ‰∫ÜÊîØÊåÅÂ±ûÊÄßÈ™åËØÅÁöÑÊñπÊ≥ï„ÄÇÂ∞±ÂÉè‰ΩøÁî®Âü∫‰∫éÈîÆÁöÑËÆøÈóÆÂô®Êù•ËØªÂèñÂíåÂÜôÂÖ•Á¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°ÁöÑÂ±ûÊÄß‰∏ÄÊ†∑ÔºåÊÇ®‰πüÂèØ‰ª•ÊåâÈîÆÔºàÊàñÈîÆË∑ØÂæÑÔºâÈ™åËØÅÂ±ûÊÄß„ÄÇÂΩìÊÇ®Ë∞ÉÁî®validateValue:forKey:error:(ÊàñvalidateValue:forKeyPath:error:) ÊñπÊ≥ïÊó∂Ôºå ÂçèËÆÆÁöÑÈªòËÆ§ÂÆûÁé∞Â∞ÜÊêúÁ¥¢Êé•Êî∂È™åËØÅÊ∂àÊÅØÁöÑÂØπË±° (ÊàñÂú®ÈîÆË∑ØÂæÑÁöÑÊú´Â∞æÁöÑÂØπË±°)Ôºå ‰ª•Êü•ÊâæÂêçÁß∞‰∏éÊ®°ÂºèÂåπÈÖçÁöÑÊñπÊ≥ïvalidate&lt;Key&gt;:error:„ÄÇÂ¶ÇÊûúÂØπË±°Ê≤°ÊúâÊ≠§Á±ªÊñπÊ≥ïÔºå ÂàôÈªòËÆ§ÊÉÖÂÜµ‰∏ãÈ™åËØÅÊàêÂäü, ÈªòËÆ§ÂÆûÁé∞ËøîÂõûYES`„ÄÇÂΩìÂ≠òÂú®Â±ûÊÄßÁâπÂÆöÁöÑÈ™åËØÅÊñπÊ≥ïÊó∂Ôºå ÈªòËÆ§ÂÆûÁé∞Â∞ÜËøîÂõûË∞ÉÁî®ËØ•ÊñπÊ≥ïÁöÑÁªìÊûú„ÄÇ Ê≥®ÊÑèÊÇ®ÈÄöÂ∏∏‰ªÖÂú®Objective-C‰∏≠‰ΩøÁî®Ê≠§Â§ÑÊèèËø∞ÁöÑÈ™åËØÅ„ÄÇÂú® Swift ‰∏≠, ÈÄöËøá‰æùËµñ optionals ÂíåÂº∫Á±ªÂûãÊ£ÄÊü•ÁöÑÁºñËØëÂô®ÊîØÊåÅ, ÂèØ‰ª•Êõ¥‰æøÊç∑Âú∞Â§ÑÁêÜÂ±ûÊÄßÈ™åËØÅ, ÂêåÊó∂‰ΩøÁî®ÂÜÖÁΩÆÁöÑ willSet Âíå didSet Â±ûÊÄßËßÇÂØüÂô®Êù•ÊµãËØï‰ªª‰ΩïËøêË°åÊó∂ API ÂçèÂÆö, ËØ¶ËßÅThe Swift Programming Language (Swift 4.2)‰∏≠Property ObserversÁ´†ËäÇÂØπwillSet didSetÁöÑÊèèËø∞„ÄÇ Áî±‰∫éÂ±ûÊÄßÁâπÂÆöÁöÑÈ™åËØÅÊñπÊ≥ïÈÄöËøáÂºïÁî®ÁöÑÊñπÂºèÊé•Êî∂ÂÄºÂíåÈîôËØØÂèÇÊï∞, Âõ†Ê≠§È™åËØÅÊúâ‰∏âÁßçÂèØËÉΩÁöÑÁªìÊûú: È™åËØÅÊñπÊ≥ïÂà§Êñ≠ÂÄºÂØπË±°ÊúâÊïàÂπ∂ËøîÂõûYESËÄå‰∏çÊîπÂèòÂÄºÊàñÈîôËØØ„ÄÇ È™åËØÅÊñπÊ≥ïÂà§Êñ≠ÂÄºÂØπË±°Êó†Êïà, ‰ΩÜÈÄâÊã©‰∏çÊõ¥ÊîπÂÆÉ„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ã, ËØ•ÊñπÊ≥ïËøîÂõûNOÂπ∂Â∞ÜÈîôËØØÂºïÁî® (Â¶ÇÊûúË∞ÉÁî®ÊñπÊèê‰æõ) ËÆæÁΩÆÂà∞NSErrorÊåáÁ§∫Â§±Ë¥•ÂéüÂõ†ÁöÑÂØπË±°„ÄÇ È™åËØÅÊñπÊ≥ïÂà§Êñ≠ÂÄºÂØπË±°Êó†Êïà, ‰ΩÜÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ„ÄÅÊúâÊïàÁöÑÂØπË±°‰Ωú‰∏∫ÊõøÊç¢„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ã, ËØ•ÊñπÊ≥ïËøîÂõûYESÂêåÊó∂‰øùÊåÅÈîôËØØÂØπË±°‰∏çÂèò„ÄÇËøîÂõû‰πãÂâç, ËØ•ÊñπÊ≥ï‰øÆÊîπÂÄºÂºïÁî®‰ª•ÊåáÂêëÊñ∞ÂÄºÂØπË±°„ÄÇÂΩìÂÆÉËøõË°å‰øÆÊîπÊó∂, ËØ•ÊñπÊ≥ïÊÄªÊòØÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂØπË±°, ËÄå‰∏çÊòØ‰øÆÊîπÊóßÂÄº, Âç≥‰Ωø value ÂØπË±°ÊòØÂèØÂèòÁöÑ„ÄÇ Ê∏ÖÂçï 6-1ÊòæÁ§∫‰∫ÜÂ¶Ç‰ΩïË∞ÉÁî®nameÂ≠óÁ¨¶‰∏≤ÁöÑÈ™åËØÅÁöÑÁ§∫‰æã„ÄÇ Person* person = [[Person alloc] init]; NSError* error; NSString* name = @"John"; if (![person validateValue:&name forKey:@"name" error:&error]) { NSLog(@"%@",error); } Ëá™Âä®È™åËØÅÈÄöÂ∏∏, ÈîÆÂÄºÁºñÁ†ÅÂçèËÆÆÂèäÂÖ∂ÈªòËÆ§ÂÆûÁé∞ÈÉΩ‰∏çÂÆö‰πâ‰ªª‰ΩïËá™Âä®ÊâßË°åÈ™åËØÅÁöÑÊú∫Âà∂„ÄÇÁõ∏Âèç, ÊÇ®ÂèØ‰ª•Âú®ÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠‰ΩøÁî®ÈÄÇÂêàÁöÑÈ™åËØÅÊñπÊ≥ï„ÄÇ Êüê‰∫õÂÖ∂‰ªñCocoaÊäÄÊúØÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ã‰ºöËá™Âä®ËøõË°åÈ™åËØÅ„ÄÇ‰æãÂ¶Ç, Core Data‰ºöÂú®‰øùÂ≠òÊâòÁÆ°ÂØπË±°‰∏ä‰∏ãÊñáÊó∂Ëá™Âä®ÊâßË°åÈ™åËØÅ (ËØ¶ËßÅCore Data Programming Guide)„ÄÇÊ≠§Â§ñ, Âú® macOS ‰∏≠, Cocoa Bindings ÂÖÅËÆ∏ÊÇ®ÊåáÂÆöÈ™åËØÅÊòØÂê¶Ëá™Âä®ËøõË°å (ËØ∑ÈòÖËØªCocoa Bindings Programming Topics‰∫ÜËß£ÊúâÂÖ≥Cocoa BindingsÁöÑÊõ¥Â§ö‰ø°ÊÅØ„ÄÇ)„ÄÇ Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVCÂÆòÊñπÊñáÊ°£-ÈîÆÂÄºÁºñÁ†ÅÊåáÂçóÁ¨¨‰∫åÈÉ®ÂàÜ4]]></title>
    <url>%2F2018%2F09%2F18%2FKVC%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-%E9%94%AE%E5%80%BC%E7%BC%96%E7%A0%81%E6%8C%87%E5%8D%97%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%864%2F</url>
    <content type="text"><![CDATA[Key-Value Coding Programming Guide ÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨4ËäÇ2018.9.20 Á¨¨‰∏ÄÊ¨°‰øÆÊ≠£ iOS-KVCÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨4ËäÇ Key-Value Coding Fundamatals‚ÄìRepresenting Non-Object ValuesË°®Á§∫ÈùûÂØπË±°ÂÄºÈÄöËøáNSObject‰ΩøÁî®ÂØπË±°ÂíåÈùûÂØπË±°Â±ûÊÄßÊèê‰æõÁöÑÈîÆÂÄºÁºñÁ†ÅÂçèËÆÆÊñπÊ≥ïÁöÑÈªòËÆ§ÂÆûÁé∞„ÄÇ ÈªòËÆ§ÂÆûÁé∞Ëá™Âä®Âú®ÂØπË±°ÂèÇÊï∞ÊàñËøîÂõûÂÄº‰ª•ÂèäÈùûÂØπË±°Â±ûÊÄß‰πãÈó¥ËøõË°åËΩ¨Êç¢„ÄÇ ËøôÂÖÅËÆ∏Âç≥‰ΩøÂ≠òÂÇ®ÁöÑÂ±ûÊÄßÊòØÊ†áÈáèÊàñÁªìÊûÑ‰ΩìÔºåÂü∫‰∫ékeyÁöÑgetterÂíåsetterÁöÑÂëΩÂêç‰πü‰øùÊåÅ‰∏ÄËá¥„ÄÇ Ê≥®ÊÑèÂõ†‰∏∫Swift‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßÈÉΩÊòØÂØπË±°ÔºåÊâÄ‰ª•Êú¨ËäÇ‰ªÖÈÄÇÁî®‰∫éObjective-CÂ±ûÊÄß„ÄÇ ÂΩì‰Ω†Ë∞ÉÁî®ÂçèËÆÆÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™getterÊó∂ÔºåvalueForKeyÔºöÔºåÈªòËÆ§ÂÆûÁé∞Ê†πÊçÆAccessor Search Patterns‰∏≠ÊèèËø∞ÁöÑËßÑÂàô Á°ÆÂÆö‰∏∫ÊåáÂÆöÈîÆÊèê‰æõÂÄºÁöÑÁâπÂÆöËÆøÈóÆÂô®ÊñπÊ≥ïÊàñÂÆû‰æãÂèòÈáè„ÄÇ Â¶ÇÊûúËøîÂõûÂÄº‰∏çÊòØÂØπË±°ÔºåÂàôgetter‰ΩøÁî®Ê≠§ÂÄºÂàùÂßãÂåñNSNumberÂØπË±°ÔºàÂØπ‰∫éÊ†áÈáèÔºâÊàñNSValueÂØπË±°ÔºàÂØπ‰∫éÁªìÊûÑ‰ΩìÔºâÂπ∂ËøîÂõûËØ•ÂÄº„ÄÇ ÂêåÊ†∑ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÉèsetValueÔºöforKey:ËøôÊ†∑ÁöÑsetterÂú®ÁªôÂÆöÁâπÂÆöÈîÆÁöÑÊÉÖÂÜµ‰∏ãÁ°ÆÂÆöÂ±ûÊÄßÁöÑËÆøÈóÆÂô®ÊàñÂÆû‰æãÂèòÈáèÊâÄÈúÄÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇ Â¶ÇÊûúÊï∞ÊçÆÁ±ªÂûã‰∏çÊòØÂØπË±°ÔºåÂàôsetterÈ¶ñÂÖàÂêë‰º†ÂÖ•ÂÄºÂØπË±°ÂèëÈÄÅÈÄÇÂΩìÁöÑ&lt;type&gt; ValueÊ∂àÊÅØ‰ª•ÊèêÂèñÂü∫Á°ÄÊï∞ÊçÆÔºåÂπ∂Â≠òÂÇ®ËØ•Êï∞ÊçÆ„ÄÇ Ê≥®ÊÑèÂΩìÊÇ®‰ΩøÁî®ÈùûÂØπË±°Â±ûÊÄßÁöÑnilÂÄºË∞ÉÁî®ÂÖ∂‰∏≠‰∏Ä‰∏™KVCÂçèËÆÆsetterÊó∂ÔºåsetterÊ≤°ÊúâÊòéÊòæÁöÑ‰∏ÄËà¨Êìç‰ΩúËøáÁ®ã„ÄÇ Âõ†Ê≠§ÔºåÂÆÉÂêëÊé•Êî∂setterË∞ÉÁî®ÁöÑÂØπË±°ÂèëÈÄÅsetNilValueForKeyÔºöÊ∂àÊÅØ„ÄÇ Ê≠§ÊñπÊ≥ïÁöÑÈªòËÆ§ÂÆûÁé∞ÂºïÂèëNSInvalidArgumentExceptionÂºÇÂ∏∏Ôºå‰ΩÜÂ≠êÁ±ªÂèØËÉΩ‰ºöË¶ÜÁõñÊ≠§Ë°å‰∏∫ÔºåÂ¶ÇHandling Non-Object Values‰∏≠ÊâÄËø∞Ôºå‰æãÂ¶ÇËÆæÁΩÆÊ†áËÆ∞ÂÄºÊàñÊèê‰æõÊúâÊÑè‰πâÁöÑÈªòËÆ§ÂÄº„ÄÇ ÂåÖË£ÖÂíåËß£ÂåÖÊ†áÈáèÁ±ªÂûãTable 5-1 ÂàóÂá∫ÈªòËÆ§KVCÂÆûÁé∞‰ΩøÁî®NSNumberÂÆû‰æãÂåÖË£ÖÁöÑÊ†áÈáèÁ±ªÂûã„ÄÇ ÂØπ‰∫éÊØèÁßçÊï∞ÊçÆÁ±ªÂûãÔºåËØ•Ë°®ÊòæÁ§∫Áî®‰∫éÂàùÂßãÂåñNSNumberÂü∫Á°ÄÂ±ûÊÄßÂÄº‰ª•Êèê‰æõgetterËøîÂõûÂÄºÁöÑÂàõÂª∫ÊñπÊ≥ï„ÄÇ ÁÑ∂ÂêéÊòæÁ§∫Áî®‰∫éÂú®ËÆæÁΩÆÊìç‰ΩúÊúüÈó¥‰ªésetterËæìÂÖ•ÂèÇÊï∞‰∏≠ÊèêÂèñÂÄºÁöÑËÆøÈóÆÂô®ÊñπÊ≥ï„ÄÇ Table 5-1 Ê†áÈáèÁ±ªÂûãÂåÖÂê´Âú®NSNumberÂØπË±°‰∏≠ Data type Creation method Accessor method BOOL numberWithBool: boolValue (in iOS) charValue (in macOS)* char numberWithChar: charValue double numberWithDouble: doubleValue float numberWithFloat: floatValue int numberWithInt: intValue long numberWithLong: longValue long long numberWithLongLong: longLongValue short numberWithShort: shortValue unsigned char numberWithUnsignedChar: unsignedChar unsigned int numberWithUnsignedInt: unsignedInt unsigned long numberWithUnsignedLong: unsignedLong unsigned long long numberWithUnsignedLongLong: unsignedLongLong unsigned short numberWithUnsignedShort: unsignedShort Ê≥®ÊÑè*Âú®macOS‰∏≠ÔºåÁî±‰∫éÂéÜÂè≤ÂéüÂõ†ÔºåBOOLÁöÑÁ±ªÂûãÂÆö‰πâ‰∏∫signed charÔºåËÄåKVC‰∏çÂå∫ÂàÜËøô‰∫õ„ÄÇ Âõ†Ê≠§ÔºåÂΩìkey‰∏∫BOOLÊó∂Ôºå‰∏çÂ∫îÂ∞ÜÂ≠óÁ¨¶‰∏≤ÂÄºÔºà‰æãÂ¶Ç@‚Äútrue‚ÄùÊàñ@‚ÄúYES‚ÄùÔºâ‰º†ÈÄíÁªôsetValueÔºöforKeyÔºö„ÄÇ KVCÂ∞ÜÂ∞ùËØïË∞ÉÁî®charValueÔºàÂõ†‰∏∫BOOLÊú¨Ë∫´Â∞±ÊòØ‰∏Ä‰∏™charÔºâÔºå‰ΩÜÊòØNSStringÊ≤°ÊúâÂÆûÁé∞Ëøô‰∏™ÊñπÊ≥ïÔºåËøô‰ºöÂØºËá¥ËøêË°åÊó∂ÈîôËØØ„ÄÇ Áõ∏ÂèçÔºåÂΩìkey‰∏∫BOOLÊó∂ÔºåÂè™‰º†ÈÄí‰∏Ä‰∏™NSNumberÂØπË±°ÔºåÂ¶Ç@(1) Êàñ @(YES)Ôºå‰Ωú‰∏∫setValueÔºöforKey: ÁöÑÂÄºÂèÇÊï∞„ÄÇ Ê≠§ÈôêÂà∂‰∏çÈÄÇÁî®‰∫éiOSÔºåÂÖ∂‰∏≠BOOLÁöÑÁ±ªÂûãÂÆö‰πâ‰∏∫Êú¨Êú∫Â∏ÉÂ∞îÁ±ªÂûãboolÔºåKVCË∞ÉÁî®boolValueÔºåÂÆÉÈÄÇÁî®‰∫éNSNumberÂØπË±°ÊàñÊ†ºÂºèÊ≠£Á°ÆÁöÑNSStringÂØπË±°„ÄÇ ÂåÖË£ÖÂíåËß£ÂåÖÁªìÊûÑ‰ΩìTable 5-2 ‰∏ãÈù¢ÂàóÂá∫‰∫ÜÂèØ‰ª•ÂåÖË£ÖÊàêNSPointÔºåNSRangeÔºåNSRectÂíåNSSizeÁöÑÂ∏∏Áî®ÁªìÊûÑ‰ΩìÁöÑËΩ¨ÂåñÊñπÊ≥ïÂíåÂèñÂÄºÊñπÊ≥ï Table 5-2 ÂåÖË£ÖÊàêNSValueÁöÑÂ∏∏Áî®ÁªìÊûÑÁ±ªÂûã Data type Creation method Accessor method NSPoint valueWithPoint: pointValue NSRange valueWithRange: rangeValue NSRect valueWithRect: (macOS only). rectValue NSSize valueWithSize: sizeValue ‰∏ç‰ªÖNSPointÔºåNSRangeÔºåNSRectÂíåNSSizeÁöÑÂèØ‰ª•Ëá™Âä®ÂåÖË£ÖÂíåËß£ÂåÖ„ÄÇ ÁªìÊûÑ‰ΩìÁ±ªÂûãÔºàÂç≥Objective-CÁ±ªÂûã‰∏≠Â≠óÁ¨¶‰∏≤‰ª•{ÂºÄÂ§¥ÁºñÁ†ÅÁöÑÁ±ªÂûãÔºâ‰πüÂèØ‰ª•ÂåÖÊàêNSValueÂØπË±°‰∏≠„ÄÇ ‰æãÂ¶ÇÔºåÂèÇËÄÉ5-1Ë°®Ê†º‰∏≠Â£∞ÊòéÁöÑÁªìÊûÑ‰ΩìÂíåÁ±ªÊé•Âè£„ÄÇ Listing 5-1 ‰ΩøÁî®Ëá™ÂÆö‰πâÁªìÊûÑ‰ΩìÁöÑÁ±ª typedef struct { float x, y, z; } ThreeFloats; @interface MyClass @property (nonatomic) ThreeFloats threeFloats; @end ‰ΩøÁî®Âêç‰∏∫myClassÁöÑÁ±ªÁöÑÂÆû‰æãÔºåÂèØ‰ª•‰ΩøÁî®KVCËé∑ÂèñthreeFloatsÂÄº NSValue* result = [myClass valueForKey:@"threeFloats"]; valueForKeyÔºöÁöÑÈªòËÆ§ÂÆûÁé∞Ë∞ÉÁî®threeFloats ÁöÑgetterÊñπÊ≥ïÔºåÁÑ∂ÂêéËøîÂõûÂåÖÂê´Âú®NSValueÂØπË±°‰∏≠ÁöÑÁªìÊûú„ÄÇ ÂêåÊ†∑ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®KVCËÆæÁΩÆthreeFloatsÂÄºÔºö ThreeFloats floats = {1., 2., 3.}; NSValue* value = [NSValue valueWithBytes:&floats objCType:@encode(ThreeFloats)]; [myClass setValue:value forKey:@"threeFloats"]; ÈªòËÆ§ÂÆûÁé∞‰ΩøÁî®getValue:ÊñπÊ≥ïËß£ÂåÖÂÄºÔºåÁÑ∂Âêé‰ΩøÁî®setThreeFloats:ÁîüÊàêÁöÑÁªìÊûÑ‰ΩìËøõË°åË∞ÉÁî®„ÄÇ Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVCÂÆòÊñπÊñáÊ°£-ÈîÆÂÄºÁºñÁ†ÅÊåáÂçóÁ¨¨‰∫åÈÉ®ÂàÜ3]]></title>
    <url>%2F2018%2F09%2F18%2FKVC%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-%E9%94%AE%E5%80%BC%E7%BC%96%E7%A0%81%E6%8C%87%E5%8D%97%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%863%2F</url>
    <content type="text"><![CDATA[Key-Value Coding Programming Guide ÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨3ËäÇ2018.9.20 Á¨¨‰∏ÄÊ¨°‰øÆÊ≠£ iOS-KVCÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨3ËäÇ Key-Value Coding Fundamatals‚ÄìUsing Collection Operators‰ΩøÁî®ÈõÜÂêàËøêÁÆóÁ¨¶ÂΩì‰Ω†ÂêëÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°ÂèëÈÄÅvalueForKeyPath:Ê∂àÊÅØÊó∂, ÂèØ‰ª•Âú®ÈîÆË∑ØÂæÑ‰∏≠ÂµåÂÖ•ÈõÜÂêàËøêÁÆóÁ¨¶„ÄÇÈõÜÂêàËøêÁÆóÁ¨¶ÊòØ‰∏Ä‰∏™Â∞èÁöÑÂÖ≥ÈîÆÂ≠óÂàóË°®ÔºåÂâçÈù¢Â∏¶‰∏Ä‰∏™atÁ¨¶Âè∑Ôºà@Ôºâ, ÂÆÉÊåáÂÆö‰∫ÜgetterÂ∫îËØ•ÊâßË°åÁöÑÊìç‰ΩúÔºå‰ª•‰æøÂú®ËøîÂõû‰πãÂâç‰ª•ÊüêÁßçÊñπÂºèÊìç‰ΩúÊï∞ÊçÆ„ÄÇvalueForKeyPath:Áî±NSObjectÈªòËÆ§ÂÆûÁé∞„ÄÇ ÂΩìÈîÆË∑ØÂæÑÂåÖÂê´ÈõÜÂêàËøêÁÆóÁ¨¶Êó∂, ËøêÁÆóÁ¨¶ÂâçÈù¢ÁöÑÈîÆË∑ØÂæÑÁöÑ‰ªª‰ΩïÈÉ®ÂàÜ (Áß∞‰∏∫Â∑¶ÈîÆË∑ØÂæÑ) ÊåáÂêëÁõ∏ÂØπ‰∫éÊ∂àÊÅØÊé•Êî∂ËÄÖÊìç‰ΩúÁöÑÈõÜÂêà„ÄÇÂ¶ÇÊûúÂ∞ÜÊ∂àÊÅØÁõ¥Êé•ÂèëÈÄÅÂà∞ÈõÜÂêàÂØπË±° (‰æãÂ¶ÇNSArrayÂÆû‰æã), ÂàôÂèØ‰ª•ÁúÅÁï•Â∑¶ÈîÆË∑ØÂæÑ„ÄÇÊìç‰ΩúÁ¨¶‰πãÂêéÁöÑÈîÆË∑ØÂæÑÈÉ®ÂàÜÔºàÁß∞‰∏∫Âè≥ÈîÆË∑ØÂæÑÔºâÊåáÂÆöÊìç‰ΩúÁ¨¶Â∫îÂ§ÑÁêÜÁöÑÈõÜÂêà‰∏≠ÁöÑÂ±ûÊÄß„ÄÇÈô§‰∫Ü@countÈúÄË¶ÅÊ≠£Á°ÆÁöÑÈîÆË∑ØÂæÑ‰πãÂ§ñÔºåÊâÄÊúâÈõÜÂêàËøêÁÆóÁ¨¶„ÄÇÂõæ4-1ËØ¥Êòé‰∫ÜÊìç‰ΩúÁ¨¶ÈîÆË∑ØÂæÑÊ†ºÂºè„ÄÇ Âõæ 4-1ËøêÁÆóÁ¨¶ÈîÆË∑ØÂæÑÊ†ºÂºè ÈõÜÂêàËøêÁÆóÁ¨¶Â±ïÁ§∫‰∫Ü‰∏âÁßçÂü∫Êú¨Ë°å‰∏∫Á±ªÂûã: ËÅöÂêàËøêÁÆóÁ¨¶‰ª•ÊüêÁßçÊñπÂºèÂêàÂπ∂ÈõÜÂêàÁöÑÂØπË±°ÔºåÂπ∂ËøîÂõûÈÄöÂ∏∏‰∏éÂè≥ÈîÆË∑ØÂæÑ‰∏≠ÊåáÂÆöÁöÑÂ±ûÊÄßÁöÑÊï∞ÊçÆÁ±ªÂûãÂåπÈÖçÁöÑÂçï‰∏™ÂØπË±°„ÄÇËØ•@countËøêÁÆóÁ¨¶ÊòØ‰∏Ä‰∏™‰æãÂ§ñÔºåÂÆÉÊ≤°ÊúâÂè≥ÈîÆË∑ØÂæÑÂπ∂ÂßãÁªàÂ∞ÜËøîÂõû‰∏Ä‰∏™NSNumberÂÆû‰æã„ÄÇ Êï∞ÁªÑËøêÁÆóÁ¨¶ËøîÂõû‰∏Ä‰∏™NSArrayÂÆû‰æãÔºåËØ•ÂÆû‰æãÂåÖÂê´ÂëΩÂêçÈõÜÂêà‰∏≠‰øùÂ≠òÁöÑÂØπË±°ÁöÑÊüê‰∏™Â≠êÈõÜ„ÄÇ ÂµåÂ•óÊìç‰ΩúÁ¨¶Â§ÑÁêÜÂåÖÂê´ÂÖ∂‰ªñÈõÜÂêàÁöÑÈõÜÂêàÔºåÂπ∂Ê†πÊçÆÊìç‰ΩúÁ¨¶ËøîÂõû‰∏Ä‰∏™NSArrayÊàñNSSetÂÆû‰æãÔºåÂÆÉ‰ª•ÊüêÁßçÊñπÂºèÁªÑÂêàÂµåÂ•óÈõÜÂêàÁöÑÂØπË±°„ÄÇ Á§∫‰æãÊï∞ÊçÆ‰∏ãÈù¢ÊèèËø∞ÂåÖÊã¨ÊºîÁ§∫Â¶Ç‰ΩïË∞ÉÁî®ÊØè‰∏™ËøêÁÆóÁ¨¶ÁöÑ‰ª£Á†ÅÊÆµÔºå‰ª•ÂèäÊâßË°åÊ≠§Êìç‰ΩúÁöÑÁªìÊûú„ÄÇËøô‰æùËµñ‰∫éBankAccountÁ±ª (Âú®[ÂàóË°® 2-1]‰∏≠ÊòæÁ§∫), ÂÆÉÊòØ‰∏Ä‰∏™‰øùÂ≠òTransactionÂØπË±°ÁöÑÊï∞ÁªÑ„ÄÇÂÖ∂‰∏≠ÊØè‰∏Ä‰∏™ÈÉΩ‰ª£Ë°®‰∏Ä‰∏™ÁÆÄÂçïÁöÑcheckbookÊù°ÁõÆ, Â¶ÇÊ∏ÖÂçï 4-1‰∏≠ÊâÄÂ£∞ÊòéÁöÑÈÇ£Ê†∑„ÄÇ Ê∏ÖÂçï 4-1TransactionÂØπË±°ÁöÑÊé•Âè£Â£∞Êòé @interface Transaction : NSObject @property (nonatomic) NSString* payee; // To whom @property (nonatomic) NSNumber* amount; // How much @property (nonatomic) NSDate* date; // When @end ‰∏∫‰∫Ü‰æø‰∫éËÆ®ËÆ∫, ÂÅáÂÆöBankAccountÂÆû‰æãÂÖ∑Êúâ‰∏Ä‰∏™‰ΩøÁî®Ë°®4-1‰∏≠ÊòæÁ§∫ÁöÑÊï∞ÊçÆÂ°´ÂÖÖÁöÑ‰∫§ÊòìÊï∞ÁªÑ, Âπ∂‰∏îÊÇ®ÂèØ‰ª•‰ªéBankAccountÂØπË±°ÂÜÖÈÉ®ËøõË°åË∞ÉÁî®„ÄÇ Ë°® 4-1TransactionsÂØπË±°ÁöÑÁ§∫‰æãÊï∞ÊçÆ payee amount date Green Power $120.00 Dec 1, 2015 Green Power $150.00 Jan 1, 2016 Green Power $170.00 Feb 1, 2016 Car Loan $250.00 Jan 15, 2016 Car Loan $250.00 Feb 15, 2016 Car Loan $250.00 Mar 15, 2016 General Cable $120.00 Dec 1, 2015 General Cable $155.00 Jan 1, 2016 General Cable $120.00 Feb 1, 2016 Mortgage $1,250.00 Jan 15, 2016 Mortgage $1,250.00 Feb 15, 2016 Mortgage $1,250.00 Mar 15, 2016 Animal Hospital $600.00 Jul 15, 2016 ËÅöÂêàËøêÁÆóÁ¨¶ËÅöÂêàËøêÁÆóÁ¨¶Â§ÑÁêÜarrayÊàñsetÂ±ûÊÄß, ‰ªéËÄåÁîüÊàêÂèçÊò†ÈõÜÂêàÊüê‰∫õÊñπÈù¢ÁöÑÂçï‰∏™ÂÄº„ÄÇ @avgÂΩìÊåáÂÆö@avgËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:ËØªÂèñÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂè≥ÈîÆË∑ØÂæÑÊåáÂÆöÁöÑÂ±ûÊÄß, Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫double (nilÂÄºÁî®0Êõø‰ª£), Âπ∂ËÆ°ÁÆóËøô‰∫õÂÄºÁöÑÁÆóÊúØÂπ≥ÂùáÂÄº„ÄÇÁÑ∂ÂêéÂÆÉËøîÂõûÂ≠òÂÇ®Âú®NSNumberÂÆû‰æã‰∏≠ÁöÑÁªìÊûú„ÄÇ Ëé∑ÂèñË°® 4-1‰∏≠Á§∫‰æãÊï∞ÊçÆ‰πãÈó¥ÁöÑÂπ≥Âùá‰∫§ÊòìËÆ∞ÂΩïÈáëÈ¢ù: NSNumber *transactionAverage = [self.transactions valueForKeyPath:@"@avg.amount"]; transactionAverageÁöÑÊ†ºÂºèÂåñÁöÑÁªìÊûú‰∏∫ $ 456.54„ÄÇ @countÊåáÂÆö@countËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÈõÜÂêà‰∏≠ÁöÑÂØπË±°‰∏™Êï∞ÁöÑNSNumberÂÆû‰æã„ÄÇÂè≥ÈîÆË∑ØÂæÑ (Â¶ÇÊûúÂ≠òÂú®) Â∞ÜË¢´ÂøΩÁï•„ÄÇ Âú®transactions‰∏≠Ëé∑ÂèñTransactionÂØπË±°ÁöÑÊï∞ÁõÆ: NSNumber *numberOfTransactions = [self.transactions valueForKeyPath:@"@count"]; numberOfTransactionsÁöÑÂÄº‰∏∫13„ÄÇ @maxÊåáÂÆö@maxËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:Âú®Áî±Âè≥ÈîÆË∑ØÂæÑÂëΩÂêçÁöÑÈõÜÂêàÈ°π‰πãÈó¥ËøõË°åÊêúÁ¥¢, Âπ∂ËøîÂõûÊúÄÂ§ßÂÄº„ÄÇÊêúÁ¥¢‰ΩøÁî®compare:ÊñπÊ≥ïËøõË°åÊØîËæÉ, ËØ•ÊñπÊ≥ïÁî±ËÆ∏Â§öFoundationÁ±ªÔºà‰æãÂ¶ÇNSNumberÁ±ªÔºâÂÆö‰πâ„ÄÇÂõ†Ê≠§, Áî±Âè≥ÈîÆË∑ØÂæÑÊåáÁ§∫ÁöÑÂ±ûÊÄßÂøÖÈ°ªÂåÖÂê´‰∏Ä‰∏™ÂØπÊ≠§Ê∂àÊÅØÊúâÊÑè‰πâÂìçÂ∫îÁöÑÂØπË±°„ÄÇÊêúÁ¥¢ÂøΩÁï•ÂÄº‰∏∫nilÁöÑÈõÜÂêàÈ°π„ÄÇ Âú®Ë°® 4-1‰∏≠ÂàóÂá∫ÁöÑ‰∫§ÊòìËÆ∞ÂΩï‰∏≠, Ëé∑ÂèñÊó•ÊúüÂÄº (Âç≥ÊúÄÊñ∞‰∫§ÊòìËÆ∞ÂΩïÁöÑÊó•Êúü) ÁöÑÊúÄÂ§ßÊï∞Èáè: NSDate *latestDate = [self.transactions valueForKeyPath:@"@max.date"]; latestDateÁöÑÂÄº‰∏∫ Jul 15, 2016. @minÊåáÂÆö@minËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:Âú®Áî±Âè≥ÈîÆË∑ØÂæÑÂëΩÂêçÁöÑÈõÜÂêàÈ°π‰πãÈó¥ËøõË°åÊêúÁ¥¢, Âπ∂ËøîÂõûÊúÄÂ∞èÂÄº„ÄÇÊêúÁ¥¢‰ΩøÁî®compare:ÊñπÊ≥ïËøõË°åÊØîËæÉ, ËÆ∏Â§öÂü∫Á°ÄÁ±ª (Â¶ÇNSNumberÁ±ª) ‰∏≠ÈÉΩÊúâÂÆö‰πâ„ÄÇÂõ†Ê≠§, Áî±Âè≥ÈîÆË∑ØÂæÑÊåáÁ§∫ÁöÑÂ±ûÊÄßÂøÖÈ°ªÊåÅÊúâÂØπÊ≠§Ê∂àÊÅØÊúâÊÑè‰πâÂìçÂ∫îÁöÑÂØπË±°„ÄÇÊêúÁ¥¢ÂøΩÁï•ÂÄº‰∏∫nilÁöÑÈõÜÂêàÈ°π„ÄÇ Âú®Ë°® 4-1‰∏≠ÂàóÂá∫ÁöÑ‰∫ãÂä°‰∏≠, Ëé∑ÂèñÊó•ÊúüÂÄº (Âç≥ÊúÄÊó©ÁöÑ‰∫ãÂä°ÁöÑÊó•Êúü) ÁöÑÊúÄÁü≠Êó∂Èó¥„ÄÇ NSDate *earliestDate = [self.transactions valueForKeyPath:@"@min.date"]; earliestDateÁöÑÂÄº‰∏∫ Dec 1, 2015. @sumÊåáÂÆö@sumËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:ËØªÂèñÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂè≥ÈîÆË∑ØÂæÑÊåáÂÆöÁöÑÂ±ûÊÄß, Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫double (nilÂÄºÊõøÊç¢‰∏∫ 0), Âπ∂ËÆ°ÁÆóÊÄªÂíå„ÄÇÁÑ∂ÂêéËøîÂõûÂ≠òÂÇ®Âú®NSNumberÂÆû‰æã‰∏≠ÁöÑÁªìÊûú„ÄÇ Ëé∑ÂèñË°® 4-1‰∏≠Á§∫‰æãÊï∞ÊçÆ‰πãÈó¥ÁöÑ‰∫§ÊòìËÆ∞ÂΩïÈáëÈ¢ùÁöÑÊÄªÂíå: NSNumber *amountSum = [self.transactions valueForKeyPath:@"@sum.amount"]; amountSumÁöÑÁªìÊûú‰∏∫ $ 5935.00„ÄÇ Êï∞ÁªÑËøêÁÆóÁ¨¶Êï∞ÁªÑËøêÁÆóÁ¨¶‰ΩøvalueForKeyPath:ËøîÂõû‰∏éÂè≥ÈîÆË∑ØÂæÑÊåáÁ§∫ÁöÑÁâπÂÆöÂØπË±°ÈõÜÁõ∏ÂØπÂ∫îÁöÑÂØπË±°Êï∞ÁªÑ„ÄÇ ÈáçË¶ÅÂú®‰ΩøÁî®Êï∞ÁªÑËøêÁÆóÁ¨¶Êó∂, Â¶ÇÊûúÊúâ‰ªª‰ΩïÂè∂(leaf)ÂØπË±°‰∏∫nil, ÂàôvalueForKeyPath:ÊñπÊ≥ïÂ∞ÜÂºïÂèëÂºÇÂ∏∏„ÄÇ @distinctUnionOfObjectsÊåáÂÆö@distinctUnionOfObjectsËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:Â∞ÜÂàõÂª∫Âπ∂ËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑ, ËØ•Êï∞ÁªÑÂåÖÂê´‰∏éÂè≥ÈîÆË∑ØÂæÑÊåáÂÆöÁöÑÂ±ûÊÄßÂØπÂ∫îÁöÑÈõÜÂêàÁöÑ‰∏çÂêåÂØπË±°„ÄÇ Ëé∑Âèñtransactions‰∏≠ÁöÑ‰∫§ÊòìËÆ∞ÂΩïÁöÑpayeeÂ±ûÊÄßÂÄºÁöÑÈõÜÂêà, Âπ∂ÁúÅÁï•ÈáçÂ§çÂÄº: NSArray *distinctPayees = [self.transactions valueForKeyPath:@"@distinctUnionOfObjects.payee"]; ÁîüÊàêÁöÑdistinctPayeesÊï∞ÁªÑÂåÖÂê´‰ª•‰∏ãÊØè‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂÆû‰æãÔºöCar Loan, General Cable, Animal Hospital, Green Power, Mortgage„ÄÇ Ê≥®ÊÑè@unionOfObjectsËøêÁÆóÁ¨¶Êèê‰æõÁ±ª‰ººÁöÑË°å‰∏∫, ‰ΩÜ‰∏çÂà†Èô§ÈáçÂ§çÁöÑÂØπË±°„ÄÇ @unionOfObjectsÊåáÂÆö@unionOfObjectsËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:Â∞ÜÂàõÂª∫Âπ∂ËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑ, ËØ•Êï∞ÁªÑÂåÖÂê´‰∏éÁî±Âè≥ÈîÆË∑ØÂæÑÊåáÂÆöÁöÑÂ±ûÊÄßÂØπÂ∫îÁöÑÈõÜÂêàÁöÑÊâÄÊúâÂØπË±°„ÄÇ‰∏é@distinctUnionOfObjects‰∏çÂêå, ‰∏ç‰ºöÂà†Èô§ÈáçÂ§çÂØπË±°„ÄÇ Ëé∑Âèñtransactions‰∏≠ÁöÑ‰∫§ÊòìËÆ∞ÂΩïÁöÑpayeeÂ±ûÊÄßÂÄºÁöÑÈõÜÂêà: NSArray *payees = [self.transactions valueForKeyPath:@"@unionOfObjects.payee"]; ÁîüÊàêÁöÑpayeesÊï∞ÁªÑÂåÖÂê´‰ª•‰∏ãÂ≠óÁ¨¶‰∏≤ÔºöGreen Power, Green Power, Green Power, Car Loan, Car Loan, Car Loan, General Cable, General Cable, General Cable, Mortgage, Mortgage, Mortgage, Animal Hospital.ËÆ∞ÂΩï‰∫ÜÈáçÂ§çÂÄº„ÄÇ Ê≥®ÊÑè@distinctUnionOfArraysËøêÁÆóÁ¨¶Á±ª‰ºº, ‰ΩÜÂà†Èô§ÈáçÂ§çÁöÑÂØπË±°„ÄÇ ÂµåÂ•óËøêÁÆóÁ¨¶ÂµåÂ•óËøêÁÆóÁ¨¶ÂØπÂµåÂ•óÈõÜÂêàËøõË°åÊìç‰Ωú, ÈõÜÂêàÊú¨Ë∫´ÁöÑÊØè‰∏™Êù°ÁõÆÈÉΩÂåÖÂê´‰∏Ä‰∏™ÈõÜÂêà„ÄÇ ÈáçË¶ÅÂ¶ÇÊûúÂú®‰ΩøÁî®ÂµåÂ•óËøêÁÆóÁ¨¶Êó∂, Êúâ‰ªª‰ΩïÂè∂(leaf)ÂØπË±°‰∏∫nil, ÂàôvalueForKeyPath:ÊñπÊ≥ïÂ∞ÜÂºïÂèëÂºÇÂ∏∏„ÄÇ ÂØπ‰∫é‰∏ãÈù¢ÁöÑËØ¥Êòé, ËØ∑ÁúãÁ¨¨‰∫å‰∏™Áß∞‰∏∫moreTransactionsÁöÑÊï∞ÊçÆÊï∞ÁªÑ, ÂÖ∂‰∏≠Â°´ÂÖÖ‰∫ÜË°® 4-2‰∏≠ÁöÑÊï∞ÊçÆ, Âπ∂‰∏éÂéüÊù•ÁöÑtransactionsÊï∞ÁªÑ‰∏ÄËµ∑ÊèíÂÖ•ÂµåÂ•óÊï∞ÁªÑ: NSArray* moreTransactions = @[]; NSArray* arrayOfArrays = @[self.transactions, moreTransactions]; Ë°® 4-2 moreTransactionsÊï∞ÁªÑ‰∏≠ÂÅáËÆæÁöÑTransactionÊï∞ÊçÆ payee amount date General Cable - Cottage $120.00 Dec 18, 2015 General Cable - Cottage $155.00 Jan 9, 2016 General Cable - Cottage $120.00 Dec 1, 2016 Second Mortgage $1,250.00 Nov 15, 2016 Second Mortgage $1,250.00 Sep 20, 2016 Second Mortgage $1,250.00 Feb 12, 2016 Hobby Sho $600.00 Jun 14, 2016 @distinctUnionOfArraysÊåáÂÆö@distinctUnionOfArraysËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:ÂàõÂª∫Âπ∂ËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑ, ÂÖ∂‰∏≠ÂåÖÂê´‰∏éÂè≥ÈîÆË∑ØÂæÑÊåáÂÆöÁöÑÂ±ûÊÄßÁõ∏ÂØπÂ∫îÁöÑÊâÄÊúâÈõÜÂêàÁöÑÁªÑÂêàÁöÑ‰∏çÂêåÂØπË±°„ÄÇ Âú®arrayOfArrays‰∏≠ÁöÑÊâÄÊúâÊï∞ÁªÑ‰∏≠Ëé∑ÂèñpayeeÂ±ûÊÄßÁöÑ‰∏çÂêåÂÄº: NSArray *collectedDistinctPayees = [arrayOfArrays valueForKeyPath:@&quot;@distinctUnionOfArrays.payee&quot;]; ÁîüÊàêÁöÑcollectedDistinctPayeesÊï∞ÁªÑÂåÖÂê´‰ª•‰∏ãÂÄº: Hobby Shop, Mortgage, Animal Hospital, Second Mortgage, Car Loan, General Cable - Cottage, General Cable, Green Power„ÄÇ Ê≥®ÊÑè@unionOfArraysËøêÁÆóÁ¨¶Á±ª‰ºº, ‰ΩÜ‰∏çÁßªÈô§ÈáçÂ§çÂØπË±°„ÄÇ @unionOfArraysÊåáÂÆö@unionOfArraysËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:ÂàõÂª∫Âπ∂ËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑ, ÂÖ∂‰∏≠ÂåÖÂê´‰∏éÁî±Âè≥ÈîÆË∑ØÂæÑÊåáÂÆöÁöÑÂ±ûÊÄßÁõ∏ÂØπÂ∫îÁöÑÊâÄÊúâÈõÜÂêàÁöÑÁªÑÂêàÁöÑÊâÄÊúâÂØπË±°, ËÄå‰∏çÂà†Èô§ÈáçÂ§çÈ°π„ÄÇ Âú®arrayOfArrays‰∏≠ÁöÑÊâÄÊúâÊï∞ÁªÑ‰∏≠Ëé∑ÂèñpayeeÂ±ûÊÄßÁöÑÂÄº: NSArray *collectedPayees = [arrayOfArrays valueForKeyPath:@&quot;@unionOfArrays.payee&quot;]; ÁîüÊàêÁöÑcollectedPayeesÊï∞ÁªÑÂåÖÂê´‰ª•‰∏ãÂÄº:Green Power, Green Power, Green Power, Car Loan, Car Loan, Car Loan, General Cable, General Cable, General Cable, Mortgage, Mortgage, Mortgage, Animal Hospital, General Cable„ÄÇ Ê≥®ÊÑè@distinctUnionOfArraysËøêÁÆóÁ¨¶Á±ª‰ºº, ‰ΩÜÁßªÈô§ÈáçÂ§çÂØπË±°„ÄÇ @distinctUnionOfSetsÂΩìÊåáÂÆö@distinctUnionOfSetsËøêÁÆóÁ¨¶Êó∂, valueForKeyPath:ÂàõÂª∫Âπ∂ËøîÂõû‰∏Ä‰∏™NSSetÂØπË±°, ÂÖ∂‰∏≠ÂåÖÂê´‰∏éÁî±Âè≥ÈîÆË∑ØÂæÑÊâÄÊåáÂÆöÁöÑÂ±ûÊÄßÁõ∏ÂØπÂ∫îÁöÑÊâÄÊúâÈõÜÂêàÁªÑÂêàÁöÑ‰∏çÂêåÂØπË±°„ÄÇ Ê≠§ËøêÁÆóÁ¨¶ÁöÑË°å‰∏∫‰∏é@distinctUnionOfArraysÁ±ª‰ºº, Âè™ÊòØÂÆÉÈúÄË¶Å‰∏Ä‰∏™ÂåÖÂê´NSSetÂÆû‰æãÁöÑNSSetÂÆû‰æãÂØπË±°, ÂÖ∂‰∏≠, ËÄå‰∏çÊòØÂåÖÂê´NSArrayÂÆû‰æãÁöÑNSArrayÂÆû‰æãÂØπË±°„ÄÇÊ≠§Â§ñ, ÂÆÉËøòËøîÂõû‰∏Ä‰∏™NSSetÂÆû‰æã„ÄÇÂÅáËÆæÁ§∫‰æãÊï∞ÊçÆÂ∑≤Â≠òÂÇ®Âú®ÈõÜÂêàËÄå‰∏çÊòØÊï∞ÁªÑ‰∏≠, ÂàôÁ§∫‰æãË∞ÉÁî®ÂíåÁªìÊûú‰∏é@distinctUnionOfArrays‰∏≠ÊòæÁ§∫ÁöÑÁõ∏Âêå„ÄÇ Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVCÂÆòÊñπÊñáÊ°£-ÈîÆÂÄºÁºñÁ†ÅÊåáÂçóÁ¨¨‰∫åÈÉ®ÂàÜ2]]></title>
    <url>%2F2018%2F09%2F18%2FKVC%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-%E9%94%AE%E5%80%BC%E7%BC%96%E7%A0%81%E6%8C%87%E5%8D%97%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%862%2F</url>
    <content type="text"><![CDATA[Key-Value Coding Programming Guide ÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨2ËäÇ2018.9.20 Á¨¨‰∏ÄÊ¨°‰øÆÊ≠£ iOS-KVCÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨2ËäÇ Key-Value Coding Fundamatals‚ÄìAccessing Collection PropertiesËÆøÈóÆÈõÜÂêàÂ±ûÊÄßÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°‰ª•‰∏éÂÖ¨ÂºÄÂÖ∂‰ªñÂ±ûÊÄßÁõ∏ÂêåÁöÑÊñπÂºèÂÖ¨ÂºÄÂÖ∂Â§öÂØπÂ§öÂ±ûÊÄß„ÄÇÊÇ®ÂèØ‰ª•ÂÉè‰ΩøÁî®‰ªª‰ΩïÂÖ∂‰ªñÂØπË±°valueForKey:ÂíåsetValue:forKey: (ÊàñÂÆÉ‰ª¨ÁöÑÈîÆË∑ØÂæÑÁ≠âÂêåÊñπÊ≥ï) ‰∏ÄÊ†∑Ëé∑ÂèñÊàñËÆæÁΩÆÈõÜÂêàÂØπË±°„ÄÇ‰ΩÜÊòØ, ÂΩìÊÇ®Ë¶ÅÊìç‰ΩúËøô‰∫õÈõÜÂêàÁöÑÂÜÖÂÆπÊó∂, ‰ΩøÁî®ÂçèËÆÆÂÆö‰πâÁöÑÂèØÂèò‰ª£ÁêÜÊñπÊ≥ïÈÄöÂ∏∏ÊòØÊúÄÊúâÊïàÁöÑ„ÄÇ ËØ•ÂçèËÆÆ‰∏∫ÈõÜÂêàÂØπË±°ËÆøÈóÆÂÆö‰πâ‰∫Ü‰∏âÁßç‰∏çÂêåÁöÑ‰ª£ÁêÜÊñπÊ≥ï, ÊØè‰∏™ÈÉΩÂÖ∑Êúâ‰∏Ä‰∏™ÈîÆÂíå‰∏Ä‰∏™ÈîÆË∑ØÂæÑÂèò‰ΩìÊñπÊ≥ï: mutableArrayValueForKey: Âíå mutableArrayValueForKeyPath: Ëøô‰∏§‰∏™ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™Á±ª‰ºº‰∫éNSMutableArrayÂØπË±°ÁöÑ‰ª£ÁêÜÂØπË±°„ÄÇ mutableSetValueForKey: Âíå mutableSetValueForKeyPath: Ëøô‰∏§‰∏™ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™Á±ª‰ºº‰∫éNSMutableSetÂØπË±°ÁöÑ‰ª£ÁêÜÂØπË±°„ÄÇ mutableOrderedSetValueForKey: Âíå mutableOrderedSetValueForKeyPath: Ëøô‰∏§‰∏™ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™Á±ª‰ºº‰∫é`NSMutableOrderedSet`ÂØπË±°ÁöÑ‰ª£ÁêÜÂØπË±°„ÄÇ ÂΩìÊÇ®ÂØπ‰ª£ÁêÜÂØπË±°ËøõË°åÊìç‰ΩúÔºåÂêëÂØπË±°Ê∑ªÂä†ÂØπË±°Ôºå‰ªé‰∏≠Âà†Èô§ÂØπË±°ÊàñÊõøÊç¢ÂØπË±°Êó∂, ÂçèËÆÆÁöÑÈªòËÆ§ÂÆûÁé∞Â∞ÜÁõ∏Â∫îÂú∞‰øÆÊîπÂü∫Á°ÄÂ±ûÊÄß„ÄÇËøôÊØî‰ΩøÁî®valueForKey:ÂæóÂà∞‰∏Ä‰∏™‰∏çÂèØÂèòÈõÜÂêàÂØπË±°Êõ¥ÊúâÊïàÔºåÂàõÂª∫‰∏Ä‰∏™‰øÆÊîπ‰∫ÜÂÜÖÂÆπÁöÑÂèØÂèòÈõÜÂêàÂØπË±°ÔºåÁÑ∂Âêé‰ΩøÁî®setValue:forKey:Ê∂àÊÅØÂ∞ÜÂÖ∂Â≠òÂÇ®ÂõûÂØπË±°„ÄÇÂú®ËÆ∏Â§öÊÉÖÂÜµ‰∏ã, ÂÆÉ‰πüÊØîÁõ¥Êé•‰ΩøÁî®ÂèØÂèòÂ±ûÊÄßÊõ¥ÊúâÊïà„ÄÇËøô‰∫õÊñπÊ≥ïÊèê‰æõ‰∫ÜÂØπÈõÜÂêàÂØπË±°‰∏≠‰øùÂ≠òÁöÑÂØπË±°‰øùÊåÅÈîÆÂÄºËßÇÂØüÈÅµ‰ªéÊÄßÁöÑÈ¢ùÂ§ñÂ•ΩÂ§Ñ (ÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖKey-Value Observing Programming Guide„ÄÇ Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVCÂÆòÊñπÊñáÊ°£-ÈîÆÂÄºÁºñÁ†ÅÊåáÂçóÁ¨¨‰∫åÈÉ®ÂàÜ1]]></title>
    <url>%2F2018%2F09%2F18%2FKVC%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-%E9%94%AE%E5%80%BC%E7%BC%96%E7%A0%81%E6%8C%87%E5%8D%97%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%861%2F</url>
    <content type="text"><![CDATA[Key-Value Coding Programming Guide ÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨1ËäÇ2018.9.20 Á¨¨‰∏ÄÊ¨°‰øÆÊ≠£ iOS-KVCÂÆòÊñπÊñáÊ°£Á¨¨‰∫åÈÉ®ÂàÜÁ¨¨1ËäÇ Key-Value Coding Fundamatals‚ÄìAccessing Object Properties ÈîÆÂÄºÁºñÁ†ÅÂü∫Á°Ä‚Äì ËÆøÈóÆÂØπË±°Â±ûÊÄß ËÆøÈóÆÂØπË±°Â±ûÊÄßÂØπË±°ÈÄöÂ∏∏Âú®ÂÖ∂Êé•Âè£Â£∞Êòé‰∏≠ÊåáÂÆöÂ±ûÊÄß, Ëøô‰∫õÂ±ûÊÄßÂ±û‰∫é‰ª•‰∏ãÂá†ÁßçÁ±ªÂà´‰πã‰∏Ä: Â±ûÊÄß. ÊåáÁÆÄÂçïÂÄº, ‰æãÂ¶ÇÊ†áÈáè(scalars)„ÄÅÂ≠óÁ¨¶‰∏≤ÊàñÂ∏ÉÂ∞îÂÄº„ÄÇÂÄºÂØπË±°(Â¶ÇNSNumber)ÂíåÂÖ∂‰ªñ‰∏çÂèØÂèòÁ±ªÂûã(Â¶ÇNSColor) ‰πüË¢´ËßÜ‰∏∫Â±ûÊÄß„ÄÇ ‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ª. ÊåáÂÖ∑ÊúâËá™Â∑±Â±ûÊÄßÁöÑÂèØÂèòÂØπË±°„ÄÇÂØπË±°ÁöÑÂ±ûÊÄßÂèØ‰ª•Âú®ÂØπË±°Êú¨Ë∫´‰∏çÂèòÁöÑÊÉÖÂÜµ‰∏ãÊõ¥Êîπ„ÄÇ‰æãÂ¶ÇÔºåÈì∂Ë°åÂ∏êÊà∑ÂØπË±°(bank account object)ÂèØËÉΩÂÖ∑ÊúâownerÂ±ûÊÄßÔºåËØ•Â±ûÊÄßÊòØPersonÂØπË±°ÁöÑÂÆû‰æãÔºåËØ•PersonÂØπË±°ÂÖ∑ÊúâaddressÂ±ûÊÄß„ÄÇownerÁöÑaddressÂèØËÉΩ‰ºöÊõ¥ÊîπÔºåËÄå‰∏ç‰ºöÊõ¥ÊîπÈì∂Ë°åÂ∏êÊà∑ÊåÅÊúâÁöÑowner„ÄÇÈì∂Ë°åÂ∏êÊà∑ÁöÑownerÊ≤°ÊúâÂèòÊõ¥„ÄÇÂè™ÊúâPersonÁöÑaddress ÂèëÁîüÊîπÂèò„ÄÇ ‰∏ÄÂØπÂ§öÂÖ≥Á≥ª. ÊåáÈõÜÂêàÂØπË±°„ÄÇ‰Ω†ÈÄöÂ∏∏‰ΩøÁî®NSArrayÊàñNSSet‰øùÂ≠òÊ≠§Á±ªÈõÜÂêàÁöÑÂÆû‰æãÔºå‰ΩÜ‰πüÂèØ‰ª•‰ΩøÁî®Ëá™ÂÆö‰πâÈõÜÂêàÁ±ª„ÄÇ Ê∏ÖÂçï 2-1‰∏≠Â£∞ÊòéÁöÑBankAccountÂØπË±°ÊºîÁ§∫‰∫ÜÊØèÁßçÁ±ªÂûãÁöÑÂ±ûÊÄß„ÄÇ Ê∏ÖÂçï 2-1BankAccountÂØπË±°ÁöÑÂ±ûÊÄß @interface BankAccount : NSObject @property (nonatomic) NSNumber* currentBalance; // An attribute @property (nonatomic) Person* owner; // A to-one relation @property (nonatomic) NSArray* transactions; // A to-many relation @end ‰∏∫‰∫Ü‰øùÊåÅÂ∞ÅË£ÖÔºåÂØπË±°ÈÄöÂ∏∏‰∏∫ÂÖ∂Êé•Âè£‰∏äÁöÑÂ±ûÊÄßÊèê‰æõËÆøÈóÆÂô®ÊñπÊ≥ï„ÄÇÂØπË±°ÁöÑ‰ΩúËÄÖÂèØ‰ª•ÊòæÂºèÂú∞ÁºñÂÜôËøô‰∫õÊñπÊ≥ïÔºå‰πüÂèØ‰ª•‰æùËµñÁºñËØëÂô®Ëá™Âä®ÂêàÊàêÂÆÉ‰ª¨„ÄÇÊó†ËÆ∫Âì™ÁßçÊñπÂºèÔºå‰ΩøÁî®Ëøô‰∫õËÆøÈóÆÂô®‰πã‰∏ÄÁöÑ‰ª£Á†ÅÁöÑ‰ΩúËÄÖÂøÖÈ°ªÂú®ÁºñËØë‰πãÂâçÂ∞ÜÂ±ûÊÄßÂêçÁß∞ÂÜôÂÖ•‰ª£Á†Å‰∏≠„ÄÇËÆøÈóÆÂô®ÊñπÊ≥ïÁöÑÂêçÁß∞Êàê‰∏∫‰ΩøÁî®ÂÆÉÁöÑ‰ª£Á†ÅÁöÑÈùôÊÄÅÈÉ®ÂàÜ„ÄÇ‰æãÂ¶ÇÔºåÁªôÂÆöÊ∏ÖÂçï2-1‰∏≠Â£∞ÊòéÁöÑBankAccountÂØπË±°ÔºåÁºñËØëÂô®‰ºöÂêàÊàê‰∏Ä‰∏™ÂèØ‰ª•‰∏∫myAccountÂÆû‰æãË∞ÉÁî®ÁöÑsetter Ôºö [myAccount setCurrentBalance:@(100.0)]; ËøôÊòØÁõ¥Êé•ÁöÑÔºå‰ΩÜÁº∫‰πèÁÅµÊ¥ªÊÄß„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°Êèê‰æõ‰∫Ü‰ΩøÁî®Â≠óÁ¨¶‰∏≤Ê†áËØÜÁ¨¶ËÆøÈóÆÂØπË±°Â±ûÊÄßÁöÑÊõ¥ÈÄöÁî®Êú∫Âà∂„ÄÇ ‰ΩøÁî®Keys Âíå Key PathsÊ†áËØÜÂØπË±°ÁöÑÂ±ûÊÄßÈîÆ(key)ÊòØÊ†áËØÜÁâπÂÆöÂ±ûÊÄßÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇÈÄöÂ∏∏, ÊåâÁÖßÊÉØ‰æã, Ë°®Á§∫Â±ûÊÄßÁöÑÈîÆ(key)ÊòØ‰ª£Á†Å‰∏≠ÊòæÁ§∫ÁöÑÂ±ûÊÄßÂêç„ÄÇÈîÆ(key)ÂøÖÈ°ª‰ΩøÁî® ASCII ÁºñÁ†Å, ‰∏çËÉΩÂåÖÂê´Á©∫Ê†º, Âπ∂‰∏îÈÄöÂ∏∏‰ª•Â∞èÂÜôÂ≠óÊØçÂºÄÂ§¥ (Â∞ΩÁÆ°Êúâ‰æãÂ§ñ, Â¶ÇÂú®ËÆ∏Â§öÁ±ª‰∏≠ÁöÑURLÂ±ûÊÄß)„ÄÇ Áî±‰∫éÊ∏ÖÂçï 2-1‰∏≠ÁöÑBankAccountÁ±ªÊòØÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑ, ÊâÄ‰ª•ÂÆÉËÉΩËØÜÂà´ÈîÆ(Âç≥ÂÆÉÁöÑÂ±ûÊÄßÁöÑÂêçÁß∞)owner„ÄÅcurrentBalanceÂíåtransactions „ÄÇÊÇ®‰πüÂèØ‰ª•ÈÄöËøáÂÖ∂ÈîÆÊù•ËÆæÁΩÆÂÄº, ËÄå‰∏çÊòØË∞ÉÁî®setCurrentBalance:ÊñπÊ≥ï: [myAccount setValue:@(100.0) forKey:@"currentBalance"]; ÂÆûÈôÖ‰∏ä, ÊÇ®ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑÈîÆÂèÇÊï∞ÈÄöËøáÁõ∏ÂêåÊñπÊ≥ïÊù•ËÆæÁΩÆmyAccountÂØπË±°ÁöÑÊâÄÊúâÂ±ûÊÄß„ÄÇÂõ†‰∏∫ÂèÇÊï∞ÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûã, ÊâÄ‰ª•ÂÆÉÂèØ‰ª•Âú®ËøêË°åÊó∂Êìç‰ΩúÂèòÈáè„ÄÇ ÈîÆË∑ØÂæÑKey pathÊòØ‰∏Ä‰∏™Áî®ÁÇπÊìç‰ΩúÁ¨¶.Êù•ÂàÜÈöîÈîÆÁöÑÂ≠óÁ¨¶‰∏≤, Áî®‰∫éÊåáÂÆöË¶ÅÈÅçÂéÜÁöÑÂØπË±°Â±ûÊÄßÂ∫èÂàó„ÄÇÂ∫èÂàó‰∏≠Á¨¨‰∏Ä‰∏™ÈîÆÁöÑÂ±ûÊÄßÊòØÁõ∏ÂØπ‰∫éÊé•Êî∂ËÄÖÁöÑ, ÊØè‰∏™ÂêéÁª≠ÈîÆÁõ∏ÂØπ‰∫é‰∏ä‰∏Ä‰∏™Â±ûÊÄßÁöÑÂÄºËøõË°åËÆ°ÁÆó„ÄÇÈîÆË∑ØÂæÑ(Key path)ÂØπ‰∫é‰ΩøÁî®Âçï‰∏™ÊñπÊ≥ïÊ∑±ÂÖ•Ë∞ÉÁî®ÂØπË±°ÁöÑÂ±ÇÊ¨°ÁªìÊûÑÂæàÊúâÁî®„ÄÇ ‰æãÂ¶Ç, Â∫îÁî®‰∫éÈì∂Ë°åÂ∏êÊà∑ÂÆû‰æãÁöÑÈîÆË∑ØÂæÑowner.address.streetÊòØÊåáÂ≠òÂÇ®Âú®Èì∂Ë°åÂ∏êÊà∑ÊâÄÊúâËÄÖÂú∞ÂùÄ‰∏≠ÁöÑË°óÈÅìÂ≠óÁ¨¶‰∏≤ÁöÑÂÄº, ÂÅáËÆæPersonÂíåAddressÁ±ª‰πüÁ¨¶ÂêàÁöÑÈîÆÂÄºÁºñÁ†Å„ÄÇ Ê≥®ÊÑèÂú® Swift ‰∏≠, ÊÇ®ÂèØ‰ª•‰ΩøÁî®#keyPathË°®ËææÂºè, ËÄå‰∏çÊòØ‰ΩøÁî®Â≠óÁ¨¶‰∏≤Êù•ÊåáÁ§∫ÈîÆÊàñÈîÆË∑ØÂæÑ„ÄÇËøôÊèê‰æõ‰∫ÜÁºñËØëÊó∂Ê£ÄÊü•ÁöÑ‰ºòÁÇπ, ËØ¶ËßÅUsing Swift with Cocoa and Objective-C (Swift 4.2) ‰∏≠ÁöÑKeys and Key PathsÁ´†ËäÇ„ÄÇ ‰ΩøÁî®ÈîÆËé∑ÂèñÂ±ûÊÄßÂÄºÂØπË±°Âú®ÈÅµÂæ™NSKeyValueCodingÂçèËÆÆÊó∂Á¨¶ÂêàÈîÆÂÄºÁºñÁ†Å„ÄÇÁªßÊâøËá™ÁöÑÂØπË±°ÔºàNSObjectÊèê‰æõÂçèËÆÆÁöÑÂü∫Êú¨ÊñπÊ≥ïÁöÑÈªòËÆ§ÂÆûÁé∞Ôºâ‰ºöËá™Âä®ÈááÁî®Ê≠§ÂçèËÆÆÁöÑÊüê‰∫õÈªòËÆ§Ë°å‰∏∫„ÄÇËøôÊ†∑ÁöÑÂØπË±°Ëá≥Â∞ëÂÆûÁé∞‰∫Ü‰ª•‰∏ãÂü∫‰∫éÈîÆÁöÑÂü∫Êú¨getterÔºö valueForKey: - ËøîÂõûÁî±keyÂèÇÊï∞ÊåáÂÆöÁöÑÂ±ûÊÄßÁöÑÂÄº„ÄÇÂ¶ÇÊûúÊ†πÊçÆËÆøÈóÆËÄÖÊêúÁ¥¢Ê®°Âºè‰∏≠ÊèèËø∞ÁöÑËßÑÂàôÊó†Ê≥ïÊâæÂà∞keyÂëΩÂêçÁöÑÂ±ûÊÄßÔºåÂàôËØ•ÂØπË±°‰ºöÂêëËá™Ë∫´ÂèëÈÄÅvalueForUndefinedKey:Ê∂àÊÅØ„ÄÇvalueForUndefinedKey:ÂºïÂèëÁöÑÈªòËÆ§ÂÆûÁé∞ÊäõÂá∫NSUndefinedKeyExceptionÂºÇÂ∏∏Ôºå‰ΩÜÊòØÂ≠êÁ±ªÂèØ‰ª•Ë¶ÜÁõñÊ≠§ÊñπÊ≥ïÂπ∂Êõ¥‰ºòÈõÖÂú∞Â§ÑÁêÜËøôÁßçÊÉÖÂÜµ„ÄÇ valueForKeyPath: - ËøîÂõûÁõ∏ÂØπ‰∫éÊé•Êî∂Âô®ÁöÑÊåáÂÆöÈîÆË∑ØÂæÑÁöÑÂÄº„ÄÇkeyPathÂ∫èÂàó‰∏≠ÁöÑ‰ªª‰ΩïÂØπË±°ÈÉΩ‰∏çÁ¨¶ÂêàÁâπÂÆökeyÁöÑÈîÆÂÄºÁºñÁ†Å - Âç≥ÔºåÈªòËÆ§ÂÆûÁé∞valueForKey:Êó†Ê≥ïÊâæÂà∞ËÆøÈóÆÂô®ÊñπÊ≥ï - -ÈÇ£‰πàÂ∞±‰ºöÊé•Êî∂valueForUndefinedKey:Ê∂àÊÅØ„ÄÇ dictionaryWithValuesForKeys: - ËøîÂõûÁõ∏ÂØπ‰∫éÊé•Êî∂Âô®ÁöÑ‰∏ÄÁªÑÈîÆÊâÄÂØπÂ∫îÁöÑÂÄº„ÄÇËØ•ÊñπÊ≥ï‰∏∫Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÈîÆË∞ÉÁî®valueForKey:„ÄÇËøîÂõûÁöÑNSDictionaryÂåÖÂê´Êï∞ÁªÑ‰∏≠ÊâÄÊúâÈîÆÁöÑÂÄº„ÄÇ Ê≥®ÊÑèÈõÜÂêàÂØπË±° (Â¶ÇNSArray„ÄÅ NSSetÂíåNSDictionary) ‰∏çËÉΩÂåÖÂê´nilÁöÑÂÄº„ÄÇËÄåÊòØ‰ΩøÁî®NSNullÂØπË±°Ë°®Á§∫nilÂÄº„ÄÇNSNullÊèê‰æõ‰∏Ä‰∏™Ë°®Á§∫ÂØπË±°Â±ûÊÄßÁöÑnilÂÄºÁöÑÂçï‰∏™ÂÆû‰æã„ÄÇdictionaryWithValuesForKeys:ÁöÑÈªòËÆ§ÂÆûÁé∞ÂíåÁõ∏ÂÖ≥ÁöÑsetValuesForKeysWithDictionary:‰ºöÂú®NSNull (Âú®Â≠óÂÖ∏ÂèÇÊï∞‰∏≠) Âíånil(Âú®Â≠òÂÇ®ÁöÑÂ±ûÊÄß‰∏≠)‰πãÈó¥ËøõË°åËá™Âä®ËΩ¨Êç¢ „ÄÇ ÂΩìÊÇ®‰ΩøÁî®KeyPathÊù•ÂØªÂùÄÂ±ûÊÄßÊó∂, Â¶ÇÊûúÈîÆË∑ØÂæÑ‰∏≠ÁöÑÊúÄÂêé‰∏Ä‰∏™ÈîÆÊòØ‰∏ÄÂØπÂ§öÂÖ≥Á≥ª (Âç≥ÂºïÁî®ÈõÜÂêà), ÂàôÂú®Â§öÂØπÈîÆÁöÑÂè≥‰æß,ËøîÂõûÁöÑÂÄºÊòØ‰∏Ä‰∏™ÂåÖÂê´ÈîÆÁöÑÊâÄÊúâÂÄºÁöÑÈõÜÂêà„ÄÇ‰æãÂ¶Ç, ËØ∑Ê±ÇÈîÆË∑ØÂæÑ ‚Äútransactions.payee‚Äú ÁöÑÂÄºËøîÂõûÂåÖÂê´ÊâÄÊúâtransactionÂØπË±°‰∏≠payeeÂØπË±°ÁöÑÊï∞ÁªÑ„ÄÇËøô‰πüÈÄÇÁî®‰∫éKeyPath‰∏≠ÁöÑÂ§ö‰∏™Êï∞ÁªÑ„ÄÇKeyPath accounts.transactions.payeeËøîÂõû‰∏Ä‰∏™Êï∞ÁªÑÔºåÂÖ∂‰∏≠ÂåÖÂê´ÊâÄÊúâÂ∏êÊà∑‰∏≠ÊâÄÊúâ‰∫§ÊòìÁöÑÊâÄÊúâÊî∂Ê¨æ‰∫∫ÂØπË±°„ÄÇ ‰ΩøÁî®ÈîÆËÆæÁΩÆÂ±ûÊÄßÂÄº‰∏é getter‰∏ÄÊ†∑, Á¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°‰πüÊèê‰æõ‰∫Ü‰∏ÄÂ∞èÁªÑÈÄöÁî®setterÔºåÂÖ∂ÈªòËÆ§Ë°å‰∏∫Âü∫‰∫é‰ª•‰∏ãNSKeyValueCodingÂçèËÆÆÁöÑÂÆûÁé∞NSObject: setValue:forKey: - Â∞ÜÊåáÂÆöÈîÆËÆæÁΩÆ‰∏∫ÁªôÂÆöÂÄº„ÄÇsetValue:forKey:ÁöÑÈªòËÆ§ÂÆûÁé∞‰ºöËá™Âä®ÂØπË°®Á§∫Ê†áÈáèÂíåÁªìÊûÑ‰ΩìÁöÑNSNumberÂíåNSValueÂØπË±°ÊâßË°åËß£ÂåÖÊìç‰ΩúÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ËÆæÁΩÆÂà∞Áõ∏Â∫îÁöÑÂ±ûÊÄß‰∏≠„ÄÇÊúâÂÖ≥ÂåÖË£Ö(warp)ÂíåËß£ÂåÖ(unwarp)ËØ≠‰πâÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖRepresenting Non-Object Values„ÄÇ Â¶ÇÊûúÊé•Êî∂setterË∞ÉÁî®ÁöÑÂØπË±°‰∏≠Ê≤°ÊúâÂØπÂ∫îÊåáÂÆöÈîÆÁöÑÂ±ûÊÄßÔºåËØ•ÂØπË±°Â∞ÜÁªôËá™Â∑±ÂèëÈÄÅ‰∏Ä‰∏™[setValue:forUndefinedKey:]Ê∂àÊÅØ„ÄÇsetValue:forUndefinedKey:ÁöÑÈªòËÆ§ÂÆûÁé∞Â∞ÜÊäõÂá∫NSUndefinedKeyExceptionÂºÇÂ∏∏„ÄÇ‰ΩÜÊòØ, Â≠êÁ±ªÂèØ‰ª•ÈáçÂÜôÊ≠§ÊñπÊ≥ï‰ª•Ëá™ÂÆö‰πâÊñπÂºèÂ§ÑÁêÜËØ∑Ê±Ç„ÄÇ setValue:forKeyPath: Âú®Áõ∏ÂØπ‰∫éÊé•Êî∂ËÄÖÁöÑÊåáÂÆöÈîÆË∑ØÂæÑ‰∏äËÆæÁΩÆÁªôÂÆöÂÄº„ÄÇÈîÆË∑ØÂæÑÂ∫èÂàó‰∏≠ÊåáÂÆöÈîÆÊâÄÂØπÂ∫îÁöÑÂØπË±°Â¶ÇÊûú‰∏çÊòØÈîÆÂÄºÁºñÁ†ÅÂÖºÂÆπÁöÑÔºåÂ∞Ü‰ºöÊî∂Âà∞setValue:forUndefinedKey:Ê∂àÊÅØ„ÄÇ setValuesForKeysWithDictionary: Â∞ÜÊåáÂÆöÂ≠óÂÖ∏‰∏≠ÁöÑÂÄºËÆæÁΩÆÂà∞Êé•Êî∂ËÄÖÁöÑÂ±ûÊÄß‰∏≠, ‰ΩøÁî®Â≠óÂÖ∏ÈîÆÊ†áËØÜÂ±ûÊÄß„ÄÇÈªòËÆ§ÂÆûÁé∞Ë∞ÉÁî®ÊØè‰∏™ÈîÆÂÄºÂØπÁöÑsetValue:forKey: , Ê†πÊçÆÈúÄË¶ÅÁî®nilÊõøÊç¢NSNullÂØπË±°„ÄÇ Âú®ÈªòËÆ§ÂÆûÁé∞‰∏≠, ÂΩìÊÇ®Â∞ùËØïÂ∞ÜÈùûÂØπË±°Â±ûÊÄßËÆæÁΩÆ‰∏∫nilÂÄºÊó∂, Á¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÂÖºÂÆπÂØπË±°Â∞ÜËá™Â∑±ÂèëÈÄÅ‰∏Ä‰∏™setNilValueForKey:Ê∂àÊÅØ„ÄÇsetNilValueForKey:ÁöÑÈªòËÆ§ÂÆûÁé∞Â∞ÜÊäõÂá∫[NSInvalidArgumentException]ÂºÇÂ∏∏, ‰ΩÜÂØπË±°ÂèØ‰ª•ÈáçÂÜôÊ≠§ÊñπÊ≥ï‰ª•ÊõøÊç¢ÈªòËÆ§ÂÄºÊàñÊ†áËÆ∞ÂÄº, ËØ¶ËßÅÂ§ÑÁêÜÈùûÂØπË±°ÂÄº„ÄÇ ‰ΩøÁî®ÈîÆÁÆÄÂåñÂØπË±°ËÆøÈóÆÊÉ≥Áü•ÈÅìÂü∫‰∫ékeyÁöÑ getter Âíå setter Â¶Ç‰ΩïÁÆÄÂåñ‰ª£Á†Å, ËØ∑Êü•Áúã‰∏ãÈù¢ÁöÑÁ§∫‰æã„ÄÇÂú® macOS ‰∏≠, NSTableViewÂíåNSOutlineViewÂØπË±°ÁöÑÊ†áËØÜÁ¨¶Â≠óÁ¨¶‰∏≤‰∏éÊØè‰∏™ÂÆÉ‰ª¨ÁöÑÂàóÁõ∏ÂÖ≥ËÅî„ÄÇÂ¶ÇÊûúË°®ÁöÑÊ®°ÂûãÂØπË±°‰∏çÊòØÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑ, ÂàôË°®ÁöÑÊï∞ÊçÆÊ∫êÊñπÊ≥ïÂ∞ÜÂº∫Âà∂Ê£ÄÊü•ÊØè‰∏™ÂàóÊ†áËØÜÁ¨¶, ‰æùÊ¨°Êü•ÊâæË¶ÅËøîÂõûÁöÑÊ≠£Á°ÆÂ±ûÊÄß, Â¶ÇÊ∏ÖÂçï 2-2ÊâÄÁ§∫„ÄÇÊ≠§Â§ñ, Âú®Â∞ÜÊù•, ÂΩìÊÇ®ÂêëÊ®°Âûã‰∏≠Ê∑ªÂä†Âè¶‰∏Ä‰∏™Â±ûÊÄßÊó∂, Âú®Êú¨‰æã‰∏≠‰∏∫Person ÂØπË±°, ËøòÂøÖÈ°ªÈáçÊñ∞ËÆøÈóÆÊï∞ÊçÆÊ∫êÊñπÊ≥ï, Ê∑ªÂä†Âè¶‰∏Ä‰∏™Êù°‰ª∂Êù•ÊµãËØïÊñ∞Â±ûÊÄßÂπ∂ËøîÂõûÁõ∏ÂÖ≥ÂÄº. Ê∏ÖÂçï 2-2 ‰∏çÂü∫‰∫éÈîÆÂÄºÁºñÁ†ÅÁöÑÊï∞ÊçÆÊ∫êÊñπÊ≥ïÁöÑÂÆûÁé∞ - (id)tableView:(NSTableView *)tableview objectValueForTableColumn:(id)column row:(NSInteger)row { id result = nil; Person *person = [self.people objectAtIndex:row]; if ([[column identifier] isEqualToString:@"name"]) { result = [person name]; } else if ([[column identifier] isEqualToString:@"age"]) { result = @([person age]); // Wrap age, a scalar, as an NSNumber } else if ([[column identifier] isEqualToString:@"favoriteColor"]) { result = [person favoriteColor]; } // And so on... return result; } Âè¶‰∏ÄÊñπÈù¢,Ê∏ÖÂçï 2-3Â±ïÁ§∫‰∫ÜÁõ∏ÂêåÊï∞ÊçÆÊ∫êÁöÑÊñπÊ≥ïÁöÑ‰∏Ä‰∏™Êõ¥Á¥ßÂáëÁöÑÂÆûÁé∞, ËØ•Êï∞ÊçÆÊ∫êÊñπÊ≥ï‰ΩøÁî®ÁöÑÊòØÈîÆÂÄºÁºñÁ†ÅÂÖºÂÆπÁöÑPersonÂØπË±°„ÄÇ‰ªÖ‰ΩøÁî®valueForKey: getter, Êï∞ÊçÆÊ∫êÊñπÊ≥ïÂ∞Ü‰ΩøÁî®ÂàóÊ†áËØÜÁ¨¶‰Ωú‰∏∫ÈîÆËøîÂõûÈÄÇÂΩìÁöÑÂÄº„ÄÇÈô§‰∫ÜÊõ¥Áü≠ÁöÑÊó∂Èó¥Â§ñ, ÂÆÉËøòÊõ¥ÈÄöÁî®, Âõ†‰∏∫Âú®‰ª•ÂêéÊ∑ªÂä†Êñ∞ÂàóÊó∂, Âè™Ë¶ÅÂàóÊ†áËØÜÁ¨¶ÂßãÁªà‰∏éÊ®°ÂûãÂØπË±°ÁöÑÂ±ûÊÄßÂêçÁß∞ÂåπÈÖç, ÂÆÉÂ∞±‰ºöÁªßÁª≠‰øùÊåÅ‰∏çÂèò„ÄÇ Ê∏ÖÂçï 2-3Âü∫‰∫éÈîÆÂÄºÁºñÁ†ÅÁöÑÊï∞ÊçÆÊ∫êÊñπÊ≥ïÁöÑÂÆûÁé∞ - (id)tableView:(NSTableView *)tableview objectValueForTableColumn:(id)column row:(NSInteger)row { return [[self.people objectAtIndex:row] valueForKey:[column identifier]]; } Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[KVCÂÆòÊñπÊñáÊ°£-ÈîÆÂÄºÁºñÁ†ÅÊåáÂçóÁ¨¨‰∏ÄÈÉ®ÂàÜ]]></title>
    <url>%2F2018%2F09%2F18%2FKVC%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3-%E9%94%AE%E5%80%BC%E7%BC%96%E7%A0%81%E6%8C%87%E5%8D%97%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%2F</url>
    <content type="text"><![CDATA[Key-Value Coding Programming Guide ÂÆòÊñπÊñáÊ°£Á¨¨‰∏ÄÈÉ®ÂàÜ2018.9.20 Á¨¨‰∏ÄÊ¨°‰øÆÊ≠£ iOS-KVCÂÆòÊñπÊñáÊ°£Á¨¨‰∏ÄÈÉ®ÂàÜ Key-Value Coding Programming Guide - Getting Started ÈîÆÂÄºÁºñÁ†ÅÁºñÁ®ãÊåáÂçó-ÂÖ•Èó® ËØ•ÊñáÊ°£ËãπÊûúÂÆòÊñπÂ∑≤‰∏çÂÜçÊõ¥Êñ∞„ÄÇÊúâÂÖ≥Apple SDKÁöÑÊúÄÊñ∞‰ø°ÊÅØÔºåËØ∑ËÆøÈóÆÊñáÊ°£ÁΩëÁ´ô„ÄÇ ÂÖ≥‰∫éÈîÆÂÄºÁºñÁ†ÅË°•ÂÖÖ: key-value coding ÁøªËØë‰∏∫ ÈîÆÂÄºÁºñÁ†Å , ÁÆÄÁß∞KVC. ÈîÆÂÄºÁºñÁ†ÅÊòØ‰∏ÄÁßçÁî±NSKeyValueCodingÈùûÊ≠£ÂºèÂçèËÆÆÂêØÁî®ÁöÑÊú∫Âà∂ÔºåÂØπË±°ÈááÁî®ËØ•Êú∫Âà∂Êèê‰æõÂØπÂÖ∂Â±ûÊÄßÁöÑÈó¥Êé•ËÆøÈóÆ„ÄÇÂΩìÂØπË±°Á¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÊó∂ÔºåÂÖ∂Â±ûÊÄßÂèØÈÄöËøáÂ≠óÁ¨¶‰∏≤ÂèÇÊï∞ÈÄöËøáÁÆÄÊ¥ÅÔºåÁªü‰∏ÄÁöÑÊ∂àÊÅØ‰º†ÈÄíÊé•Âè£ÂØªÂùÄ„ÄÇËøôÁßçÈó¥Êé•ËÆøÈóÆÊú∫Âà∂Ë°•ÂÖÖ‰∫ÜÂÆû‰æãÂèòÈáèÂèäÂÖ∂Áõ∏ÂÖ≥ËÆøÈóÆÂô®ÊñπÊ≥ïÊèê‰æõÁöÑÁõ¥Êé•ËÆøÈóÆ„ÄÇ ÊÇ®ÈÄöÂ∏∏‰ΩøÁî®ËÆøÈóÆÂô®ÊñπÊ≥ïÊù•ËÆøÈóÆÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇgetËÆøÈóÆÂô®ÔºàÊàñgetterÔºâËøîÂõûÂ±ûÊÄßÁöÑÂÄº„ÄÇsetËÆøÈóÆÂô®ÔºàÊàñsetterÔºâËÆæÁΩÆÂ±ûÊÄßÁöÑÂÄº„ÄÇÂú®Objective-C‰∏≠ÔºåÊÇ®ËøòÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÂ±ûÊÄßÁöÑÂü∫Á°ÄÂÆû‰æãÂèòÈáè„ÄÇ‰ª•‰ªª‰ΩïËøô‰∫õÊñπÂºèËÆøÈóÆÂØπË±°Â±ûÊÄßÈÉΩÂæàÁÆÄÂçïÔºå‰ΩÜÈúÄË¶ÅË∞ÉÁî®ÁâπÂÆö‰∫éÂ±ûÊÄßÁöÑÊñπÊ≥ïÊàñÂèòÈáèÂêçÁß∞„ÄÇÈöèÁùÄÂ±ûÊÄßÂàóË°®ÁöÑÂ¢ûÈïøÊàñÂèòÂåñÔºåËÆøÈóÆËøô‰∫õÂ±ûÊÄßÁöÑ‰ª£Á†Å‰πüÂøÖÈ°ªÂ¶ÇÊ≠§„ÄÇÁõ∏ÂèçÔºåÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊ∂àÊÅØ‰º†ÈÄíÊé•Âè£ÔºåËØ•Êé•Âè£Âú®ÂÖ∂ÊâÄÊúâÂ±ûÊÄß‰∏≠ÈÉΩÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ ÈîÆÂÄºÁºñÁ†ÅÊòØ‰∏Ä‰∏™Âü∫Êú¨Ê¶ÇÂøµÔºåÊòØËÆ∏Â§öÂÖ∂‰ªñCocoaÊäÄÊúØÁöÑÂü∫Á°ÄÔºå‰æãÂ¶ÇÈîÆÂÄºËßÇÂØü(key-value observing)ÔºåCocoaÁªëÂÆö(Cocoa bindings)ÔºåCore DataÂíåAppleScript-ability„ÄÇÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÈîÆÂÄºÁºñÁ†ÅËøòÊúâÂä©‰∫éÁÆÄÂåñ‰ª£Á†Å„ÄÇ ‰ΩøÁî®ÈîÆÂÄºÁºñÁ†ÅÂÖºÂÆπÂØπË±°ÂØπË±°ÈÄöÂ∏∏Âú®NSObjectÔºàÁõ¥Êé•ÊàñÈó¥Êé•ÔºâÁªßÊâøÊó∂ÈááÁî®ÈîÆÂÄºÁºñÁ†ÅÔºåÂÆÉ‰ª¨ÈÉΩÈááÁî®NSKeyValueCodingÂçèËÆÆÂπ∂‰∏∫Âü∫Êú¨ÊñπÊ≥ïÊèê‰æõÈªòËÆ§ÂÆûÁé∞„ÄÇËøôÊ†∑ÁöÑÂØπË±°ÈÄöËøáÁ¥ßÂáëÁöÑÊ∂àÊÅØ‰º†ÈÄíÊé•Âè£‰ΩøÂÖ∂‰ªñÂØπË±°ËÉΩÂ§üÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö ËÆøÈóÆÂØπË±°Â±ûÊÄß„ÄÇËØ•ÂçèËÆÆÊåáÂÆöÊñπÊ≥ïÔºå‰æãÂ¶Çgetter valueForKey: Âíåsetter setValue:forKey:ÔºåÁî®‰∫éÈÄöËøáÂêçÁß∞ÊàñÈîÆËÆøÈóÆÂØπË±°Â±ûÊÄßÔºåÂèÇÊï∞‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇËøô‰∫õÂíåÁõ∏ÂÖ≥ÊñπÊ≥ïÁöÑÈªòËÆ§ÂÆûÁé∞‰ΩøÁî®ÈîÆÊù•ÂÆö‰ΩçÂü∫Á°ÄÊï∞ÊçÆÂπ∂‰∏éÂÖ∂‰∫§‰∫íÔºåÂ¶ÇAccessing Object Properties„ÄÇ ÊìçÁ∫µÈõÜÂêàÂ±ûÊÄß„ÄÇËÆøÈóÆÊñπÊ≥ïÁöÑÈªòËÆ§ÂÆûÁé∞ÂíåÂØπË±°ÁöÑÈõÜÂêàÂ±ûÊÄßÔºàÂ¶ÇNSArrayÂØπË±°Ôºâ‰∏ÄÊ†∑Ôºå‰πüÂíå‰ªª‰ΩïÂÖ∂‰ªñÂ±ûÊÄß‰∏ÄÊ†∑„ÄÇÊ≠§Â§ñÔºåÂ¶ÇÊûúÂØπË±°ÂÆö‰πâÂ±ûÊÄßÁöÑÈõÜÂêàËÆøÈóÆÂô®ÊñπÊ≥ïÔºåÂàôÂÆÉÂÖÅËÆ∏ÂØπÈõÜÂêàÂÜÖÂÆπËøõË°åÈîÆÂÄºËÆøÈóÆ„ÄÇËøôÈÄöÂ∏∏ÊØîÁõ¥Êé•ËÆøÈóÆÊõ¥ÊúâÊïàÔºåÂπ∂ÂÖÅËÆ∏ÊÇ®ÈÄöËøáÊ†áÂáÜÂåñÁïåÈù¢‰ΩøÁî®Ëá™ÂÆö‰πâÈõÜÂêàÂØπË±°ÔºåÂ¶ÇAccessing Collection Properties„ÄÇ Âú®ÈõÜÂêàÂØπË±°‰∏äË∞ÉÁî®ÈõÜÂêàËøêÁÆóÁ¨¶„ÄÇÂú®Á¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°‰∏≠ËÆøÈóÆÈõÜÂêàÂ±ûÊÄßÊó∂ÔºåÂèØ‰ª•Â∞ÜÈõÜÂêàËøêÁÆóÁ¨¶ÊèíÂÖ•Âà∞ÈîÆÂ≠óÁ¨¶‰∏≤‰∏≠ÔºåÂ¶ÇUsing Collection Operators„ÄÇÈõÜÂêàËøêÁÆóÁ¨¶Ê†πÊçÆÈªòËÆ§ÁöÑNSKeyValueCodinggetterÂÆûÁé∞ÂØπÈõÜÂêàÊâßË°åÊìç‰ΩúÔºåÁÑ∂ÂêéËøîÂõûÈõÜÂêàÁöÑÊñ∞ÁöÑËøáÊª§ÁâàÊú¨ÊàñË°®Á§∫ÈõÜÂêàÁöÑÊüê‰∫õÁâπÂæÅÁöÑÂçï‰∏™ÂÄº„ÄÇ ËÆøÈóÆÈùûÂØπË±°Â±ûÊÄß„ÄÇÂçèËÆÆÈªòËÆ§ÂÆûÁé∞Ê£ÄÊµãÈùûÂØπË±°Â±ûÊÄßÔºåÂåÖÊã¨Ê†áÈáèÂíåÁªìÊûÑ‰ΩìÔºåÂπ∂Ëá™Âä®Â∞ÜÂÆÉ‰ª¨ÂåÖË£ÖÂíåËß£ÂåÖ‰∏∫ÂçèËÆÆÊé•Âè£‰∏ä‰ΩøÁî®ÁöÑÂØπË±°ÔºåÂ¶ÇRepresenting Non-Object Values„ÄÇÊ≠§Â§ñÔºåËØ•ÂçèËÆÆÂ£∞Êòé‰∫Ü‰∏ÄÁßçÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÂÖÅËÆ∏ÂÖºÂÆπÂØπË±°nilÈÄöËøáÈîÆÂÄºÁºñÁ†ÅÊé•Âè£Âú®ÈùûÂØπË±°Â±ûÊÄß‰∏äËÆæÁΩÆÂÄºÊó∂‰∏∫ËØ•ÊÉÖÂÜµÊèê‰æõÂêàÈÄÇÁöÑ‰ΩúÁî®„ÄÇ key pathËÆøÈóÆÂ±ûÊÄß„ÄÇÂ¶ÇÊûúÂÖ∑ÊúâÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°Â±ÇÊ¨°ÁªìÊûÑÔºåÂàôÂèØ‰ª•‰ΩøÁî®Âü∫‰∫ékey pathÁöÑÊñπÊ≥ïË∞ÉÁî®Ôºå‰ΩøÁî®Âçï‰∏™Ë∞ÉÁî®Âú®Â±ÇÊ¨°ÁªìÊûÑÂÜÖÊ∑±ÂÖ•Êü•ÁúãÔºåËé∑ÂèñÊàñËÆæÁΩÆÂÄº„ÄÇ ÈááÁî®ÂØπË±°ÁöÑÈîÆÂÄºÁºñÁ†Å‰∏∫‰∫Ü‰ΩøÊÇ®Ëá™Â∑±ÁöÑÂØπË±°ÈîÆÂÄºÁºñÁ†ÅÁ¨¶ÂêàË¶ÅÊ±ÇÔºåÊÇ®ÈúÄË¶ÅÁ°Æ‰øùÂÆÉ‰ª¨ÈááÁî®NSKeyValueCodingÈùûÊ≠£ÂºèÂçèËÆÆÂπ∂ÂÆûÁé∞Áõ∏Â∫îÁöÑÊñπÊ≥ïÔºå‰æãÂ¶Ç‰Ωú‰∏∫valueForKey: ÈÄöÁî®getterÂíåsetValue:forKey: ÈÄöÁî®setter„ÄÇÂπ∏ËøêÁöÑÊòØÔºåÂ¶Ç‰∏äÊâÄËø∞ÔºåNSObject ÈááÁî®Ê≠§ÂçèËÆÆÂπ∂‰∏∫Ëøô‰∫õÂíåÂÖ∂‰ªñÂü∫Êú¨ÊñπÊ≥ïÊèê‰æõÈªòËÆ§ÂÆûÁé∞„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûúÊÇ®‰ªéNSObjectÔºàÊàñÂÖ∂ËÆ∏Â§öÂ≠êÁ±ª‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÔºâÊ¥æÁîüÂØπË±°ÔºåÈÇ£‰πàÂ§ßÈÉ®ÂàÜÂ∑•‰ΩúÂ∑≤ÁªèÂÆåÊàê„ÄÇ ‰∏∫‰∫Ü‰ΩøÈªòËÆ§ÊñπÊ≥ïÂÆåÊàêÂÖ∂Â∑•‰ΩúÔºåÊÇ®ÈúÄË¶ÅÁ°Æ‰øùÂØπË±°ÁöÑËÆøÈóÆÂô®ÊñπÊ≥ïÂíåÂÆû‰æãÂèòÈáèÈÅµÂæ™Êüê‰∫õÊòéÁ°ÆÂÆö‰πâÁöÑÊ®°Âºè„ÄÇËøôÂÖÅËÆ∏ÈªòËÆ§ÂÆûÁé∞ÊâæÂà∞ÂØπË±°ÁöÑÂ±ûÊÄß‰ª•ÂìçÂ∫îÈîÆÂÄºÁºñÁ†ÅÊ∂àÊÅØ„ÄÇÁÑ∂ÂêéÔºåÊÇ®ÂèØ‰ª•ÈÄâÊã©ÈÄöËøáÊèê‰æõÈ™åËØÅÊñπÊ≥ïÂíåÂ§ÑÁêÜÊüê‰∫õÁâπÊÆäÊÉÖÂÜµÊù•Êâ©Â±ïÂíåËá™ÂÆö‰πâÈîÆÂÄºÁºñÁ†Å„ÄÇ ‰ΩøÁî®SwiftËøõË°åÈîÆÂÄºÁºñÁ†ÅNSObject‰ªéÂÖ∂Â≠êÁ±ªÊàñÂÖ∂Â≠êÁ±ª‰πã‰∏Ä ÁªßÊâøÁöÑSwiftÂØπË±°ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØÁ¨¶ÂêàÂÖ∂Â±ûÊÄßÁöÑÈîÆÂÄºÁºñÁ†Å„ÄÇËÄåÂú®Objective-C‰∏≠ÔºåÂ±ûÊÄßÁöÑËÆøÈóÆÂô®ÂíåÂÆû‰æãÂèòÈáèÂøÖÈ°ªÈÅµÂæ™Êüê‰∫õÊ®°ÂºèÔºåSwift‰∏≠ÁöÑÊ†áÂáÜÂ±ûÊÄßÂ£∞Êòé‰ºöËá™Âä®‰øùËØÅËøô‰∏ÄÁÇπ„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÂçèËÆÆÁöÑËÆ∏Â§öÂäüËÉΩË¶Å‰πà‰∏çÁõ∏ÂÖ≥ÔºåË¶Å‰πà‰ΩøÁî®Objective-C‰∏≠‰∏çÂ≠òÂú®ÁöÑÊú¨Êú∫SwiftÊûÑÈÄ†ÊàñÊäÄÊúØÊù•Êõ¥Â•ΩÂú∞Â§ÑÁêÜ„ÄÇ‰æãÂ¶ÇÔºåÂõ†‰∏∫ÊâÄÊúâSwiftÂ±ûÊÄßÈÉΩÊòØÂØπË±°ÔºåÊâÄ‰ª•ÊÇ®Ê∞∏Ëøú‰∏ç‰ºö‰ΩøÁî®ÈªòËÆ§ÂÆûÁé∞ÂØπÈùûÂØπË±°Â±ûÊÄßÁöÑÁâπÊÆäÂ§ÑÁêÜ„ÄÇ Âõ†Ê≠§ÔºåËôΩÁÑ∂ÈîÆÂÄºÁºñÁ†ÅÂçèËÆÆÊñπÊ≥ïÁõ¥Êé•ËΩ¨Êç¢‰∏∫SwiftÔºå‰ΩÜÊú¨ÊåáÂçó‰∏ªË¶ÅÂÖ≥Ê≥®Objective-CÔºåÊÇ®ÈúÄË¶ÅÂÅöÊõ¥Â§öÂ∑•‰Ωú‰ª•Á°Æ‰øùÂêàËßÑÊÄßÔºå‰ª•ÂèäÈîÆÂÄºÁºñÁ†ÅÈÄöÂ∏∏ÊúÄÊúâÁî®ÁöÑÂú∞Êñπ„ÄÇÊï¥‰∏™ÊåáÂçó‰∏≠ÈÉΩÊèêÂà∞‰∫ÜÈúÄË¶ÅÂú®Swift‰∏≠ÈááÁî®ÊòéÊòæ‰∏çÂêåÊñπÊ≥ïÁöÑÊÉÖÂÜµ„ÄÇ ÊúâÂÖ≥‰ΩøÁî®SwiftÂíåCocoaÊäÄÊúØÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÈòÖËØªÂ∞ÜSwift‰∏éCocoaÂíåObjective-C‰∏ÄËµ∑‰ΩøÁî®ÔºàSwift 3Ôºâ„ÄÇÊúâÂÖ≥SwiftÁöÑÂÆåÊï¥ÊèèËø∞ÔºåËØ∑ÈòÖËØªSwiftÁºñÁ®ãËØ≠Ë®ÄÔºàSwift 3Ôºâ„ÄÇ ‰ΩøÁî®ÈîÆÂÄºÁºñÁ†ÅÁöÑÂÖ∂‰ªñCocoaÊäÄÊúØÁ¨¶ÂêàÈîÆÂÄºÁºñÁ†ÅÁöÑÂØπË±°ÂèØ‰ª•ÂèÇ‰∏é‰æùËµñ‰∫éÊ≠§Á±ªËÆøÈóÆÁöÑÂêÑÁßçCocoaÊäÄÊúØÔºåÂåÖÊã¨Ôºö ÈîÆÂÄºËßÇÂØü(Key-value observing)„ÄÇÊ≠§Êú∫Âà∂‰ΩøÂØπË±°ËÉΩÂ§üÊ≥®ÂÜåÂºÇÊ≠•ÈÄöÁü•ÁõëÂê¨Âè¶‰∏Ä‰∏™ÂØπË±°Â±ûÊÄßÁöÑÊîπÂèòÔºåÂ¶Ç‚Äú Key-Value Observing Programming„ÄÇ CocoaÁªëÂÆö(Cocoa bindings)„ÄÇËøô‰∏ÄÁ≥ªÂàóÊäÄÊúØÂÆåÂÖ®ÂÆûÁé∞‰∫ÜModel-View-ControllerËåÉ‰æãÔºåÂÖ∂‰∏≠Ê®°Âûã(Model)Áî®‰∫éÂ∞ÅË£ÖÂ∫îÁî®Á®ãÂ∫èÊï∞ÊçÆÔºåËßÜÂõæ(View)Áî®‰∫éÊòæÁ§∫ÂíåÁºñËæëÊï∞ÊçÆÔºåÊéßÂà∂Âô®(Controller)Âú®‰∏§ËÄÖ‰πãÈó¥ËøõË°åË∞ÉËß£„ÄÇÈòÖËØªCocoa Bindings Programming Topics‰ª•‰∫ÜËß£ÊúâÂÖ≥CocoaÁªëÂÆöÁöÑÊõ¥Â§ö‰ø°ÊÅØ„ÄÇ Ê†∏ÂøÉÊï∞ÊçÆ(Core Data)„ÄÇËØ•Ê°ÜÊû∂‰∏∫‰∏éÂØπË±°ÁîüÂëΩÂë®ÊúüÂíåÂØπË±°ÂõæÂΩ¢ÂåñÁÆ°ÁêÜÁõ∏ÂÖ≥ÁöÑÂ∏∏ËßÅ‰ªªÂä°ÔºàÂåÖÊã¨ÊåÅ‰πÖÊÄßÔºâÊèê‰æõÈÄöÁî®ÂíåËá™Âä®ÂåñËß£ÂÜ≥ÊñπÊ°à„ÄÇÊÇ®ÂèØ‰ª•Âú®Core Data Programming GuideÈòÖËØªCore Data „ÄÇ AppleScript„ÄÇËøôÁßçËÑöÊú¨ËØ≠Ë®ÄÂèØ‰ª•Áõ¥Êé•ÊéßÂà∂ËÑöÊú¨ÂåñÂ∫îÁî®Á®ãÂ∫èÂíåmacOSÁöÑËÆ∏Â§öÈÉ®ÂàÜ„ÄÇCocoaÁöÑËÑöÊú¨ÊîØÊåÅÂà©Áî®ÈîÆÂÄºÁºñÁ†ÅÊù•Ëé∑ÂèñÂíåËÆæÁΩÆËÑöÊú¨ÂåñÂØπË±°‰∏≠ÁöÑ‰ø°ÊÅØ„ÄÇNSScriptKeyValueCodingÈùûÊ≠£ÂºèÂçèËÆÆ‰∏≠ÁöÑÊñπÊ≥ïÊèê‰æõ‰∫Ü‰ΩøÁî®ÈîÆÂÄºÁºñÁ†ÅÁöÑÈôÑÂä†ÂäüËÉΩÔºåÂåÖÊã¨ÈÄöËøáÂ§öÂÄºÈîÆ‰∏≠ÁöÑÁ¥¢ÂºïËé∑ÂèñÂíåËÆæÁΩÆÈîÆÂÄºÔºå‰ª•ÂèäÂ∞ÜÈîÆÂÄºÂº∫Âà∂ÔºàÊàñËΩ¨Êç¢Ôºâ‰∏∫ÈÄÇÂΩìÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇAppleScript OverviewÊèê‰æõ‰∫ÜAppleScriptÂèäÂÖ∂Áõ∏ÂÖ≥ÊäÄÊúØÁöÑÈ´òÁ∫ßÊ¶ÇËø∞„ÄÇ Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOSÊñáÊ°£</category>
      </categories>
      <tags>
        <tag>ÊñáÊ°£ÁøªËØë</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UITableViewÁöÑÂàÜÂâ≤Á∫øËÆæÁΩÆÂèä‰∏çËÉΩÂÖ®Â±èÂéüÂõ†]]></title>
    <url>%2F2018%2F09%2F17%2FUITableView%E7%9A%84%E5%88%86%E5%89%B2%E7%BA%BF%E8%AE%BE%E7%BD%AE%E5%8F%8A%E4%B8%8D%E8%83%BD%E5%85%A8%E5%B1%8F%E5%8E%9F%E5%9B%A0%2F</url>
    <content type="text"><![CDATA[‰∏ÄËà¨TableViewËÆæÁΩÆÂÖ®Â±èÂàÜÈöîÁ∫øÊúâ‰∏ãÈù¢‰∏âÁßçÊñπÊ≥ï ÊñπÊ≥ï1:Ëá™ÂÆö‰πâcell, ÊâãÂä®Ê∑ªÂä†ÂàÜÂâ≤Á∫ø È¶ñÂÖàÂÖàÈöêËóèÁ≥ªÁªüËá™Â∏¶ÁöÑÂàÜÂâ≤Á∫ø, Êé•‰∏ãÊù•Êúâ2ÁßçÂÅöÊ≥ï (Âª∫ËÆÆ‰ΩøÁî®ÂÅöÊ≥ïa) tableView.separatorStyle = UITableViewCellSeparatorStyleNone; ÊàñËÄÖ self.tableView.separatorColor = [UIColor clearColor]; ÂÅöÊ≥ïa: ÂèØ‰ª•ÈÄöËøáaddSubviewÁöÑÊñπÂºèÊ∑ªÂä†‰∏ÄÊù°ÂàÜÂâ≤Á∫ø - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath { UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellId forIndexPath:indexPath]; //Ëá™ÂÆö‰πâÂàÜÂâ≤Á∫øÊñπÊ≥ï‰∏Ä: ÈÄöËøáaddSubviewÁöÑÊñπÂºèÊ∑ªÂä†‰∏ÄÊù°ÂàÜÂâ≤Á∫ø //Âú®Ëá™ÂÆö‰πâcell ÈáåÈù¢ÁªôÊØè‰∏™cellÊ∑ªÂä†È´òÂ∫¶‰∏∫2ÁöÑÁ∫¢Ëâ≤ÂàÜÂâ≤Á∫ø CGFloat cellH = cell.frame.size.height; if(indexPath.row != cars.count - 1){ UIView *line = [[UIView alloc] initWithFrame:CGRectMake(0, cellH-2, self.view.frame.size.width, 2)]; line.backgroundColor = [UIColor redColor]; [cell addSubview:line]; } return cell; } ÂÅöÊ≥ïb:‰πüÂèØ‰ª•Ëá™ÂÆö‰πâcell, cell‰∏≠ÈáçÂÜôdrawRect: Ëá™ÁªòÂàÜÂâ≤Á∫ø // Ëá™ÁªòÂàÜÂâ≤Á∫ø - (void)drawRect:(CGRect)rect { CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetFillColorWithColor(context, [UIColor whiteColor].CGColor); CGContextFillRect(context, rect); CGContextSetStrokeColorWithColor(context, [UIColor greenColor].CGColor); //ÁªòÂà∂È´òÂ∫¶‰∏∫2ÁªøËâ≤ÂàÜÂâ≤Á∫ø CGContextStrokeRect(context, CGRectMake(0, rect.size.height - 2, rect.size.width, 2)); } ÊñπÊ≥ï2:Ëá™ÂÆö‰πâcell , ÈáçÂÜôsetFrameÊñπÊ≥ï,cellÈ´òÂ∫¶-1,Èú≤Âá∫tableViewËÉåÊôØËâ≤ È¶ñÂÖàÈöêËóèÁ≥ªÁªüÂàÜÂâ≤Á∫ø, ËÆæÁΩÆtableViewËÉåÊôØÈ¢úËâ≤. self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone; // ËÆæÁΩÆtableViewËÉåÊôØËâ≤ self.tableView.backgroundColor = [UIColor colorWithWhite:215 / 255.0 alpha:1]; Âú®Ëá™ÂÆö‰πâcell‰∏≠ÈáçÂÜôsetFrame: - (void)setFrame:(CGRect)frame { frame.size.height -= 1; // ÁªôcellframeËµãÂÄº [super setFrame:frame]; } ÊñπÊ≥ï3.Âà©Áî®Á≥ªÁªüÂ±ûÊÄßËÆæÁΩÆ(separatorInset, layoutMargins), ÂÖ±ÈúÄÊ∑ªÂä†‰∏âÂè•‰ª£Á†Å ÂØπtableViewÁöÑseparatorInset, layoutMarginsÂ±ûÊÄßÁöÑËÆæÁΩÆ -(void)viewDidLoad { [super viewDidLoad]; //1.Ë∞ÉÊï¥(iOS7‰ª•‰∏ä)Ë°®Ê†ºÂàÜÈöîÁ∫øËæπË∑ù if ([self.tableView respondsToSelector:@selector(setSeparatorInset:)]) { self.tableView.separatorInset = UIEdgeInsetsZero; } //2.Ë∞ÉÊï¥(iOS8‰ª•‰∏ä)viewËæπË∑ù(ÊàñËÄÖÂú®cell‰∏≠ËÆæÁΩÆpreservesSuperviewLayoutMargins,‰∫åËÄÖÁ≠âÊïà) if ([self.tableView respondsToSelector:@selector(setLayoutMargins:)]) { self.tableView.layoutMargins = UIEdgeInsetsZero; } } ÂØπcellÁöÑLayoutMarginsÂ±ûÊÄßÁöÑËÆæÁΩÆ Ë°•ÂÖÖ:ÂØπcellÁöÑËÆæÁΩÆÂèØ‰ª•ÂÜôÂú®cellForRowAtIndexPathÈáå,‰πüÂèØ‰ª•ÂÜôÂú®willDisplayCellÊñπÊ≥ïÈáå -(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath { UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:ID forIndexPath:indexPath]; //2.Ë∞ÉÊï¥(iOS8‰ª•‰∏ä)tableViewËæπË∑ù(‰∏é‰∏äÈù¢Á¨¨2Ê≠•Á≠âÊïà,‰∫åÈÄâ‰∏ÄÂç≥ÂèØ) if ([cell respondsToSelector:@selector(setPreservesSuperviewLayoutMargins:)]) { cell.preservesSuperviewLayoutMargins = NO; } //3.Ë∞ÉÊï¥(iOS8‰ª•‰∏ä)viewËæπË∑ù if ([cell respondsToSelector:@selector(setLayoutMargins:)]) { [cell setLayoutMargins:UIEdgeInsetsZero]; } return cell; } ‰∏âÁßçÊñπÊ≥ï‰ºòÁº∫ÁÇπÊØîËæÉ: ÊñπÊ≥ï1 ‰∏≠ÂÅöÊ≥ïaÊØîËæÉÂ•ΩÁî®,ÂèØ‰ª•‰ΩøÁî®Á≥ªÁªüËá™Â∏¶ÁöÑcell, ‰ΩÜÊòØÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∏™view,ËÆæÁΩÆËÉåÊôØÈ¢úËâ≤Âíåframe. ËÄåÂÅöÊ≥ïb‰ªÖ‰ªÖ‰∏∫‰∫ÜÂàÜÈöîÁ∫øÂç¥ËøòÂøÖÈ°ªÂÜçËá™ÂÆö‰πâcell, ÈáçÂÜôdrawRect,ÂèàÊòæÂæóÈ∫ªÁÉ¶; ÊñπÊ≥ï2ÊØîËæÉÂèñÂ∑ß,‰ΩÜÊòØ‰πüÈúÄË¶ÅËá™ÂÆö‰πâcell,Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ã‰∏çÂÖÅËÆ∏ÊîπÂèòtableViewÁöÑËÉåÊôØËâ≤,‰ΩøÁî®Âú∫ÊôØÊúâÈôê; ÊñπÊ≥ï3‰∏çÈúÄË¶ÅËá™ÂÆö‰πâcell,ÂØπÁ≥ªÁªü(iOS7,iOS8‰ª•‰∏ä)ÂÅö‰∏™ÁÆÄÂçïÂà§Êñ≠Âç≥ÂèØ.ÂèØÊÉúÁΩë‰∏äÂæàÂ§öÊñáÁ´†ÂÜôÁöÑ‰∏çÂØπ,ÂæàÂ§ö‰∫∫‰∏ç‰ºöÊ≠£Á°Æ‰ΩøÁî®,Êúâ‰∫õ‰ºöÁî®ÁöÑ‰∫∫‰πüËØ¥‰∏çÊ∏ÖÊ•öÂéüÁêÜ,Âè™ÁÆ°Â§çÂà∂Á≤òË¥¥.ÊØîÂ¶ÇÁΩë‰∏äÊµÅ‰º†ÁöÑ‰∏ÄËà¨ÊòØËøôÊ†∑,ÈúÄË¶ÅÂõõÊ≠•,ËôΩÁÑ∂ÁúüÁöÑÁÆ°Áî®,‰ΩÜÂ§ö‰∫Ü‰∏ÄÊ≠•[cell setSeparatorInset:UIEdgeInsetsZero];ËÄå‰∏îÂéüÁêÜ‰πüÊ≤°ËÆ≤,‰º∞ËÆ°ÊòØÊüêÂ§ßÁ•ûÂÜôÁöÑ,Ê†πÊú¨‰∏çÂ±ë‰∫éËøáÂ§öËß£Èáä,ËÆ©ÊàëÁî®Ëµ∑Êù•ÂæàÈÉÅÈó∑,ÁΩë‰∏äÊµÅ‰º†‰ª£Á†Å: È¶ñÂÖàÂú®viewDidLoadÊñπÊ≥ï‰∏≠Âä†‰∏äÂ¶Ç‰∏ã‰ª£Á†ÅÔºö -(void)viewDidLoad { [super viewDidLoad]; if ([self.tableView respondsToSelector:@selector(setSeparatorInset:)]) { [self.tableView setSeparatorInset:UIEdgeInsetsZero]; } if ([self.tableView respondsToSelector:@selector(setLayoutMargins:)]) { [self.tableView setLayoutMargins:UIEdgeInsetsZero]; } ÁÑ∂ÂêéÂú®willDisplayCellÊñπÊ≥ï‰∏≠Âä†ÂÖ•Â¶Ç‰∏ã‰ª£Á†ÅÔºö - (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath { if ([cell respondsToSelector:@selector(setSeparatorInset:)]) { [cell setSeparatorInset:UIEdgeInsetsZero]; } if ([cell respondsToSelector:@selector(setLayoutMargins:)]) { [cell setLayoutMargins:UIEdgeInsetsZero]; } } ÂàÜÂâ≤Á∫ø‰∏çËÉΩÂÖ®Â±èÂéüÁêÜËß£Êûê ÂÖ∂ÂÆûÂÖ≥‰∫éÂàÜÈöîÁ∫ø‰∏çËÉΩÂÖ®Â±èÁöÑÂéüÁêÜ,ËãπÊûúÂÆòÊñπÂú®Êñá‰ª∂‰∏≠Â∑≤ÁªèËØ¥Êòé‰∫Ü,ÂèØ‰ª•ÂéªÁúã‰∏Ä‰∏ã Âú®iOS7‰πãÂâçÁ≥ªÁªüÈªòËÆ§Â∞±ÊòØÂÖ®Â±èÁöÑ,iOS7Êó∂UITableViewÂ§ö‰∫ÜseparatorInsetÂ±ûÊÄß,ÂèØÂú®UITableViewÁöÑÂ§¥Êñá‰ª∂‰∏≠Êü•Áúã,Â¶Ç‰∏ã: @property (nonatomic) UIEdgeInsets separatorInset NS_AVAILABLE_IOS(7_0) UI_APPEARANCE_SELECTOR; // allows customization of the frame of cell separators iOS7Êó∂Âè™Ë¶ÅËÆæÁΩÆËØ•Â±ûÊÄß‰∏∫UIEdgeInsetsZeroÂ∞±Ê≤°ÊúâÈóÆÈ¢ò‰∫Ü. iOS8‰πãÂêé‰ªÖ‰ªÖÂÆåÊàê‰ª•‰∏äËÆæÁΩÆÂ∞±‰∏çË°å‰∫Ü,‰ªîÁªÜÊü•ÁúãÂêéÂèëÁé∞iOS8ÁöÑUIViewÁöÑÂ§¥Êñá‰ª∂ÈáåÂèàÂ§ö‰∫Ü‰∏™layoutMarginsÂ±ûÊÄß,Âπ∂ÊúâÂÆòÊñπÊ≥®Èáä @property (nonatomic) UIEdgeInsets layoutMargins NS_AVAILABLE_IOS(8_0); /* -layoutMargins returns a set of insets from the edge of the view&#39;s bounds that denote a default spacing for laying out content. If preservesSuperviewLayoutMargins is YES, margins cascade down the view tree, adjusting for geometry offsets, so that setting the left value of layoutMargins on a superview will affect the left value of layoutMargins for subviews positioned close to the left edge of their superview&#39;s bounds If your view subclass uses layoutMargins in its layout or drawing, override -layoutMarginsDidChange in order to refresh your view if the margins change. */ Â§ßÊÑèÊòØËØ¥:layoutMarginsÊòØviewÁöÑboundsÁöÑËæπË∑ù,Áî®Êù•Ë∞ÉÊï¥ÂÜÖÂÆπÈªòËÆ§ËæπË∑ù Â¶ÇÊûúpreservesSuperviewLayoutMarginsÂ±ûÊÄßÊòØYES,ÈÇ£‰πàËÆæÁΩÆÁà∂Êéß‰ª∂ÁöÑlayoutMarginsËæπË∑ù, Â∞±‰ºöÂΩ±ÂìçÊâÄÊúâÂ≠êÊéß‰ª∂ÁöÑÁõ∏ÂØπ‰∫éÁà∂Êéß‰ª∂boundsÁöÑlayoutMarginsËæπË∑ù Â¶ÇÊûú‰Ω†ÁöÑviewÁöÑÂ≠êÁ±ªÂú®Â∏ÉÂ±ÄÊàñËÄÖÁªòÂõæ‰∏≠‰ΩøÁî®‰∫ÜlayoutMarginsÂ±ûÊÄß,ÈúÄË¶ÅÈáçÂÜô-layoutMarginsDidChange ÊñπÊ≥ï, ‰ª•‰æøÂΩìËæπË∑ùÊîπÂèòÊó∂ËÉΩÂà∑Êñ∞‰Ω†ÁöÑview Ê≠£ÊòØÂõ†‰∏∫layoutMarginsÊòØUIViewÁöÑÊñ∞Â¢ûÂ±ûÊÄß,tabletÂíåcell‰Ωú‰∏∫UIViewÁöÑÂ≠êÁ±ªÈÉΩÊúâËøô‰∏™Â±ûÊÄß,ÊâÄ‰ª•Áõ∏ÊØîËæÉiOS7Á≥ªÁªü,iOS8‰πãÂêéÂ∞±Â§ö‰∫Ü‰∏§Ê≠•,ÂøÖÈ°ªÂêåÊó∂ÂÜçÂØπtableViewÂíåcellÁöÑlayoutMarginsÂ±ûÊÄßËøõË°åÂ§ÑÁêÜ,ÊâçËÉΩËÆ©ÂàÜÈöîÁ∫øÁúüÊ≠£ÂÖ®Â±è. ÂêåÊó∂ÂÆòÊñπÊ≥®Èáä‰∏≠ÂØπpreservesSuperviewLayoutMargins(ÊÑèÂç≥:Áª¥ÊåÅÁà∂Êéß‰ª∂ÁöÑÂ∏ÉÂ±ÄËæπË∑ù)Â±ûÊÄßÁöÑËØ¥Êòé,‰πüÊ≠£Â•ΩËÉΩËØ¥ÊòéÁΩë‰∏äÂè¶‰∏ÄÁßçÊñπÊ≥ï‰∏çËÆæÁΩÆself.tableView.layoutMargins = UIEdgeInsetsZero;ËÄåÊòØËÆæÁΩÆcell.preservesSuperviewLayoutMargins = NO;‰∏∫‰ªÄ‰πà‰πüËÉΩËµ∑‰ΩúÁî® ÂºÑÊ∏ÖÊ•ö‰∫ÜËøô‰∫õÂéüÁêÜ,Â∞±ÂèØ‰ª•Êõ¥Â•ΩÁöÑËÆ∞ÂøÜÂíå‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ï,‰∏çÁî®ÊØèÊ¨°ÈÉΩÂéªÊóß‰ª£Á†ÅÊü•ÊâæÊàñËÄÖÂéªÁôæÂ∫¶‰∫Ü. ËØ¥Âà∞‰∫ÜÊúÄÂêé,‰∏çÁü•ÈÅìÂ§ßÂÆ∂ÊúâÊ≤°ÊúâËßâÂæóÂΩ±ÂìçÂàÜÈöîÁ∫øÂÖ®Â±èÁöÑÂÖÉÂá∂layoutMarginsÂ±ûÊÄß Á®çÂæÆÊúâÁÇπÁúºÁÜüÂë¢?ÂÖ∂ÂÆûÂÆÉÂú®Âè¶‰∏Ä‰∏™Âú∞Êñπ‰πüÂÅö‰∫Ü‰∏çÂ∞ëÊÅ∂,Â∞±Âú®storyboard‰∏≠: PS:ÈôÑÊïàÊûúÂõæÂ¶Ç‰∏ã: ËÆæÁΩÆ‰πãÂâçÊïàÊûúÂõæ: ËÆæÁΩÆÂÆåÁ¨¨1Ê≠•self.tableView.separatorInset = UIEdgeInsetsZero;ÂêéÊïàÊûúÂõæ: ËÆæÁΩÆÂÆåÁ¨¨2Ê≠•self.tableView.layoutMargins = UIEdgeInsetsZero;ÂêéÊïàÊûúÂõæ: ËÆæÁΩÆÂÆåÁ¨¨3Ê≠•cell.layoutMargins = UIEdgeInsetsZero;ÂêéÊïàÊûúÂõæ: Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÊäÄÊúØ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UITableViewStylePlainÂíåUITableViewStyleGroupedÊ†∑ÂºèÁöÑÂå∫Âà´ÂèäÊïàÊûúÂ§ÑÁêÜ]]></title>
    <url>%2F2018%2F09%2F15%2FUITableViewStylePlain%E5%92%8CUITableViewStyleGrouped%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%E5%8F%8A%E6%95%88%E6%9E%9C%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[ÂàõÂª∫UITableView Êó∂, ÈúÄË¶ÅËÆæÁΩÆTableViewÊ†∑Âºè, ÈªòËÆ§Êúâ‰∏§ÁßçÊ†∑Âºè:UITableViewStylePlain, UITableViewStyleGrouped UITableView *tableView = [[UITableView alloc] initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height) style: UITableViewStyleGrouped] ‰∏ãÈù¢ÂÖà‰ªãÁªç‰∏ã, Ëøô‰∏§ÁßçÊ†∑Âºè‰ª•ÂèäÂå∫Âà´: ‰∏Ä. UITableViewÊ†∑Âºè‰ªãÁªçUITableViewStylePlain ‰ªãÁªçÂú®tableViewÁöÑUITableViewStylePlain‰∏≠ÔºåÂΩì‰∏Ä‰∏™sectionÁöÑrowsÊúâ‰∏ÄÈÉ®ÂàÜÂèØËßÅÊó∂ÔºåsectionÁöÑheaderÂíåfooterÊµÆÂä®Âú®ÂÜÖÂÆπÈ°∂ÈÉ®„ÄÇplain styleÁöÑtableViewÂèØ‰ª•Êúâ‰∏Ä‰∏™sectionÁ¥¢ÂºïÔºå‰Ωú‰∏∫‰∏Ä‰∏™barÂú®tableÁöÑÂè≥Ëæπ(‰æãÂ¶ÇA ~ Z)„ÄÇ‰Ω†ÂèØ‰ª•ÁÇπÂáª‰∏Ä‰∏™ÁâπÂÆöÁöÑÊ†áÁ≠æÔºåË∑≥ËΩ¨Âà∞ÁõÆÊ†ásection„ÄÇ‰æãÂ¶Ç‰∏ãÂõæÔºö UITableViewStyleGroup ‰ªãÁªçÂú®tableViewÁöÑUITableViewStyleGroup‰∏≠ÔºåÊâÄÊúâÂçïÂÖÉÊ†ºÊã•Êúâ‰∏Ä‰∏™ÈªòËÆ§ÁöÑËÉåÊôØÈ¢úËâ≤ÂíåÈªòËÆ§ËÉåÊôØËßÜÂõæ„ÄÇËÉåÊôØËßÜÂõæ‰∏∫ÁâπÂÆösection‰∏≠ÁöÑÊâÄÊúâcellÊèê‰æõÂèØËßÜÂàÜÁªÑ„ÄÇ‰æãÂ¶ÇÔºå‰∏Ä‰∏™groupÂèØ‰ª•ÊòØ‰∏Ä‰∏™‰∫∫ÁöÑÂêçÂ≠óÂíåÊ†áÈ¢òÔºåÂè¶‰∏Ä‰∏™groupÂèØ‰ª•ÊòØÁîµËØù,ÁîµÂ≠êÈÇÆ‰ª∂Â∏êÊà∑Á≠â„ÄÇÂèØÂèÇËÄÉiphone‚ÄúËÆæÁΩÆ‚ÄùÁ®ãÂ∫è„ÄÇ‰æãÂ¶Ç‰∏ãÂõæÔºö GroupÁ±ªÂûãÈªòËÆ§ËÆæÁΩÆtableViewÁÅ∞Ëâ≤ËÉåÊôØËâ≤Ôºåcell‰∏∫ÁôΩËâ≤ËÉåÊôØËâ≤ÔºåsectionÂ§ñËæπÁºòËÆæÁΩÆÊµÖÁÅ∞Ëâ≤ËæπÊ°ÜÔºåcellËÆæÁΩÆÊµÖÁÅ∞Ëâ≤Èó¥ÈöîÁ∫ø„ÄÇÂ¶Ç‰∏ãÂõæÔºö ‰∫å:Âå∫Âà´ÊÄªÁªìÔºöUITableViewStylePlain‰ΩøÁî®1.plainÁ±ªÂûãÊúâÂ§öÊÆµÊó∂ÔºåÊªöÂä®Êó∂Section Header Âú®È°∂ÈÉ®ÂÅúÁïôÔºåÊúâ‰∫õÁïåÈù¢ÊØîÂ¶ÇËÆæÁΩÆÁïåÈù¢ÔºåËøô‰∫õÊñ∞ÁâπÊÄßÂ∞ÜÊòæÂæóÂ§ö‰Ωô„ÄÇÔºàËá™Â∏¶ÊïàÊûúÔºâ 2.plainÁ±ªÂûãÈªòËÆ§section‰πãÈó¥Ê≤°Êúâ‰∏≠Èó¥ÁöÑÈó¥Ë∑ùÂíåÂ§¥ÈÉ®Èó¥Ë∑ùÔºàÊÉ≥ËÆ©plainÁ±ªÂûãÁöÑsection‰πãÈó¥ÁïôÊúâÁ©∫ÁôΩÔºåÈúÄË¶ÅÂú®UITableView‰ª£ÁêÜÊñπÊ≥ï‰∏≠returnËá™ÂÆö‰πâÁöÑheaderViewÂíåfooterViewÔºåÂπ∂Âú®Ëá™ÂÆö‰πâÁöÑheaderView Âíå footerView ÈáåÈù¢ÈáçÂÜôsetFrameÊñπÊ≥ïÔºâ Ëß£ÂÜ≥ÊñπÊ°àÔºöËÆ©plainÁ±ªÂûãÁöÑUITableViewÁöÑsectionÂ§¥ÈÉ®ËßÜÂõæ‰∏çÂÅúÁïôÔºàÂèñÊ∂àÁ≤òÊÄßÊïàÊûúÔºâ ÊñπÊ≥ï‰∏Ä: ÁΩë‰∏äÂ•ΩÂ§öÈÉΩÊòØËøô‰∏™ÊñπÊ≥ï. Ëøô‰∏™‰ª£Á†ÅÊòØÈÄöËøáscrollÂÅèÁßªÈáèÊù•ÁõëÂê¨ÂíåÊîπÂèò‰Ω†ÁöÑtableViewÁöÑcontentInset ÂèØËßÅÂæà‰∏çÂ•ΩÔºàËØïËØïÂ∞±Áü•ÈÅìÔºâ //ÂéªÊéâUItableview headerviewÈªèÊÄß(sticky) - (void)scrollViewDidScroll:(UIScrollView *)scrollView { CGFloat sectionHeaderHeight = 30; if (scrollView.contentOffset.y =0) { scrollView.contentInset = UIEdgeInsetsMake(-scrollView.contentOffset.y, 0, 0, 0); } else if (scrollView.contentOffset.y >= sectionHeaderHeight) { scrollView.contentInset = UIEdgeInsetsMake(-sectionHeaderHeight, 0, 0, 0); } } ÊñπÊ≥ï‰∫å: Âú®Ëá™ÂÆö‰πâsectionÁöÑheaderView‰∏≠, ÈáçÂÜôsetFrame: ÊñπÊ≥ïÊù•ÈáçËΩΩtableÁöÑsection. Ê≥®ÊÑè:setFrameÊñπÊ≥ï‰∏≠ÈúÄË¶ÅÊãøÂà∞ÈáçËΩΩÁöÑtableÂíåsection! - (void)setFrame:(CGRect)frame { CGRect sectionRect = [self.tableView rectForSection:self.section]; CGRect newFrame = CGRectMake(CGRectGetMinX(frame), CGRectGetMinY(sectionRect), CGRectGetWidth(frame), CGRectGetHeight(frame)); [super setFrame:newFrame]; } UITableViewStyleGroup ‰ΩøÁî®Ëß£ÂÜ≥ÊñπÊ°àÔºöÂéªÊéâ UITableViewStyleGroupÁ±ªÂûãÁöÑÂ§ö‰ΩôÈó¥Ë∑ù Â∫îÁî®Âú∫ÊôØ‰∏Ä: sctionÁöÑÂ§¥ÈÉ®ËßÜÂõæÂíåÂ∞æÈÉ®ËßÜÂõæ,Êó†‰ªª‰ΩïÂÜÖÂÆπ Ê≠§Â∫îÁî®Âú∫ÊôØÈúÄË¶ÅÂàÜ‰∏§Ê≠•ÂÅö:Á¨¨‰∏ÄÊ≠•: Â§ÑÁêÜÁ¨¨‰∏Ä‰∏™section‰∏äËæπÂ§ö‰ΩôÈó¥Ë∑ù(2ÁßçÊñπÊ≥ï) ÊñπÊ≥ï‰∏Ä: tableViewÁöÑtableHeaderViewÂ±ûÊÄß Ê≥®ÊÑè: ËÆæÁΩÆtableViewÂ§¥ÈÉ®ËßÜÂõæÁöÑÈ´òÂ∫¶‰∏∫ÁâπÂ∞èÂÄºÔºå‰ΩÜ‰∏çËÉΩ‰∏∫Èõ∂ÔºåËã•‰∏∫Èõ∂ÁöÑËØùÔºåiOS‰ºöÂèñÈªòËÆ§ÂÄºÔºåÂ∞±Êó†Ê≥ïÊ∂àÈô§Â§¥ÈÉ®Èó¥Ë∑ù‰∫Ü„ÄÇ - (void)viewDidLoad { //ËÆæÁΩÆ‰ª£ÁêÜ tableView.delegate = self; //ÈöêËóèUITableViewStyleGrouped‰∏äËæπÂ§ö‰ΩôÁöÑÈó¥Èöî tableView.tableHeaderView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, CGFLOAT_MIN)]; } ÊñπÊ≥ï‰∫å: ËÆæÁΩÆÈ°∂ÈÉ®È¢ùÊªöÂä®Âå∫Âüü tableView.contentInset = UIEdgeInsetsMake(-20, 0, 0, 0); Ë°•ÂÖÖ: Â±ûÊÄßtableHeaderViewÂíåcontentInset ÁªìÂêà‰ΩøÁî®, ÂèØ‰ª•ËÆæÁΩÆË°®Ê†ºÁ¨¨‰∏Ä‰∏™cellÈ°∂Âà∞ÊúÄÈ°∂ÈÉ® tableView.tableHeaderView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, CGFLOAT_MIN)]; tableView.contentInset = UIEdgeInsetsMake(-20, 0, 0, 0); Á¨¨‰∫åÊ≠•: Â§ÑÁêÜÊØè‰∏™section‰∏ãËæπÂ§ö‰ΩôÈó¥Ë∑ù(2ÁßçÊñπÊ≥ï) GroupÊ†∑Âºè, ÈªòËÆ§ÊØè‰∏ÄÁªÑÈÉΩ‰ºöÊúâÂ§¥ÈÉ®ÂíåÂ∞æÈÉ®Èó¥Ë∑ù, Ëøô‰∏§‰∏™Èó¥Ë∑ù‰øùÁïô‰∏Ä‰∏™Â∞±ÂèØ‰ª•‰∫Ü.Âè¶‰∏Ä‰∏™Èó¥Ë∑ùËÆæÁΩÆ‰∏∫0. ÊñπÊ≥ï‰∏Ä: tableView Â±ûÊÄßsectionHeaderHeight Âíå Â±ûÊÄßsectionFooterHeight , Â§ÑÁêÜÂ§ö‰ΩôÈó¥Ë∑ù //ËÆæÁΩÆtableView‰∏ªÈó¥Ë∑ù‰∏∫20 tableView.sectionHeaderHeight = 0; tableView.sectionFooterHeight = 20; ÊñπÊ≥ï‰∫å: Ë∞ÉÁî®tableViewÁöÑ‰ª£ÁêÜÊñπÊ≥ï , ËÆæÁΩÆÂ∞æÈÉ®ËßÜÂõæÁöÑÈ´òÂ∫¶Ôºå Ê≥®ÊÑè: ÂéªÊéâÁöÑËßÜÂõæ, ËøîÂõûÂÄº‰∏çËÉΩ‰∏∫0ÔºåÂê¶ÂàôÁ≥ªÁªüÂêØÁî®ÈªòËÆ§ÂÄº„ÄÇËøîÂõûÁöÑÈ´òÂ∫¶‰ΩøÁî®ÊûÅÂ∞èÂÄºCGFLOAT_MIN„ÄÇ Ê≥®ÊÑè2: Ë∞ÉÁî®‰∏ãÈù¢‰∏§‰∏™tableView‰ª£ÁêÜÊñπÊ≥ïÂêé, sectionHeaderHeightÂ±ûÊÄßÂíåsectionFooterHeightÂ±ûÊÄßËÆæÁΩÆÁöÑÂÄºÂ§±Êïà. - (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{ return 44; } // Ê≥®ÊÑè:return height ‰∏∫ 0ÔºåÂàô height Ë¢´ËÆæÁΩÆÊàêÈªòËÆ§ÂÄº - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{ return CGFLOAT_MIN; } Â∫îÁî®Âú∫ÊôØ‰∫å: sctionÊúâÂ§¥ÈÉ®Ê†áÈ¢ò Â∞æÈÉ®Ê†áÈ¢òÊ≠§Â∫îÁî®Âú∫ÊôØ‰∏§ÁßçÊñπÊ≥ïÂèñÂÖ∂‰∏Ä, ÂèØ‰ª•ÂêåÊó∂Â§ÑÁêÜsectionÈ°∂ÈÉ®Èó¥Ë∑ùÂíå‰∏≠Èó¥Èó¥Ë∑ù ÊñπÊ≥ï‰∏Ä: ËÆæÁΩÆ tableView Â±ûÊÄßsectionHeaderHeight Âíå Â±ûÊÄßsectionFooterHeight , ÂèØÂêåÊó∂Â§ÑÁêÜsectionÂ§ö‰ΩôÈ°∂ÈÉ®Èó¥Ë∑ùÂíå‰∏≠Èó¥Èó¥Ë∑ù tableView.sectionHeaderHeight = 30; tableView.sectionFooterHeight = 0; ÊñπÊ≥ï‰∫å:Ë∞ÉÁî®tableViewÁöÑ‰ª£ÁêÜÊñπÊ≥ï , ËÆæÁΩÆÂ§¥ÈÉ®ËßÜÂõæÂíåÂ∞æÈÉ®ËßÜÂõæÁöÑÈ´òÂ∫¶ //Á¨¨‰∫åÊ≠•:ÈöêËóèUITableViewStyleGrouped‰∏ãËæπÂ§ö‰ΩôÁöÑÈó¥Èöî - (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{ return 30; } // Ê≥®ÊÑè:Ê≠§Êó∂ÂèØ‰ª•ËÆæÁΩÆ‰∏∫0 - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{ return 0; } Â∫îÁî®Âú∫ÊôØ‰∏â: sectionËá™ÂÆö‰πâÂ§¥ÈÉ®ËßÜÂõæÂíåÂ∞æÈÉ®ËßÜÂõæ Ë∞ÉÁî®‰∏ãÈù¢tableView‰ª£ÁêÜÊñπÊ≥ï Ëá™ÂÆö‰πâÂ§¥ÈÉ®ËßÜÂõæÂíåÂ∞æÈÉ®ËßÜÂõæÂêé, ‰∏çÈúÄË¶ÅÂÅöÈ°∂ÈÉ®Èó¥Ë∑ùÂ§ÑÁêÜ, Á¨¨‰∏Ä‰∏™sectionÂ§¥ÈÉ®ËßÜÂõæ‰ºöËá™Âä®È°∂Âà∞ÊúÄÈ°∂ÈÉ®. - (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{ } - (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{ } ‰∏≠Èó¥Èó¥Ë∑ù Âè™ÈúÄË¶ÅÈÄöËøátableView‰ª£ÁêÜÊñπÊ≥ï, Ë∞ÉÊï¥Â§¥ÈÉ®ËßÜÂõæÊàñËÄÖÂ∞æÈÉ®ËßÜÂõæÂêÑËá™ÁöÑÈ´òÂ∫¶Âç≥ÂèØ. - (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{ return 30; } //Ê≥®ÊÑè:Ê≠§Êó∂ÂèØ‰ª•ËÆæÁΩÆ‰∏∫0 - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{ return 0; } ‰∏â. Âú® Storyboard ‰∏≠ 0 ‰ª£Á†ÅÊêûÂÆöÈ°∂ÈÉ®Â§ö‰ΩôÈó¥Ë∑ùÊ≤°Áî® Storyboard ÁöÑÂêåÂ≠¶‰ΩøÁî®‰∏äÈù¢ÁöÑ‰ª£Á†ÅÂ∞± OK ‰∫ÜÔºõËÄåÂú® Storyboard ‰∏≠ÂèØ‰ª• 0 ‰ª£Á†ÅÊêûÂÆöËøô‰∏™‰∫ãÔºö È¶ñÂÖàÔºåÂú®Á¨¨‰∏Ä‰∏™ Section ÁöÑ‰∏äÈù¢ÊãñËøõÊù•‰∏Ä‰∏™Á©∫ UIView ÁÑ∂ÂêéÈÄâ‰∏≠Ëøô‰∏™ UIView ÁöÑ Runtime Attributes Ê†èÔºåÊ∑ªÂä†‰∏Ä‰∏™ frame ÁöÑ KeyPath ËøôÊ†∑Â§¥ÈÉ®ÁöÑÈó¥ÈöîÂ∞±‰πñ‰πñÁöÑ‰∏çËßÅ‰∫ÜÔºö Âà®Ê†πÈóÆÂ∫ï UITableViewHeader ÁöÑÁå´ËÖª‰∏∫‰ªÄ‰πàÂàöÊâçËØ¥ 0.1 Âíå CGFLOAT_MIN ÊòØÁ≠âÊïàÁöÑÂë¢ÔºüÁªèËøáÁ†îÁ©∂ÔºåËøô‰∏™È´òÂ∫¶ÂÄºÁöÑÂΩ±ÂìçÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑÔºö Ëã•‰º†ÂÖ•ÁöÑ height == 0ÔºåÂàô height Ë¢´ËÆæÁΩÆÊàêÈªòËÆ§ÂÄº Ëã• height Â∞è‰∫éÂ±èÂπïÂçäÂÉèÁ¥†ÂØπÂ∫îÁöÑÈ´òÂ∫¶ÔºåËøô‰∏™ header ‰∏çÂú®Âè¶‰∏Ä‰∏™ÂÉèÁ¥†Ê∏≤Êüì ÂçäÂÉèÁ¥†‰πüÂ∞±ÊòØ 1.0 / scale / 2.0ÔºåÂ¶ÇÂú® @2x Â±è‰∏äÊòØ 0.25Áõ¥ËßÇÁöÑÊÑüÂèó‰∏ãÔºåÂÅáÂ¶ÇËøô‰∏™ height Ë¢´ËÆæÁΩÆÊàê 0.5 ÁöÑÊ†∑Â≠êÔºö ÂØºËà™Ê†è‰∏ãÈù¢ÁöÑÈò¥ÂΩ±Á∫øÁúã‰∏äÂéªÂÆΩ‰∫Ü 0.5 ÂÉèÁ¥†ÁöÑÔºåDone„ÄÇ Áî±‰∫éÁ¨îËÄÖÊ∞¥Âπ≥ÊúâÈôêÔºåÊñá‰∏≠Â¶ÇÊûúÊúâÈîôËØØÁöÑÂú∞ÊñπÔºåÊàñËÄÖÊúâÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåËøòÊúõÂ§ßÁ•ûÊåáÂá∫„ÄÇÈôÑ‰∏äÊú¨ÊñáÁöÑÊâÄÊúâ demo ‰∏ãËΩΩÈìæÊé•Ôºå„ÄêGitHub„Äë„ÄÇÂ¶ÇÊûú‰Ω†ÁúãÂÆåÂêéËßâÂæóÂØπ‰Ω†ÊúâÊâÄÂ∏ÆÂä©ÔºåËøòÊúõÂú® GitHub ‰∏äÁÇπ‰∏™ star„ÄÇËµ†‰∫∫Áé´Áë∞ÔºåÊâãÊúâ‰ΩôÈ¶ô„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÊäÄÊúØ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[runtime‰ΩøÁî®Á§∫‰æã‰ª£Á†Å]]></title>
    <url>%2F2018%2F09%2F13%2Fruntime%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅruntimeÁÆÄ‰ªã RunTimeÁÆÄÁß∞ËøêË°åÊó∂„ÄÇOCÂ∞±ÊòØËøêË°åÊó∂Êú∫Âà∂Ôºå‰πüÂ∞±ÊòØÂú®ËøêË°åÊó∂ÂÄôÁöÑ‰∏Ä‰∫õÊú∫Âà∂ÔºåÂÖ∂‰∏≠ÊúÄ‰∏ªË¶ÅÁöÑÊòØÊ∂àÊÅØÊú∫Âà∂„ÄÇ ÂØπ‰∫éCËØ≠Ë®ÄÔºåÂáΩÊï∞ÁöÑË∞ÉÁî®Âú®ÁºñËØëÁöÑÊó∂ÂÄô‰ºöÂÜ≥ÂÆöË∞ÉÁî®Âì™‰∏™ÂáΩÊï∞„ÄÇ ÂØπ‰∫éOCÁöÑÂáΩÊï∞ÔºåÂ±û‰∫éÂä®ÊÄÅË∞ÉÁî®ËøáÁ®ãÔºåÂú®ÁºñËØëÁöÑÊó∂ÂÄôÂπ∂‰∏çËÉΩÂÜ≥ÂÆöÁúüÊ≠£Ë∞ÉÁî®Âì™‰∏™ÂáΩÊï∞ÔºåÂè™ÊúâÂú®ÁúüÊ≠£ËøêË°åÁöÑÊó∂ÂÄôÊâç‰ºöÊ†πÊçÆÂáΩÊï∞ÁöÑÂêçÁß∞ÊâæÂà∞ÂØπÂ∫îÁöÑÂáΩÊï∞Êù•Ë∞ÉÁî®„ÄÇ ‰∫ãÂÆûËØÅÊòéÔºö Âú®ÁºñËØëÈò∂ÊÆµÔºåOCÂèØ‰ª•Ë∞ÉÁî®‰ªª‰ΩïÂáΩÊï∞ÔºåÂç≥‰ΩøËøô‰∏™ÂáΩÊï∞Âπ∂Êú™ÂÆûÁé∞ÔºåÂè™Ë¶ÅÂ£∞ÊòéËøáÂ∞±‰∏ç‰ºöÊä•Èîô„ÄÇ Âú®ÁºñËØëÈò∂ÊÆµÔºåCËØ≠Ë®ÄË∞ÉÁî®Êú™ÂÆûÁé∞ÁöÑÂáΩÊï∞Â∞±‰ºöÊä•Èîô„ÄÇ ‰∫å„ÄÅruntime‰ΩúÁî®1.ÂèëÈÄÅÊ∂àÊÅØ ÊñπÊ≥ïË∞ÉÁî®ÁöÑÊú¨Ë¥®ÔºåÂ∞±ÊòØËÆ©ÂØπË±°ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ objc_msgSend,Âè™ÊúâÂØπË±°ÊâçËÉΩÂèëÈÄÅÊ∂àÊÅØÔºåÂõ†Ê≠§‰ª•objcÂºÄÂ§¥. ‰ΩøÁî®Ê∂àÊÅØÊú∫Âà∂ÂâçÊèêÔºåÂøÖÈ°ªÂØºÂÖ•#import &lt;objc/message.h&gt; Ê∂àÊÅØÊú∫Âà∂ÁÆÄÂçï‰ΩøÁî® // ÂàõÂª∫personÂØπË±° Person *p = [[Person alloc] init]; // Ë∞ÉÁî®ÂØπË±°ÊñπÊ≥ï [p eat]; // Êú¨Ë¥®ÔºöËÆ©ÂØπË±°ÂèëÈÄÅÊ∂àÊÅØ objc_msgSend(p, @selector(eat)); // Ë∞ÉÁî®Á±ªÊñπÊ≥ïÁöÑÊñπÂºèÔºö‰∏§Áßç // Á¨¨‰∏ÄÁßçÈÄöËøáÁ±ªÂêçË∞ÉÁî® [Person eat]; // Á¨¨‰∫åÁßçÈÄöËøáÁ±ªÂØπË±°Ë∞ÉÁî® [[Person class] eat]; // Áî®Á±ªÂêçË∞ÉÁî®Á±ªÊñπÊ≥ïÔºåÂ∫ïÂ±Ç‰ºöËá™Âä®ÊääÁ±ªÂêçËΩ¨Êç¢ÊàêÁ±ªÂØπË±°Ë∞ÉÁî® // Êú¨Ë¥®ÔºöËÆ©Á±ªÂØπË±°ÂèëÈÄÅÊ∂àÊÅØ objc_msgSend([Person class], @selector(eat)); Ê∂àÊÅØÊú∫Âà∂ÂéüÁêÜ:ÂØπË±°Ê†πÊçÆÊñπÊ≥ïÁºñÂè∑SELÂéªÊò†Â∞ÑË°®Êü•ÊâæÂØπÂ∫îÁöÑÊñπÊ≥ïÂÆûÁé∞ 2.‰∫§Êç¢ÊñπÊ≥ï ÂºÄÂèë‰ΩøÁî®Âú∫ÊôØ:Á≥ªÁªüËá™Â∏¶ÁöÑÊñπÊ≥ïÂäüËÉΩ‰∏çÂ§üÔºåÁªôÁ≥ªÁªüËá™Â∏¶ÁöÑÊñπÊ≥ïÊâ©Â±ï‰∏Ä‰∫õÂäüËÉΩÔºåÂπ∂‰∏î‰øùÊåÅÂéüÊúâÁöÑÂäüËÉΩ„ÄÇ ÊñπÂºè‰∏Ä:ÁªßÊâøÁ≥ªÁªüÁöÑÁ±ªÔºåÈáçÂÜôÊñπÊ≥ï. ÊñπÂºè‰∫å:‰ΩøÁî®runtime,‰∫§Êç¢ÊñπÊ≥ï. @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. // ÈúÄÊ±ÇÔºöÁªôimageNamedÊñπÊ≥ïÊèê‰æõÂäüËÉΩÔºåÊØèÊ¨°Âä†ËΩΩÂõæÁâáÂ∞±Âà§Êñ≠‰∏ãÂõæÁâáÊòØÂê¶Âä†ËΩΩÊàêÂäü„ÄÇ // Ê≠•È™§‰∏ÄÔºöÂÖàÊêû‰∏™ÂàÜÁ±ªÔºåÂÆö‰πâ‰∏Ä‰∏™ËÉΩÂä†ËΩΩÂõæÁâáÂπ∂‰∏îËÉΩÊâìÂç∞ÁöÑÊñπÊ≥ï+ (instancetype)imageWithName:(NSString *)name; // Ê≠•È™§‰∫åÔºö‰∫§Êç¢imageNamedÂíåimageWithNameÁöÑÂÆûÁé∞ÔºåÂ∞±ËÉΩË∞ÉÁî®imageWithNameÔºåÈó¥Êé•Ë∞ÉÁî®imageWithNameÁöÑÂÆûÁé∞„ÄÇ UIImage *image = [UIImage imageNamed:@"123"]; } @end @implementation UIImage (Image) // Âä†ËΩΩÂàÜÁ±ªÂà∞ÂÜÖÂ≠òÁöÑÊó∂ÂÄôË∞ÉÁî® + (void)load { // ‰∫§Êç¢ÊñπÊ≥ï // Ëé∑ÂèñimageWithNameÊñπÊ≥ïÂú∞ÂùÄ Method imageWithName = class_getClassMethod(self, @selector(imageWithName:)); // Ëé∑ÂèñimageWithNameÊñπÊ≥ïÂú∞ÂùÄ Method imageName = class_getClassMethod(self, @selector(imageNamed:)); // ‰∫§Êç¢ÊñπÊ≥ïÂú∞ÂùÄÔºåÁõ∏ÂΩì‰∫é‰∫§Êç¢ÂÆûÁé∞ÊñπÂºè method_exchangeImplementations(imageWithName, imageName); } // ‰∏çËÉΩÂú®ÂàÜÁ±ª‰∏≠ÈáçÂÜôÁ≥ªÁªüÊñπÊ≥ïimageNamedÔºåÂõ†‰∏∫‰ºöÊääÁ≥ªÁªüÁöÑÂäüËÉΩÁªôË¶ÜÁõñÊéâÔºåËÄå‰∏îÂàÜÁ±ª‰∏≠‰∏çËÉΩË∞ÉÁî®super. // Êó¢ËÉΩÂä†ËΩΩÂõæÁâáÂèàËÉΩÊâìÂç∞ + (instancetype)imageWithName:(NSString *)name { // ËøôÈáåË∞ÉÁî®imageWithNameÔºåÁõ∏ÂΩì‰∫éË∞ÉÁî®imageName UIImage *image = [self imageWithName:name]; if (image == nil) { NSLog(@"Âä†ËΩΩÁ©∫ÁöÑÂõæÁâá"); } return image; } @end ‰∫§Êç¢ÂéüÁêÜÔºö ‰∫§Êç¢‰πãÂâçÔºö ‰∫§Êç¢‰πãÂêéÔºö 3.Âä®ÊÄÅÊ∑ªÂä†ÊñπÊ≥ï ÂºÄÂèë‰ΩøÁî®Âú∫ÊôØÔºöÂ¶ÇÊûú‰∏Ä‰∏™Á±ªÊñπÊ≥ïÈùûÂ∏∏Â§öÔºåÂä†ËΩΩÁ±ªÂà∞ÂÜÖÂ≠òÁöÑÊó∂ÂÄô‰πüÊØîËæÉËÄóË¥πËµÑÊ∫êÔºåÈúÄË¶ÅÁªôÊØè‰∏™ÊñπÊ≥ïÁîüÊàêÊò†Â∞ÑË°®ÔºåÂèØ‰ª•‰ΩøÁî®Âä®ÊÄÅÁªôÊüê‰∏™Á±ªÔºåÊ∑ªÂä†ÊñπÊ≥ïËß£ÂÜ≥„ÄÇ ÁªèÂÖ∏Èù¢ËØïÈ¢òÔºöÊúâÊ≤°Êúâ‰ΩøÁî®performSelectorÔºåÂÖ∂ÂÆû‰∏ªË¶ÅÊÉ≥ÈóÆ‰Ω†ÊúâÊ≤°ÊúâÂä®ÊÄÅÊ∑ªÂä†ËøáÊñπÊ≥ï„ÄÇ ÁÆÄÂçï‰ΩøÁî® @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. Person *p = [[Person alloc] init]; // ÈªòËÆ§personÔºåÊ≤°ÊúâÂÆûÁé∞eatÊñπÊ≥ïÔºåÂèØ‰ª•ÈÄöËøáperformSelectorË∞ÉÁî®Ôºå‰ΩÜÊòØ‰ºöÊä•Èîô„ÄÇ // Âä®ÊÄÅÊ∑ªÂä†ÊñπÊ≥ïÂ∞±‰∏ç‰ºöÊä•Èîô [p performSelector:@selector(eat)]; } @end @implementation Person // void(*)() // ÈªòËÆ§ÊñπÊ≥ïÈÉΩÊúâ‰∏§‰∏™ÈöêÂºèÂèÇÊï∞Ôºå void eat(id self,SEL sel) { NSLog(@"%@ %@",self,NSStringFromSelector(sel)); } // ÂΩì‰∏Ä‰∏™ÂØπË±°Ë∞ÉÁî®Êú™ÂÆûÁé∞ÁöÑÊñπÊ≥ïÔºå‰ºöË∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ïÂ§ÑÁêÜ,Âπ∂‰∏î‰ºöÊääÂØπÂ∫îÁöÑÊñπÊ≥ïÂàóË°®‰º†ËøáÊù•. // ÂàöÂ•ΩÂèØ‰ª•Áî®Êù•Âà§Êñ≠ÔºåÊú™ÂÆûÁé∞ÁöÑÊñπÊ≥ïÊòØ‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÂä®ÊÄÅÊ∑ªÂä†ÁöÑÊñπÊ≥ï + (BOOL)resolveInstanceMethod:(SEL)sel { if (sel == @selector(eat)) { // Âä®ÊÄÅÊ∑ªÂä†eatÊñπÊ≥ï // Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöÁªôÂì™‰∏™Á±ªÊ∑ªÂä†ÊñπÊ≥ï // Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºöÊ∑ªÂä†ÊñπÊ≥ïÁöÑÊñπÊ≥ïÁºñÂè∑ // Á¨¨‰∏â‰∏™ÂèÇÊï∞ÔºöÊ∑ªÂä†ÊñπÊ≥ïÁöÑÂáΩÊï∞ÂÆûÁé∞ÔºàÂáΩÊï∞Âú∞ÂùÄÔºâ // Á¨¨Âõõ‰∏™ÂèÇÊï∞ÔºöÂáΩÊï∞ÁöÑÁ±ªÂûãÔºå(ËøîÂõûÂÄº+ÂèÇÊï∞Á±ªÂûã) v:void @:ÂØπË±°->self :Ë°®Á§∫SEL->_cmd class_addMethod(self, @selector(eat), eat, "v@:"); } return [super resolveInstanceMethod:sel]; } @end 4.ÁªôÂàÜÁ±ªÊ∑ªÂä†Â±ûÊÄß ÂéüÁêÜÔºöÁªô‰∏Ä‰∏™Á±ªÂ£∞ÊòéÂ±ûÊÄßÔºåÂÖ∂ÂÆûÊú¨Ë¥®Â∞±ÊòØÁªôËøô‰∏™Á±ªÊ∑ªÂä†ÂÖ≥ËÅîÔºåÂπ∂‰∏çÊòØÁõ¥Êé•ÊääËøô‰∏™ÂÄºÁöÑÂÜÖÂ≠òÁ©∫Èó¥Ê∑ªÂä†Âà∞Á±ªÂ≠òÁ©∫Èó¥„ÄÇ @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. // ÁªôÁ≥ªÁªüNSObjectÁ±ªÂä®ÊÄÅÊ∑ªÂä†Â±ûÊÄßname NSObject *objc = [[NSObject alloc] init]; objc.name = @"‰πîÂ∏ÉÊñØ"; NSLog(@"%@",objc.name); } @end // ÂÆö‰πâÂÖ≥ËÅîÁöÑkey static const char *key = "name"; @implementation NSObject (Property) - (NSString *)name { // Ê†πÊçÆÂÖ≥ËÅîÁöÑkeyÔºåËé∑ÂèñÂÖ≥ËÅîÁöÑÂÄº„ÄÇ return objc_getAssociatedObject(self, key); } - (void)setName:(NSString *)name { // Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöÁªôÂì™‰∏™ÂØπË±°Ê∑ªÂä†ÂÖ≥ËÅî // Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºöÂÖ≥ËÅîÁöÑkeyÔºåÈÄöËøáËøô‰∏™keyËé∑Âèñ // Á¨¨‰∏â‰∏™ÂèÇÊï∞ÔºöÂÖ≥ËÅîÁöÑvalue // Á¨¨Âõõ‰∏™ÂèÇÊï∞:ÂÖ≥ËÅîÁöÑÁ≠ñÁï• objc_setAssociatedObject(self, key, name, OBJC_ASSOCIATION_RETAIN_NONATOMIC); } @end 5.Â≠óÂÖ∏ËΩ¨Ê®°Âûã ËÆæËÆ°Ê®°ÂûãÔºöÂ≠óÂÖ∏ËΩ¨Ê®°ÂûãÁöÑÁ¨¨‰∏ÄÊ≠• Ê®°ÂûãÂ±ûÊÄßÔºåÈÄöÂ∏∏ÈúÄË¶ÅË∑üÂ≠óÂÖ∏‰∏≠ÁöÑkey‰∏Ä‰∏ÄÂØπÂ∫î ÈóÆÈ¢òÔºö‰∏Ä‰∏™‰∏Ä‰∏™ÁöÑÁîüÊàêÊ®°ÂûãÂ±ûÊÄßÔºåÂæàÊÖ¢Ôºü ÈúÄÊ±ÇÔºöËÉΩ‰∏çËÉΩËá™Âä®Ê†πÊçÆ‰∏Ä‰∏™Â≠óÂÖ∏ÔºåÁîüÊàêÂØπÂ∫îÁöÑÂ±ûÊÄß„ÄÇ Ëß£ÂÜ≥ÔºöÊèê‰æõ‰∏Ä‰∏™ÂàÜÁ±ªÔºå‰∏ìÈó®Ê†πÊçÆÂ≠óÂÖ∏ÁîüÊàêÂØπÂ∫îÁöÑÂ±ûÊÄßÂ≠óÁ¨¶‰∏≤„ÄÇ @implementation NSObject (Log) // Ëá™Âä®ÊâìÂç∞Â±ûÊÄßÂ≠óÁ¨¶‰∏≤ + (void)resolveDict:(NSDictionary *)dict { // ÊãºÊé•Â±ûÊÄßÂ≠óÁ¨¶‰∏≤‰ª£Á†Å NSMutableString *strM = [NSMutableString string]; // 1.ÈÅçÂéÜÂ≠óÂÖ∏ÔºåÊääÂ≠óÂÖ∏‰∏≠ÁöÑÊâÄÊúâkeyÂèñÂá∫Êù•ÔºåÁîüÊàêÂØπÂ∫îÁöÑÂ±ûÊÄß‰ª£Á†Å [dict enumerateKeysAndObjectsUsingBlock:^(id _Nonnull key, id _Nonnull obj, BOOL * _Nonnull stop) { // Á±ªÂûãÁªèÂ∏∏ÂèòÔºåÊäΩÂá∫Êù• NSString *type; if ([obj isKindOfClass:NSClassFromString(@"__NSCFString")]) { type = @"NSString"; }else if ([obj isKindOfClass:NSClassFromString(@"__NSCFArray")]){ type = @"NSArray"; }else if ([obj isKindOfClass:NSClassFromString(@"__NSCFNumber")]){ type = @"int"; }else if ([obj isKindOfClass:NSClassFromString(@"__NSCFDictionary")]){ type = @"NSDictionary"; } // Â±ûÊÄßÂ≠óÁ¨¶‰∏≤ NSString *str; if ([type containsString:@"NS"]) { str = [NSString stringWithFormat:@"@property (nonatomic, strong) %@ *%@;",type,key]; }else{ str = [NSString stringWithFormat:@"@property (nonatomic, assign) %@ %@;",type,key]; } // ÊØèÁîüÊàêÂ±ûÊÄßÂ≠óÁ¨¶‰∏≤ÔºåÂ∞±Ëá™Âä®Êç¢Ë°å„ÄÇ [strM appendFormat:@"\n%@\n",str]; }]; // ÊääÊãºÊé•Â•ΩÁöÑÂ≠óÁ¨¶‰∏≤ÊâìÂç∞Âá∫Êù•ÔºåÂ∞±Â•Ω‰∫Ü„ÄÇ NSLog(@"%@",strM); } @end Â≠óÂÖ∏ËΩ¨Ê®°ÂûãÁöÑÊñπÂºè‰∏ÄÔºöKVC @implementation Status + (instancetype)statusWithDict:(NSDictionary *)dict { Status *status = [[self alloc] init]; [status setValuesForKeysWithDictionary:dict]; return status; } @end KVCÂ≠óÂÖ∏ËΩ¨Ê®°ÂûãÂºäÁ´ØÔºöÂøÖÈ°ª‰øùËØÅÔºåÊ®°Âûã‰∏≠ÁöÑÂ±ûÊÄßÂíåÂ≠óÂÖ∏‰∏≠ÁöÑkey‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇ Â¶ÇÊûú‰∏ç‰∏ÄËá¥ÔºåÂ∞±‰ºöË∞ÉÁî®[&lt;Status 0x7fa74b545d60&gt; setValue:forUndefinedKey:]Êä•keyÊâæ‰∏çÂà∞ÁöÑÈîô„ÄÇ ÂàÜÊûê:Ê®°Âûã‰∏≠ÁöÑÂ±ûÊÄßÂíåÂ≠óÂÖ∏ÁöÑkey‰∏ç‰∏Ä‰∏ÄÂØπÂ∫îÔºåÁ≥ªÁªüÂ∞±‰ºöË∞ÉÁî®setValue:forUndefinedKey:Êä•Èîô„ÄÇ Ëß£ÂÜ≥:ÈáçÂÜôÂØπË±°ÁöÑsetValue:forUndefinedKey:,ÊääÁ≥ªÁªüÁöÑÊñπÊ≥ïË¶ÜÁõñÔºåÂ∞±ËÉΩÁªßÁª≠‰ΩøÁî®KVCÔºåÂ≠óÂÖ∏ËΩ¨Ê®°Âûã‰∫Ü„ÄÇ - (void)setValue:(id)value forUndefinedKey:(NSString *)key { } Â≠óÂÖ∏ËΩ¨Ê®°ÂûãÁöÑÊñπÂºè‰∫åÔºöRuntime ÊÄùË∑ØÔºöÂà©Áî®ËøêË°åÊó∂ÔºåÈÅçÂéÜÊ®°Âûã‰∏≠ÊâÄÊúâÂ±ûÊÄßÔºåÊ†πÊçÆÊ®°ÂûãÁöÑÂ±ûÊÄßÂêçÔºåÂéªÂ≠óÂÖ∏‰∏≠Êü•ÊâækeyÔºåÂèñÂá∫ÂØπÂ∫îÁöÑÂÄºÔºåÁªôÊ®°ÂûãÁöÑÂ±ûÊÄßËµãÂÄº„ÄÇ Ê≠•È™§ÔºöÊèê‰æõ‰∏Ä‰∏™NSObjectÂàÜÁ±ªÔºå‰∏ìÈó®Â≠óÂÖ∏ËΩ¨Ê®°ÂûãÔºå‰ª•ÂêéÊâÄÊúâÊ®°ÂûãÈÉΩÂèØ‰ª•ÈÄöËøáËøô‰∏™ÂàÜÁ±ªËΩ¨„ÄÇ @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. // Ëß£ÊûêPlistÊñá‰ª∂ NSString *filePath = [[NSBundle mainBundle] pathForResource:@"status.plist" ofType:nil]; NSDictionary *statusDict = [NSDictionary dictionaryWithContentsOfFile:filePath]; // Ëé∑ÂèñÂ≠óÂÖ∏Êï∞ÁªÑ NSArray *dictArr = statusDict[@"statuses"]; // Ëá™Âä®ÁîüÊàêÊ®°ÂûãÁöÑÂ±ûÊÄßÂ≠óÁ¨¶‰∏≤ // [NSObject resolveDict:dictArr[0][@"user"]]; _statuses = [NSMutableArray array]; // ÈÅçÂéÜÂ≠óÂÖ∏Êï∞ÁªÑ for (NSDictionary *dict in dictArr) { Status *status = [Status modelWithDict:dict]; [_statuses addObject:status]; } // ÊµãËØïÊï∞ÊçÆ NSLog(@"%@ %@",_statuses,[_statuses[0] user]); } @end @implementation NSObject (Model) + (instancetype)modelWithDict:(NSDictionary *)dict { // ÊÄùË∑ØÔºöÈÅçÂéÜÊ®°Âûã‰∏≠ÊâÄÊúâÂ±ûÊÄß-„Äã‰ΩøÁî®ËøêË°åÊó∂ // 0.ÂàõÂª∫ÂØπÂ∫îÁöÑÂØπË±° id objc = [[self alloc] init]; // 1.Âà©Áî®runtimeÁªôÂØπË±°‰∏≠ÁöÑÊàêÂëòÂ±ûÊÄßËµãÂÄº // class_copyIvarList:Ëé∑ÂèñÁ±ª‰∏≠ÁöÑÊâÄÊúâÊàêÂëòÂ±ûÊÄß // IvarÔºöÊàêÂëòÂ±ûÊÄßÁöÑÊÑèÊÄù // Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöË°®Á§∫Ëé∑ÂèñÂì™‰∏™Á±ª‰∏≠ÁöÑÊàêÂëòÂ±ûÊÄß // Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºöË°®Á§∫Ëøô‰∏™Á±ªÊúâÂ§öÂ∞ëÊàêÂëòÂ±ûÊÄßÔºå‰º†ÂÖ•‰∏Ä‰∏™IntÂèòÈáèÂú∞ÂùÄÔºå‰ºöËá™Âä®ÁªôËøô‰∏™ÂèòÈáèËµãÂÄº // ËøîÂõûÂÄºIvar *ÔºöÊåáÁöÑÊòØ‰∏Ä‰∏™ivarÊï∞ÁªÑÔºå‰ºöÊääÊâÄÊúâÊàêÂëòÂ±ûÊÄßÊîæÂú®‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠ÔºåÈÄöËøáËøîÂõûÁöÑÊï∞ÁªÑÂ∞±ËÉΩÂÖ®ÈÉ®Ëé∑ÂèñÂà∞„ÄÇ /* Á±ª‰ºº‰∏ãÈù¢ËøôÁßçÂÜôÊ≥ï Ivar ivar; Ivar ivar1; Ivar ivar2; // ÂÆö‰πâ‰∏Ä‰∏™ivarÁöÑÊï∞ÁªÑa Ivar a[] = {ivar,ivar1,ivar2}; // Áî®‰∏Ä‰∏™Ivar *ÊåáÈíàÊåáÂêëÊï∞ÁªÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥† Ivar *ivarList = a; // Ê†πÊçÆÊåáÈíàËÆøÈóÆÊï∞ÁªÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥† ivarList[0]; */ unsigned int count; // Ëé∑ÂèñÁ±ª‰∏≠ÁöÑÊâÄÊúâÊàêÂëòÂ±ûÊÄß Ivar *ivarList = class_copyIvarList(self, &count); for (int i = 0; i < count; i++) { // Ê†πÊçÆËßíÊ†áÔºå‰ªéÊï∞ÁªÑÂèñÂá∫ÂØπÂ∫îÁöÑÊàêÂëòÂ±ûÊÄß Ivar ivar = ivarList[i]; // Ëé∑ÂèñÊàêÂëòÂ±ûÊÄßÂêç NSString *name = [NSString stringWithUTF8String:ivar_getName(ivar)]; // Â§ÑÁêÜÊàêÂëòÂ±ûÊÄßÂêç->Â≠óÂÖ∏‰∏≠ÁöÑkey // ‰ªéÁ¨¨‰∏Ä‰∏™ËßíÊ†áÂºÄÂßãÊà™Âèñ NSString *key = [name substringFromIndex:1]; // Ê†πÊçÆÊàêÂëòÂ±ûÊÄßÂêçÂéªÂ≠óÂÖ∏‰∏≠Êü•ÊâæÂØπÂ∫îÁöÑvalue id value = dict[key]; // ‰∫åÁ∫ßËΩ¨Êç¢:Â¶ÇÊûúÂ≠óÂÖ∏‰∏≠ËøòÊúâÂ≠óÂÖ∏Ôºå‰πüÈúÄË¶ÅÊääÂØπÂ∫îÁöÑÂ≠óÂÖ∏ËΩ¨Êç¢ÊàêÊ®°Âûã // Âà§Êñ≠‰∏ãvalueÊòØÂê¶ÊòØÂ≠óÂÖ∏ if ([value isKindOfClass:[NSDictionary class]]) { // Â≠óÂÖ∏ËΩ¨Ê®°Âûã // Ëé∑ÂèñÊ®°ÂûãÁöÑÁ±ªÂØπË±°ÔºåË∞ÉÁî®modelWithDict // Ê®°ÂûãÁöÑÁ±ªÂêçÂ∑≤Áü•ÔºåÂ∞±ÊòØÊàêÂëòÂ±ûÊÄßÁöÑÁ±ªÂûã // Ëé∑ÂèñÊàêÂëòÂ±ûÊÄßÁ±ªÂûã NSString *type = [NSString stringWithUTF8String:ivar_getTypeEncoding(ivar)]; // ÁîüÊàêÁöÑÊòØËøôÁßç@"@\"User\"" Á±ªÂûã -„Äã @"User" Âú®OCÂ≠óÁ¨¶‰∏≤‰∏≠ \" -> "Ôºå\ÊòØËΩ¨‰πâÁöÑÊÑèÊÄùÔºå‰∏çÂç†Áî®Â≠óÁ¨¶ // Ë£ÅÂâ™Á±ªÂûãÂ≠óÁ¨¶‰∏≤ NSRange range = [type rangeOfString:@"\""]; type = [type substringFromIndex:range.location + range.length]; range = [type rangeOfString:@"\""]; // Ë£ÅÂâ™Âà∞Âì™‰∏™ËßíÊ†áÔºå‰∏çÂåÖÊã¨ÂΩìÂâçËßíÊ†á type = [type substringToIndex:range.location]; // Ê†πÊçÆÂ≠óÁ¨¶‰∏≤Á±ªÂêçÁîüÊàêÁ±ªÂØπË±° Class modelClass = NSClassFromString(type); if (modelClass) { // ÊúâÂØπÂ∫îÁöÑÊ®°ÂûãÊâçÈúÄË¶ÅËΩ¨ // ÊääÂ≠óÂÖ∏ËΩ¨Ê®°Âûã value = [modelClass modelWithDict:value]; } } // ‰∏âÁ∫ßËΩ¨Êç¢ÔºöNSArray‰∏≠‰πüÊòØÂ≠óÂÖ∏ÔºåÊääÊï∞ÁªÑ‰∏≠ÁöÑÂ≠óÂÖ∏ËΩ¨Êç¢ÊàêÊ®°Âûã. // Âà§Êñ≠ÂÄºÊòØÂê¶ÊòØÊï∞ÁªÑ if ([value isKindOfClass:[NSArray class]]) { // Âà§Êñ≠ÂØπÂ∫îÁ±ªÊúâÊ≤°ÊúâÂÆûÁé∞Â≠óÂÖ∏Êï∞ÁªÑËΩ¨Ê®°ÂûãÊï∞ÁªÑÁöÑÂçèËÆÆ if ([self respondsToSelector:@selector(arrayContainModelClass)]) { // ËΩ¨Êç¢ÊàêidÁ±ªÂûãÔºåÂ∞±ËÉΩË∞ÉÁî®‰ªª‰ΩïÂØπË±°ÁöÑÊñπÊ≥ï id idSelf = self; // Ëé∑ÂèñÊï∞ÁªÑ‰∏≠Â≠óÂÖ∏ÂØπÂ∫îÁöÑÊ®°Âûã NSString *type = [idSelf arrayContainModelClass][key]; // ÁîüÊàêÊ®°Âûã Class classModel = NSClassFromString(type); NSMutableArray *arrM = [NSMutableArray array]; // ÈÅçÂéÜÂ≠óÂÖ∏Êï∞ÁªÑÔºåÁîüÊàêÊ®°ÂûãÊï∞ÁªÑ for (NSDictionary *dict in value) { // Â≠óÂÖ∏ËΩ¨Ê®°Âûã id model = [classModel modelWithDict:dict]; [arrM addObject:model]; } // ÊääÊ®°ÂûãÊï∞ÁªÑËµãÂÄºÁªôvalue value = arrM; } } if (value) { // ÊúâÂÄºÔºåÊâçÈúÄË¶ÅÁªôÊ®°ÂûãÁöÑÂ±ûÊÄßËµãÂÄº // Âà©Áî®KVCÁªôÊ®°Âûã‰∏≠ÁöÑÂ±ûÊÄßËµãÂÄº [objc setValue:value forKey:key]; } } return objc; } @end]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[const,static,externÂå∫Âà´]]></title>
    <url>%2F2018%2F09%2F12%2Fconst-static-extern%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅconst‰∏éÂÆèÁöÑÂå∫Âà´ÔºàÈù¢ËØïÈ¢òÔºâ: constÁÆÄ‰ªã:‰πãÂâçÂ∏∏Áî®ÁöÑÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÔºå‰∏ÄËà¨ÊòØÊäΩÊàêÂÆèÔºå‰ΩÜÊòØËãπÊûú‰∏çÊé®ËçêÊàë‰ª¨ÊäΩÊàêÂÆèÔºåÊé®ËçêÊàë‰ª¨‰ΩøÁî®constÂ∏∏Èáè„ÄÇ ÊâßË°åÊó∂Âàª:ÂÆèÊòØÈ¢ÑÁºñËØëÔºàÁºñËØë‰πãÂâçÂ§ÑÁêÜÔºâÔºåconstÊòØÁºñËØëÈò∂ÊÆµ„ÄÇ ÁºñËØëÊ£ÄÊü•:ÂÆè‰∏çÂÅöÊ£ÄÊü•Ôºå‰∏ç‰ºöÊä•ÁºñËØëÈîôËØØÔºåÂè™ÊòØÊõøÊç¢Ôºåconst‰ºöÁºñËØëÊ£ÄÊü•Ôºå‰ºöÊä•ÁºñËØëÈîôËØØ„ÄÇ ÂÆèÁöÑÂ•ΩÂ§Ñ:ÂÆèËÉΩÂÆö‰πâ‰∏Ä‰∫õÂáΩÊï∞ÔºåÊñπÊ≥ï„ÄÇ const‰∏çËÉΩ„ÄÇ ÂÆèÁöÑÂùèÂ§Ñ:‰ΩøÁî®Â§ßÈáèÂÆèÔºåÂÆπÊòìÈÄ†ÊàêÁºñËØëÊó∂Èó¥‰πÖÔºåÊØèÊ¨°ÈÉΩÈúÄË¶ÅÈáçÊñ∞ÊõøÊç¢„ÄÇ Ê≥®ÊÑè:ÂæàÂ§öBlogÈÉΩËØ¥‰ΩøÁî®ÂÆèÔºå‰ºöÊ∂àËÄóÂæàÂ§öÂÜÖÂ≠òÔºåÊàëËøôÈ™åËØÅÂπ∂‰∏ç‰ºöÁîüÊàêÂæàÂ§öÂÜÖÂ≠òÔºåÂÆèÂÆö‰πâÁöÑÊòØÂ∏∏ÈáèÔºåÂ∏∏ÈáèÈÉΩÊîæÂú®Â∏∏ÈáèÂå∫ÔºåÂè™‰ºöÁîüÊàê‰∏Ä‰ªΩÂÜÖÂ≠ò„ÄÇ //Â∏∏ËßÅÂ∏∏Èáè: ÊäΩÊàêÂÆè #define SKAccount @"account123" //Â≠óÁ¨¶‰∏≤ÂèòÈáè static NSString *const account = @"account123"; @interface ViewController () @end @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; NSString *str = SKAccount; NSString *str2 = SKAccount; NSLog(@"%p %p", str, str2); //ÊâìÂç∞ÁªìÊûú 0x10c7ba068 0x10c7ba068 } // Â∏∏ËßÅÁöÑÂ∏∏ÈáèÔºöÊäΩÊàêÂÆè #define Account @"account" #define UserDefault [NSUserDefaults standardUserDefaults] // Â≠óÁ¨¶‰∏≤Â∏∏Èáè static NSString * const account = @"account"; - (void)viewDidLoad { [super viewDidLoad]; // ÂÅèÂ•ΩËÆæÁΩÆÂ≠òÂÇ® // ‰ΩøÁî®ÂÆè [UserDefault setValue:@"123" forKey:Account]; // ‰ΩøÁî®constÂ∏∏Èáè [[NSUserDefaults standardUserDefaults] setValue:@"123" forKey:account]; } ‰∫å„ÄÅconst‰ΩúÁî®ÔºöÈôêÂà∂Á±ªÂûã* 1.const‰ªÖ‰ªÖÁî®Êù•‰øÆÈ•∞Âè≥ËæπÁöÑÂèòÈáèÔºàÂü∫Êú¨Êï∞ÊçÆÂèòÈáèpÔºåÊåáÈíàÂèòÈáè*pÔºâ * 2.Ë¢´const‰øÆÈ•∞ÁöÑÂèòÈáèÊòØÂè™ËØªÁöÑ„ÄÇ constÂü∫Êú¨‰ΩøÁî® - (void)viewDidLoad { [super viewDidLoad]; // ÂÆö‰πâÂèòÈáè int a = 1; // ÂÖÅËÆ∏‰øÆÊîπÂÄº a = 20; // const‰∏§ÁßçÁî®Ê≥ï // const:‰øÆÈ•∞Âü∫Êú¨ÂèòÈáèb // Ëøô‰∏§ÁßçÂÜôÊ≥ïÊòØ‰∏ÄÊ†∑ÁöÑÔºåconstÂè™‰øÆÈ•∞Âè≥ËæπÁöÑÂü∫Êú¨ÂèòÈáèb const int b = 20; // b:Âè™ËØªÂèòÈáè int const b = 20; // b:Âè™ËØªÂèòÈáè // ‰∏çÂÖÅËÆ∏‰øÆÊîπÂÄº b = 1; // const:‰øÆÈ•∞ÊåáÈíàÂèòÈáè*pÔºåÂ∏¶*ÁöÑÂèòÈáèÔºåÂ∞±ÊòØÊåáÈíàÂèòÈáè. // ÂÆö‰πâ‰∏Ä‰∏™ÊåáÂêëintÁ±ªÂûãÁöÑÊåáÈíàÂèòÈáèÔºåÊåáÂêëaÁöÑÂú∞ÂùÄ int *p = &a; int c = 10; p = &c; // ÂÖÅËÆ∏‰øÆÊîπpÊåáÂêëÁöÑÂú∞ÂùÄÔºå // ÂÖÅËÆ∏‰øÆÊîπpËÆøÈóÆÂÜÖÂ≠òÁ©∫Èó¥ÁöÑÂÄº *p = 20; // const‰øÆÈ•∞ÊåáÈíàÂèòÈáèËÆøÈóÆÁöÑÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰øÆÈ•∞ÁöÑÊòØÂè≥Ëæπ*p1Ôºå // ‰∏§ÁßçÊñπÂºè‰∏ÄÊ†∑ const int *p1; // *p1ÔºöÂ∏∏Èáè p1:ÂèòÈáè int const *p1; // *p1ÔºöÂ∏∏Èáè p1:ÂèòÈáè // const‰øÆÈ•∞ÊåáÈíàÂèòÈáèp1 int * const p1; // *p1:ÂèòÈáè p1:Â∏∏Èáè // Á¨¨‰∏Ä‰∏™const‰øÆÈ•∞*p1 Á¨¨‰∫å‰∏™const‰øÆÈ•∞ p1 // ‰∏§ÁßçÊñπÂºè‰∏ÄÊ†∑ const int * const p1; // *p1ÔºöÂ∏∏Èáè p1ÔºöÂ∏∏Èáè int const * const p1; // *p1ÔºöÂ∏∏Èáè p1ÔºöÂ∏∏Èáè } ‰∏â„ÄÅconstÂºÄÂèë‰∏≠‰ΩøÁî®Âú∫ÊôØ:* 1.ÈúÄÊ±Ç1:Êèê‰æõ‰∏Ä‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁöÑÂèÇÊï∞ÊòØÂú∞ÂùÄÔºåÈáåÈù¢Âè™ËÉΩÈÄöËøáÂú∞ÂùÄËØªÂèñÂÄº,‰∏çËÉΩÈÄöËøáÂú∞ÂùÄ‰øÆÊîπÂÄº * 2.ÈúÄÊ±Ç2:Êèê‰æõ‰∏Ä‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁöÑÂèÇÊï∞ÊòØÂú∞ÂùÄÔºåÈáåÈù¢‰∏çËÉΩ‰øÆÊîπÂèÇÊï∞ÁöÑÂú∞ÂùÄ„ÄÇ @implementation ViewController // constÊîæ*ÂâçÈù¢Á∫¶ÊùüÂèÇÊï∞ÔºåË°®Á§∫*aÂè™ËØª // Âè™ËÉΩ‰øÆÊîπÂú∞ÂùÄa,‰∏çËÉΩÈÄöËøáa‰øÆÊîπËÆøÈóÆÁöÑÂÜÖÂ≠òÁ©∫Èó¥ - (void)test:(const int * )a { // *a = 20; } // constÊîæ*ÂêéÈù¢Á∫¶ÊùüÂèÇÊï∞ÔºåË°®Á§∫aÂè™ËØª // ‰∏çËÉΩ‰øÆÊîπaÁöÑÂú∞ÂùÄÔºåÂè™ËÉΩ‰øÆÊîπaËÆøÈóÆÁöÑÂÄº - (void)test1:(int * const)a { int b; // ‰ºöÊä•Èîô a = &b; *a = 2; } - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. int a = 10; // ÈúÄÊ±Ç1:Êèê‰æõ‰∏Ä‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁöÑÂèÇÊï∞ÊòØÂú∞ÂùÄÔºåÈáåÈù¢Âè™ËÉΩÈÄöËøáÂú∞ÂùÄËØªÂèñÂÄº,‰∏çËÉΩÈÄöËøáÂú∞ÂùÄ‰øÆÊîπÂÄº„ÄÇ // ËøôÊó∂ÂÄôÂ∞±ÈúÄË¶Å‰ΩøÁî®constÔºåÁ∫¶ÊùüÊñπÊ≥ïÁöÑÂèÇÊï∞Âè™ËØª. [self test:&a]; // ÈúÄÊ±Ç2:Êèê‰æõ‰∏Ä‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁöÑÂèÇÊï∞ÊòØÂú∞ÂùÄÔºåÈáåÈù¢‰∏çËÉΩ‰øÆÊîπÂèÇÊï∞ÁöÑÂú∞ÂùÄ„ÄÇ [self test1:&a]; } @end Âõõ„ÄÅstaticÂíåexternÁÆÄÂçï‰ΩøÁî®(Ë¶Å‰ΩøÁî®‰∏Ä‰∏™‰∏úË•øÔºåÂÖà‰∫ÜËß£ÂÖ∂‰ΩúÁî®) static‰ΩúÁî®: ‰øÆÈ•∞Â±ÄÈÉ®ÂèòÈáèÔºö 1.Âª∂ÈïøÂ±ÄÈÉ®ÂèòÈáèÁöÑÁîüÂëΩÂë®Êúü,Á®ãÂ∫èÁªìÊùüÊâç‰ºöÈîÄÊØÅ„ÄÇ 2.Â±ÄÈÉ®ÂèòÈáèÂè™‰ºöÁîüÊàê‰∏Ä‰ªΩÂÜÖÂ≠ò,Âè™‰ºöÂàùÂßãÂåñ‰∏ÄÊ¨°„ÄÇ 3.ÊîπÂèòÂ±ÄÈÉ®ÂèòÈáèÁöÑ‰ΩúÁî®Âüü„ÄÇ ‰øÆÈ•∞ÂÖ®Â±ÄÂèòÈáè 1.Âè™ËÉΩÂú®Êú¨Êñá‰ª∂‰∏≠ËÆøÈóÆ,‰øÆÊîπÂÖ®Â±ÄÂèòÈáèÁöÑ‰ΩúÁî®Âüü,ÁîüÂëΩÂë®Êúü‰∏ç‰ºöÊîπ 2.ÈÅøÂÖçÈáçÂ§çÂÆö‰πâÂÖ®Â±ÄÂèòÈáè extern‰ΩúÁî®: Âè™ÊòØÁî®Êù•Ëé∑ÂèñÂÖ®Â±ÄÂèòÈáè(ÂåÖÊã¨ÂÖ®Â±ÄÈùôÊÄÅÂèòÈáè)ÁöÑÂÄºÔºå‰∏çËÉΩÁî®‰∫éÂÆö‰πâÂèòÈáè externÂ∑•‰ΩúÂéüÁêÜ: ÂÖàÂú®ÂΩìÂâçÊñá‰ª∂Êü•ÊâæÊúâÊ≤°ÊúâÂÖ®Â±ÄÂèòÈáèÔºåÊ≤°ÊúâÊâæÂà∞ÔºåÊâç‰ºöÂéªÂÖ∂‰ªñÊñá‰ª∂Êü•Êâæ„ÄÇ // ÂÖ®Â±ÄÂèòÈáèÔºöÂè™Êúâ‰∏Ä‰ªΩÂÜÖÂ≠òÔºåÊâÄÊúâÊñá‰ª∂ÂÖ±‰∫´Ôºå‰∏éexternËÅîÂêà‰ΩøÁî®„ÄÇ int a = 20; // static‰øÆÈ•∞ÂÖ®Â±ÄÂèòÈáè static int age = 20; - (void)test { // static‰øÆÈ•∞Â±ÄÈÉ®ÂèòÈáè static int age = 0; age++; NSLog(@"%d",age); } - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view, typically from a nib. [self test]; [self test]; extern int age; NSLog(@"%d",age); } ‰∫î„ÄÅstatic‰∏éconstËÅîÂêà‰ΩøÁî® static‰∏éconst‰ΩúÁî®:Â£∞Êòé‰∏Ä‰∏™Âè™ËØªÁöÑÈùôÊÄÅÂèòÈáè ÂºÄÂèë‰ΩøÁî®Âú∫ÊôØ:Âú®‰∏Ä‰∏™Êñá‰ª∂‰∏≠ÁªèÂ∏∏‰ΩøÁî®ÁöÑÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÔºåÂèØ‰ª•‰ΩøÁî®static‰∏éconstÁªÑÂêà // ÂºÄÂèë‰∏≠Â∏∏Áî®static‰øÆÈ•∞ÂÖ®Â±ÄÂèòÈáè,Âè™ÊîπÂèò‰ΩúÁî®Âüü // ‰∏∫‰ªÄ‰πàË¶ÅÊîπÂèòÂÖ®Â±ÄÂèòÈáè‰ΩúÁî®ÂüüÔºåÈò≤Ê≠¢ÈáçÂ§çÂ£∞ÊòéÂÖ®Â±ÄÂèòÈáè„ÄÇ // ÂºÄÂèë‰∏≠Â£∞ÊòéÁöÑÂÖ®Â±ÄÂèòÈáèÔºåÊúâ‰∫õ‰∏çÂ∏åÊúõÂ§ñÁïåÊîπÂä®ÔºåÂè™ÂÖÅËÆ∏ËØªÂèñ„ÄÇ // ÊØîÂ¶Ç‰∏Ä‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã‰∏çÂ∏åÊúõÂà´‰∫∫ÊîπÂä® // Â£∞Êòé‰∏Ä‰∏™ÈùôÊÄÅÁöÑÂÖ®Â±ÄÂè™ËØªÂ∏∏Èáè static const int a = 20; // staicÂíåconstËÅîÂêàÁöÑ‰ΩúÁî®:Â£∞Êòé‰∏Ä‰∏™ÈùôÊÄÅÁöÑÂÖ®Â±ÄÂè™ËØªÂ∏∏Èáè // iOS‰∏≠staicÂíåconstÂ∏∏Áî®‰ΩøÁî®Âú∫ÊôØÔºåÊòØÁî®Êù•‰ª£ÊõøÂÆèÔºåÊää‰∏Ä‰∏™ÁªèÂ∏∏‰ΩøÁî®ÁöÑÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÔºåÂÆö‰πâÊàêÈùôÊÄÅÂÖ®Â±ÄÂè™ËØªÂèòÈáè. // ÂºÄÂèë‰∏≠ÁªèÂ∏∏ÊãøÂà∞key‰øÆÊîπÂÄºÔºåÂõ†Ê≠§Áî®const‰øÆÈ•∞key,Ë°®Á§∫keyÂè™ËØªÔºå‰∏çÂÖÅËÆ∏‰øÆÊîπ„ÄÇ static NSString * const key = @"name"; // Â¶ÇÊûú const‰øÆÈ•∞ *key1,Ë°®Á§∫*key1Âè™ËØªÔºåkey1ËøòÊòØËÉΩÊîπÂèò„ÄÇ static NSString const *key1 = @"name"; ÂÖ≠„ÄÅextern‰∏éconstËÅîÂêà‰ΩøÁî® ÂºÄÂèë‰∏≠‰ΩøÁî®Âú∫ÊôØ:Âú®Â§ö‰∏™Êñá‰ª∂‰∏≠ÁªèÂ∏∏‰ΩøÁî®ÁöÑÂêå‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÔºåÂèØ‰ª•‰ΩøÁî®extern‰∏éconstÁªÑÂêà„ÄÇ ÂéüÂõ†: static‰∏éconstÁªÑÂêàÔºöÂú®ÊØè‰∏™Êñá‰ª∂ÈÉΩÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰ªΩÈùôÊÄÅÂÖ®Â±ÄÂèòÈáè„ÄÇ extern‰∏éconstÁªÑÂêà:Âè™ÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰ªΩÂÖ®Â±ÄÂèòÈáèÔºåÂ§ö‰∏™Êñá‰ª∂ÂÖ±‰∫´„ÄÇ ÂÖ®Â±ÄÂ∏∏ÈáèÊ≠£ËßÑÂÜôÊ≥ï:ÂºÄÂèë‰∏≠‰æø‰∫éÁÆ°ÁêÜÊâÄÊúâÁöÑÂÖ®Â±ÄÂèòÈáèÔºåÈÄöÂ∏∏Êêû‰∏Ä‰∏™GlobeConstÊñá‰ª∂ÔºåÈáåÈù¢‰∏ìÈó®ÂÆö‰πâÂÖ®Â±ÄÂèòÈáèÔºåÁªü‰∏ÄÁÆ°ÁêÜÔºåË¶Å‰∏çÁÑ∂È°πÁõÆÊñá‰ª∂Â§ö‰∏çÂ•ΩÊâæ„ÄÇ GlobeConst.h /*******************************È¶ñÈ°µ****************************/ extern NSString * const nameKey = @&quot;name&quot;; /*******************************È¶ñÈ°µ****************************/ GlobeConst.m #import &lt;Foundation/Foundation.h&gt; /*******************************È¶ñÈ°µ****************************/ NSString * const nameKey = @&quot;name&quot;; /*******************************È¶ñÈ°µ****************************/]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò24--Ë°•ÂÖÖ]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9824-%E8%A1%A5%E5%85%85%2F</url>
    <content type="text"><![CDATA[UML Áªü‰∏ÄÂª∫Ê®°ËØ≠Ë®ÄÔºàUMLÔºåUnifiedModelingLanguageÔºâÊòØÈù¢ÂêëÂØπË±°ËΩØ‰ª∂ÁöÑÊ†áÂáÜÂåñÂª∫Ê®°ËØ≠Ë®Ä„ÄÇUMLÂõ†ÂÖ∂ÁÆÄÂçï„ÄÅÁªü‰∏ÄÁöÑÁâπÁÇπÔºåËÄå‰∏îËÉΩË°®ËææËΩØ‰ª∂ËÆæËÆ°‰∏≠ÁöÑÂä®ÊÄÅÂíåÈùôÊÄÅ‰ø°ÊÅØÔºåÁõÆÂâçÂ∑≤Êàê‰∏∫ÂèØËßÜÂåñÂª∫Ê®°ËØ≠Ë®ÄÁöÑÂ∑•‰∏öÊ†áÂáÜ„ÄÇÂú®ËΩØ‰ª∂Êó†Á∫øÁîµÁ≥ªÁªüÁöÑÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÁªü‰∏ÄÂª∫Ê®°ËØ≠Ë®ÄÂèØ‰ª•Âú®Êï¥‰∏™ËÆæËÆ°Âë®Êúü‰∏≠‰ΩøÁî®ÔºåÂ∏ÆÂä©ËÆæËÆ°ËÄÖÁº©Áü≠ËÆæËÆ°Êó∂Èó¥ÔºåÂáèÂ∞ëÊîπËøõÁöÑÊàêÊú¨Ôºå‰ΩøËΩØÁ°¨‰ª∂ÂàÜÂâ≤ÊúÄ‰ºò„ÄÇ Áî®‰æãÂõæ ÈùôÊÄÅÂõæ Ë°å‰∏∫Âõæ ‰∫§‰∫íÂõæ ÂÆûÁé∞Âõæ Â¶ÇÊûúËÆæËÆ°‰∏Ä‰∏™‰∫§ÊòìÂπ≥Âè∞ÔºåÊµÅÁ®ãÂ¶Ç‰∏ãÔºöAÁî®Êà∑Âú®Âπ≥Âè∞PÂèëÁé∞BÁî®Êà∑Êúâ‰∏úË•øÂá∫ÂîÆÔºåPÂπ≥Âè∞ÁöÑ‰∏öÂä°ÈÄªËæëÊòØÈúÄË¶ÅAÂÖà‰ªòÊ¨æÂà∞PÂæó‰∏≠Èó¥Ë¥¶Êà∑ÔºåÁ≠âÂà∞AÁ°ÆËÆ§Êî∂Ë¥ßÂêéÔºåPÂêëB‰ªòÊ¨æÔºå‰Ω†ËÉΩÂ∞ùËØïÊüêÁßçË°®Á§∫ÊñπÂºèÊù•ËÆ©Á®ãÂ∫èÂëòÔºå‰∫ßÂìÅËÆæËÆ°ÔºåÁæéÊúØËÆæËÆ°ÊòéÁôΩËøô‰∏™ÊµÅÁ®ã‰πàÔºü‰ªé1-n‰∏™‰∫îÂ∫èÂàóÁöÑÊï∞Â≠ó‰∏≠ÊéíÂ∫èÁöÑÁÆóÊ≥ïÊúâÂì™‰∫õÔºåÁÆÄÂçï‰ª£Á†ÅÂÆûÁé∞‰∏Ä‰∏™Âπ∂ÂÜôÂá∫Êó∂Èó¥Â§çÊùÇÂ∫¶Êúâ‰∏Ä‰∏™6ÂÖãÂíå21ÂÖãÁöÑÁ†ùÁ†ÅÔºåÊÄéÊ†∑Áß∞Èáè‰∏âÊ¨°Â∞Ü420ÂÖãÁöÑÁ≥ñÂàÜÊàê270ÂÖãÂíå150ÂÖã‰∏ÄÊ°åÂ≠ê‰∫∫ÔºåÊØè‰∏™‰∫∫È¢ùÂ§¥‰∏äÈÉΩË¥¥ÊúâÊ†áÁ≠æÔºåÁªøËâ≤ÂíåÁ∫¢Ëâ≤ÔºåÁªøËâ≤Ëá≥Â∞ë1‰∏™ÔºåÂ§ßÂÆ∂ÈÉΩËÉΩÁúãÂà∞Âà´‰∫∫Â§¥‰∏äÁöÑÊ†áÁ≠æÔºåÁúã‰∏çÂà∞Ëá™Â∑±Â§¥‰∏äÁöÑÊ†áÁ≠æÔºåÁÑ∂ÂêéÂºÄÂßãÈó≠ÁúºÊ∏∏ÊàèÔºåÂ§ßÂÆ∂ËßâÂæóËá™Â∑±Â§¥‰∏äÊòØÁªøËâ≤Ê†áÁ≠æÂ∞±Êãç‰∏Ä‰∏ãÊâãÊéåÔºåÁ¨¨‰∏ÄÊ¨°Èó≠ÁúºÊ≤°‰∫∫ÊãçÊéåÔºåÁ¨¨‰∫åÊ¨°ÔºåÁ¨¨‰∏âÊ¨°‰πüÂêåÊ†∑Ê≤°Êúâ‰∫∫ÊãçÊéåÔºåÁ¨¨ÂõõÊ¨°Êúâ‰∏Ä‰∏™‰∫∫ÊãçÊéå‰∫ÜÔºåËØ∑ÈóÆÁªøËâ≤Ê†áÁ≠æÊúâÂá†Âº†ÊòØÂê¶‰ΩøÁî®ËøácoreImageÂíåcoreText?Â¶ÇÊûú‰ΩøÁî®ËøáÔºåËØ¥ËØ¥‰Ω†ÁöÑ‰ΩìÈ™å coreImageÊòØIOS5‰∏≠Êñ∞Âä†ÂÖ•ÁöÑ‰∏Ä‰∏™Objective-cÁöÑÊ°ÜÊû∂ÔºåÊèê‰æõ‰∫ÜÂº∫Â§ßÈ´òÊïàÁöÑÂõæÂÉèÂ§ÑÁêÜÂäüËÉΩÔºåÁî®Êù•ÂØπÂü∫‰∫éÂÉèÁ¥†ÁöÑÂõæÂÉèËøõË°åÊìç‰Ωú‰∏éÂàÜÊûê„ÄÇ ÂÜô‰∏Ä‰∏™ÂçïÈ°πÈìæË°®ÈÄÜÂ∫è‰ªÄ‰πàÊòØOpenGL?ÂÖ∑‰Ωì‰ΩøÁî®ÂºÄÂêØ‰∏Ä‰∏™ÂÖ∂‰ªñÁ∫øÁ®ãÊù•ËÆ°ÁÆó1+1 Âπ∂‰∏îÊääÁªìÊûúÁî®‰∏ªÁ∫øÁ®ãÊòæÁ§∫Âú®label‰∏äÊõ¥Êñ∞UIffmpegÊ°ÜÊû∂ÈùôÊÄÅÈìæÊé•Â∫ìinitÂíåinitwithobjectÂå∫Âà´ÔºàËØ≠Ê≥ïÔºâÔºü‰ªÄ‰πàÊòØOOPÔºü‰∏∫NSStringÊâ©Â±ï‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊñπÊ≥ïËÉΩÂà§Êñ≠Â≠óÁ¨¶‰∏≤ÊòØÂê¶ÊòØUrlÂú∞ÂùÄÔºàÂç≥Âà§Êñ≠Â≠óÁ¨¶‰∏≤ÊòØÂê¶‰ª•‚Äúhttp://‚ÄùÔºâÔºåÊîæÂõûBOOLÂÄºÁ±ªÂûãÂÜô‰∏Ä‰∏™iphoneÁ®ãÂ∫èÔºåÊúâ2Â±èÔºåÂèØ‰ª•ÈÄöËøáÊªëÂä®ÂàáÊç¢ÔºåÁ¨¨‰∫åÂ±èÊúâ‰∏Ä‰∏™webviewÔºåËØªÂèñÊú¨Âú∞ÁöÑhtmlÊñá‰ª∂ÔºåHtmlÊñá‰ª∂‰∏≠‰ºöÂä†ËΩΩ‰∏Ä‰∏™Êú¨Âú∞xmlÊñá‰ª∂ÔºåËé∑ÂèñxmlÊñá‰ª∂‰∏≠ÁöÑÊï∞ÊçÆÂÜÖÂÆπÂπ∂ÊòæÁ§∫„ÄÇÔºàÂèØÈÄâÔºöhtml‰∏≠Âä†ËΩΩÁöÑjsÊñá‰ª∂Ôºâ.Â¶Ç‰ΩïÈÅøÂÖçjsonËß£ÊûêÂá∫Áé∞ÂÜÖÂ≠òÊ≥ÑÈú≤ÔºåÂÜÖÂ≠òÊ≥ÑÈú≤ÂêéÊÄé‰πàËß£ÂÜ≥‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂèëÁîüÂÜÖÂ≠òÊ≥ÑÊºèÂíåÂÜÖÂ≠òÊ∫¢Âá∫ÔºüÊúâÊñπÊ≥ïÊü•ÁúãÂΩìÂâçÁ≥ªÁªüÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÂêóÔºü ÈùôÊÄÅÂàÜÊûê ÔºöÈÄöËøáÈùôÊÄÅÂàÜÊûêÊàë‰ª¨ÂèØ‰ª•ÊúÄÂàùÊ≠•ÁöÑ‰∫ÜËß£Âà∞‰ª£Á†ÅÁöÑ‰∏Ä‰∫õ‰∏çËßÑËåÉÁöÑÂú∞ÊñπÊàñËÄÖÊòØÂ≠òÂú®ÁöÑÂÜÖÂ≠òÊ≥ÑÊºèÔºåËøôÊòØÊàë‰ª¨Á¨¨‰∏ÄÊ≠•ÂØπÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÊ£ÄÊµã„ÄÇÂΩìÁÑ∂Êúâ‰∏Ä‰∫õË≠¶ÂëäÂπ∂‰∏çÊòØÊàë‰ª¨ÂÖ≥ÂøÉÁöÑÂèØ‰ª•Áï•Ëøá„ÄÇ ÈÄöËøáinstrumentsÊù•Ê£ÄÊü•ÂÜÖÂ≠òÊ≥ÑÊºè Ëøô‰∏™ÊñπÊ≥ïËÉΩÁ≤óÁï•ÁöÑÂÆö‰ΩçÊàë‰ª¨Âú®Âì™ÈáåÂèëÁîü‰∫ÜÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇÊñπÊ≥ïÊòØÂÆåÊàê‰∏Ä‰∏™Âæ™ÁéØÊìç‰ΩúÔºåÂ¶ÇÊûúÂÜÖÂ≠òÂ¢ûÈïø‰∏∫0Â∞±ËØÅÊòéÊàë‰ª¨Á®ãÂ∫èÂú®ËØ•Ê¨°Âæ™ÁéØÊìç‰Ωú‰∏≠‰∏çÂ≠òÂú®ÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂ¶ÇÊûúÂÜÖÂ≠òÂ¢ûÈïø‰∏ç‰∏∫0ÈÇ£ËØÅÊòéÊúâÂèØËÉΩÂ≠òÂú®ÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂΩìÁÑ∂ÂÖ∑‰ΩìÈóÆÈ¢òÈúÄË¶ÅÂÖ∑‰ΩìÂàÜÊûê„ÄÇ ‰ª£Á†ÅÊµãËØïÂÜÖÂ≠òÊ≥ÑÊºè Âú®ÂÅöËøôÈ°πÂ∑•‰Ωú‰πãÂâçÊàë‰ª¨Ë¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÔºåÂú®deallocÁöÑÊñπÊ≥ï‰∏≠Êàë‰ª¨ÊòØÂê¶Â∑≤ÁªèÈáäÊîæ‰∫ÜËØ•ÂØπË±°ÊâÄÊã•ÊúâÁöÑÊâÄÊúâÂØπË±°„ÄÇËßÇÂØüÂØπË±°ÁöÑÁîüÊàêÂíåÈîÄÊØÅÊòØÂê¶ÈÖçÂØπ„ÄÇÂáÜÁ°ÆÁöÑËØ¥Â∞±ÊòØinitÔºàÂàõÂª∫ÂØπË±°ÁöÑÊñπÊ≥ïÔºâÂíådeallocÊòØÂê¶‰ºöË¢´ÊàêÂØπËß¶ÂèëÔºàÁÆÄÂçïËØ¥Êù•Â∞±ÊòØËµ∞‰∏ÄÊ¨°ÂàõÂª∫ÂØπË±°Â∞±ÊúâËµ∞‰∏ÄÊ¨°deallocËØ•ÂØπË±°Ôºâ„ÄÇ ‰∏ãÈù¢ÊòØËá™Â∑±ÈÅáÂà∞ÁöÑ‰∏Ä‰∫õÊØîËæÉÈöêÁßòÁöÑÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÊÉÖÂÜµÔºö 1.‰∏§‰∏™ÂØπË±°‰∫íÁõ∏Êã•ÊúâÔºö‰πüÂ∞±ÊòØËØ¥ÂØπË±°aÈáåÈù¢retain/addSubview‰∫ÜbÂØπË±°ÔºåbÂØπË±°ÂêåÊó∂‰πüretain/addSubView‰∫ÜaÂØπË±°„ÄÇÊ≥®ÊÑèÔºödelegate‰∏çË¶ÅÁî®retainÂ±ûÊÄßÔºåË¶ÅÁî®assignÂ±ûÊÄß‰πü‰ºöÂØºËá¥‰∫íÁõ∏Êã•Êúâ„ÄÇ 2.ÊúâÊó∂ÂÄôÈúÄË¶ÅÁî®removeFromSuperViewÊù•ÈáäÊîæÔºöÂÖ∑‰ΩìËØ¥ÊòéÔºå‰πüËÆ∏ÊàëÁöÑaÂØπË±°Êã•Êúâ‰∏Ä‰∏™bÂØπË±°ÔºåbÂØπË±°addÂà∞‰∫ÜcÂØπË±°‰∏äÔºåËÄåÂú®Êàë‰ª¨ÁöÑËÆæËÆ°‰∏≠bÂØπË±°ÁöÑÁîüÂëΩÂë®ÊúüÂ∫îËØ•ÂíåaÂØπË±°Áõ∏ÂêåÔºõËøôÊó∂ÂÄôÂè™‰∏ÄÂè•[b release]/self.b = nilÊòØ‰∏çËÉΩÊääbÂØπË±°ÈáäÊîæÊéâÁöÑÔºà‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãrelease‰ºö‰ΩøÂÖ∂retainCountÔºç1,[super dealloc]‰ºöÂÜçÊ¨°Â∞ÜÊâÄÊúâsubViewÁöÑretainCountÔºç1,ËÄåbÂπ∂‰∏çÊòØaÁöÑsubViewÔºåÊâÄÊúâÊúÄÂêéÁöÑ‰∏ÄÊ¨°Ôºç1Ê≤°Êúâ‰∫ÜÔºâÔºõÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂú®‰πãÂâçÂä†‰∏ä[b removeFromSuperView]„ÄÇ ÂÜô‰∏Ä‰∏™Ë¥™ÂêÉËõáÁöÑÁÆóÊ≥ïËØ∑ÂÜô‰∏Ä‰∏™Á±ª‰ºº‰∫éNSMutableArrayÁöÑÁ±ªÔºåÂèØ‰ª•Ê∑ªÂä†ÔºåÂà†Èô§Ôºå‰ª•ÂèäÂ¶Ç‰Ωï‰ª•ÊúÄÂø´ÁöÑÈÄüÂ∫¶Êü•ÊâæÊüê‰∏™ÂÖÉÁ¥†ÔºüÁªô‰∏Ä‰∏™Êï∞Â≠óÔºåÂà§Êñ≠‰ªéÂ∑¶ËØªÂíå‰ªéÂè≥ËØªÊòØÂê¶ÊòØ‰∏ÄËá¥ÁöÑÔºü‰æãÂ¶Ç12321Âíå4444Áªô‰∏Ä‰∏™Êï∞ÁªÑ[1„ÄÅ3„ÄÅ2„ÄÅ4„ÄÅ8]ÊéíÂ∫èÂêé[1„ÄÅ2„ÄÅ3„ÄÅ4„ÄÅ8]ÔºüÊÄé‰πàÁî®‰∏ãÈù¢ÁöÑÁ±ªÔºüÂåó‰∫¨ÂìÅÁßëËâ∫ÁßëÊäÄÊúâÈôêÂÖ¨Âè∏ NSuserDefault NSMange Object Context NSPredict ÊÄé‰πà‰ªéxibÊñá‰ª∂Âä†ËΩΩÊàêUIviewÔºüOAuth2.0ÊéàÊùÉÁöÑËøáÁ®ãÔºåÊòØÂê¶Áî®Ëøá1.0ÔºüidÊòØÁºñËØëÊó∂ËøòÊòØËøêË°åÊó∂ËìùÁâô„ÄÅCFNetworkÂü∫‰∫éÂï•ÔºüÈÄªËæëËøêÁÆóË∑ü‰ΩçËøêÁÆóÁöÑÂå∫Âà´Ôºü‰∏âÁª¥Âä®ÁîªÁöÑÊóãËΩ¨ÁöÑÂéüÁêÜÔºüÂ∫ïÂ±ÇÊÄé‰πàÂÆûÁé∞ÔºüÁÇπ‰∏éÁÇπ Áî®Ë∑ùÈòµÂèòÊç¢ÂÆûÁé∞ÁöÑ„ÄÇNSFileManager/NSFileHandle‰∏∫‰ªÄ‰πà‰∏çÁî®Êñá‰ª∂Âä†ËΩΩËÄåÁî®Êï∞ÊçÆÂ∫ìÔºüuikitÂü∫‰∫é‰ªÄ‰πàÔºüÈªòÂÜô‰∫åÂàÜÊü•ÊâæÁÆóÊ≥ïÔºüËÆæËÆ°‰∏Ä‰∏™ÂøΩÁï•Â§ßÂ∞èÂÜôÊØîËæÉ‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÁöÑÁÆóÊ≥ïÔºüÊÄé‰πàËøáÊª§‰∏ÄÊÆµÊó¢ÊúâÂ≠óÁ¨¶‰∏≤ÂèàÊúâÊï∞Â≠óÁöÑÔºåËÆ©‰ªñÂè™Ââ©Êï∞Â≠óÔºüÊîØ‰ªòÂäüËÉΩ„ÄÇÂæÆ‰ø°ÊîØ‰ªò ÊîØ‰ªòÂÆùÊîØ‰ªòÂèãÁõüÂàÜ‰∫´ Êä•ÈîôÂÅáËÆæÊüê‰∏Ä‰∏™ÁîüÁâ©ÊØèBÂπ¥ÁπÅÊÆñ‰∏ÄÊ¨°Ôºå‰∏ÄÊ¨°ÁπÅÊÆñN‰∏™Âè™ÔºåÂØøÂëΩÊòØMÂπ¥ÔºåÁºñÂÜôÁ®ãÂ∫èËµ∑ÂàùÊúâXÂè™ÁîüÁâ©ÔºåÊ±ÇTÂπ¥‰πãÂêéÁîüÁâ©ÁöÑÊÄªÊï∞ÊòØÂ§öÂ∞ëÔºü=Êúâ‰∏™‰∏çÁõ∏ÂêåÁöÑÊï∞Ôºå‰ªé‰∏≠ÈöèÊú∫ÂèñN‰∏™Êï∞ÔºåË¶ÅÊ±ÇN‰∏™Êï∞‰∫í‰∏çÁõ∏Âêå„ÄÇ//ÔºàÂ∑≤ÁªèÊúâÈöèÊú∫ÂáΩÊï∞int getRandÔºàint minÔºåint maxÔºâË°®Á§∫Ëé∑Âèñ‰ªéÊúÄÂ∞èÂÄºÂà∞ÊúÄÂ§ßÂÄºÁöÑÈöèÊú∫Êï¥Êï∞Ôºâ { return min + (max ‚Äì min) *rand()/RAND_MAX; } ‰ªÄ‰πàÊòØÊ∂àÊÅØÊé®ÈÄÅÔºüÂ∑≤Áü•‰∫åÂèâÊ†ëÂêéÂ∫èÈÅçÂéÜÂ∫èÂàóÊòØdabecÔºå‰∏≠Â∫èÈÅçÂéÜÂ∫èÂàóÊòØdebacÔºåÂÆÉÁöÑÂâçÂú®iPhone‰∏≠ÊÄé‰πàÂÜôÂÖ•C++Á®ãÂ∫èÔºåËØ¶ÁªÜÂÜô‰∏ãÊù•ËøúÁ®ãÊé®ÈÄÅÔºõÊú¨Âú∞Ê∂àÊÅØÂíåÂéüÂú∞Êé®ÈÄÅÁöÑÂå∫Âà´ËãπÊûúÊÄé‰πàÂÆûÁé∞ÂÆâÂÖ®Êú∫Âà∂ ËÆæÂ§áÊéßÂà∂Âíå‰øùÊä§:ÊîØÊåÅÁî®Êà∑‰ªé‰∏ÄÁ≥ªÂàóÂØÜÁ†ÅËÆæËÆ°Á≠ñÁï•‰∏≠Ê†πÊçÆÂÆâÂÖ®ÈúÄÊ±ÇÊù•ËøõË°åÈÄâÊã©ÔºåÂåÖÊã¨Ë∂ÖÊó∂ËÆæÂÆö„ÄÅÂØÜÁ†ÅÈïøÂ∫¶‰ª•ÂèäÂØÜÁ†ÅÊõ¥Êñ∞Âë®ÊúüÁ≠â Êï∞ÊçÆ‰øùÊä§„ÄÇ256‰ΩçAESÁ°¨‰ª∂Âä†ÂØÜÁÆóÊ≥ï„ÄÇËøúÁ®ã‰ø°ÊÅØÊì¶Èô§ÔºåÊú¨Âú∞‰ø°ÊÅØÊì¶Èô§ ÂÆâÂÖ®ÁΩëÁªúÈÄö‰ø°ÔºåVPN SSL WAP/WAP2ËÆ§ËØÅÊñπÂºèÊé•ÂÖ•wifi ÂÆâÂÖ®ÁöÑiOSÂπ≥Âè∞„ÄÇËøêË°åÊó∂‰øùÊä§-Ê≤ôÁõíÊú∫Âà∂ÔºåÂ∫îÁî®‰πãÈó¥‰∏çËÉΩÁõ∏‰∫íËÆøÈóÆÔºåÁ≥ªÁªüËµÑÊ∫ê‰∏éÁî®Êà∑Á®ãÂ∫èÈöîÁ¶ª„ÄÇÂº∫Âà∂ÂâçÈù¢„ÄÇÂÆâÂÖ®ËÆ§ËØÅÊ°ÜÊû∂ ÊûÅÂÖâÊé®ÈÄÅÂéüÁêÜÔºàÁ¨¨‰∏âÊñπÊ°ÜÊû∂ÔºâÔºåÊÄé‰πàÁî®ÁöÑÔºüÈÅáÂà∞‰ªÄ‰πàÈóÆÈ¢òÔºüÊÄé‰πàËß£ÂÜ≥ÁöÑÔºüÂæÆ‰ø°ÁöÑÈôÑËøëÂäüËÉΩÊÄé‰πàÂÆûÁé∞ÁöÑÔºüÊÄé‰πàÂÆûÁé∞Á¨¨‰∏âÊñπÁôªÈôÜautolayoutÔºüsizeclassHealthKitÊòØ‰ªÄ‰πàÔºü2014Âπ¥6Êúà2Êó•Âè¨ÂºÄÁöÑÂπ¥Â∫¶ÂºÄÂèëËÄÖÂ§ß‰ºö‰∏äÔºåËãπÊûúÂèëÂ∏É‰∫Ü‰∏ÄÊ¨æÊñ∞ÁöÑÁßªÂä®Â∫îÁî®Âπ≥Âè∞ÔºåÂèØ‰ª•Êî∂ÈõÜÂíåÂàÜÊûêÁî®Êà∑ÁöÑÂÅ•Â∫∑Êï∞ÊçÆÔºåËøôÊòØËãπÊûúËÆ°Âàí‰∏∫ÂÖ∂ËÆ°ÁÆóÂíåÁßªÂä®ËΩØ‰ª∂Êé®Âá∫ÁöÑ‰∏ÄÁ≥ªÂàóÊñ∞ÂäüËÉΩÁöÑ‰∏ÄÈÉ®ÂàÜËØ•ÁßªÂä®Â∫îÁî®Âπ≥Âè∞Ë¢´ÂëΩÂêç‰∏∫‚ÄúHealthkit ‚ÄùÔºåËãπÊûúÈ´òÁÆ°ÂëäËØâÂºÄÂèëËÄÖÔºåÂÆÉÂèØ‰ª•Êï¥ÂêàiPhoneÊàñiPad‰∏äÂÖ∂ÂÆÉÂÅ•Â∫∑Â∫îÁî®Êî∂ÈõÜÁöÑÊï∞ÊçÆÔºåÂ¶ÇË°ÄÂéãÂíå‰ΩìÈáçÁ≠â„ÄÇ HealthKitÊ°ÜÊû∂Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁªìÊûÑÔºåÂ∫îÁî®ÂèØ‰ª•‰ΩøÁî®ÂÆÉÊù•ÂàÜ‰∫´ÂÅ•Â∫∑ÂíåÂÅ•Ë∫´Êï∞ÊçÆ„ÄÇHealthKitÁÆ°ÁêÜ‰ªé‰∏çÂêåÊù•Ê∫êËé∑ÂæóÁöÑÊï∞ÊçÆÔºåÂπ∂Ê†πÊçÆÁî®Êà∑ÁöÑÂÅèÂ•ΩËÆæÁΩÆÔºåËá™Âä®Â∞Ü‰∏çÂêåÊù•Ê∫êÁöÑÊâÄÊúâÊï∞ÊçÆÂêàÂπ∂Ëµ∑Êù•„ÄÇÂ∫îÁî®ËøòÂèØ‰ª•Ëé∑ÂèñÊØè‰∏™Êù•Ê∫êÁöÑÂéüÂßãÊï∞ÊçÆÔºåÁÑ∂ÂêéÊâßË°åËá™Â∑±ÁöÑÊï∞ÊçÆÂêàÂπ∂„ÄÇ HealthKit‰πüÂèØ‰ª•Áõ¥Êé•‰∏éÂÅ•Â∫∑ÂíåÂÅ•Ë∫´ËÆæÂ§á‰∏ÄËµ∑Â∑•‰Ωú„ÄÇÂú®iOS8.0‰∏≠ÔºåÁ≥ªÁªüÂèØ‰ª•Ëá™Âä®Â∞ÜÂÖºÂÆπÁöÑ‰ΩéÂäüËÄóËìùÁâôÂøÉÁéá‰ª™ÁöÑÊï∞ÊçÆÁõ¥Êé•‰øùÂ≠òÂú® HealthKitÂ≠òÂÇ®‰∏≠„ÄÇÂ¶ÇÊûúÊúâM7ËøêÂä®ÂçèÂ§ÑÁêÜÂô®ÔºåÁ≥ªÁªüËøòÂèØ‰ª•Ëá™Âä®ÂØºÂÖ•ËÆ°Ê≠•Êï∞ÊçÆ„ÄÇÂÖ∂‰ªñÁöÑËÆæÂ§áÂíåÊï∞ÊçÆÊ∫êÂøÖÈ°ªË¶ÅÊúâÈÖçÂ•óÁöÑÂ∫îÁî®ÊâçÂèØ‰ª•Ëé∑ÂèñÊï∞ÊçÆÂπ∂‰øùÂ≠òÂú®HealthKit‰∏≠„ÄÇ HealthKitÂè¶Â§ñÊèê‰æõ‰∫Ü‰∏Ä‰∏™Â∫îÁî®Êù•Â∏ÆÂä©ÁÆ°ÁêÜÁî®Êà∑ÁöÑÂÅ•Â∫∑Êï∞ÊçÆ„ÄÇÂÅ•Â∫∑Â∫îÁî®‰∏∫Áî®Êà∑Â±ïÁ§∫HealthKitÁöÑÊï∞ÊçÆ„ÄÇÁî®Êà∑ÂèØ‰ª•‰ΩøÁî®ÂÅ•Â∫∑Â∫îÁî®Êù•Êü•Áúã„ÄÅÊ∑ªÂä†„ÄÅÂà†Èô§ÊàñËÄÖÁÆ°ÁêÜÂÖ∂ÂÖ®ÈÉ®ÁöÑÂÅ•Â∫∑ÂíåÂÅ•Ë∫´Êï∞ÊçÆ„ÄÇÁî®Êà∑ËøòÂèØ‰ª•ÁºñËæëÊØèÁßçÊï∞ÊçÆÁ±ªÂûãÁöÑÂàÜ‰∫´ÊùÉÈôê„ÄÇ HealthKitÂíåÂÅ•Â∫∑Â∫îÁî®Âú®iPad‰∏äÈÉΩ‰∏çÂèØÁî®„ÄÇHealthKitÊ°ÜÊû∂‰∏çËÉΩÁî®‰∫éÂ∫îÁî®Êâ©Â±ï„ÄÇ HomeKitÊòØ‰ªÄ‰πàÔºüHomeKitÔºåÊòØËãπÊûú2014Âπ¥ÂèëÂ∏ÉÁöÑÊô∫ËÉΩÂÆ∂Â±ÖÂπ≥Âè∞„ÄÇHomeKitÂ∫ìÊòØÁî®Êù•Ê≤üÈÄöÂíåÊéßÂà∂ÂÆ∂Â∫≠Ëá™Âä®ÂåñÈÖç‰ª∂ÁöÑÔºåËøô‰∫õÂÆ∂Â∫≠Ëá™Âä®ÂåñÈÖç‰ª∂ÈÉΩÊîØÊåÅËãπÊûúÁöÑHomeKit Accessory Protocol„ÄÇHomeKitÂ∫îÁî®Á®ãÂ∫èÂèØËÆ©Áî®Êà∑ÂèëÁé∞ÂÖºÂÆπÈÖç‰ª∂Âπ∂ÈÖçÁΩÆÂÆÉ‰ª¨„ÄÇÁî®Êà∑ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∫õactionÊù•ÊéßÂà∂Êô∫ËÉΩÈÖç‰ª∂Ôºà‰æãÂ¶ÇÊÅíÊ∏©ÊàñËÄÖÂÖâÁ∫øÂº∫Âº±ÔºâÔºåÂØπÂÖ∂ËøõË°åÂàÜÁªÑÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøáSiriËß¶Âèë„ÄÇHomeKitÂØπË±°Ë¢´Â≠òÂÇ®Âú®Áî®Êà∑iOSËÆæÂ§áÁöÑÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂπ∂‰∏îÈÄöËøáiCloudËøòÂèØ‰ª•ÂêåÊ≠•Âà∞ÂÖ∂‰ªñiOSËÆæÂ§á„ÄÇHomeKitÊîØÊåÅËøúÁ®ãËÆøÈóÆÊô∫ËÉΩÈÖç‰ª∂ÔºåÂπ∂ÊîØÊåÅÂ§ö‰∏™Áî®Êà∑ËÆæÂ§áÂíåÂ§ö‰∏™Áî®Êà∑„ÄÇHomeKit ËøòÂØπÁî®Êà∑ÁöÑÂÆâÂÖ®ÂíåÈöêÁßÅÂÅö‰∫ÜÂ§ÑÁêÜ„ÄÇ iCloudÊòØ‰ªÄ‰πàÂåÖÂê´‰∫ÜÂì™‰∫õÊäÄÊúØ‰∏éÊúçÂä°ÔºüiCloudÊòØËãπÊûúÂÖ¨Âè∏ÊâÄÊèê‰æõÁöÑ‰∫ëÁ´ØÊúçÂä°Ôºå2011Âπ¥6Êúà6Êó•ËãπÊûúÂÖ¨Âè∏ÊâßË°åÈïø‰πîÂ∏ÉÊñØÔºàSteve JobsÔºâÊä±ÁóÖ‰∏ªÊåÅÂÖ®ÁêÉÂºÄÂèëËÄÖÂ§ß‰ºöÔºàWWDCÔºâÔºåÊ≠£ÂºèÂèëË°®‰∫ëÁ´ØÊúçÂä°iCloud, iOS 5 ‰ª•Âèä OS X Lion.ÂÖ∂‰∏≠iCloudÁöÑÂäüËÉΩÊòØÂ≠òÂÇ®ÂÜÖÂÆπÔºåÂåÖÊã¨Ë¥≠‰π∞ÁöÑÈü≥‰πê„ÄÅÂ∫îÁî®„ÄÅÁîµÂ≠ê‰π¶Á≠âÊé®ÈÄÅÂà∞ÊâÄÊúâËÆæÂ§á,iCloudÊòØ‰∏ÄÁ≥ªÂàóÊúçÂä°ÁöÑÊäÄÊúØÂ∞ÅË£Ö,‰ΩøÁî®ËÄÖÂèØ‰ª•ÂÖçË¥πÂÇ®Â≠ò5GBËµÑÊñô„ÄÇÂèØ‰ª•Â§á‰ªΩÂ≠òÊîæÁÖßÁâá„ÄÅÈü≥‰πê„ÄÅÈÄöËÆØÂΩï„ÄÅÁü≠‰ø°„ÄÅÊñáÊ°£Á≠âÂÜÖÂÆπÔºåÂú®‰Ω†ÈúÄË¶ÅÁöÑÊó∂ÂÄô‰ª•Êó†Á∫øÊñπÂºèÂ∞Ü‰ªñ‰ª¨Êé®ÈÄÅÂà∞‰Ω†ÊâÄÊúâÁöÑËÆæÂ§á‰∏ä„ÄÇËá™Ë°åÊâßË°å„ÄÇËΩªÊùæËá™Â¶Ç„ÄÅËøê‰ΩúÊµÅÁïÖÔºåÂÆÉÂ∞±ÊòØËøô‰πàÁÆ°Áî®„ÄÇÂèØ‰∏é‰∫≤ÊúãÂ•ΩÂèãÂÖ±‰∫´‰ΩìÈ™åÁöÑÂÆåÊï¥Âπ≥Âè∞„ÄÇÂÆÉ‰∏ç‰ªÖÂÆâÂÖ®ÔºåËÄå‰∏îÂèØÊèê‰æõ‰∏∞ÂØåÁöÑÁ§æ‰∫§‰ΩìÈ™åÔºå‰ªé‰ªª‰ΩïËÆ°ÁÆóÊú∫ÊàñËÆæÂ§áÂùáÂèØÈöèÊó∂Êñπ‰æøÂú∞ËøõË°åËÆøÈóÆ„ÄÇiCloud‰∏äÊâÄÊèê‰æõÁöÑÂ∫îÁî®Á®ãÂ∫èÂåÖÊã¨ÂäûÂÖ¨Áîü‰∫ßÁéá„ÄÅÂºÄÂèëÂ∑•ÂÖ∑„ÄÅÂ™í‰ΩìÂíåÁ™óÂè£Â∞èÈÉ®‰ª∂Á≠â„ÄÇÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåËøòÂ∞ÜÈÄöËøáÊòì‰∫é‰ΩøÁî®ÁöÑÂ∏ÇÂú∫Á©∫Èó¥ÂíåÂ∫îÁî®Á®ãÂ∫èÂºÄÂèëÂ∑•ÂÖ∑ÁÆ±Êèê‰æõËåÉÂõ¥Êõ¥ÂπøÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ ÊúçÂä°:Â∫îÁî®ËΩØ‰ª∂„ÄÅÁîµÂ≠ê‰π¶‰∏éÂ§á‰ªΩ„ÄÅDocuments in the Cloud„ÄÅPhoto StreamÔºàÁÖßÁâáÊµÅÔºâ„ÄÅiTunes Match„ÄÅMobile Me CoreDataÔºö‰∏≠Â§öÁ∫øÁ®ã‰∏≠Â§ÑÁêÜÂ§ßÈáèÊï∞ÊçÆÂêåÊ≠•Êó∂ÁöÑÊìç‰Ωú CoreData:ÊòØCoCoa‰∏≠Â§ÑÁêÜÊï∞ÊçÆÁªëÂÆöÊï∞ÊçÆÁöÑÂÖ≥ÈîÆÁâπÊÄßÔºåÊèê‰æõÂÆåÊï¥ÁöÑÂØπË±°ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÊñπÊ°à„ÄÇÂ¶ÇÊûú‰Ω†‰ΩøÁî®sqlite3ÂéåÂÄ¶‰∫ÜÊï≤ÊâìsqlËØ≠Âè•ÔºåCoreDataÊ≠£Ëß£ÂÜ≥‰∫Ü‰Ω†ËøôÁÉ¶ÊÅº„ÄÇsqlite3ÊòØCoreDataÂ§ÑÁêÜÁöÑÊï∞ÊçÆÁ±ªÂûã‰πã‰∏ÄÔºåÂΩì‰Ω†Â∞ÜCoreDataÂíåsqliteÁöÑÁªìÂêàËµ∑Êù•‰ΩøÁî®ÁöÑËØùÔºå‰Ω†Â∞ÜËÉΩÂºÄÂèëÂá∫Âº∫Â§ßÁöÑÊï∞ÊçÆÂ∫ìÂ∫îÁî®„ÄÇ CoreData‰∏éÂ§öÁ∫øÁ®ãÊìç‰Ωú:‰∏∫‰∫ÜÂú®Êü•ËØ¢Êï∞ÊçÆÁöÑÊó∂ÂÄô‰∏çËÆ©ÁïåÈù¢ÂÅúÊªûÔºå‰ΩøÁî®Â§öÁ∫øÁ®ãÊòØ‰∏çÂèØÈÅøÂÖçÔºå‰∏ÄËà¨Êàë‰ª¨‰ºöÁî®threadÔºå‰∏≤Ë°åÁ∫øÁ®ãÊàñËÄÖÂπ∂ÂèëÁ∫øÁ®ã„ÄÇcoredata‰∏éÂ§öÁ∫øÁ®ã‰∫§‰∫íÁöÑÊó∂ÂÄôÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩÂøÖÈ°ªÊã•Êúâ‰∏Ä‰∏™manager contextÂØπË±°Ôºå‰∏ÄËà¨Êúâ‰∏§ÁßçÊñπÂºèÔºö 1.ÊØè‰∏Ä‰∏™Á∫øÁ®ã‰ΩøÁî®ÁßÅÊúâÁöÑmanager contextÔºåÂÖ±‰∫´‰∏Ä‰∏™ persistent store coordinator 2.ÊØè‰∏™Á∫øÁ®ã‰ΩøÁî®ÁßÅÊúâÁöÑmanager contextÂíåÁßÅÊúâÁöÑpersistent store coordinator ÂØπ‰∫éËøô‰∏§ÁßçÊñπÂºèÔºåÊàë‰ª¨ÊØîËæÉÊé®Ëçê‰ΩøÁî®Á¨¨‰∏ÄÈíüÊñπÂºèÔºåÂõ†‰∏∫‰ΩøÁî®Á¨¨‰∫åÁßçÊñπÂºèÁöÑ‰ºöÊ∂àËÄóÊàë‰ª¨Êõ¥Â§öÁöÑÂÜÖÂ≠òÔºåÊâÄ‰ª•Êé®Ëçê‰ΩøÁî®Á¨¨‰∏ÄÁßç„ÄÇ Ê≥®ÊÑè:CoreDataÈáåÈù¢ËøòÂ∏¶Êúâ‰∏Ä‰∏™ÈÄöÁü•NSManagedObjectContextDidSaveNotificationÔºå‰∏ªË¶ÅÁõëNSManagedObjectContextÁöÑÊï∞ÊçÆÊòØÂê¶ÊîπÂèòÔºåÂπ∂ÂêàÂπ∂Êï∞ÊçÆÊîπÂèòÂà∞Áõ∏Â∫îcontext ËØ∑Ëß£Èáä‰∏Ä‰∏ãHandoffÊòØ‰ªÄ‰πàÔºåÂπ∂ÁÆÄËø∞ÂÆÉÊòØÂ¶Ç‰ΩïÂÆûÁé∞iOS„ÄÅMac/ÁΩëÈ°µÂ∫îÁî®‰∫íÈÄöÁöÑ ÂºÄÂèëÊåáÂçóHandoffËã±ËØëÊòØÁî®ÊâãÊé®ÂºÄÊüê‰∫∫ÔºåÂú®ËÆ°ÁÆóÊú∫È¢ÜÂüüÊòØCDMAÊúØËØ≠ÔºåË°®Á§∫ÂàáÊç¢ÁöÑÊÑèÊÄù„ÄÇOSX 10.10 YosemiteÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™ÈÖ∑ÁÇ´ÁöÑÂäüËÉΩ‚ÄúHandOff‚ÄùÔºåÊâìÂºÄËøô‰∏™ÂäüËÉΩ‰πãÂêéÔºåÁî®Êà∑ÂèØ‰ª•Âú®Mac‰∏äÂØπiPadÂíåiPhoneËøõË°åÊìç‰ΩúÔºåÊØîÂ¶ÇËÉΩÂ§üÁºñÂÜôiPhone‰∏äÊú™ÂÆåÊàêÁöÑÈÇÆ‰ª∂ÔºåÂπ∂‰∏îÂèØ‰ª•Âú®Mac‰∏äÊâìÂºÄiPhoneÁöÑÁÉ≠ÁÇπÁ≠âÁ≠âÔºåMacÁöÑHand OffÂäüËÉΩÂè™ËÉΩËØÜÂà´MacÂë®Âõ¥ÁöÑiPhoneÊâãÊú∫„ÄÇ HandoffÁöÑÊ†∏ÂøÉÊÄùÊÉ≥Â∞±ÊòØÔºöÁî®Êà∑Âú®‰∏Ä‰∏™Â∫îÁî®ÈáåÊâÄÂÅöÁöÑ‰ªª‰ΩïÊìç‰ΩúÈÉΩÂåÖÂê´ÁùÄ‰∏Ä‰∏™activityÔºå‰∏Ä‰∏™activityÂèØ‰ª•Âíå‰∏Ä‰∏™ÁâπÂÆöÁî®Êà∑ÁöÑÂ§öÂè∞ËÆæÂ§áÂÖ≥ËÅîËµ∑Êù•„ÄÇÁî®Ë°åËØùÊù•ËØ¥ÔºåÊäΩË±°Âá∫ËøôÁßçactivityÁöÑÁ±ªÂè´ÂÅöNSUserActivityÔºåÂ§ßÈÉ®ÂàÜÊó∂Èó¥Êàë‰ª¨ÈÉΩ‰ºöÂíåËøô‰∏™Á±ªÊâì‰∫§ÈÅì„ÄÇÈúÄË¶Å‰∏ÄÊèêÁöÑÊòØÔºåÊâÄÊúâÁöÑËÆæÂ§áÈÉΩÂøÖÈ°ªÈù†ËøëÔºàÈù†ËøëÊòØÊåá‰∏§Âè∞ËÆæÂ§áÁöÑËìùÁâôËÉΩÂ§üÂΩºÊ≠§ËøûÊé•ÔºâÔºåËøôÊ†∑HandoffÊâçËÉΩÊ≠£Â∏∏Â∑•‰Ωú„ÄÇËÄå‰∏îËøòÊúâ‰∏§‰∏™ÂÖàÂÜ≥Êù°‰ª∂ÂæóÊª°Ë∂≥ÔºöÁ¨¨‰∏Ä‰∏™Êù°‰ª∂ÊòØÂæóÊúâ‰∏Ä‰∏™ËÉΩÊ≠£Â∏∏‰ΩøÁî®ÁöÑiCloudË¥¶Âè∑ÔºåËÄå‰∏îÁî®Êà∑Â∫îËØ•Âú®ÊØèÂè∞ÂáÜÂ§á‰ΩøÁî®HandoffÁöÑËÆæÂ§á‰∏äÁôªÈôÜËøô‰∏™iCloudË¥¶Âè∑„ÄÇ‰∫ãÂÆû‰∏äÔºåÂΩìÂú®‰∏çÂêåÁöÑËÆæÂ§á‰∏äÂàáÊç¢Êó∂Ôºå‰∏∫‰∫Ü‰øùËØÅÊ≠£Âú®ËøõË°åÁöÑactivity‰∏çË¢´‰∏≠Êñ≠ËÄå‰∏îË¢´ÂÖ≥ËÅîÂà∞Âêå‰∏Ä‰∏™Áî®Êà∑ÔºåÂ∫îËØ•Â∞ΩÂèØËÉΩÂú∞Âú®ÊâÄÊúâËÆæÂ§á‰∏ä‰ΩøÁî®Âêå‰∏Ä‰∏™iCloudË¥¶Âè∑„ÄÇÁ¨¨‰∫å‰∏™Êù°‰ª∂ÊòØÂΩì‰∏§‰∏™Êàñ‰∏§‰∏™‰ª•‰∏ä‰∏çÂêåÁöÑÂ∫îÁî®ÊÉ≥Ë¶ÅÂú®Âêå‰∏Ä‰∏™Áî®Êà∑activityËøõË°åHandoffÁöÑÊìç‰ΩúÊó∂ÈúÄË¶ÅÂÖ∑Â§áÁöÑÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊâÄÊúâÊ∂âÂèäÂà∞ÁöÑÂ∫îÁî®ÂøÖÈ°ª‰ΩøÁî®XcodeÈáåÁõ∏ÂêåÁöÑÂõ¢ÈòüÊ†áËØÜÔºàTeamIDÔºâÁ≠æÂêç„ÄÇ ÂΩìÁºñÂÜô‰∏Ä‰∏™ÊîØÊåÅHandoffÁöÑÂ∫îÁî®Êó∂ÔºåÈúÄË¶ÅÂÖ≥Ê≥®‰ª•‰∏ã‰∏â‰∏™‰∫§‰∫í‰∫ã‰ª∂Ôºö 1.‰∏∫Â∞ÜÂú®Âè¶‰∏ÄÂè∞ËÆæÂ§á‰∏äÁªßÁª≠ÂÅöÁöÑ‰∫ãÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁî®Êà∑activity„ÄÇ 2.ÂΩìÈúÄË¶ÅÊó∂ÔºåÁî®Êñ∞ÁöÑÊï∞ÊçÆÊõ¥Êñ∞Â∑≤ÊúâÁöÑÁî®Êà∑activity„ÄÇ 3.Êää‰∏Ä‰∏™Áî®Êà∑activity‰º†ÈÄíÂà∞Âè¶‰∏ÄÂè∞ËÆæÂ§á„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØHandoffÁõ∏ÂÖ≥ÁöÑÊµãËØïÂè™ËÉΩÂú®ÁúüÂÆûËÆæÂ§á‰∏äËøõË°åÔºåÊâÄ‰ª•‰Ω†ÂæóÊúâËá≥Â∞ë‰∏§Âè∞ËøêË°åÁùÄiOS 8.0Êàñ‰ª•‰∏äÁ≥ªÁªüÁöÑËÆæÂ§á„ÄÇ‰∏çÁÆ°ÊòØÂ§öÂè∞iPhoneÔºåÂ§öÂè∞iPadÊàñËÄÖÂêåÊó∂Êã•ÊúâiPhoneÂíåiPadÈÉΩÂèØ‰ª•„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò23--ÈÄöÁü•‰∏éÊé®ÈÄÅ]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9823-%E9%80%9A%E7%9F%A5%E4%B8%8E%E6%8E%A8%E9%80%81%2F</url>
    <content type="text"><![CDATA[Êú¨Âú∞ÈÄöÁü•ÂíåËøúÁ®ãÊé®ÈÄÅÈÄöÁü•ÂØπÂü∫Êú¨Ê¶ÇÂøµÂíåÁî®Ê≥ïÔºüimage Êú¨Âú∞ÈÄöÁü•ÂíåËøúÁ®ãÊé®ÈÄÅÈÄöÁü•ÈÉΩÂèØ‰ª•Âêë‰∏çÂú®ÂâçÂè∞ËøêË°åÁöÑÂ∫îÁî®ÂèëÈÄÅÊ∂àÊÅØ,ËøôÁßçÊ∂àÊÅØÊó¢ÂèØËÉΩÊòØÂç≥Â∞ÜÂèëÁîüÁöÑ‰∫ã‰ª∂,‰πüÂèØËÉΩÊòØÊúçÂä°Âô®ÁöÑÊñ∞Êï∞ÊçÆ.‰∏çÁÆ°ÊòØÊú¨Âú∞ÈÄöÁü•ËøòÊòØËøúÁ®ãÈÄöÁü•,‰ªñ‰ª¨Âú®Á®ãÂ∫èÁïåÈù¢ÁöÑÊòæÁ§∫ÊïàÊûúÁõ∏Âêå,ÈÉΩÂèØËÉΩÊòæÁ§∫‰∏∫‰∏ÄÊÆµË≠¶Âëä‰ø°ÊÅØÊàñÂ∫îÁî®Á®ãÂ∫èÂõæÊ†á‰∏äÁöÑÂæÆÁ´†. Êú¨Âú∞ÈÄöÁü•ÂíåËøúÁ®ãÊé®ÈÄÅÈÄöÁü•ÁöÑÂü∫Êú¨ÁõÆÁöÑÈÉΩÊòØËÆ©Â∫îÁî®Á®ãÂ∫èËÉΩÂ§üÈÄöÁü•Áî®Êà∑Êüê‰∫õ‰∫ãÊÉÖ, ËÄå‰∏î‰∏çÈúÄË¶ÅÂ∫îÁî®Á®ãÂ∫èÂú®ÂâçÂè∞ËøêË°å.‰∫åËÄÖÁöÑÂå∫Âà´Âú®‰∫éÊú¨Âú∞ÈÄöÁü•Áî±Êú¨Â∫îÁî®Ë¥üË¥£Ë∞ÉÁî®,Âè™ËÉΩ‰ªéÂΩìÂâçËÆæÂ§á‰∏äÁöÑiOSÂèëÂá∫, ËÄåËøúÁ®ãÈÄöÁü•Áî±ËøúÁ®ãÊúçÂä°Âô®‰∏äÁöÑÁ®ãÂ∫èÂèëÈÄÅÂà∞APNS,ÂÜçÁî±APNSÊääÊ∂àÊÅØÊé®ÈÄÅËá≥ËÆæÂ§á‰∏äÁöÑÁ®ãÂ∫è iOSÂÖÅËÆ∏ÊúÄËøëÊú¨Âú∞ÈÄöÁü•Êï∞ÊúÄÂ§ßÊòØÂ§öÂ∞ëÔºàcÔºâA.16 B.32 C.64 D.128 ÊääÁ®ãÂ∫èËá™Â∑±ÂÖ≥ÊéâÂíåÁ®ãÂ∫èËøõÂÖ•ÂêéÂè∞,ËøúÁ®ãÊé®ÈÄÅÁöÑÂå∫Âà´ ÂÖ≥ÊéâÂêé‰∏çÊâßË°å‰ªª‰Ωï‰ª£Á†Å, ‰∏çËÉΩÂ§ÑÁêÜ‰∫ã‰ª∂ Â∫îÁî®Á®ãÂ∫èËøõÂÖ•ÂêéÂè∞Áä∂ÊÄÅ‰∏ç‰πÖÂêéËΩ¨ÂÖ•ÊåÇËµ∑Áä∂ÊÄÅ„ÄÇÂú®ËøôÁßçÁä∂ÊÄÅ‰∏ãÔºåÂ∫îÁî®Á®ãÂ∫è‰∏çÊâßË°å‰ªª‰Ωï‰ª£Á†ÅÔºåÂπ∂ÊúâÂèØËÉΩÂú®‰ªªÊÑèÊó∂ÂÄô‰ªéÂÜÖÂ≠ò‰∏≠Âà†Èô§„ÄÇÂè™ÊúâÂΩìÁî®Êà∑ÂÜçÊ¨°ËøêË°åÊ≠§Â∫îÁî®ÔºåÂ∫îÁî®Êâç‰ºö‰ªéÊåÇËµ∑Áä∂ÊÄÅÂî§ÈÜíÔºå‰ª£Á†ÅÂæó‰ª•ÁªßÁª≠ÊâßË°å ÊàñËÄÖËøõÂÖ•ÂêéÂè∞Êó∂ÂºÄÂêØÂ§ö‰ªªÂä°Áä∂ÊÄÅÔºå‰øùÁïôÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÊâßË°åÁ≥ªÁªüÂÖÅËÆ∏ÁöÑÂä®‰Ωú ËøúÁ®ãÊé®ÈÄÅÊòØÁî±ËøúÁ®ãÊúçÂä°Âô®‰∏äÁöÑÁ®ãÂ∫èÂèëÈÄÅÂà∞APNS,ÂÜçÁî±APNSÊääÊ∂àÊÅØÊé®ÈÄÅËá≥ËÆæÂ§á‰∏äÁöÑÁ®ãÂ∫è,ÂΩìÂ∫îÁî®Á®ãÂ∫èÊî∂Âà∞Êé®ÈÄÅÁöÑÊ∂àÊÅØ‰ºöËá™Âä®Ë∞ÉÁî®ÁâπÂÆöÁöÑÊñπÊ≥ïÊâßË°å‰∫ãÂÖàÂÜôÂ•ΩÁöÑ‰ª£Á†Å Êú¨Âú∞ÈÄöÁü•ÂíåËøúÁ®ãÊé®ÈÄÅÈÄöÁü•ÂØπÂü∫Êú¨Ê¶ÇÂøµÂíåÁî®Ê≥ïÔºü Êú¨Âú∞ÈÄöÁü•ÂíåËøúÁ®ãÊé®ÈÄÅÈÄöÁü•ÈÉΩÂèØ‰ª•Âêë‰∏çÂú®ÂâçÂè∞ËøêË°åÁöÑÂ∫îÁî®ÂèëÈÄÅÊ∂àÊÅØ,ËøôÁßçÊ∂àÊÅØÊó¢ÂèØËÉΩÊòØÂç≥Â∞ÜÂèëÁîüÁöÑ‰∫ã‰ª∂,‰πüÂèØËÉΩÊòØÊúçÂä°Âô®ÁöÑÊñ∞Êï∞ÊçÆ.‰∏çÁÆ°ÊòØÊú¨Âú∞ÈÄöÁü•ËøòÊòØËøúÁ®ãÈÄöÁü•,‰ªñ‰ª¨Âú®Á®ãÂ∫èÁïåÈù¢ÁöÑÊòæÁ§∫ÊïàÊûúÁõ∏Âêå,ÈÉΩÂèØËÉΩÊòæÁ§∫‰∏∫‰∏ÄÊÆµË≠¶Âëä‰ø°ÊÅØÊàñÂ∫îÁî®Á®ãÂ∫èÂõæÊ†á‰∏äÁöÑÂæÆÁ´†. Êú¨Âú∞ÈÄöÁü•ÂíåËøúÁ®ãÊé®ÈÄÅÈÄöÁü•ÁöÑÂü∫Êú¨ÁõÆÁöÑÈÉΩÊòØËÆ©Â∫îÁî®Á®ãÂ∫èËÉΩÂ§üÈÄöÁü•Áî®Êà∑Êüê‰∫õ‰∫ãÊÉÖ, ËÄå‰∏î‰∏çÈúÄË¶ÅÂ∫îÁî®Á®ãÂ∫èÂú®ÂâçÂè∞ËøêË°å.‰∫åËÄÖÁöÑÂå∫Âà´Âú®‰∫éÊú¨Âú∞ÈÄöÁü•Áî±Êú¨Â∫îÁî®Ë¥üË¥£Ë∞ÉÁî®,Âè™ËÉΩ‰ªéÂΩìÂâçËÆæÂ§á‰∏äÁöÑiOSÂèëÂá∫, ËÄåËøúÁ®ãÈÄöÁü•Áî±ËøúÁ®ãÊúçÂä°Âô®‰∏äÁöÑÁ®ãÂ∫èÂèëÈÄÅÂà∞APNS,ÂÜçÁî±APNSÊääÊ∂àÊÅØÊé®ÈÄÅËá≥ËÆæÂ§á‰∏äÁöÑÁ®ãÂ∫è Push Notification ÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºü Êé®ÈÄÅÈÄöÁü•ÂàÜ‰∏∫‰∏§Áßç,‰∏Ä‰∏™ÊòØÊú¨Âú∞Êé®ÈÄÅ,‰∏Ä‰∏™ÊòØËøúÁ®ãÊé®ÈÄÅ Êú¨Âú∞Êé®ÈÄÅ:‰∏çÈúÄË¶ÅËÅîÁΩë‰πüÂèØ‰ª•Êé®ÈÄÅ,ÊòØÂºÄÂèë‰∫∫ÂëòÂú®APPÂÜÖËÆæÂÆöÁâπÂÆöÁöÑÊó∂Èó¥Êù•ÊèêÈÜíÁî®Êà∑Âπ≤‰ªÄ‰πà ËøúÁ®ãÊé®ÈÄÅ:ÈúÄË¶ÅËÅîÁΩë,Áî®Êà∑ÁöÑËÆæÂ§á‰ºö‰∫éËãπÊûúAPNSÊúçÂä°Âô®ÂΩ¢Êàê‰∏Ä‰∏™ÈïøËøûÊé•,Áî®Êà∑ËÆæÂ§á‰ºöÂèëÈÄÅuuidÂíåBundle idenidentifierÁªôËãπÊûúÊúçÂä°Âô®,ËãπÊûúÊúçÂä°Âô®‰ºöÂä†ÂØÜÁîüÊàê‰∏Ä‰∏™deviceTokenÁªôÁî®Êà∑ËÆæÂ§á,ÁÑ∂ÂêéËÆæÂ§á‰ºöÂ∞ÜdeviceTokenÂèëÈÄÅÁªôAPPÁöÑÊúçÂä°Âô®,ÊúçÂä°Âô®‰ºöÂ∞ÜdeviceTokenÂ≠òËøõ‰ªñ‰ª¨ÁöÑÊï∞ÊçÆÂ∫ì,ËøôÊó∂ÂÄôÂ¶ÇÊûúÊúâ‰∫∫ÂèëÈÄÅÊ∂àÊÅØÁªôÊàë,ÊúçÂä°Âô®Á´ØÂ∞±‰ºöÂéªÊü•ËØ¢ÊàëÁöÑdeviceToken,ÁÑ∂ÂêéÂ∞ÜdeviceTokenÂíåË¶ÅÂèëÈÄÅÁöÑ‰ø°ÊÅØÂèëÈÄÅÁªôËãπÊûúÊúçÂä°Âô®,ËãπÊûúÊúçÂä°Âô®ÈÄöËøádeviceTokenÊâæÂà∞ÊàëÁöÑËÆæÂ§áÂπ∂Â∞ÜÊ∂àÊÅØÊé®ÈÄÅÂà∞ÊàëÁöÑËÆæÂ§á‰∏ä,ËøôÈáåËøòÊúâ‰∏™ÊÉÖÂÜµÊòØÂ¶ÇÊûúAPPÂú®Á∫ø,ÈÇ£‰πàAPPÊúçÂä°Âô®‰ºö‰∫éAPP‰∫ßÁîü‰∏Ä‰∏™ÈïøËøûÊé•,ËøôÊó∂ÂÄôAPPFÊúçÂä°Âô®‰ºöÁõ¥Êé•ÈÄöËøádeviceTokenÂ∞ÜÊ∂àÊÅØÊé®ÈÄÅÂà∞ËÆæÂ§á‰∏ä ‰∏∫‰ªÄ‰πà NotificationCenter Ë¶Å removeObserver? Â¶Ç‰ΩïÂÆûÁé∞Ëá™Âä® remove? Â¶ÇÊûú‰∏çÁßªÈô§ÁöÑËØù,‰∏á‰∏ÄÊ≥®ÂÜåÈÄöÁü•ÁöÑÁ±ªË¢´ÈîÄÊØÅ‰ª•ÂêéÂèàÂèë‰∫ÜÈÄöÁü•,Á®ãÂ∫è‰ºöÂ¥©Ê∫É.Âõ†‰∏∫ÂêëÈáéÊåáÈíàÂèëÈÄÅ‰∫ÜÊ∂àÊÅØ ÂÆûÁé∞Ëá™Âä®remove:ÈÄöËøáËá™ÈáäÊîæÊú∫Âà∂,ÈÄöËøáÂä®ÊÄÅÂ±ûÊÄßÂ∞ÜremoveËΩ¨ÁßªÁªôÁ¨¨‰∏âËÄÖ,Ëß£Èô§ËÄ¶Âêà,ËææÂà∞Ëá™Âä®ÂÆûÁé∞remove ÊòØÂê¶ÂèØ‰ª•ÊääÊØîËæÉËÄóÊó∂ÁöÑÊìç‰ΩúÊîæÂú®NSNotificationCenter‰∏≠ Â¶ÇÊûúÂú®ÂºÇÊ≠•Á∫øÁ®ãÂèëÁöÑÈÄöÁü•ÔºåÈÇ£‰πàÂèØ‰ª•ÊâßË°åÊØîËæÉËÄóÊó∂ÁöÑÊìç‰ΩúÔºõ Â¶ÇÊûúÂú®‰∏ªÁ∫øÁ®ãÂèëÁöÑÈÄöÁü•ÔºåÈÇ£‰πàÂ∞±‰∏çÂèØ‰ª•ÊâßË°åÊØîËæÉËÄóÊó∂ÁöÑÊìç‰Ωú]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò22--ÊÄßËÉΩ‰ºòÂåñ]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9822-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[ÊñáÂ≠óÊòØ‰ª•ÂâçÊî∂ÈõÜÁöÑÔºåÂõΩÂ§ñÂ§ßÁâõÂÜôÁöÑÔºåÂøòËÆ∞ÂéüÊñáÈìæÊé•‰∫Ü„ÄÇ ÂÖ•Èó®Á∫ß Áî®ARCÁÆ°ÁêÜÂÜÖÂ≠ò Âú®Ê≠£Á°ÆÁöÑÂú∞Êñπ‰ΩøÁî® reuseIdentifier Â∞ΩÈáèÊääviewsËÆæÁΩÆ‰∏∫ÈÄèÊòé ÈÅøÂÖçËøá‰∫éÂ∫ûÂ§ßÁöÑXIB ‰∏çË¶ÅÈòªÂ°û‰∏ªÁ∫øÁ®ã Âú®Image Views‰∏≠Ë∞ÉÊï¥ÂõæÁâáÂ§ßÂ∞è„ÄÇÂ¶ÇÊûúË¶ÅÂú®UIImageView‰∏≠ÊòæÁ§∫‰∏Ä‰∏™Êù•Ëá™bundleÁöÑÂõæÁâáÔºå‰Ω†Â∫î‰øùËØÅÂõæÁâáÁöÑÂ§ßÂ∞èÂíåUIImageViewÁöÑÂ§ßÂ∞èÁõ∏Âêå„ÄÇÂú®ËøêË°å‰∏≠Áº©ÊîæÂõæÁâáÊòØÂæàËÄóË¥πËµÑÊ∫êÁöÑÔºåÁâπÂà´ÊòØUIImageViewÂµåÂ•óÂú®UIScrollView‰∏≠ÁöÑÊÉÖÂÜµ‰∏ã„ÄÇÂ¶ÇÊûúÂõæÁâáÊòØ‰ªéËøúÁ´ØÊúçÂä°Âä†ËΩΩÁöÑ‰Ω†‰∏çËÉΩÊéßÂà∂ÂõæÁâáÂ§ßÂ∞èÔºåÊØîÂ¶ÇÂú®‰∏ãËΩΩÂâçË∞ÉÊï¥Âà∞ÂêàÈÄÇÂ§ßÂ∞èÁöÑËØùÔºå‰Ω†ÂèØ‰ª•Âú®‰∏ãËΩΩÂÆåÊàêÂêéÔºåÊúÄÂ•ΩÊòØÁî®background threadÔºåÁº©Êîæ‰∏ÄÊ¨°ÔºåÁÑ∂ÂêéÂú®UIImageView‰∏≠‰ΩøÁî®Áº©ÊîæÂêéÁöÑÂõæÁâá„ÄÇ ÈÄâÊã©Ê≠£Á°ÆÁöÑCollection„ÄÇ Arrays: ÊúâÂ∫èÁöÑ‰∏ÄÁªÑÂÄº„ÄÇ‰ΩøÁî®indexÊù•lookupÂæàÂø´Ôºå‰ΩøÁî®value lookupÂæàÊÖ¢Ôºå ÊèíÂÖ•/Âà†Èô§ÂæàÊÖ¢„ÄÇ Dictionaries: Â≠òÂÇ®ÈîÆÂÄºÂØπ„ÄÇ Áî®ÈîÆÊù•Êü•ÊâæÊØîËæÉÂø´„ÄÇ Sets: Êó†Â∫èÁöÑ‰∏ÄÁªÑÂÄº„ÄÇÁî®ÂÄºÊù•Êü•ÊâæÂæàÂø´ÔºåÊèíÂÖ•/Âà†Èô§ÂæàÂø´„ÄÇ ÊâìÂºÄgzipÂéãÁº©„ÄÇappÂèØËÉΩÂ§ßÈáè‰æùËµñ‰∫éÊúçÂä°Âô®ËµÑÊ∫êÔºåÈóÆÈ¢òÊòØÊàë‰ª¨ÁöÑÁõÆÊ†áÊòØÁßªÂä®ËÆæÂ§áÔºåÂõ†Ê≠§‰Ω†Â∞±‰∏çËÉΩÊåáÊúõÁΩëÁªúÁä∂ÂÜµÊúâÂ§öÂ•Ω„ÄÇÂáèÂ∞èÊñáÊ°£ÁöÑ‰∏Ä‰∏™ÊñπÂºèÂ∞±ÊòØÂú®ÊúçÂä°Á´ØÂíå‰Ω†ÁöÑapp‰∏≠ÊâìÂºÄgzip„ÄÇËøôÂØπ‰∫éÊñáÂ≠óËøôÁßçËÉΩÊúâÊõ¥È´òÂéãÁº©ÁéáÁöÑÊï∞ÊçÆÊù•ËØ¥‰ºöÊúâÊõ¥ÊòæËëóÁöÑÊïàÁî®„ÄÇ iOSÂ∑≤ÁªèÂú®NSURLConnection‰∏≠ÈªòËÆ§ÊîØÊåÅ‰∫ÜgzipÂéãÁº©ÔºåÂΩìÁÑ∂AFNetworkingËøô‰∫õÂü∫‰∫éÂÆÉÁöÑÊ°ÜÊû∂‰∫¶ÁÑ∂„ÄÇ ‰∏≠Á∫ß ÈáçÁî®ÂíåÂª∂ËøüÂä†ËΩΩ(lazy load) Views Êõ¥Â§öÁöÑviewÊÑèÂë≥ÁùÄÊõ¥Â§öÁöÑÊ∏≤ÊüìÔºå‰πüÂ∞±ÊòØÊõ¥Â§öÁöÑCPUÂíåÂÜÖÂ≠òÊ∂àËÄóÔºåÂØπ‰∫éÈÇ£ÁßçÂµåÂ•ó‰∫ÜÂæàÂ§öviewÂú®UIScrollViewÈáåËæπÁöÑappÊõ¥ÊòØÂ¶ÇÊ≠§„ÄÇ ËøôÈáåÊàë‰ª¨Áî®Âà∞ÁöÑÊäÄÂ∑ßÂ∞±ÊòØÊ®°‰ªøUITableViewÂíåUICollectionViewÁöÑÊìç‰Ωú: ‰∏çË¶Å‰∏ÄÊ¨°ÂàõÂª∫ÊâÄÊúâÁöÑsubviewÔºåËÄåÊòØÂΩìÈúÄË¶ÅÊó∂ÊâçÂàõÂª∫ÔºåÂΩìÂÆÉ‰ª¨ÂÆåÊàê‰∫Ü‰ΩøÂëΩÔºåÊää‰ªñ‰ª¨ÊîæËøõ‰∏Ä‰∏™ÂèØÈáçÁî®ÁöÑÈòüÂàó‰∏≠„ÄÇËøôÊ†∑ÁöÑËØù‰Ω†Â∞±Âè™ÈúÄË¶ÅÂú®ÊªöÂä®ÂèëÁîüÊó∂ÂàõÂª∫‰Ω†ÁöÑviewsÔºåÈÅøÂÖç‰∫Ü‰∏çÂàíÁÆóÁöÑÂÜÖÂ≠òÂàÜÈÖç„ÄÇ Cache, Cache, ËøòÊòØCache! ‰∏Ä‰∏™ÊûÅÂ•ΩÁöÑÂéüÂàôÂ∞±ÊòØÔºåÁºìÂ≠òÊâÄÈúÄË¶ÅÁöÑÔºå‰πüÂ∞±ÊòØÈÇ£‰∫õ‰∏çÂ§ßÂèØËÉΩÊîπÂèò‰ΩÜÊòØÈúÄË¶ÅÁªèÂ∏∏ËØªÂèñÁöÑ‰∏úË•ø„ÄÇ Êàë‰ª¨ËÉΩÁºìÂ≠ò‰∫õ‰ªÄ‰πàÂë¢Ôºü‰∏Ä‰∫õÈÄâÈ°πÊòØÔºåËøúÁ´ØÊúçÂä°Âô®ÁöÑÂìçÂ∫îÔºåÂõæÁâáÔºåÁîöËá≥ËÆ°ÁÆóÁªìÊûúÔºåÊØîÂ¶ÇUITableViewÁöÑË°åÈ´ò„ÄÇ NSCacheÂíåNSDictionaryÁ±ª‰ººÔºå‰∏çÂêåÁöÑÊòØÁ≥ªÁªüÂõûÊî∂ÂÜÖÂ≠òÁöÑÊó∂ÂÄôÂÆÉ‰ºöËá™Âä®Âà†ÊéâÂÆÉÁöÑÂÜÖÂÆπ„ÄÇ ÊùÉË°°Ê∏≤ÊüìÊñπÊ≥ï.ÊÄßËÉΩËÉΩËøòÊòØË¶Åbundle‰øùÊåÅÂêàÈÄÇÁöÑÂ§ßÂ∞è„ÄÇ Â§ÑÁêÜÂÜÖÂ≠òË≠¶Âëä.ÁßªÈô§ÂØπÁºìÂ≠òÔºåÂõæÁâáobjectÂíåÂÖ∂‰ªñ‰∏Ä‰∫õÂèØ‰ª•ÈáçÂàõÂª∫ÁöÑobjectsÁöÑstrong references. ÈáçÁî®Â§ßÂºÄÈîÄÂØπË±° ‰∏Ä‰∫õobjectsÁöÑÂàùÂßãÂåñÂæàÊÖ¢ÔºåÊØîÂ¶ÇNSDateFormatterÂíåNSCalendar„ÄÇÁÑ∂ËÄåÔºå‰Ω†Âèà‰∏çÂèØÈÅøÂÖçÂú∞ÈúÄË¶Å‰ΩøÁî®ÂÆÉ‰ª¨ÔºåÊØîÂ¶Ç‰ªéJSONÊàñËÄÖXML‰∏≠Ëß£ÊûêÊï∞ÊçÆ„ÄÇÊÉ≥Ë¶ÅÈÅøÂÖç‰ΩøÁî®Ëøô‰∏™ÂØπË±°ÁöÑÁì∂È¢à‰Ω†Â∞±ÈúÄË¶ÅÈáçÁî®‰ªñ‰ª¨ÔºåÂèØ‰ª•ÈÄöËøáÊ∑ªÂä†Â±ûÊÄßÂà∞‰Ω†ÁöÑclassÈáåÊàñËÄÖÂàõÂª∫ÈùôÊÄÅÂèòÈáèÊù•ÂÆûÁé∞„ÄÇ ÈÅøÂÖçÂèçÂ§çÂ§ÑÁêÜÊï∞ÊçÆ.Âú®ÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´Ø‰ΩøÁî®Áõ∏ÂêåÁöÑÊï∞ÊçÆÁªìÊûÑÂæàÈáçË¶Å„ÄÇ ÈÄâÊã©Ê≠£Á°ÆÁöÑÊï∞ÊçÆÊ†ºÂºè.Ëß£ÊûêJSON‰ºöÊØîXMLÊõ¥Âø´‰∏Ä‰∫õÔºåJSON‰πüÈÄöÂ∏∏Êõ¥Â∞èÊõ¥‰æø‰∫é‰º†Ëæì„ÄÇ‰ªéiOS5Ëµ∑Êúâ‰∫ÜÂÆòÊñπÂÜÖÂª∫ÁöÑJSON deserialization Â∞±Êõ¥Âä†Êñπ‰æø‰ΩøÁî®‰∫Ü„ÄÇ‰ΩÜÊòØXML‰πüÊúâXMLÁöÑÂ•ΩÂ§ÑÔºåÊØîÂ¶Ç‰ΩøÁî®SAX Êù•Ëß£ÊûêXMLÂ∞±ÂÉèËß£ÊûêÊú¨Âú∞Êñá‰ª∂‰∏ÄÊ†∑Ôºå‰Ω†‰∏çÈúÄÂÉèËß£Êûêjson‰∏ÄÊ†∑Á≠âÂà∞Êï¥‰∏™ÊñáÊ°£‰∏ãËΩΩÂÆåÊàêÊâçÂºÄÂßãËß£Êûê„ÄÇÂΩì‰Ω†Â§ÑÁêÜÂæàÂ§ßÁöÑÊï∞ÊçÆÁöÑÊó∂ÂÄôÂ∞±‰ºöÊûÅÂ§ßÂú∞Âáè‰ΩéÂÜÖÂ≠òÊ∂àËÄóÂíåÂ¢ûÂä†ÊÄßËÉΩ„ÄÇ Ê≠£Á°ÆËÆæÂÆöËÉåÊôØÂõæÁâá ÂÖ®Â±èËÉåÊôØÂõæÔºåÂú®view‰∏≠Ê∑ªÂä†‰∏Ä‰∏™UIImageView‰Ωú‰∏∫‰∏Ä‰∏™Â≠êView Âè™ÊòØÊüê‰∏™Â∞èÁöÑviewÁöÑËÉåÊôØÂõæÔºå‰Ω†Â∞±ÈúÄË¶ÅÁî®UIColorÁöÑcolorWithPatternImageÊù•ÂÅö‰∫ÜÔºåÂÆÉ‰ºöÊõ¥Âø´Âú∞Ê∏≤Êüì‰πü‰∏ç‰ºöËä±Ë¥πÂæàÂ§öÂÜÖÂ≠òÔºö ÂáèÂ∞ë‰ΩøÁî®WebÁâπÊÄß„ÄÇÊÉ≥Ë¶ÅÊõ¥È´òÁöÑÊÄßËÉΩ‰Ω†Â∞±Ë¶ÅË∞ÉÊï¥‰∏ã‰Ω†ÁöÑHTML‰∫Ü„ÄÇÁ¨¨‰∏Ä‰ª∂Ë¶ÅÂÅöÁöÑ‰∫ãÂ∞±ÊòØÂ∞ΩÂèØËÉΩÁßªÈô§‰∏çÂøÖË¶ÅÁöÑjavascriptÔºåÈÅøÂÖç‰ΩøÁî®ËøáÂ§ßÁöÑÊ°ÜÊû∂„ÄÇËÉΩÂè™Áî®ÂéüÁîüjsÂ∞±Êõ¥Â•Ω‰∫Ü„ÄÇÂ∞ΩÂèØËÉΩÂºÇÊ≠•Âä†ËΩΩ‰æãÂ¶ÇÁî®Êà∑Ë°å‰∏∫ÁªüËÆ°scriptËøôÁßç‰∏çÂΩ±ÂìçÈ°µÈù¢Ë°®ËææÁöÑjavascript„ÄÇÊ≥®ÊÑè‰Ω†‰ΩøÁî®ÁöÑÂõæÁâáÔºå‰øùËØÅÂõæÁâáÁöÑÁ¨¶Âêà‰Ω†‰ΩøÁî®ÁöÑÂ§ßÂ∞è„ÄÇ Shadow Path „ÄÇCore Animation‰∏çÂæó‰∏çÂÖàÂú®ÂêéÂè∞ÂæóÂá∫‰Ω†ÁöÑÂõæÂΩ¢Âπ∂Âä†Â•ΩÈò¥ÂΩ±ÁÑ∂ÂêéÊâçÊ∏≤ÊüìÔºåËøôÂºÄÈîÄÊòØÂæàÂ§ßÁöÑ„ÄÇ‰ΩøÁî®shadowPathÁöÑËØùÂ∞±ÈÅøÂÖç‰∫ÜËøô‰∏™ÈóÆÈ¢ò„ÄÇ‰ΩøÁî®shadow pathÁöÑËØùiOSÂ∞±‰∏çÂøÖÊØèÊ¨°ÈÉΩËÆ°ÁÆóÂ¶Ç‰ΩïÊ∏≤ÊüìÔºåÂÆÉ‰ΩøÁî®‰∏Ä‰∏™È¢ÑÂÖàËÆ°ÁÆóÂ•ΩÁöÑË∑ØÂæÑ„ÄÇ‰ΩÜÈóÆÈ¢òÊòØËá™Â∑±ËÆ°ÁÆópathÁöÑËØùÂèØËÉΩÂú®Êüê‰∫õView‰∏≠ÊØîËæÉÂõ∞ÈöæÔºå‰∏îÊØèÂΩìviewÁöÑframeÂèòÂåñÁöÑÊó∂ÂÄô‰Ω†ÈÉΩÈúÄË¶ÅÂéªupdate shadow path. ‰ºòÂåñTable View Ê≠£Á°Æ‰ΩøÁî®reuseIdentifierÊù•ÈáçÁî®cells Â∞ΩÈáè‰ΩøÊâÄÊúâÁöÑview opaqueÔºåÂåÖÊã¨cellËá™Ë∫´ ÈÅøÂÖçÊ∏êÂèòÔºåÂõæÁâáÁº©ÊîæÔºåÂêéÂè∞ÈÄâ‰∫∫ ÁºìÂ≠òË°åÈ´ò Â¶ÇÊûúcellÂÜÖÁé∞ÂÆûÁöÑÂÜÖÂÆπÊù•Ëá™webÔºå‰ΩøÁî®ÂºÇÊ≠•Âä†ËΩΩÔºåÁºìÂ≠òËØ∑Ê±ÇÁªìÊûú ‰ΩøÁî®shadowPathÊù•ÁîªÈò¥ÂΩ± ÂáèÂ∞ësubviewsÁöÑÊï∞Èáè Â∞ΩÈáè‰∏çÈÄÇÁî®cellForRowAtIndexPath:ÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÁî®Âà∞ÂÆÉÔºåÂè™Áî®‰∏ÄÊ¨°ÁÑ∂ÂêéÁºìÂ≠òÁªìÊûú ‰ΩøÁî®Ê≠£Á°ÆÁöÑÊï∞ÊçÆÁªìÊûÑÊù•Â≠òÂÇ®Êï∞ÊçÆ ‰ΩøÁî®rowHeight, sectionFooterHeight Âíå sectionHeaderHeightÊù•ËÆæÂÆöÂõ∫ÂÆöÁöÑÈ´òÔºå‰∏çË¶ÅËØ∑Ê±Çdelegate ÈÄâÊã©Ê≠£Á°ÆÁöÑÊï∞ÊçÆÂ≠òÂÇ®ÈÄâÈ°π NSUserDefaultsÁöÑÈóÆÈ¢òÊòØ‰ªÄ‰πàÔºüËôΩÁÑ∂ÂÆÉÂæànice‰πüÂæà‰æøÊç∑Ôºå‰ΩÜÊòØÂÆÉÂè™ÈÄÇÁî®‰∫éÂ∞èÊï∞ÊçÆÔºåÊØîÂ¶Ç‰∏Ä‰∫õÁÆÄÂçïÁöÑÂ∏ÉÂ∞îÂûãÁöÑËÆæÁΩÆÈÄâÈ°πÔºåÂÜçÂ§ßÁÇπ‰Ω†Â∞±Ë¶ÅËÄÉËôëÂÖ∂ÂÆÉÊñπÂºè‰∫Ü XMLËøôÁßçÁªìÊûÑÂåñÊ°£Ê°àÂë¢ÔºüÊÄª‰ΩìÊù•ËØ¥Ôºå‰Ω†ÈúÄË¶ÅËØªÂèñÊï¥‰∏™Êñá‰ª∂Âà∞ÂÜÖÂ≠òÈáåÂéªËß£ÊûêÔºåËøôÊ†∑ÊòØÂæà‰∏çÁªèÊµéÁöÑ„ÄÇ‰ΩøÁî®SAXÂèàÊòØ‰∏Ä‰∏™ÂæàÈ∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖ„ÄÇ NSCodingÔºü‰∏çÂπ∏ÁöÑÊòØÔºåÂÆÉ‰πüÈúÄË¶ÅËØªÂÜôÊñá‰ª∂ÔºåÊâÄ‰ª•‰πüÊúâ‰ª•‰∏äÈóÆÈ¢ò„ÄÇ Âú®ËøôÁßçÂ∫îÁî®Âú∫ÊôØ‰∏ãÔºå‰ΩøÁî®SQLite ÊàñËÄÖ Core DataÊØîËæÉÂ•Ω„ÄÇ‰ΩøÁî®Ëøô‰∫õÊäÄÊúØ‰Ω†Áî®ÁâπÂÆöÁöÑÊü•ËØ¢ËØ≠Âè•Â∞±ËÉΩÂè™Âä†ËΩΩ‰Ω†ÈúÄË¶ÅÁöÑÂØπË±°„ÄÇ Âú®ÊÄßËÉΩÂ±ÇÈù¢Êù•ËÆ≤ÔºåSQLiteÂíåCore DataÊòØÂæàÁõ∏‰ººÁöÑ„ÄÇ‰ªñ‰ª¨ÁöÑ‰∏çÂêåÂú®‰∫éÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ï„ÄÇ Core Data‰ª£Ë°®‰∏Ä‰∏™ÂØπË±°ÁöÑgraph modelÔºå‰ΩÜSQLiteÂ∞±ÊòØ‰∏Ä‰∏™DBMS„ÄÇ AppleÂú®‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂª∫ËÆÆ‰ΩøÁî®Core DataÔºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†ÊúâÁêÜÁî±‰∏ç‰ΩøÁî®ÂÆÉÔºåÈÇ£‰πàÂ∞±Âéª‰ΩøÁî®Êõ¥Âä†Â∫ïÂ±ÇÁöÑSQLiteÂêß„ÄÇ Â¶ÇÊûú‰Ω†‰ΩøÁî®SQLiteÔºå‰Ω†ÂèØ‰ª•Áî®FMDBËøô‰∏™Â∫ìÊù•ÁÆÄÂåñSQLiteÁöÑÊìç‰ΩúÔºåËøôÊ†∑‰Ω†Â∞±‰∏çÁî®Ëä±ÂæàÂ§öÁªèÂéÜ‰∫ÜËß£SQLiteÁöÑC API‰∫Ü„ÄÇ È´òÁ∫ß Âä†ÈÄüÂêØÂä®Êó∂Èó¥„ÄÇÂø´ÈÄüÊâìÂºÄappÊòØÂæàÈáçË¶ÅÁöÑÔºåÁâπÂà´ÊòØÁî®Êà∑Á¨¨‰∏ÄÊ¨°ÊâìÂºÄÂÆÉÊó∂ÔºåÂØπappÊù•ËÆ≤ÔºåÁ¨¨‰∏ÄÂç∞Ë±°Â§™Â§™Â§™ÈáçË¶Å‰∫Ü„ÄÇ‰Ω†ËÉΩÂÅöÁöÑÂ∞±ÊòØ‰ΩøÂÆÉÂ∞ΩÂèØËÉΩÂÅöÊõ¥Â§öÁöÑÂºÇÊ≠•‰ªªÂä°ÔºåÊØîÂ¶ÇÂä†ËΩΩËøúÁ´ØÊàñËÄÖÊï∞ÊçÆÂ∫ìÊï∞ÊçÆÔºåËß£ÊûêÊï∞ÊçÆ„ÄÇÈÅøÂÖçËøá‰∫éÂ∫ûÂ§ßÁöÑXIBÔºåÂõ†‰∏∫‰ªñ‰ª¨ÊòØÂú®‰∏ªÁ∫øÁ®ã‰∏äÂä†ËΩΩÁöÑ„ÄÇÊâÄ‰ª•Â∞ΩÈáè‰ΩøÁî®Ê≤°ÊúâËøô‰∏™ÈóÆÈ¢òÁöÑStoryboardsÂêßÔºÅ‰∏ÄÂÆöË¶ÅÊääËÆæÂ§á‰ªéXcodeÊñ≠ÂºÄÊù•ÊµãËØïÂêØÂä®ÈÄüÂ∫¶ ‰ΩøÁî®Autorelease Pool„ÄÇNSAutoreleasePool`Ë¥üË¥£ÈáäÊîæblock‰∏≠ÁöÑautoreleased objects„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂÆÉ‰ºöËá™Âä®Ë¢´UIKitË∞ÉÁî®„ÄÇ‰ΩÜÊòØÊúâ‰∫õÁä∂ÂÜµ‰∏ã‰Ω†‰πüÈúÄË¶ÅÊâãÂä®ÂéªÂàõÂª∫ÂÆÉ„ÄÇÂÅáÂ¶Ç‰Ω†ÂàõÂª∫ÂæàÂ§ö‰∏¥Êó∂ÂØπË±°Ôºå‰Ω†‰ºöÂèëÁé∞ÂÜÖÂ≠ò‰∏ÄÁõ¥Âú®ÂáèÂ∞ëÁõ¥Âà∞Ëøô‰∫õÂØπË±°Ë¢´releaseÁöÑÊó∂ÂÄô„ÄÇËøôÊòØÂõ†‰∏∫Âè™ÊúâÂΩìUIKitÁî®ÂÖâ‰∫Üautorelease poolÁöÑÊó∂ÂÄômemoryÊâç‰ºöË¢´ÈáäÊîæ„ÄÇÊ∂àÊÅØÊòØ‰Ω†ÂèØ‰ª•Âú®‰Ω†Ëá™Â∑±ÁöÑ@autoreleasepoolÈáåÂàõÂª∫‰∏¥Êó∂ÁöÑÂØπË±°Êù•ÈÅøÂÖçËøô‰∏™Ë°å‰∏∫„ÄÇ ÈÄâÊã©ÊòØÂê¶ÁºìÂ≠òÂõæÁâá„ÄÇÂ∏∏ËßÅÁöÑ‰ªébundle‰∏≠Âä†ËΩΩÂõæÁâáÁöÑÊñπÂºèÊúâ‰∏§ÁßçÔºå‰∏Ä‰∏™ÊòØÁî®imageNamedÔºå‰∫åÊòØÁî®imageWithContentsOfFileÔºåÁ¨¨‰∏ÄÁßçÊØîËæÉÂ∏∏ËßÅ‰∏ÄÁÇπ„ÄÇ ÈÅøÂÖçÊó•ÊúüÊ†ºÂºèËΩ¨Êç¢„ÄÇÂ¶ÇÊûú‰Ω†Ë¶ÅÁî®NSDateFormatterÊù•Â§ÑÁêÜÂæàÂ§öÊó•ÊúüÊ†ºÂºèÔºåÂ∫îËØ•Â∞èÂøÉ‰ª•ÂæÖ„ÄÇÂ∞±ÂÉèÂÖàÂâçÊèêÂà∞ÁöÑÔºå‰ªª‰ΩïÊó∂ÂÄôÈáçÁî®NSDateFormattersÈÉΩÊòØ‰∏Ä‰∏™Â•ΩÁöÑÂÆûË∑µ„ÄÇÂ¶ÇÊûú‰Ω†ÂèØ‰ª•ÊéßÂà∂‰Ω†ÊâÄÂ§ÑÁêÜÁöÑÊó•ÊúüÊ†ºÂºèÔºåÂ∞ΩÈáèÈÄâÊã©UnixÊó∂Èó¥Êà≥„ÄÇ‰Ω†ÂèØ‰ª•Êñπ‰æøÂú∞‰ªéÊó∂Èó¥Êà≥ËΩ¨Êç¢Âà∞NSDate: - (NSDate*)dateFromUnixTimestamp:(NSTimeInterval)timestamp { return[NSDate dateWithTimeIntervalSince1970:timestamp]; } ËøôÊ†∑‰ºöÊØîÁî®CÊù•Ëß£ÊûêÊó•ÊúüÂ≠óÁ¨¶‰∏≤ËøòÂø´ÔºÅÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËÆ∏Â§öweb API‰ºö‰ª•ÂæÆÁßíÁöÑÂΩ¢ÂºèËøîÂõûÊó∂Èó¥Êà≥ÔºåÂõ†‰∏∫ËøôÁßçÊ†ºÂºèÂú®javascript‰∏≠Êõ¥Êñπ‰æø‰ΩøÁî®„ÄÇËÆ∞‰ΩèÁî®dateFromUnixTimestamp‰πãÂâçÈô§‰ª•1000Â∞±Â•Ω‰∫Ü„ÄÇ Âπ≥Êó∂‰Ω†ÊòØÂ¶Ç‰ΩïÂØπ‰ª£Á†ÅËøõË°åÊÄßËÉΩ‰ºòÂåñÁöÑÔºü Âà©Áî®ÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑Ê£ÄÊµãÔºåÂåÖÊã¨ÈùôÊÄÅ Analyze Â∑•ÂÖ∑Ôºå‰ª•ÂèäËøêË°åÊó∂ Profile Â∑•ÂÖ∑ÔºåÈÄöËøáXcodeÂ∑•ÂÖ∑Ê†è‰∏≠Product-&gt;ProfileÂèØ‰ª•ÂêØÂä®,ÂêØÂä®ÂêéÁïåÈù¢Â¶Ç‰∏ã: image ÊØîÂ¶ÇÊµãËØïÁ®ãÂ∫èÂêØÂä®ËøêË°åÊó∂Èó¥ÔºåÂΩìÁÇπÂáªTime ProfilerÂ∫îÁî®Á®ãÂ∫èÂºÄÂßãËøêË°åÂêé.Â∞±ËÉΩËé∑ÂèñÂà∞Êï¥‰∏™Â∫îÁî®Á®ãÂ∫èËøêË°åÊ∂àËÄóÊó∂Èó¥ÂàÜÂ∏ÉÂíåÁôæÂàÜÊØî.‰∏∫‰∫Ü‰øùËØÅÊï∞ÊçÆÂàÜÊûêÂú®Áªü‰∏Ä‰ΩøÁî®Âú∫ÊôØÁúüÂÆûÈúÄË¶ÅÊ≥®ÊÑè‰∏ÄÂÆöË¶Å‰ΩøÁî®ÁúüÊú∫,Âõ†‰∏∫Ê≠§Êó∂Ê®°ÊãüÂô®ÊòØËøêË°åÂú®Mac‰∏äÔºåËÄåMac‰∏äÁöÑCPUÂæÄÂæÄÊØîiOSËÆæÂ§áË¶ÅÂø´„ÄÇ ‰∏∫‰∫ÜÈò≤Ê≠¢‰∏Ä‰∏™Â∫îÁî®Âç†Áî®ËøáÂ§öÁöÑÁ≥ªÁªüËµÑÊ∫êÔºåÂºÄÂèëiOSÁöÑËãπÊûúÂ∑•Á®ãÂ∏àÈó®ËÆæËÆ°‰∫Ü‰∏Ä‰∏™‚ÄúÁúãÈó®Áãó‚ÄùÁöÑÊú∫Âà∂„ÄÇÂú®‰∏çÂêåÁöÑÂú∫ÊôØ‰∏ãÔºå‚ÄúÁúãÈó®Áãó‚Äù‰ºöÁõëÊµãÂ∫îÁî®ÁöÑÊÄßËÉΩ„ÄÇÂ¶ÇÊûúË∂ÖÂá∫‰∫ÜËØ•Âú∫ÊôØÊâÄËßÑÂÆöÁöÑËøêË°åÊó∂Èó¥Ôºå‚ÄúÁúãÈó®Áãó‚ÄùÂ∞±‰ºöÂº∫Âà∂ÁªàÁªìËøô‰∏™Â∫îÁî®ÁöÑËøõÁ®ã„ÄÇÂºÄÂèëËÄÖ‰ª¨Âú®crashlogÈáåÈù¢Ôºå‰ºöÁúãÂà∞ËØ∏Â¶Ç0x8badf00dËøôÊ†∑ÁöÑÈîôËØØ‰ª£Á†Å„ÄÇ ‰ºòÂåñTable View Ê≠£Á°Æ‰ΩøÁî®reuseIdentifierÊù•ÈáçÁî®cells Â∞ΩÈáè‰ΩøÊâÄÊúâÁöÑview opaqueÔºåÂåÖÊã¨cellËá™Ë∫´ Â¶ÇÊûúcellÂÜÖÁé∞ÂÆûÁöÑÂÜÖÂÆπÊù•Ëá™webÔºå‰ΩøÁî®ÂºÇÊ≠•Âä†ËΩΩÔºåÁºìÂ≠òËØ∑Ê±ÇÁªìÊûú ÂáèÂ∞ësubviewsÁöÑÊï∞Èáè Â∞ΩÈáè‰∏çÈÄÇÁî®cellForRowAtIndexPath:ÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÁî®Âà∞ÂÆÉÔºåÂè™Áî®‰∏ÄÊ¨°ÁÑ∂ÂêéÁºìÂ≠òÁªìÊûú ‰ΩøÁî®rowHeight, sectionFooterHeightÂíå sectionHeaderHeightÊù•ËÆæÂÆöÂõ∫ÂÆöÁöÑÈ´òÔºå‰∏çË¶ÅËØ∑Ê±Çdelegate UIImageÂä†ËΩΩÂõæÁâáÊÄßËÉΩÈóÆÈ¢ò imagedNamedÂàùÂßãÂåñ imageWithContentsOfFileÂàùÂßãÂåñ imageNamedÈªòËÆ§Âä†ËΩΩÂõæÁâáÊàêÂäüÂêé‰ºöÂÜÖÂ≠ò‰∏≠ÁºìÂ≠òÂõæÁâá,Ëøô‰∏™ÊñπÊ≥ïÁî®‰∏Ä‰∏™ÊåáÂÆöÁöÑÂêçÂ≠óÂú®Á≥ªÁªüÁºìÂ≠ò‰∏≠Êü•ÊâæÂπ∂ËøîÂõû‰∏Ä‰∏™ÂõæÁâáÂØπË±°.Â¶ÇÊûúÁºìÂ≠ò‰∏≠Ê≤°ÊúâÊâæÂà∞Áõ∏Â∫îÁöÑÂõæÁâáÂØπË±°,Âàô‰ªéÊåáÂÆöÂú∞ÊñπÂä†ËΩΩÂõæÁâáÁÑ∂ÂêéÁºìÂ≠òÂØπË±°ÔºåÂπ∂ËøîÂõûËøô‰∏™ÂõæÁâáÂØπË±°. imageWithContentsOfFileÂàô‰ªÖÂè™Âä†ËΩΩÂõæÁâá,‰∏çÁºìÂ≠ò. Âä†ËΩΩ‰∏ÄÂº†Â§ßÂõæÂπ∂‰∏î‰ΩøÁî®‰∏ÄÊ¨°ÔºåÁî®imageWithContentsOfFileÊòØÊúÄÂ•Ω,ËøôÊ†∑CPU‰∏çÈúÄË¶ÅÂÅöÁºìÂ≠òËäÇÁ∫¶Êó∂Èó¥. ‰ΩøÁî®Âú∫ÊôØÈúÄË¶ÅÁºñÁ®ãÊó∂ÔºåÂ∫îËØ•Ê†πÊçÆÂÆûÈôÖÂ∫îÁî®Âú∫ÊôØÂä†‰ª•Âå∫ÂàÜÔºåUIimageËôΩÂ∞èÔºå‰ΩÜ‰ΩøÁî®ÂÖÉÁ¥†ËæÉÂ§öÈóÆÈ¢ò‰ºöÊúâÊâÄÂá∏Êòæ. ‰∏çË¶ÅÂú®viewWillAppear ‰∏≠ÂÅöË¥πÊó∂ÁöÑÊìç‰ΩúÔºöviewWillAppear: Âú®viewÊòæÁ§∫‰πãÂâçË¢´Ë∞ÉÁî®ÔºåÂá∫‰∫éÊïàÁéáËÄÉËôëÔºåÊñπÊ≥ï‰∏≠‰∏çË¶ÅÂ§ÑÁêÜÂ§çÊùÇË¥πÊó∂Êìç‰ΩúÔºõÂú®ËØ•ÊñπÊ≥ïËÆæÁΩÆ view ÁöÑÊòæÁ§∫Â±ûÊÄß‰πãÁ±ªÁöÑÁÆÄÂçï‰∫ãÊÉÖÔºåÊØîÂ¶ÇËÉåÊôØËâ≤ÔºåÂ≠ó‰ΩìÁ≠â„ÄÇÂê¶ÂàôÔºå‰ºöÊòéÊòæÊÑüËßâÂà∞ view ÊúâÂç°È°øÊàñËÄÖÂª∂Ëøü„ÄÇ Âú®Ê≠£Á°ÆÁöÑÂú∞Êñπ‰ΩøÁî®reuseIdentifierÔºötable viewÁî® tableView:cellForRowAtIndexPath:‰∏∫rowsÂàÜÈÖçcellsÁöÑÊó∂ÂÄôÔºåÂÆÉÁöÑÊï∞ÊçÆÂ∫îËØ•ÈáçÁî®Ëá™UITableViewCell„ÄÇ Â∞ΩÈáèÊääviewsËÆæÁΩÆ‰∏∫ÈÄèÊòéÔºöÂ¶ÇÊûú‰Ω†ÊúâÈÄèÊòéÁöÑViews‰Ω†Â∫îËØ•ËÆæÁΩÆÂÆÉ‰ª¨ÁöÑopaqueÂ±ûÊÄß‰∏∫YES„ÄÇÁ≥ªÁªüÁî®‰∏Ä‰∏™ÊúÄ‰ºòÁöÑÊñπÂºèÊ∏≤ÊüìËøô‰∫õviews„ÄÇËøô‰∏™ÁÆÄÂçïÁöÑÂ±ûÊÄßÂú®IBÊàñËÄÖ‰ª£Á†ÅÈáåÈÉΩÂèØ‰ª•ËÆæÂÆö„ÄÇ ÈÅøÂÖçËøá‰∫éÂ∫ûÂ§ßÁöÑXIBÔºöÂ∞ΩÈáèÁÆÄÂçïÁöÑ‰∏∫ÊØè‰∏™ControllerÈÖçÁΩÆ‰∏Ä‰∏™ÂçïÁã¨ÁöÑXIBÔºåÂ∞ΩÂèØËÉΩÊää‰∏Ä‰∏™View ControllerÁöÑviewÂ±ÇÊ¨°ÁªìÊûÑÂàÜÊï£Âà∞ÂçïÁã¨ÁöÑXIB‰∏≠Âéª, ÂΩì‰Ω†Âä†ËΩΩ‰∏Ä‰∏™ÂºïÁî®‰∫ÜÂõæÁâáÊàñËÄÖÂ£∞Èü≥ËµÑÊ∫êÁöÑnibÊó∂ÔºånibÂä†ËΩΩ‰ª£Á†Å‰ºöÊääÂõæÁâáÂíåÂ£∞Èü≥Êñá‰ª∂ÂÜôËøõÂÜÖÂ≠ò„ÄÇ ‰∏çË¶ÅÈòªÂ°û‰∏ªÁ∫øÁ®ãÔºöÊ∞∏Ëøú‰∏çË¶Å‰Ωø‰∏ªÁ∫øÁ®ãÊâøÊãÖËøáÂ§ö„ÄÇÂõ†‰∏∫UIKitÂú®‰∏ªÁ∫øÁ®ã‰∏äÂÅöÊâÄÊúâÂ∑•‰ΩúÔºåÊ∏≤ÊüìÔºåÁÆ°ÁêÜËß¶Êë∏ÂèçÂ∫îÔºåÂõûÂ∫îËæìÂÖ•Á≠âÈÉΩÈúÄË¶ÅÂú®ÂÆÉ‰∏äÈù¢ÂÆåÊàê,Â§ßÈÉ®ÂàÜÈòªÁ¢ç‰∏ªËøõÁ®ãÁöÑÊÉÖÂΩ¢ÊòØ‰Ω†ÁöÑappÂú®ÂÅö‰∏Ä‰∫õÁâµÊ∂âÂà∞ËØªÂÜôÂ§ñÈÉ®ËµÑÊ∫êÁöÑI/OÊìç‰ΩúÔºåÊØîÂ¶ÇÂ≠òÂÇ®ÊàñËÄÖÁΩëÁªú„ÄÇ dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{ // ÈÄâÊã©‰∏Ä‰∏™Â≠êÁ∫øÁ®ãÊù•ÊâßË°åËÄóÊó∂Êìç‰Ωú dispatch_async(dispatch_get_main_queue(), ^{ // ËøîÂõû‰∏ªÁ∫øÁ®ãÊõ¥Êñ∞UI }); }); Âú®Image Views‰∏≠Ë∞ÉÊï¥ÂõæÁâáÂ§ßÂ∞è Â¶ÇÊûúË¶ÅÂú®UIImageView‰∏≠ÊòæÁ§∫‰∏Ä‰∏™Êù•Ëá™bundleÁöÑÂõæÁâáÔºå‰Ω†Â∫î‰øùËØÅÂõæÁâáÁöÑÂ§ßÂ∞èÂíåUIImageViewÁöÑÂ§ßÂ∞èÁõ∏Âêå„ÄÇÂú®ËøêË°å‰∏≠Áº©ÊîæÂõæÁâáÊòØÂæàËÄóË¥πËµÑÊ∫êÁöÑ. ËÆ≤ËÆ≤‰Ω†Áî®Instrument‰ºòÂåñÂä®ÁîªÊÄßËÉΩÁöÑÁªèÂéÜÂêßÔºàÂà´ÈóÆÊàë‰ªÄ‰πàÊòØInstrumentÔºâAppleÁöÑinstrument‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∫ÜÂêÑÁßçtemplateÂéª‰ºòÂåñappÊÄßËÉΩÂíåÂÆö‰ΩçÈóÆÈ¢ò„ÄÇÂæàÂ§öÂÖ¨Âè∏ÈÉΩÂú®Ëµ∂featureÔºåÂπ∂Ê≤°ÊúâÂÖÖË∂≥ÁöÑÊó∂Èó¥Êù•ÂÅö‰ºòÂåñÔºåÂØºËá¥‰∏çÂ∞ëÂºÄÂèëËÄÖÂØπinstrument‰∏çÊÄé‰πàÁÜüÊÇâ„ÄÇ‰ΩÜËøôÈáåÈù¢ÂÖ∂ÂÆûÊ∂µÁõñ‰∫ÜÈùûÂ∏∏ÂÆåÊï¥ÁöÑËÆ°ÁÆóÊú∫Âü∫Á°ÄÁêÜËÆ∫Áü•ËØÜ‰ΩìÁ≥ªÔºåmemoryÔºådiskÔºånetworkÔºåthreadÔºåcpuÔºågpuÁ≠âÁ≠âÔºåÈ°∫Ëó§Êë∏ÁìúÂéªÂ≠¶‰π†ÔºåÊòØ‰∏ÄÁ¨îÂ∑®Â§ßÁöÑÁü•ËØÜË¥¢ÂØå„ÄÇÂä®ÁîªÊÄßËÉΩÂè™ÊòØÂÖ∂‰∏≠‰∏Ä‰∏™templateÔºåÈáçÁÇπËøòÊòØÁêÜËß£‰∏äÈù¢ÈóÆÈ¢òÂΩì‰∏≠CPU GPUÂ¶Ç‰ΩïÈÖçÂêàÂ∑•‰ΩúÁöÑÁü•ËØÜ„ÄÇ facebookÂêØÂä®Êó∂Èó¥‰ºòÂåñ1.Áò¶Ë∫´ËØ∑Ê±Ç‰æùËµñ 2.UDPÂêØÂä®ËØ∑Ê±ÇÂÖàË°åÁºìÂ≠ò 3.ÈòüÂàó‰∏≤Ë°åÂåñÂ§ÑÁêÜÂêØÂä®ÂìçÂ∫î]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò21--Runtime]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9821-Runtime%2F</url>
    <content type="text"><![CDATA[RuntimeÊòØ‰ªÄ‰πàRuntime ÂèàÂè´ËøêË°åÊó∂ÔºåÊòØ‰∏ÄÂ•óÂ∫ïÂ±ÇÁöÑ C ËØ≠Ë®Ä APIÔºåÂÖ∂‰∏∫ iOS ÂÜÖÈÉ®ÁöÑÊ†∏ÂøÉ‰πã‰∏ÄÔºåÊàë‰ª¨Âπ≥Êó∂ÁºñÂÜôÁöÑ OC ‰ª£Á†ÅÔºåÂ∫ïÂ±ÇÈÉΩÊòØÂü∫‰∫éÂÆÉÊù•ÂÆûÁé∞ÁöÑ„ÄÇÊØîÂ¶ÇÔºö [receiver message]; // Â∫ïÂ±ÇËøêË°åÊó∂‰ºöË¢´ÁºñËØëÂô®ËΩ¨Âåñ‰∏∫Ôºö objc_msgSend(receiver, selector) // Â¶ÇÊûúÂÖ∂ËøòÊúâÂèÇÊï∞ÊØîÂ¶ÇÔºö [receiver message:(id)arg...]; // Â∫ïÂ±ÇËøêË°åÊó∂‰ºöË¢´ÁºñËØëÂô®ËΩ¨Âåñ‰∏∫Ôºö objc_msgSend(receiver, selector, arg1, arg2, ...) ‰∏∫‰ªÄ‰πàÈúÄË¶ÅRuntime Objective-C ÊòØ‰∏ÄÈó®Âä®ÊÄÅËØ≠Ë®ÄÔºåÂÆÉ‰ºöÂ∞Ü‰∏Ä‰∫õÂ∑•‰ΩúÊîæÂú®‰ª£Á†ÅËøêË°åÊó∂ÊâçÂ§ÑÁêÜËÄåÂπ∂ÈùûÁºñËØëÊó∂„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊúâÂæàÂ§öÁ±ªÂíåÊàêÂëòÂèòÈáèÂú®Êàë‰ª¨ÁºñËØëÁöÑÊó∂ÊòØ‰∏çÁü•ÈÅìÁöÑÔºåËÄåÂú®ËøêË°åÊó∂ÔºåÊàë‰ª¨ÊâÄÁºñÂÜôÁöÑ‰ª£Á†Å‰ºöËΩ¨Êç¢ÊàêÂÆåÊï¥ÁöÑÁ°ÆÂÆöÁöÑ‰ª£Á†ÅËøêË°å„ÄÇ Âõ†Ê≠§ÔºåÁºñËØëÂô®ÊòØ‰∏çÂ§üÁöÑÔºåÊàë‰ª¨ËøòÈúÄË¶Å‰∏Ä‰∏™ËøêË°åÊó∂Á≥ªÁªü(Runtime system)Êù•Â§ÑÁêÜÁºñËØëÂêéÁöÑ‰ª£Á†Å„ÄÇ Runtime Âü∫Êú¨ÊòØÁî® C ÂíåÊ±áÁºñÂÜôÁöÑÔºåÁî±Ê≠§ÂèØËßÅËãπÊûú‰∏∫‰∫ÜÂä®ÊÄÅÁ≥ªÁªüÁöÑÈ´òÊïàËÄåÂÅöÂá∫ÁöÑÂä™Âäõ„ÄÇËãπÊûúÂíå GNU ÂêÑËá™Áª¥Êä§‰∏Ä‰∏™ÂºÄÊ∫êÁöÑ Runtime ÁâàÊú¨ÔºåËøô‰∏§‰∏™ÁâàÊú¨‰πãÈó¥ÈÉΩÂú®Âä™Âäõ‰øùÊåÅ‰∏ÄËá¥„ÄÇ Runtime ÁöÑ‰ΩúÁî®OC Âú®‰∏âÁßçÂ±ÇÈù¢‰∏ä‰∏é Runtime Á≥ªÁªüËøõË°å‰∫§‰∫íÔºö 1.ÈÄöËøá Objective-C Ê∫ê‰ª£Á†Å Âè™ÈúÄË¶ÅÁºñÂÜô OC ‰ª£Á†ÅÔºåRuntime Á≥ªÁªüËá™Âä®Âú®ÂπïÂêéÊêûÂÆö‰∏ÄÂàáÔºåË∞ÉÁî®ÊñπÊ≥ïÔºåÁºñËØëÂô®‰ºöÂ∞Ü OC ‰ª£Á†ÅËΩ¨Êç¢ÊàêËøêË°åÊó∂‰ª£Á†ÅÔºåÂú®ËøêË°åÊó∂Á°ÆÂÆöÊï∞ÊçÆÁªìÊûÑÂíåÂáΩÊï∞„ÄÇ 2.ÈÄöËøá Foundation Ê°ÜÊû∂ÁöÑ NSObject Á±ªÂÆö‰πâÁöÑÊñπÊ≥ï Cocoa Á®ãÂ∫è‰∏≠ÁªùÂ§ßÈÉ®ÂàÜÁ±ªÈÉΩÊòØ NSObject Á±ªÁöÑÂ≠êÁ±ªÔºåÊâÄ‰ª•ÈÉΩÁªßÊâø‰∫Ü NSObject ÁöÑË°å‰∏∫„ÄÇ(NSProxy Á±ªÊó∂‰∏™‰æãÂ§ñÔºåÂÆÉÊòØ‰∏™ÊäΩË±°Ë∂ÖÁ±ª) ‰∏Ä‰∫õÊÉÖÂÜµ‰∏ãÔºåNSObject Á±ª‰ªÖ‰ªÖÂÆö‰πâ‰∫ÜÂÆåÊàêÊüê‰ª∂‰∫ãÊÉÖÁöÑÊ®°ÊùøÔºåÂπ∂Ê≤°ÊúâÊèê‰æõÊâÄÈúÄË¶ÅÁöÑ‰ª£Á†Å„ÄÇ‰æãÂ¶Ç - descriptionÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïËøîÂõûÁ±ªÂÜÖÂÆπÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫ÔºåËØ•ÊñπÊ≥ï‰∏ªË¶ÅÁî®Êù•Ë∞ÉËØïÁ®ãÂ∫è„ÄÇNSObjectÁ±ªÂπ∂‰∏çÁü•ÈÅìÂ≠êÁ±ªÁöÑÂÜÖÂÆπÔºåÊâÄ‰ª•ÂÆÉÂè™ÊòØËøîÂõûÁ±ªÁöÑÂêçÂ≠óÂíåÂØπË±°ÁöÑÂú∞ÂùÄÔºåNSObjectÁöÑÂ≠êÁ±ªÂèØ‰ª•ÈáçÊñ∞ÂÆûÁé∞„ÄÇ ËøòÊúâ‰∏Ä‰∫õNSObjectÁöÑÊñπÊ≥ïÂèØ‰ª•‰ªéRuntimeÁ≥ªÁªü‰∏≠Ëé∑Âèñ‰ø°ÊÅØÔºåÂÖÅËÆ∏ÂØπË±°ËøõË°åËá™ÊàëÊ£ÄÊü•„ÄÇ‰æãÂ¶ÇÔºö -classÊñπÊ≥ïËøîÂõûÂØπË±°ÁöÑÁ±ªÔºõ -isKindOfClass: Âíå -isMemberOfClass: ÊñπÊ≥ïÊ£ÄÊü•ÂØπË±°ÊòØÂê¶Â≠òÂú®‰∫éÊåáÂÆöÁöÑÁ±ªÁöÑÁªßÊâø‰ΩìÁ≥ª‰∏≠(ÊòØÂê¶ÊòØÂÖ∂Â≠êÁ±ªÊàñËÄÖÁà∂Á±ªÊàñËÄÖÂΩìÂâçÁ±ªÁöÑÊàêÂëòÂèòÈáè)Ôºõ -respondsToSelector: Ê£ÄÊü•ÂØπË±°ËÉΩÂê¶ÂìçÂ∫îÊåáÂÆöÁöÑÊ∂àÊÅØÔºõ -conformsToProtocol:Ê£ÄÊü•ÂØπË±°ÊòØÂê¶ÂÆûÁé∞‰∫ÜÊåáÂÆöÂçèËÆÆÁ±ªÁöÑÊñπÊ≥ïÔºõ -methodForSelector: ËøîÂõûÊåáÂÆöÊñπÊ≥ïÂÆûÁé∞ÁöÑÂú∞ÂùÄ„ÄÇ 3.ÈÄöËøáÂØπ Runtime Â∫ìÂáΩÊï∞ÁöÑÁõ¥Êé•Ë∞ÉÁî® Runtime Á≥ªÁªüÊòØÂÖ∑ÊúâÂÖ¨ÂÖ±Êé•Âè£ÁöÑÂä®ÊÄÅÂÖ±‰∫´Â∫ì„ÄÇÂ§¥Êñá‰ª∂Â≠òÊîæ‰∫é/usr/include/objcÁõÆÂΩï‰∏ãÔºåËøôÊÑèÂë≥ÁùÄÊàë‰ª¨‰ΩøÁî®Êó∂Âè™ÈúÄË¶ÅÂºïÂÖ•objc/Runtime.hÂ§¥Êñá‰ª∂Âç≥ÂèØ„ÄÇ ËÆ∏Â§öÂáΩÊï∞ÂèØ‰ª•ËÆ©‰Ω†‰ΩøÁî®Á∫Ø C ‰ª£Á†ÅÊù•ÂÆûÁé∞ Objc ‰∏≠ÂêåÊ†∑ÁöÑÂäüËÉΩ„ÄÇÈô§ÈùûÊòØÂÜô‰∏Ä‰∫õ Objc ‰∏éÂÖ∂‰ªñËØ≠Ë®ÄÁöÑÊ°•Êé•ÊàñÊòØÂ∫ïÂ±ÇÁöÑ debug Â∑•‰ΩúÔºå‰Ω†Âú®ÂÜô Objc ‰ª£Á†ÅÊó∂‰∏ÄËà¨‰∏ç‰ºöÁî®Âà∞Ëøô‰∫õ C ËØ≠Ë®ÄÂáΩÊï∞„ÄÇ RuntimeÁöÑÁõ∏ÂÖ≥ÊúØËØ≠1.SEL ÂÆÉÊòØselectorÂú® Objc ‰∏≠ÁöÑË°®Á§∫(Swift ‰∏≠ÊòØ Selector Á±ª)„ÄÇselector ÊòØÊñπÊ≥ïÈÄâÊã©Âô®ÔºåÂÖ∂ÂÆû‰ΩúÁî®Â∞±ÂíåÂêçÂ≠ó‰∏ÄÊ†∑ÔºåÊó•Â∏∏ÁîüÊ¥ª‰∏≠ÔºåÊàë‰ª¨ÈÄöËøá‰∫∫ÂêçËæ®Âà´Ë∞ÅÊòØË∞ÅÔºåÊ≥®ÊÑè Objc Âú®Áõ∏ÂêåÁöÑÁ±ª‰∏≠‰∏ç‰ºöÊúâÂëΩÂêçÁõ∏ÂêåÁöÑ‰∏§‰∏™ÊñπÊ≥ï„ÄÇselector ÂØπÊñπÊ≥ïÂêçËøõË°åÂåÖË£ÖÔºå‰ª•‰æøÊâæÂà∞ÂØπÂ∫îÁöÑÊñπÊ≥ïÂÆûÁé∞„ÄÇÂÆÉÁöÑÊï∞ÊçÆÁªìÊûÑÊòØÔºö typedef struct objc_selector *SEL; Êàë‰ª¨ÂèØ‰ª•ÁúãÂá∫ÂÆÉÊòØ‰∏™Êò†Â∞ÑÂà∞ÊñπÊ≥ïÁöÑ C Â≠óÁ¨¶‰∏≤Ôºå‰Ω†ÂèØ‰ª•ÈÄöËøá Objc ÁºñËØëÂô®Âô®ÂëΩ‰ª§@selector() ÊàñËÄÖ Runtime Á≥ªÁªüÁöÑ sel_registerName ÂáΩÊï∞Êù•Ëé∑Âèñ‰∏Ä‰∏™ SEL Á±ªÂûãÁöÑÊñπÊ≥ïÈÄâÊã©Âô®„ÄÇ Ê≥®ÊÑèÔºö‰∏çÂêåÁ±ª‰∏≠Áõ∏ÂêåÂêçÂ≠óÁöÑÊñπÊ≥ïÊâÄÂØπÂ∫îÁöÑ selector ÊòØÁõ∏ÂêåÁöÑÔºåÁî±‰∫éÂèòÈáèÁöÑÁ±ªÂûã‰∏çÂêåÔºåÊâÄ‰ª•‰∏ç‰ºöÂØºËá¥ÂÆÉ‰ª¨Ë∞ÉÁî®ÊñπÊ≥ïÂÆûÁé∞Ê∑∑‰π±„ÄÇ 2.id id ÊòØ‰∏Ä‰∏™ÂèÇÊï∞Á±ªÂûãÔºåÂÆÉÊòØÊåáÂêëÊüê‰∏™Á±ªÁöÑÂÆû‰æãÁöÑÊåáÈíà„ÄÇÂÆö‰πâÂ¶Ç‰∏ãÔºö typedef struct objc_object *id; struct objc_object { Class isa; }; ‰ª•‰∏äÂÆö‰πâÔºåÁúãÂà∞ objc_object ÁªìÊûÑ‰ΩìÂåÖÂê´‰∏Ä‰∏™ isa ÊåáÈíàÔºåÊ†πÊçÆ isa ÊåáÈíàÂ∞±ÂèØ‰ª•ÊâæÂà∞ÂØπË±°ÊâÄÂ±ûÁöÑÁ±ª„ÄÇ Ê≥®ÊÑèÔºöisa ÊåáÈíàÂú®‰ª£Á†ÅËøêË°åÊó∂Âπ∂‰∏çÊÄªÊåáÂêëÂÆû‰æãÂØπË±°ÊâÄÂ±ûÁöÑÁ±ªÂûãÔºåÊâÄ‰ª•‰∏çËÉΩ‰æùÈù†ÂÆÉÊù•Á°ÆÂÆöÁ±ªÂûãÔºåË¶ÅÊÉ≥Á°ÆÂÆöÁ±ªÂûãËøòÊòØÈúÄË¶ÅÁî®ÂØπË±°ÁöÑ -class ÊñπÊ≥ï„ÄÇPS:KVO ÁöÑÂÆûÁé∞Êú∫ÁêÜÂ∞±ÊòØÂ∞ÜË¢´ËßÇÂØüÂØπË±°ÁöÑ isa ÊåáÈíàÊåáÂêë‰∏Ä‰∏™‰∏≠Èó¥Á±ªËÄå‰∏çÊòØÁúüÂÆûÁ±ªÂûã„ÄÇ 3.Class typedef struct objc_class *Class; Class ÂÖ∂ÂÆûÊòØÊåáÂêë objc_class ÁªìÊûÑ‰ΩìÁöÑÊåáÈíà„ÄÇobjc_class ÁöÑÊï∞ÊçÆÁªìÊûÑÂ¶Ç‰∏ãÔºö struct objc_class { Class isa OBJC_ISA_AVAILABILITY; #if !__OBJC2__ Class super_class OBJC2_UNAVAILABLE; const char *name OBJC2_UNAVAILABLE; long version OBJC2_UNAVAILABLE; long info OBJC2_UNAVAILABLE; long instance_size OBJC2_UNAVAILABLE; struct objc_ivar_list *ivars OBJC2_UNAVAILABLE; struct objc_method_list **methodLists OBJC2_UNAVAILABLE; struct objc_cache *cache OBJC2_UNAVAILABLE; struct objc_protocol_list *protocols OBJC2_UNAVAILABLE; #endif } OBJC2_UNAVAILABLE; ‰ªé objc_class ÂèØ‰ª•ÁúãÂà∞Ôºå‰∏Ä‰∏™ËøêË°åÊó∂Á±ª‰∏≠ÂÖ≥ËÅî‰∫ÜÂÆÉÁöÑÁà∂Á±ªÊåáÈíà„ÄÅÁ±ªÂêç„ÄÅÊàêÂëòÂèòÈáè„ÄÅÊñπÊ≥ï„ÄÅÁºìÂ≠ò‰ª•ÂèäÈôÑÂ±ûÁöÑÂçèËÆÆ„ÄÇ ÂÖ∂‰∏≠ objc_ivar_list Âíå objc_method_list ÂàÜÂà´ÊòØÊàêÂëòÂèòÈáèÂàóË°®ÂíåÊñπÊ≥ïÂàóË°®Ôºö // ÊàêÂëòÂèòÈáèÂàóË°® struct objc_ivar_list { int ivar_count OBJC2_UNAVAILABLE; #ifdef __LP64__ int space OBJC2_UNAVAILABLE; #endif /* variable length structure */ struct objc_ivar ivar_list[1] OBJC2_UNAVAILABLE; } OBJC2_UNAVAILABLE; // ÊñπÊ≥ïÂàóË°® struct objc_method_list { struct objc_method_list *obsolete OBJC2_UNAVAILABLE; int method_count OBJC2_UNAVAILABLE; #ifdef __LP64__ int space OBJC2_UNAVAILABLE; #endif /* variable length structure */ struct objc_method method_list[1] OBJC2_UNAVAILABLE; } Áî±Ê≠§ÂèØËßÅÔºåÊàë‰ª¨ÂèØ‰ª•Âä®ÊÄÅ‰øÆÊîπ *methodList ÁöÑÂÄºÊù•Ê∑ªÂä†ÊàêÂëòÊñπÊ≥ïÔºåËøô‰πüÊòØ Category ÂÆûÁé∞ÁöÑÂéüÁêÜÔºåÂêåÊ†∑Ëß£Èáä‰∫Ü Category ‰∏çËÉΩÊ∑ªÂä†Â±ûÊÄßÁöÑÂéüÂõ†„ÄÇ objc_ivar_list ÁªìÊûÑ‰ΩìÁî®Êù•Â≠òÂÇ®ÊàêÂëòÂèòÈáèÁöÑÂàóË°®ÔºåËÄå objc_ivar ÂàôÊòØÂ≠òÂÇ®‰∫ÜÂçï‰∏™ÊàêÂëòÂèòÈáèÁöÑ‰ø°ÊÅØÔºõÂêåÁêÜÔºåobjc_method_list ÁªìÊûÑ‰ΩìÂ≠òÂÇ®ÁùÄÊñπÊ≥ïÊï∞ÁªÑÁöÑÂàóË°®ÔºåËÄåÂçï‰∏™ÊñπÊ≥ïÁöÑ‰ø°ÊÅØÂàôÁî± objc_method ÁªìÊûÑ‰ΩìÂ≠òÂÇ®„ÄÇ ÂÄºÂæóÊ≥®ÊÑèÁöÑÊó∂Ôºåobjc_class ‰∏≠‰πüÊúâ‰∏Ä‰∏™ isa ÊåáÈíàÔºåËøôËØ¥Êòé Objc Á±ªÊú¨Ë∫´‰πüÊòØ‰∏Ä‰∏™ÂØπË±°„ÄÇ‰∏∫‰∫ÜÂ§ÑÁêÜÁ±ªÂíåÂØπË±°ÁöÑÂÖ≥Á≥ªÔºåRuntime Â∫ìÂàõÂª∫‰∫Ü‰∏ÄÁßçÂè´ÂÅö Meta Class(ÂÖÉÁ±ª) ÁöÑ‰∏úË•øÔºåÁ±ªÂØπË±°ÊâÄÂ±ûÁöÑÁ±ªÂ∞±Âè´ÂÅöÂÖÉÁ±ª„ÄÇMeta Class Ë°®Ëø∞‰∫ÜÁ±ªÂØπË±°Êú¨Ë∫´ÊâÄÂÖ∑Â§áÁöÑÂÖÉÊï∞ÊçÆ„ÄÇ Êàë‰ª¨ÊâÄÁÜüÊÇâÁöÑÁ±ªÊñπÊ≥ïÔºåÂ∞±Ê∫êËá™‰∫é Meta Class„ÄÇÊàë‰ª¨ÂèØ‰ª•ÁêÜËß£‰∏∫Á±ªÊñπÊ≥ïÂ∞±ÊòØÁ±ªÂØπË±°ÁöÑÂÆû‰æãÊñπÊ≥ï„ÄÇÊØè‰∏™Á±ª‰ªÖÊúâ‰∏Ä‰∏™Á±ªÂØπË±°ÔºåËÄåÊØè‰∏™Á±ªÂØπË±°‰ªÖÊúâ‰∏Ä‰∏™‰∏é‰πãÁõ∏ÂÖ≥ÁöÑÂÖÉÁ±ª„ÄÇ ÂΩì‰Ω†ÂèëÂá∫‰∏Ä‰∏™Á±ª‰ºº [NSObject alloc](Á±ªÊñπÊ≥ï) ÁöÑÊ∂àÊÅØÊó∂ÔºåÂÆûÈôÖ‰∏äÔºåËøô‰∏™Ê∂àÊÅØË¢´ÂèëÈÄÅÁªô‰∫Ü‰∏Ä‰∏™Á±ªÂØπË±°(Class Object)ÔºåËøô‰∏™Á±ªÂØπË±°ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂÖÉÁ±ªÁöÑÂÆû‰æãÔºåËÄåËøô‰∏™ÂÖÉÁ±ªÂêåÊó∂‰πüÊòØ‰∏Ä‰∏™Ê†πÂÖÉÁ±ª(Root Meta Class)ÁöÑÂÆû‰æã„ÄÇÊâÄÊúâÂÖÉÁ±ªÁöÑ isa ÊåáÈíàÊúÄÁªàÈÉΩÊåáÂêëÊ†πÂÖÉÁ±ª„ÄÇ ÊâÄ‰ª•ÂΩì [NSObject alloc] ËøôÊù°Ê∂àÊÅØÂèëÈÄÅÁªôÁ±ªÂØπË±°ÁöÑÊó∂ÂÄôÔºåËøêË°åÊó∂‰ª£Á†Å objc_msgSend() ‰ºöÂéªÂÆÉÂÖÉÁ±ª‰∏≠Êü•ÊâæËÉΩÂ§üÂìçÂ∫îÊ∂àÊÅØÁöÑÊñπÊ≥ïÂÆûÁé∞ÔºåÂ¶ÇÊûúÊâæÂà∞‰∫ÜÔºåÂ∞±‰ºöÂØπËøô‰∏™Á±ªÂØπË±°ÊâßË°åÊñπÊ≥ïË∞ÉÁî®„ÄÇ ÊúÄÂêé objc_class ‰∏≠ËøòÊúâ‰∏Ä‰∏™ objc_cache ÔºåÁºìÂ≠òÔºåÂÆÉÁöÑ‰ΩúÁî®ÂæàÈáçË¶ÅÔºåÂêéÈù¢‰ºöÊèêÂà∞„ÄÇ 4.Method Method ‰ª£Ë°®Á±ª‰∏≠Êüê‰∏™ÊñπÊ≥ïÁöÑÁ±ªÂûã typedef struct objc_method *Method; struct objc_method { SEL method_name OBJC2_UNAVAILABLE; char *method_types OBJC2_UNAVAILABLE; IMP method_imp OBJC2_UNAVAILABLE; } objc_method Â≠òÂÇ®‰∫ÜÊñπÊ≥ïÂêçÔºåÊñπÊ≥ïÁ±ªÂûãÂíåÊñπÊ≥ïÂÆûÁé∞Ôºö ÊñπÊ≥ïÂêçÁ±ªÂûã‰∏∫ SEL ÊñπÊ≥ïÁ±ªÂûã method_types ÊòØ‰∏™ char ÊåáÈíàÔºåÂ≠òÂÇ®ÊñπÊ≥ïÁöÑÂèÇÊï∞Á±ªÂûãÂíåËøîÂõûÂÄºÁ±ªÂûã method_imp ÊåáÂêë‰∫ÜÊñπÊ≥ïÁöÑÂÆûÁé∞ÔºåÊú¨Ë¥®ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÊåáÈíà Ivar Ivar ÊòØË°®Á§∫ÊàêÂëòÂèòÈáèÁöÑÁ±ªÂûã„ÄÇ typedef struct objc_ivar *Ivar; struct objc_ivar { char *ivar_name OBJC2_UNAVAILABLE; char *ivar_type OBJC2_UNAVAILABLE; int ivar_offset OBJC2_UNAVAILABLE; #ifdef __LP64__ int space OBJC2_UNAVAILABLE; #endif } ÂÖ∂‰∏≠ ivar_offset ÊòØÂü∫Âú∞ÂùÄÂÅèÁßªÂ≠óËäÇ 5.IMP IMPÂú®objc.h‰∏≠ÁöÑÂÆö‰πâÊòØÔºö typedef id (*IMP)(id, SEL, ...); ÂÆÉÂ∞±ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÊåáÈíàÔºåËøôÊòØÁî±ÁºñËØëÂô®ÁîüÊàêÁöÑ„ÄÇÂΩì‰Ω†ÂèëËµ∑‰∏Ä‰∏™ ObjC Ê∂àÊÅØ‰πãÂêéÔºåÊúÄÁªàÂÆÉ‰ºöÊâßË°åÁöÑÈÇ£ÊÆµ‰ª£Á†ÅÔºåÂ∞±ÊòØÁî±Ëøô‰∏™ÂáΩÊï∞ÊåáÈíàÊåáÂÆöÁöÑ„ÄÇËÄå IMP Ëøô‰∏™ÂáΩÊï∞ÊåáÈíàÂ∞±ÊåáÂêë‰∫ÜËøô‰∏™ÊñπÊ≥ïÁöÑÂÆûÁé∞„ÄÇ Â¶ÇÊûúÂæóÂà∞‰∫ÜÊâßË°åÊüê‰∏™ÂÆû‰æãÊüê‰∏™ÊñπÊ≥ïÁöÑÂÖ•Âè£ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÁªïÂºÄÊ∂àÊÅØ‰º†ÈÄíÈò∂ÊÆµÔºåÁõ¥Êé•ÊâßË°åÊñπÊ≥ïÔºåËøôÂú®ÂêéÈù¢ Cache ‰∏≠‰ºöÊèêÂà∞„ÄÇ ‰Ω†‰ºöÂèëÁé∞ IMP ÊåáÂêëÁöÑÊñπÊ≥ï‰∏é objc_msgSend ÂáΩÊï∞Á±ªÂûãÁõ∏ÂêåÔºåÂèÇÊï∞ÈÉΩÂåÖÂê´ id Âíå SEL Á±ªÂûã„ÄÇÊØè‰∏™ÊñπÊ≥ïÂêçÈÉΩÂØπÂ∫î‰∏Ä‰∏™ SEL Á±ªÂûãÁöÑÊñπÊ≥ïÈÄâÊã©Âô®ÔºåËÄåÊØè‰∏™ÂÆû‰æãÂØπË±°‰∏≠ÁöÑ SEL ÂØπÂ∫îÁöÑÊñπÊ≥ïÂÆûÁé∞ËÇØÂÆöÊòØÂîØ‰∏ÄÁöÑÔºåÈÄöËøá‰∏ÄÁªÑ idÂíå SEL ÂèÇÊï∞Â∞±ËÉΩÁ°ÆÂÆöÂîØ‰∏ÄÁöÑÊñπÊ≥ïÂÆûÁé∞Âú∞ÂùÄ„ÄÇ ËÄå‰∏Ä‰∏™Á°ÆÂÆöÁöÑÊñπÊ≥ï‰πüÂè™ÊúâÂîØ‰∏ÄÁöÑ‰∏ÄÁªÑ id Âíå SEL ÂèÇÊï∞„ÄÇ 6.Cache Cache ÂÆö‰πâÂ¶Ç‰∏ãÔºö typedef struct objc_cache *Cache struct objc_cache { unsigned int mask /* total = mask + 1 */ OBJC2_UNAVAILABLE; unsigned int occupied OBJC2_UNAVAILABLE; Method buckets[1] OBJC2_UNAVAILABLE; }; Cache ‰∏∫ÊñπÊ≥ïË∞ÉÁî®ÁöÑÊÄßËÉΩËøõË°å‰ºòÂåñÔºåÊØèÂΩìÂÆû‰æãÂØπË±°Êé•Êî∂Âà∞‰∏Ä‰∏™Ê∂àÊÅØÊó∂ÔºåÂÆÉ‰∏ç‰ºöÁõ¥Êé•Âú® isa ÊåáÈíàÊåáÂêëÁöÑÁ±ªÁöÑÊñπÊ≥ïÂàóË°®‰∏≠ÈÅçÂéÜÊü•ÊâæËÉΩÂ§üÂìçÂ∫îÁöÑÊñπÊ≥ïÔºåÂõ†‰∏∫ÊØèÊ¨°ÈÉΩË¶ÅÊü•ÊâæÊïàÁéáÂ§™‰Ωé‰∫ÜÔºåËÄåÊòØ‰ºòÂÖàÂú® Cache ‰∏≠Êü•Êâæ„ÄÇ Runtime Á≥ªÁªü‰ºöÊääË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÂ≠òÂà∞ Cache ‰∏≠ÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÊñπÊ≥ïË¢´Ë∞ÉÁî®ÔºåÈÇ£‰πàÂÆÉÊúâÂèØËÉΩ‰ªäÂêéËøò‰ºöË¢´Ë∞ÉÁî®Ôºå‰∏ãÊ¨°Êü•ÊâæÁöÑÊó∂ÂÄôÂ∞±‰ºöÊïàÁéáÊõ¥È´ò„ÄÇÂ∞±ÂÉèËÆ°ÁÆóÊú∫ÁªÑÊàêÂéüÁêÜ‰∏≠ CPU ÁªïËøá‰∏ªÂ≠òÂÖàËÆøÈóÆ Cache ‰∏ÄÊ†∑„ÄÇ 7.Property typedef struct objc_property *Property; typedef struct objc_property *objc_property_t;//Ëøô‰∏™Êõ¥Â∏∏Áî® ÂèØ‰ª•ÈÄöËøáclass_copyPropertyList Âíå protocol_copyPropertyList ÊñπÊ≥ïËé∑ÂèñÁ±ªÂíåÂçèËÆÆ‰∏≠ÁöÑÂ±ûÊÄßÔºö objc_property_t *class_copyPropertyList(Class cls, unsigned int *outCount) objc_property_t *protocol_copyPropertyList(Protocol *proto, unsigned int *outCount) Ê≥®ÊÑèÔºö ËøîÂõûÁöÑÊòØÂ±ûÊÄßÂàóË°®ÔºåÂàóË°®‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÊòØ‰∏Ä‰∏™ objc_property_t ÊåáÈíà #import &lt;Foundation/Foundation.h&gt; @interface Person : NSObject /** ÂßìÂêç */ @property (strong, nonatomic) NSString *name; /** age */ @property (assign, nonatomic) int age; /** weight */ @property (assign, nonatomic) double weight; @end ‰ª•‰∏äÊòØ‰∏Ä‰∏™ Person Á±ªÔºåÊúâ3‰∏™Â±ûÊÄß„ÄÇËÆ©Êàë‰ª¨Áî®‰∏äËø∞ÊñπÊ≥ïËé∑ÂèñÁ±ªÁöÑËøêË°åÊó∂Â±ûÊÄß„ÄÇ unsigned int outCount = 0; objc_property_t *properties = class_copyPropertyList([Person class], &amp;outCount); NSLog(@&quot;%d&quot;, outCount); for (NSInteger i = 0; i &lt; outCount; i++) { NSString *name = @(property_getName(properties[i])); NSString *attributes = @(property_getAttributes(properties[i])); NSLog(@&quot;%@--------%@&quot;, name, attributes); } ÊâìÂç∞ÁªìÊûúÂ¶Ç‰∏ãÔºö test[2321:451525] 3 test[2321:451525] name--------T@&quot;NSString&quot;,&amp;,N,V_name test[2321:451525] age--------Ti,N,V_age test[2321:451525] weight--------Td,N,V_weight property_getName Áî®Êù•Êü•ÊâæÂ±ûÊÄßÁöÑÂêçÁß∞ÔºåËøîÂõû c Â≠óÁ¨¶‰∏≤„ÄÇproperty_getAttributes ÂáΩÊï∞ÊåñÊéòÂ±ûÊÄßÁöÑÁúüÂÆûÂêçÁß∞Âíå @encode Á±ªÂûãÔºåËøîÂõû c Â≠óÁ¨¶‰∏≤„ÄÇ objc_property_t class_getProperty(Class cls, const char *name) objc_property_t protocol_getProperty(Protocol *proto, const char *name, BOOL isRequiredProperty, BOOL isInstanceProperty) class_getProperty Âíå protocol_getProperty ÈÄöËøáÁªôÂá∫Â±ûÊÄßÂêçÂú®Á±ªÂíåÂçèËÆÆ‰∏≠Ëé∑ÂæóÂ±ûÊÄßÁöÑÂºïÁî®„ÄÇ Runtime‰∏éÊ∂àÊÅØ ‰∏Ä‰∫õ Runtime ÊúØËØ≠ËÆ≤ÂÆå‰∫ÜÔºåÊé•‰∏ãÊù•Â∞±Ë¶ÅËØ¥Âà∞Ê∂àÊÅØ‰∫Ü„ÄÇ‰Ωì‰ºöËãπÊûúÂÆòÊñπÊñáÊ°£‰∏≠ÁöÑ messages aren‚Äôt bound to method implementations until Runtime„ÄÇÊ∂àÊÅØÁõ¥Âà∞ËøêË°åÊó∂Êâç‰ºö‰∏éÊñπÊ≥ïÂÆûÁé∞ËøõË°åÁªëÂÆö„ÄÇ ËøôÈáåË¶ÅÊ∏ÖÊ•ö‰∏ÄÁÇπÔºåobjc_msgSend ÊñπÊ≥ïÁúãÊ∏ÖÊù•Â•ΩÂÉèËøîÂõû‰∫ÜÊï∞ÊçÆÔºåÂÖ∂ÂÆûobjc_msgSend ‰ªé‰∏çËøîÂõûÊï∞ÊçÆÔºåËÄåÊòØ‰Ω†ÁöÑÊñπÊ≥ïÂú®ËøêË°åÊó∂ÂÆûÁé∞Ë¢´Ë∞ÉÁî®ÂêéÊâç‰ºöËøîÂõûÊï∞ÊçÆ„ÄÇ‰∏ãÈù¢ËØ¶ÁªÜÂèôËø∞Ê∂àÊÅØÂèëÈÄÅÁöÑÊ≠•È™§Ôºö È¶ñÂÖàÊ£ÄÊµãËøô‰∏™ selector ÊòØ‰∏çÊòØË¶ÅÂøΩÁï•„ÄÇÊØîÂ¶Ç Mac OS X ÂºÄÂèëÔºåÊúâ‰∫ÜÂûÉÂúæÂõûÊî∂Â∞±‰∏çÁêÜ‰ºö retainÔºårelease Ëøô‰∫õÂáΩÊï∞„ÄÇ Ê£ÄÊµãËøô‰∏™ selector ÁöÑ target ÊòØ‰∏çÊòØ nilÔºåObjc ÂÖÅËÆ∏Êàë‰ª¨ÂØπ‰∏Ä‰∏™ nil ÂØπË±°ÊâßË°å‰ªª‰ΩïÊñπÊ≥ï‰∏ç‰ºö CrashÔºåÂõ†‰∏∫ËøêË°åÊó∂‰ºöË¢´ÂøΩÁï•Êéâ„ÄÇ Â¶ÇÊûú‰∏äÈù¢‰∏§Ê≠•ÈÉΩÈÄöËøá‰∫ÜÔºåÈÇ£‰πàÂ∞±ÂºÄÂßãÊü•ÊâæËøô‰∏™Á±ªÁöÑÂÆûÁé∞ IMPÔºåÂÖà‰ªé cache ÈáåÊü•ÊâæÔºåÂ¶ÇÊûúÊâæÂà∞‰∫ÜÂ∞±ËøêË°åÂØπÂ∫îÁöÑÂáΩÊï∞ÂéªÊâßË°åÁõ∏Â∫îÁöÑ‰ª£Á†Å„ÄÇ Â¶ÇÊûú cache Êâæ‰∏çÂà∞Â∞±ÊâæÁ±ªÁöÑÊñπÊ≥ïÂàóË°®‰∏≠ÊòØÂê¶ÊúâÂØπÂ∫îÁöÑÊñπÊ≥ï„ÄÇ Â¶ÇÊûúÁ±ªÁöÑÊñπÊ≥ïÂàóË°®‰∏≠Êâæ‰∏çÂà∞Â∞±Âà∞Áà∂Á±ªÁöÑÊñπÊ≥ïÂàóË°®‰∏≠Êü•ÊâæÔºå‰∏ÄÁõ¥ÊâæÂà∞ NSObject Á±ª‰∏∫Ê≠¢„ÄÇ Â¶ÇÊûúËøòÊâæ‰∏çÂà∞ÔºåÂ∞±Ë¶ÅÂºÄÂßãËøõÂÖ•Âä®ÊÄÅÊñπÊ≥ïËß£Êûê‰∫ÜÔºåÂêéÈù¢‰ºöÊèêÂà∞„ÄÇ Âú®Ê∂àÊÅØÁöÑ‰º†ÈÄí‰∏≠ÔºåÁºñËØëÂô®‰ºöÊ†πÊçÆÊÉÖÂÜµÂú® objc_msgSend Ôºå objc_msgSend_stret Ôºå objc_msgSendSuper Ôºå objc_msgSendSuper_stret ËøôÂõõ‰∏™ÊñπÊ≥ï‰∏≠ÈÄâÊã©‰∏Ä‰∏™Ë∞ÉÁî®„ÄÇÂ¶ÇÊûúÊ∂àÊÅØÊòØ‰º†ÈÄíÁªôÁà∂Á±ªÔºåÈÇ£‰πà‰ºöË∞ÉÁî®ÂêçÂ≠óÂ∏¶Êúâ Super ÁöÑÂáΩÊï∞ÔºåÂ¶ÇÊûúÊ∂àÊÅØËøîÂõûÂÄºÊòØÊï∞ÊçÆÁªìÊûÑËÄå‰∏çÊòØÁÆÄÂçïÂÄºÊó∂Ôºå‰ºöË∞ÉÁî®ÂêçÂ≠óÂ∏¶Êúâ stret ÁöÑÂáΩÊï∞„ÄÇ ÊñπÊ≥ï‰∏≠ÁöÑÈöêËóèÂèÇÊï∞ÁñëÈóÆÔºö Êàë‰ª¨ÁªèÂ∏∏Áî®Âà∞ÂÖ≥ÈîÆÂ≠ó self Ôºå‰ΩÜÊòØ self ÊòØÂ¶Ç‰ΩïËé∑ÂèñÂΩìÂâçÊñπÊ≥ïÁöÑÂØπË±°Âë¢Ôºü ÂÖ∂ÂÆûÔºåËøô‰πüÊòØ Runtime Á≥ªÁªüÁöÑ‰ΩúÁî®Ôºåself ÂÆûÂú®ÊñπÊ≥ïËøêË°åÊó∂Ë¢´Âä®ÊÄÅ‰º†ÂÖ•ÁöÑ„ÄÇ ÂΩì objc_msgSend ÊâæÂà∞ÊñπÊ≥ïÂØπÂ∫îÂÆûÁé∞Êó∂ÔºåÂÆÉÂ∞ÜÁõ¥Êé•Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÂÆûÁé∞ÔºåÂπ∂Â∞ÜÊ∂àÊÅØ‰∏≠ÊâÄÊúâÂèÇÊï∞ÈÉΩ‰º†ÈÄíÁªôÊñπÊ≥ïÂÆûÁé∞ÔºåÂêåÊó∂ÔºåÂÆÉËøòÂ∞Ü‰º†ÈÄí‰∏§‰∏™ÈöêËóèÂèÇÊï∞Ôºö Êé•ÂèóÊ∂àÊÅØÁöÑÂØπË±°(self ÊâÄÊåáÂêëÁöÑÂÜÖÂÆπÔºåÂΩìÂâçÊñπÊ≥ïÁöÑÂØπË±°ÊåáÈíà) ÊñπÊ≥ïÈÄâÊã©Âô®(_cmd ÊåáÂêëÁöÑÂÜÖÂÆπÔºåÂΩìÂâçÊñπÊ≥ïÁöÑ SEL ÊåáÈíà) Âõ†‰∏∫Âú®Ê∫ê‰ª£Á†ÅÊñπÊ≥ïÁöÑÂÆö‰πâ‰∏≠ÔºåÊàë‰ª¨Âπ∂Ê≤°ÊúâÂèëÁé∞Ëøô‰∏§‰∏™ÂèÇÊï∞ÁöÑÂ£∞Êòé„ÄÇÂÆÉ‰ª¨Êó∂Âú®‰ª£Á†ÅË¢´ÁºñËØëÊó∂Ë¢´ÊèíÂÖ•ÊñπÊ≥ïÂÆûÁé∞‰∏≠ÁöÑ„ÄÇÂ∞ΩÁÆ°Ëøô‰∫õÂèÇÊï∞Ê≤°ÊúâË¢´ÊòéÁ°ÆÂ£∞ÊòéÔºåÂú®Ê∫ê‰ª£Á†Å‰∏≠Êàë‰ª¨‰ªçÁÑ∂ÂèØ‰ª•ÂºïÁî®ÂÆÉ‰ª¨„ÄÇ Ëøô‰∏§‰∏™ÂèÇÊï∞‰∏≠Ôºå selfÊõ¥ÂÆûÁî®„ÄÇÂÆÉÊòØÂú®ÊñπÊ≥ïÂÆûÁé∞‰∏≠ËÆøÈóÆÊ∂àÊÅØÊé•Êî∂ËÄÖÂØπË±°ÁöÑÂÆû‰æãÂèòÈáèÁöÑÈÄîÂæÑ„ÄÇ ËøôÊó∂Êàë‰ª¨ÂèØËÉΩ‰ºöÊÉ≥Âà∞Âè¶‰∏Ä‰∏™ÂÖ≥ÈîÆÂ≠ó super ÔºåÂÆûÈôÖ‰∏ä super ÂÖ≥ÈîÆÂ≠óÊé•Êî∂Âà∞Ê∂àÊÅØÊó∂ÔºåÁºñËØëÂô®‰ºöÂàõÂª∫‰∏Ä‰∏™ objc_super ÁªìÊûÑ‰ΩìÔºö struct objc_super { id receiver; Class class; }; Ëøô‰∏™ÁªìÊûÑ‰ΩìÊåáÊòé‰∫ÜÊ∂àÊÅØÂ∫îËØ•Ë¢´‰º†ÈÄíÁªôÁâπÂÆöÁöÑÁà∂Á±ª„ÄÇ receiver ‰ªçÁÑ∂ÊòØ self Êú¨Ë∫´ÔºåÂΩìÊàë‰ª¨ÊÉ≥ÈÄöËøá [super class] Ëé∑ÂèñÁà∂Á±ªÊó∂ÔºåÁºñËØëÂô®ÂÖ∂ÂÆûÊòØÂ∞ÜÊåáÂêë self ÁöÑ id ÊåáÈíàÂíå class ÁöÑ SEL ‰º†ÈÄíÁªô‰∫Ü objc_msgSendSuper ÂáΩÊï∞„ÄÇÂè™ÊúâÂú® NSObject Á±ª‰∏≠ÊâçËÉΩÊâæÂà∞ class ÊñπÊ≥ïÔºåÁÑ∂Âêé class ÊñπÊ≥ïÂ∫ïÂ±ÇË¢´ËΩ¨Êç¢‰∏∫ object_getClass()Ôºå Êé•ÁùÄÂ∫ïÂ±ÇÁºñËØëÂô®Â∞Ü‰ª£Á†ÅËΩ¨Êç¢‰∏∫ objc_msgSend(objc_super-&gt;receiver, @selector(class))Ôºå‰º†ÂÖ•ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊåáÂêë self ÁöÑ id ÊåáÈíàÔºå‰∏éË∞ÉÁî® [self class] Áõ∏ÂêåÔºåÊâÄ‰ª•Êàë‰ª¨ÂæóÂà∞ÁöÑÊ∞∏ËøúÈÉΩÊòØ self ÁöÑÁ±ªÂûã„ÄÇÂõ†Ê≠§‰Ω†‰ºöÂèëÁé∞Ôºö // ËøôÂè•ËØùÂπ∂‰∏çËÉΩËé∑ÂèñÁà∂Á±ªÁöÑÁ±ªÂûãÔºåÂè™ËÉΩËé∑ÂèñÂΩìÂâçÁ±ªÁöÑÁ±ªÂûãÂêç NSLog(@&quot;%@&quot;, NSStringFromClass([super class])); Ëé∑ÂèñÊñπÊ≥ïÂú∞ÂùÄ NSObject Á±ª‰∏≠Êúâ‰∏Ä‰∏™ÂÆû‰æãÊñπÊ≥ïÔºömethodForSelectorÔºå‰Ω†ÂèØ‰ª•Áî®ÂÆÉÊù•Ëé∑ÂèñÊüê‰∏™ÊñπÊ≥ïÈÄâÊã©Âô®ÂØπÂ∫îÁöÑ IMP Ôºå‰∏æ‰∏™‰æãÂ≠êÔºö void (*setter)(id, SEL, BOOL); int i; setter = (void (*)(id, SEL, BOOL))[target methodForSelector:@selector(setFilled:)]; for ( i = 0 ; i &lt; 1000 ; i++ ) setter(targetList[i], @selector(setFilled:), YES); ÂΩìÊñπÊ≥ïË¢´ÂΩìÂÅöÂáΩÊï∞Ë∞ÉÁî®Êó∂Ôºå‰∏§‰∏™ÈöêËóèÂèÇÊï∞‰πüÂøÖÈ°ªÊòéÁ°ÆÁªôÂá∫Ôºå‰∏äÈù¢ÁöÑ‰æãÂ≠êË∞ÉÁî®‰∫Ü1000Ê¨°ÂáΩÊï∞Ôºå‰Ω†‰πüÂèØ‰ª•Â∞ùËØïÁªô target ÂèëÈÄÅ1000Ê¨° setFilled: Ê∂àÊÅØ‰ºöËä±Â§ö‰πÖ„ÄÇ ËôΩÁÑ∂ÂèØ‰ª•Êõ¥È´òÊïàÁöÑË∞ÉÁî®ÊñπÊ≥ïÔºå‰ΩÜÊòØËøôÁßçÂÅöÊ≥ïÂæàÂ∞ëÁî®ÔºåÈô§ÈùûÊó∂ÈúÄË¶ÅÊåÅÁª≠Â§ßÈáèÈáçÂ§çË∞ÉÁî®Êüê‰∏™ÊñπÊ≥ïÁöÑÊÉÖÂÜµÔºåÊâç‰ºöÈÄâÊã©‰ΩøÁî®‰ª•ÂÖçÊ∂àÊÅØÂèëÈÄÅÊ≥õÊª•„ÄÇ Ê≥®ÊÑèÔºö methodForSelector:ÊñπÊ≥ïÊòØÁî± Runtime Á≥ªÁªüÊèê‰æõÁöÑÔºåËÄå‰∏çÊòØ Objc Ëá™Ë∫´ÁöÑÁâπÊÄß Âä®ÊÄÅÊñπÊ≥ïËß£Êûê ‰Ω†ÂèØ‰ª•Âä®ÊÄÅÊèê‰æõ‰∏Ä‰∏™ÊñπÊ≥ïÂÆûÁé∞„ÄÇÂ¶ÇÊûúÊàë‰ª¨‰ΩøÁî®ÂÖ≥ÈîÆÂ≠ó @dynamic Âú®Á±ªÁöÑÂÆûÁé∞Êñá‰ª∂‰∏≠‰øÆÈ•∞‰∏Ä‰∏™Â±ûÊÄßÔºåË°®ÊòéÊàë‰ª¨‰ºö‰∏∫Ëøô‰∏™Â±ûÊÄßÂä®ÊÄÅÊèê‰æõÂ≠òÂèñÊñπÊ≥ïÔºåÁºñËØëÂô®‰∏ç‰ºöÂÜçÈªòËÆ§‰∏∫Êàë‰ª¨ÁîüÊàêËøô‰∏™Â±ûÊÄßÁöÑ setter Âíå getter ÊñπÊ≥ï‰∫ÜÔºåÈúÄË¶ÅÊàë‰ª¨Ëá™Â∑±Êèê‰æõ„ÄÇ @dynamic propertyName; ËøôÊó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂàÜÂà´ÈáçËΩΩ resolveInstanceMethod: Âíå resolveClassMethod: ÊñπÊ≥ïÊ∑ªÂä†ÂÆû‰æãÊñπÊ≥ïÂÆûÁé∞ÂíåÁ±ªÊñπÊ≥ïÂÆûÁé∞„ÄÇ ÂΩì Runtime Á≥ªÁªüÂú® Cache ÂíåÁ±ªÁöÑÊñπÊ≥ïÂàóË°®(ÂåÖÊã¨Áà∂Á±ª)‰∏≠Êâæ‰∏çÂà∞Ë¶ÅÊâßË°åÁöÑÊñπÊ≥ïÊó∂ÔºåRuntime ‰ºöË∞ÉÁî® resolveInstanceMethod: Êàñ resolveClassMethod: Êù•ÁªôÊàë‰ª¨‰∏ÄÊ¨°Âä®ÊÄÅÊ∑ªÂä†ÊñπÊ≥ïÂÆûÁé∞ÁöÑÊú∫‰ºö„ÄÇÊàë‰ª¨ÈúÄË¶ÅÁî® class_addMethod ÂáΩÊï∞ÂÆåÊàêÂêëÁâπÂÆöÁ±ªÊ∑ªÂä†ÁâπÂÆöÊñπÊ≥ïÂÆûÁé∞ÁöÑÊìç‰ΩúÔºö void dynamicMethodIMP(id self, SEL _cmd) { // implementation .... } @implementation MyClass + (BOOL)resolveInstanceMethod:(SEL)aSEL { if (aSEL == @selector(resolveThisMethodDynamically)) { class_addMethod([self class], aSEL, (IMP) dynamicMethodIMP, &quot;v@:&quot;); return YES; } return [super resolveInstanceMethod:aSEL]; } @end ‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏∫ resolveThisMethodDynamically ÊñπÊ≥ïÊ∑ªÂä†‰∫ÜÂÆûÁé∞ÂÜÖÂÆπÔºåÂ∞±ÊòØ dynamicMethodIMP ÊñπÊ≥ï‰∏≠ÁöÑ‰ª£Á†Å„ÄÇÂÖ∂‰∏≠ &quot;v@:&quot; Ë°®Á§∫ËøîÂõûÂÄºÂíåÂèÇÊï∞ÔºåËøô‰∏™Á¨¶Âè∑Ë°®Á§∫ÁöÑÂê´‰πâËßÅÔºöType Encoding Ê≥®ÊÑèÔºö Âä®ÊÄÅÊñπÊ≥ïËß£Êûê‰ºöÂú®Ê∂àÊÅØËΩ¨ÂèëÊú∫Âà∂‰æµÂÖ•ÂâçÊâßË°åÔºåÂä®ÊÄÅÊñπÊ≥ïËß£ÊûêÂô®Â∞Ü‰ºöÈ¶ñÂÖàÁªô‰∫àÊèê‰æõËØ•ÊñπÊ≥ïÈÄâÊã©Âô®ÂØπÂ∫îÁöÑ IMP ÁöÑÊú∫‰ºö„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥ËÆ©ËØ•ÊñπÊ≥ïÈÄâÊã©Âô®Ë¢´‰º†ÈÄÅÂà∞ËΩ¨ÂèëÊú∫Âà∂ÔºåÂ∞±ËÆ© resolveInstanceMethod: ÊñπÊ≥ïËøîÂõû NO„ÄÇ Ê∂àÊÅØËΩ¨Âèë1.ÈáçÂÆöÂêë Ê∂àÊÅØËΩ¨ÂèëÊú∫Âà∂ÊâßË°åÂâçÔºåRuntime Á≥ªÁªüÂÖÅËÆ∏Êàë‰ª¨ÊõøÊç¢Ê∂àÊÅØÁöÑÊé•Êî∂ËÄÖ‰∏∫ÂÖ∂‰ªñÂØπË±°„ÄÇÈÄöËøá - (id)forwardingTargetForSelector:(SEL)aSelector ÊñπÊ≥ï„ÄÇ - (id)forwardingTargetForSelector:(SEL)aSelector { if(aSelector == @selector(mysteriousMethod:)){ return alternateObject; } return [super forwardingTargetForSelector:aSelector]; } Â¶ÇÊûúÊ≠§ÊñπÊ≥ïËøîÂõû nil ÊàñËÄÖ selfÔºåÂàô‰ºöËÆ°ÂÖ•Ê∂àÊÅØËΩ¨ÂèëÊú∫Âà∂(forwardInvocation:)ÔºåÂê¶ÂàôÂ∞ÜÂêëËøîÂõûÁöÑÂØπË±°ÈáçÊñ∞ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ 2.ËΩ¨Âèë ÂΩìÂä®ÊÄÅÊñπÊ≥ïËß£Êûê‰∏çÂÅöÂ§ÑÁêÜËøîÂõû NO Êó∂ÔºåÂàô‰ºöËß¶ÂèëÊ∂àÊÅØËΩ¨ÂèëÊú∫Âà∂„ÄÇËøôÊó∂ forwardInvocation: ÊñπÊ≥ï‰ºöË¢´ÊâßË°åÔºåÊàë‰ª¨ÂèØ‰ª•ÈáçÂÜôËøô‰∏™ÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâÊàë‰ª¨ÁöÑËΩ¨ÂèëÈÄªËæëÔºö - (void)forwardInvocation:(NSInvocation *)anInvocation { if ([someOtherObject respondsToSelector: [anInvocation selector]]) [anInvocation invokeWithTarget:someOtherObject]; else [super forwardInvocation:anInvocation]; } ÂîØ‰∏ÄÂèÇÊï∞ÊòØ‰∏™ NSInvocation Á±ªÂûãÁöÑÂØπË±°ÔºåËØ•ÂØπË±°Â∞ÅË£Ö‰∫ÜÂéüÂßãÁöÑÊ∂àÊÅØÂíåÊ∂àÊÅØÁöÑÂèÇÊï∞„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÆûÁé∞ forwardInvocation: ÊñπÊ≥ïÊù•ÂØπ‰∏çËÉΩÂ§ÑÁêÜÁöÑÊ∂àÊÅØÂÅö‰∏Ä‰∫õÂ§ÑÁêÜ„ÄÇ‰πüÂèØ‰ª•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÁªôÂÖ∂‰ªñÂØπË±°Â§ÑÁêÜÔºåËÄå‰∏çÊäõÂá∫ÈîôËØØ„ÄÇ Ê≥®ÊÑèÔºöÂèÇÊï∞ anInvocation ÊòØ‰ªéÂì™Êù•ÁöÑÔºü Âú® forwardInvocation: Ê∂àÊÅØÂèëÈÄÅÂâçÔºåRuntime Á≥ªÁªü‰ºöÂêëÂØπË±°ÂèëÈÄÅmethodSignatureForSelector: Ê∂àÊÅØÔºåÂπ∂ÂèñÂà∞ËøîÂõûÁöÑÊñπÊ≥ïÁ≠æÂêçÁî®‰∫éÁîüÊàê NSInvocation ÂØπË±°„ÄÇÊâÄ‰ª•ÈáçÂÜô forwardInvocation: ÁöÑÂêåÊó∂‰πüË¶ÅÈáçÂÜô methodSignatureForSelector: ÊñπÊ≥ïÔºåÂê¶Âàô‰ºöÊäõÂºÇÂ∏∏„ÄÇ ÂΩì‰∏Ä‰∏™ÂØπË±°Áî±‰∫éÊ≤°ÊúâÁõ∏Â∫îÁöÑÊñπÊ≥ïÂÆûÁé∞ËÄåÊó†Ê≥ïÁõ∏Â∫îÊüêÊ∂àÊÅØÊó∂ÔºåËøêË°åÊó∂Á≥ªÁªüÂ∞ÜÈÄöËøá forwardInvocation: Ê∂àÊÅØÈÄöÁü•ËØ•ÂØπË±°„ÄÇÊØè‰∏™ÂØπË±°ÈÉΩÁªßÊâø‰∫Ü forwardInvocation: ÊñπÊ≥ï„ÄÇ‰ΩÜÊòØÔºå NSObject ‰∏≠ÁöÑÊñπÊ≥ïÂÆûÁé∞Âè™ÊòØÁÆÄÂçïÁöÑË∞ÉÁî®‰∫Ü doesNotRecognizeSelector:„ÄÇÈÄöËøáÂÆûÁé∞Ëá™Â∑±ÁöÑ forwardInvocation: ÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÁªôÂÖ∂‰ªñÂØπË±°„ÄÇ forwardInvocation: ÊñπÊ≥ïÂ∞±ÊòØ‰∏Ä‰∏™‰∏çËÉΩËØÜÂà´Ê∂àÊÅØÁöÑÂàÜÂèë‰∏≠ÂøÉÔºåÂ∞ÜËøô‰∫õ‰∏çËÉΩËØÜÂà´ÁöÑÊ∂àÊÅØËΩ¨ÂèëÁªô‰∏çÂêåÁöÑÊé•Êî∂ÂØπË±°ÔºåÊàñËÄÖËΩ¨ÂèëÁªôÂêå‰∏Ä‰∏™ÂØπË±°ÔºåÂÜçÊàñËÄÖÂ∞ÜÊ∂àÊÅØÁøªËØëÊàêÂè¶Â§ñÁöÑÊ∂àÊÅØÔºå‰∫¶ÊàñËÄÖÁÆÄÂçïÁöÑ‚ÄúÂêÉÊéâ‚ÄùÊüê‰∫õÊ∂àÊÅØÔºåÂõ†Ê≠§Ê≤°ÊúâÂìçÂ∫î‰πü‰∏ç‰ºöÊä•Èîô„ÄÇËøô‰∏ÄÂàáÈÉΩÂèñÂÜ≥‰∫éÊñπÊ≥ïÁöÑÂÖ∑‰ΩìÂÆûÁé∞„ÄÇ Ê≥®ÊÑèÔºö forwardInvocation:ÊñπÊ≥ïÂè™ÊúâÂú®Ê∂àÊÅØÊé•Êî∂ÂØπË±°‰∏≠Êó†Ê≥ïÊ≠£Â∏∏ÂìçÂ∫îÊ∂àÊÅØÊó∂Êâç‰ºöË¢´Ë∞ÉÁî®„ÄÇÊâÄ‰ª•ÔºåÂ¶ÇÊûúÊàë‰ª¨ÂêëÂæÄ‰∏Ä‰∏™ÂØπË±°Â∞Ü‰∏Ä‰∏™Ê∂àÊÅØËΩ¨ÂèëÁªôÂÖ∂‰ªñÂØπË±°Êó∂ÔºåË¶ÅÁ°Æ‰øùËøô‰∏™ÂØπË±°‰∏çËÉΩÊúâËØ•Ê∂àÊÅØÁöÑÊâÄÂØπÂ∫îÁöÑÊñπÊ≥ï„ÄÇÂê¶ÂàôÔºåforwardInvocation:Â∞Ü‰∏çÂèØËÉΩË¢´Ë∞ÉÁî®„ÄÇ ËΩ¨ÂèëÂíåÂ§öÁªßÊâø ËΩ¨ÂèëÂíåÁªßÊâøÁõ∏‰ººÔºåÂèØÁî®‰∫é‰∏∫ Objc ÁºñÁ®ãÊ∑ªÂä†‰∏Ä‰∫õÂ§öÁªßÊâøÁöÑÊïàÊûú„ÄÇÂ∞±ÂÉè‰∏ãÂõæÈÇ£Ê†∑Ôºå‰∏Ä‰∏™ÂØπË±°ÊääÊ∂àÊÅØËΩ¨ÂèëÂá∫ÂéªÔºåÂ∞±Â•ΩÂÉèÂÆÉÊääÂè¶‰∏Ä‰∏™ÂØπË±°‰∏≠ÁöÑÊñπÊ≥ïÊé•ËøáÊù•ÊàñËÄÖ‚ÄúÁªßÊâø‚ÄùËøáÊù•‰∏ÄÊ†∑„ÄÇ Ëøô‰ΩøÂæóÂú®‰∏çÂêåÁªßÊâø‰ΩìÁ≥ªÂàÜÊîØ‰∏ãÁöÑ‰∏§‰∏™Á±ªÂèØ‰ª•ÂÆûÁé∞‚ÄúÁªßÊâø‚ÄùÂØπÊñπÁöÑÊñπÊ≥ïÔºåÂú®‰∏äÂõæ‰∏≠ Warrior Âíå Diplomat Ê≤°ÊúâÁªßÊâøÂÖ≥Á≥ªÔºå‰ΩÜÊòØ Warrior Â∞Ü negotiate Ê∂àÊÅØËΩ¨ÂèëÁªô‰∫Ü Diplomat ÂêéÔºåÂ∞±Â•Ω‰ºº Diplomat ÊòØ Warrior ÁöÑË∂ÖÁ±ª‰∏ÄÊ†∑„ÄÇ Ê∂àÊÅØËΩ¨ÂèëÂº•Ë°•‰∫Ü Objc ‰∏çÊîØÊåÅÂ§öÁªßÊâøÁöÑÊÄßË¥®Ôºå‰πüÈÅøÂÖç‰∫ÜÂõ†‰∏∫Â§öÁªßÊâøÂØºËá¥Âçï‰∏™Á±ªÂèòÂæóËáÉËÇøÂ§çÊùÇ„ÄÇ ËΩ¨Âèë‰∏éÁªßÊâøËôΩÁÑ∂ËΩ¨ÂèëÂèØ‰ª•ÂÆûÁé∞ÁªßÊâøÁöÑÂäüËÉΩÔºå‰ΩÜÊòØ NSObject ËøòÊòØÂøÖÈ°ªË°®Èù¢‰∏äÂæà‰∏•Ë∞®ÔºåÂÉè respondsToSelector: Âíå isKindOfClass: ËøôÁ±ªÊñπÊ≥ïÂè™‰ºöËÄÉËôëÁªßÊâø‰ΩìÁ≥ªÔºå‰∏ç‰ºöËÄÉËôëËΩ¨ÂèëÈìæ„ÄÇ Warrior ÂØπË±°Ë¢´ÈóÆÂà∞ÊòØÂê¶ËÉΩÂìçÂ∫î negotiateÊ∂àÊÅØÔºö if ( [aWarrior respondsToSelector:@selector(negotiate)] ) ... ÂõûÁ≠îÂΩìÁÑ∂ÊòØ NOÔºå Â∞ΩÁÆ°ÂÆÉËÉΩÊé•Âèó negotiate Ê∂àÊÅØËÄå‰∏çÊä•ÈîôÔºåÂõ†‰∏∫ÂÆÉÈù†ËΩ¨ÂèëÊ∂àÊÅØÁªô Diplomat Á±ªÂìçÂ∫îÊ∂àÊÅØ„ÄÇ Â¶ÇÊûú‰Ω†Â∞±ÊòØÊÉ≥Ë¶ÅËÆ©Âà´‰∫∫‰ª•‰∏∫ Warrior ÁªßÊâøÂà∞‰∫Ü Diplomat ÁöÑ negotiate ÊñπÊ≥ïÔºå‰Ω†ÂæóÈáçÊñ∞ÂÆûÁé∞ respondsToSelector: Âíå isKindOfClass: Êù•Âä†ÂÖ•‰Ω†ÁöÑËΩ¨ÂèëÁÆóÊ≥ïÔºö - (BOOL)respondsToSelector:(SEL)aSelector { if ( [super respondsToSelector:aSelector] ) return YES; else { /* Here, test whether the aSelector message can * * be forwarded to another object and whether that * * object can respond to it. Return YES if it can. */ } return NO; } Èô§‰∫Ü respondsToSelector: Âíå isKindOfClass: ‰πãÂ§ñÔºåinstancesRespondToSelector: ‰∏≠‰πüÂ∫îËØ•ÂÜô‰∏Ä‰ªΩËΩ¨ÂèëÁÆóÊ≥ï„ÄÇÂ¶ÇÊûú‰ΩøÁî®‰∫ÜÂçèËÆÆÔºåconformsToProtocol: ÂêåÊ†∑‰πüË¶ÅÂä†ÂÖ•Âà∞Ëøô‰∏ÄË°åÂàó‰∏≠„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™ÂØπË±°ÊÉ≥Ë¶ÅËΩ¨ÂèëÂÆÉÊé•ÂèóÁöÑ‰ªª‰ΩïËøúÁ®ãÊ∂àÊÅØÔºåÂÆÉÂæóÁªôÂá∫‰∏Ä‰∏™ÊñπÊ≥ïÊ†áÁ≠æÊù•ËøîÂõûÂáÜÁ°ÆÁöÑÊñπÊ≥ïÊèèËø∞ methodSignatureForSelector:ÔºåËøô‰∏™ÊñπÊ≥ï‰ºöÊúÄÁªàÂìçÂ∫îË¢´ËΩ¨ÂèëÁöÑÊ∂àÊÅØ„ÄÇ‰ªéËÄåÁîüÊàê‰∏Ä‰∏™Á°ÆÂÆöÁöÑ NSInvocation ÂØπË±°ÊèèËø∞Ê∂àÊÅØÂíåÊ∂àÊÅØÂèÇÊï∞„ÄÇËøô‰∏™ÊñπÊ≥ïÊúÄÁªàÂìçÂ∫îË¢´ËΩ¨ÂèëÁöÑÊ∂àÊÅØ„ÄÇÂÆÉÈúÄË¶ÅÂÉè‰∏ãÈù¢ËøôÊ†∑ÂÆûÁé∞Ôºö - (NSMethodSignature*)methodSignatureForSelector:(SEL)selector { NSMethodSignature* signature = [super methodSignatureForSelector:selector]; if (!signature) { signature = [surrogate methodSignatureForSelector:selector]; } return signature; } ÂÅ•Â£ÆÁöÑÂÆû‰æãÂèòÈáè(Non Fragile ivars)Âú® Runtime ÁöÑÁé∞Ë°åÁâàÊú¨‰∏≠ÔºåÊúÄÂ§ßÁöÑÁâπÁÇπÂ∞±ÊòØÂÅ•Â£ÆÁöÑÂÆû‰æãÂèòÈáè‰∫Ü„ÄÇÂΩì‰∏Ä‰∏™Á±ªË¢´ÁºñËØëÊó∂ÔºåÂÆû‰æãÂèòÈáèÁöÑÂÜÖÂ≠òÂ∏ÉÂ±ÄÂ∞±ÂΩ¢Êàê‰∫ÜÔºåÂÆÉË°®ÊòéËÆøÈóÆÁ±ªÁöÑÂÆû‰æãÂèòÈáèÁöÑ‰ΩçÁΩÆ„ÄÇÂÆû‰æãÂèòÈáè‰∏ÄÊ¨°Ê†πÊçÆËá™Â∑±ÊâÄÂç†Á©∫Èó¥ËÄå‰∫ßÁîü‰ΩçÁßªÔºö ‰∏äÂõæÂ∑¶ÊòØ NSObject Á±ªÁöÑÂÆû‰æãÂèòÈáèÂ∏ÉÂ±Ä„ÄÇÂè≥ËæπÊòØÊàë‰ª¨ÂÜôÁöÑÁ±ªÁöÑÂ∏ÉÂ±Ä„ÄÇËøôÊ†∑Â≠êÊúâ‰∏Ä‰∏™ÂæàÂ§ßÁöÑÁº∫Èô∑ÔºåÂ∞±ÊòØÁº∫‰πèÊãìÂ±ïÊÄß„ÄÇÂì™Â§©ËãπÊûúÊõ¥Êñ∞‰∫Ü NSObject Á±ªÁöÑËØùÔºåÂ∞±‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºö Êàë‰ª¨Ëá™ÂÆö‰πâÁöÑÁ±ªÁöÑÂå∫ÂüüÂíåÁà∂Á±ªÁöÑÂå∫ÂüüÈáçÂè†‰∫Ü„ÄÇÂè™ÊúâËãπÊûúÂ∞ÜÁà∂Á±ªÊîπ‰∏∫‰ª•ÂâçÁöÑÂ∏ÉÂ±ÄÊâçËÉΩÊãØÊïëÊàë‰ª¨Ôºå‰ΩÜËøôÊ†∑ÂØºËá¥ÂÆÉ‰ª¨‰∏çËÉΩÂÜçÊãìÂ±ïÂÆÉ‰ª¨ÁöÑÊ°ÜÊû∂‰∫ÜÔºåÂõ†‰∏∫ÊàêÂëòÂèòÈáèÂ∏ÉÂ±ÄË¢´Âõ∫ÂÆö‰Ωè‰∫Ü„ÄÇÂú®ËÑÜÂº±ÁöÑÂÆû‰æãÂèòÈáè(Fragile ivar)ÁéØÂ¢É‰∏ãÔºåÈúÄË¶ÅÊàë‰ª¨ÈáçÊñ∞ÁºñËØëÁªßÊâøËá™ Apple ÁöÑÁ±ªÊù•ÊÅ¢Â§çÂÖºÂÆπ„ÄÇÂ¶ÇÊûúÊòØÂÅ•Â£ÆÁöÑÂÆû‰æãÂèòÈáèÁöÑËØùÔºåÂ¶Ç‰∏ãÂõæÔºö Âú®ÂÅ•Â£ÆÁöÑÂÆû‰æãÂèòÈáè‰∏ãÔºåÁºñËØëÂô®ÁîüÊàêÁöÑÂÆû‰æãÂèòÈáèÂ∏ÉÂ±ÄË∑ü‰ª•Ââç‰∏ÄÊ†∑Ôºå‰ΩÜÊòØÂΩì Runtime Á≥ªÁªüÊ£ÄÊµãÂà∞‰∏éÁà∂Á±ªÊúâÈÉ®ÂàÜÈáçÂè†Êó∂ÂÆÉ‰ºöË∞ÉÊï¥‰Ω†Êñ∞Ê∑ªÂä†ÁöÑÂÆû‰æãÂèòÈáèÁöÑ‰ΩçÁßªÔºåÈÇ£Ê†∑‰Ω†ÂÜçÂ≠êÁ±ª‰∏≠Êñ∞Ê∑ªÂä†ÁöÑÊàêÂëòÂèòÈáèÂ∞±Ë¢´‰øùÊä§Ëµ∑Êù•‰∫Ü„ÄÇ Ê≥®ÊÑèÔºö Âú®ÂÅ•Â£ÆÁöÑÂÆû‰æãÂèòÈáè‰∏ãÔºå‰∏çË¶Å‰ΩøÁî® siof(SomeClass)ÔºåËÄåÊòØÁî® class_getInstanceSize([SomeClass class]) ‰ª£ÊõøÔºõ‰πü‰∏çË¶Å‰ΩøÁî® offsetof(SomeClass, SomeIvar)ÔºåËÄåË¶Å‰ΩøÁî® ivar_getOffset(class_getInstanceVariable([SomeClass class], &quot;SomeIvar&quot;)) Êù•‰ª£Êõø„ÄÇ ÊÄªÁªì Êàë‰ª¨ËÆ©Ëá™Â∑±ÁöÑÁ±ªÁªßÊâøËá™ NSObject ‰∏ç‰ªÖ‰ªÖÊòØÂõ†‰∏∫Âü∫Á±ªÊúâÂæàÂ§öÂ§çÊùÇÁöÑÂÜÖÂ≠òÂàÜÈÖçÈóÆÈ¢òÔºåÊõ¥ÊòØÂõ†‰∏∫Ëøô‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•‰∫´ÂèóÂà∞ Runtime Á≥ªÁªüÂ∏¶Êù•ÁöÑ‰æøÂà©„ÄÇ ËôΩÁÑ∂Âπ≥Êó∂Êàë‰ª¨ÂæàÂ∞ë‰ºöËÄÉËôë‰∏ÄÂè•ÁÆÄÂçïÁöÑË∞ÉÁî®ÊñπÊ≥ïÔºåÂèëÈÄÅÊ∂àÊÅØÂ∫ïÂ±ÇÊâÄÂÅöÁöÑÂ§çÊùÇÁöÑÊìç‰ΩúÔºå‰ΩÜÊ∑±ÂÖ•ÁêÜËß£ Runtime Á≥ªÁªüÁöÑÁªÜËäÇ‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•Âà©Áî®Ê∂àÊÅØÊú∫Âà∂ÂÜôÂá∫ÂäüËÉΩÊõ¥Âº∫Â§ßÁöÑ‰ª£Á†Å„ÄÇ runtimeÂÆûÁé∞ÁöÑÊú∫Âà∂ÊòØ‰ªÄ‰πà,ÊÄé‰πàÁî®Ôºå‰∏ÄËà¨Áî®‰∫éÂπ≤Âòõ. ‰Ω†ËøòËÉΩËÆ∞Âæó‰Ω†ÊâÄ‰ΩøÁî®ÁöÑÁõ∏ÂÖ≥ÁöÑÂ§¥Êñá‰ª∂ÊàñËÄÖÊüê‰∫õÊñπÊ≥ïÁöÑÂêçÁß∞ÂêóÔºü ÈúÄË¶ÅÂØºÂÖ•&lt;objc/message.h&gt;&lt;objc/runtime.h&gt; runtimeÔºåËøêË°åÊó∂Êú∫Âà∂ÔºåÂÆÉÊòØ‰∏ÄÂ•óCËØ≠Ë®ÄÂ∫ì ÂÆûÈôÖ‰∏äÊàë‰ª¨ÁºñÂÜôÁöÑÊâÄÊúâOC‰ª£Á†ÅÔºåÊúÄÁªàÈÉΩÊòØËΩ¨Êàê‰∫ÜruntimeÂ∫ìÁöÑ‰∏úË•øÔºåÊØîÂ¶ÇÁ±ªËΩ¨Êàê‰∫ÜruntimeÂ∫ìÈáåÈù¢ÁöÑÁªìÊûÑ‰ΩìÁ≠âÊï∞ÊçÆÁ±ªÂûãÔºåÊñπÊ≥ïËΩ¨Êàê‰∫ÜruntimeÂ∫ìÈáåÈù¢ÁöÑCËØ≠Ë®ÄÂáΩÊï∞ÔºåÂπ≥Êó∂Ë∞ÉÊñπÊ≥ïÈÉΩÊòØËΩ¨Êàê‰∫Üobjc_msgSendÂáΩÊï∞ÔºàÊâÄ‰ª•ËØ¥OCÊúâ‰∏™Ê∂àÊÅØÂèëÈÄÅÊú∫Âà∂Ôºâ Âõ†Ê≠§ÔºåÂèØ‰ª•ËØ¥runtimeÊòØOCÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÔºåÊòØOCÁöÑÂπïÂêéÊâßË°åËÄÖ Êúâ‰∫ÜruntimeÂ∫ìÔºåËÉΩÂÅö‰ªÄ‰πà‰∫ãÊÉÖÂë¢ÔºüruntimeÂ∫ìÈáåÈù¢ÂåÖÂê´‰∫ÜË∑üÁ±ª„ÄÅÊàêÂëòÂèòÈáè„ÄÅÊñπÊ≥ïÁõ∏ÂÖ≥ÁöÑAPIÔºåÊØîÂ¶ÇËé∑ÂèñÁ±ªÈáåÈù¢ÁöÑÊâÄÊúâÊàêÂëòÂèòÈáèÔºå‰∏∫Á±ªÂä®ÊÄÅÊ∑ªÂä†ÊàêÂëòÂèòÈáèÔºåÂä®ÊÄÅÊîπÂèòÁ±ªÁöÑÊñπÊ≥ïÂÆûÁé∞Ôºå‰∏∫Á±ªÂä®ÊÄÅÊ∑ªÂä†Êñ∞ÁöÑÊñπÊ≥ïÁ≠â Âõ†Ê≠§ÔºåÊúâ‰∫ÜruntimeÔºåÊÉ≥ÊÄé‰πàÊîπÂ∞±ÊÄé‰πàÊîπ Objective-C Â¶Ç‰ΩïÂØπÂ∑≤ÊúâÁöÑÊñπÊ≥ïÔºåÊ∑ªÂä†Ëá™Â∑±ÁöÑÂäüËÉΩ‰ª£Á†Å‰ª•ÂÆûÁé∞Á±ª‰ººËÆ∞ÂΩïÊó•ÂøóËøôÊ†∑ÁöÑÂäüËÉΩÔºüËøôÈ¢òÁõÆ‰∏ªË¶ÅËÄÉÂØüÁöÑÊòØruntimeÂ¶Ç‰Ωï‰∫§Êç¢ÊñπÊ≥ï„ÄÇÂÖàÂú®ÂàÜÁ±ª‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÊñπÊ≥ï,Ê≥®ÊÑè‰∏çËÉΩÈáçÂÜôÁ≥ªÁªüÊñπÊ≥ï,‰ºöË¶ÜÁõñ +(NSString *)myLog { // ËøôÈáåÂÜôÊâìÂç∞Ë°åÂè∑,‰ªÄ‰πàÊñπÊ≥ï,Âì™‰∏™Á±ªË∞ÉÁî®Á≠âÁ≠â } // Âä†ËΩΩÂàÜÁ±ªÂà∞ÂÜÖÂ≠òÁöÑÊó∂ÂÄôË∞ÉÁî® +(void)load { // Ëé∑ÂèñimageWithNameÊñπÊ≥ïÂú∞ÂùÄ Method description = class_getClassMethod(self, @selector(description)); // Ëé∑ÂèñimageWithNameÊñπÊ≥ïÂú∞ÂùÄ Method myLog = class_getClassMethod(self, @selector(myLog)); // ‰∫§Êç¢ÊñπÊ≥ïÂú∞ÂùÄÔºåÁõ∏ÂΩì‰∫é‰∫§Êç¢ÂÆûÁé∞ÊñπÂºè method_exchangeImplementations(description, myLog); } Â¶Ç‰ΩïËÆ© Category ÊîØÊåÅÂ±ûÊÄßÔºü‰ΩøÁî®runtimeÂèØ‰ª•ÂÆûÁé∞ Â§¥Êñá‰ª∂ @interface NSObject (test) @property (nonatomic, copy) NSString *name; @end .mÊñá‰ª∂ @implementation NSObject (test) // ÂÆö‰πâÂÖ≥ËÅîÁöÑkey static const char *key = &quot;name&quot;; -(NSString *)name { // Ê†πÊçÆÂÖ≥ËÅîÁöÑkeyÔºåËé∑ÂèñÂÖ≥ËÅîÁöÑÂÄº„ÄÇ return objc_getAssociatedObject(self, key); } -(void)setName:(NSString *)name { // Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöÁªôÂì™‰∏™ÂØπË±°Ê∑ªÂä†ÂÖ≥ËÅî // Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºöÂÖ≥ËÅîÁöÑkeyÔºåÈÄöËøáËøô‰∏™keyËé∑Âèñ // Á¨¨‰∏â‰∏™ÂèÇÊï∞ÔºöÂÖ≥ËÅîÁöÑvalue // Á¨¨Âõõ‰∏™ÂèÇÊï∞:ÂÖ≥ËÅîÁöÑÁ≠ñÁï• objc_setAssociatedObject(self, key, name, OBJC_ASSOCIATION_RETAIN_NONATOMIC); } Toll-Free Bridging ÊòØ‰ªÄ‰πàÔºü‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºö‰ΩøÁî®Ôºü Toll-Free BridgingÁî®‰∫éÂú®FoundationÂØπË±°‰∏éCore FoundationÂØπË±°‰πãÈó¥‰∫§Êç¢Êï∞ÊçÆ,‰øóÁß∞Ê°•Êé• Âú®ARCÁéØÂ¢É‰∏ã,FoundationÂØπË±°ËΩ¨Êàê Core FoundationÂØπË±° ‰ΩøÁî®__bridgeÊ°•Êé•‰ª•ÂêéARC‰ºöËá™Âä®ÁÆ°ÁêÜ2‰∏™ÂØπË±° ‰ΩøÁî®__bridge_retainedÊ°•Êé•ÈúÄË¶ÅÊâãÂä®ÈáäÊîæCore FoundationÂØπË±° Âú®ARCÁéØÂ¢É‰∏ã, Core FoundationÂØπË±°ËΩ¨Êàê FoundationÂØπË±° ‰ΩøÁî®__bridgeÊ°•Êé•,Â¶ÇÊûúCore FoundationÂØπË±°Ë¢´ÈáäÊîæ,FoundationÂØπË±°‰πüÂêåÊó∂‰∏çËÉΩ‰ΩøÁî®‰∫Ü,ÈúÄË¶ÅÊâãÂä®ÁÆ°ÁêÜCore FoundationÂØπË±° ‰ΩøÁî®__bridge_transferÊ°•Êé•,Á≥ªÁªü‰ºöËá™Âä®ÁÆ°ÁêÜ2‰∏™ÂØπË±° performSelector:withObject:afterDelay: ÂÜÖÈÉ®Â§ßÊ¶ÇÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºåÊúâ‰ªÄ‰πàÊ≥®ÊÑè‰∫ãÈ°π‰πàÔºü ÂàõÂª∫‰∏Ä‰∏™ÂÆöÊó∂Âô®,Êó∂Èó¥ÁªìÊùüÂêéÁ≥ªÁªü‰ºö‰ΩøÁî®runtimeÈÄöËøáÊñπÊ≥ïÂêçÁß∞(SelectorÊú¨Ë¥®Â∞±ÊòØÊñπÊ≥ïÂêçÁß∞)ÂéªÊñπÊ≥ïÂàóË°®‰∏≠ÊâæÂà∞ÂØπÂ∫îÁöÑÊñπÊ≥ïÂÆûÁé∞Âπ∂Ë∞ÉÁî®ÊñπÊ≥ï Ê≥®ÊÑè‰∫ãÈ°π Ë∞ÉÁî®performSelector:withObject:afterDelay:ÊñπÊ≥ïÊó∂,ÂÖàÂà§Êñ≠Â∏åÊúõË∞ÉÁî®ÁöÑÊñπÊ≥ïÊòØÂê¶Â≠òÂú®respondsToSelector: Ëøô‰∏™ÊñπÊ≥ïÊòØÂºÇÊ≠•ÊñπÊ≥ï,ÂøÖÈ°ªÂú®‰∏ªÁ∫øÁ®ãË∞ÉÁî®,Âú®Â≠êÁ∫øÁ®ãË∞ÉÁî®Ê∞∏Ëøú‰∏ç‰ºöË∞ÉÁî®Âà∞ÊÉ≥Ë∞ÉÁî®ÁöÑÊñπÊ≥ï ‰ªÄ‰πàÊòØ Method SwizzleÔºàÈªëÈ≠îÊ≥ïÔºâÔºå‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºö‰ΩøÁî®Ôºü Âú®Ê≤°Êúâ‰∏Ä‰∏™Á±ªÁöÑÂÆûÁé∞Ê∫êÁ†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÊÉ≥ÊîπÂèòÂÖ∂‰∏≠‰∏Ä‰∏™ÊñπÊ≥ïÁöÑÂÆûÁé∞ÔºåÈô§‰∫ÜÁªßÊâøÂÆÉÈáçÂÜô„ÄÅÂíåÂÄüÂä©Á±ªÂà´ÈáçÂêçÊñπÊ≥ïÊö¥ÂäõÊä¢ÂÖà‰πãÂ§ñÔºåËøòÊúâÊõ¥Âä†ÁÅµÊ¥ªÁöÑÊñπÊ≥ïMethod Swizzle„ÄÇ Method swizzlingÊåáÁöÑÊòØÊîπÂèò‰∏Ä‰∏™Â∑≤Â≠òÂú®ÁöÑÈÄâÊã©Âô®ÂØπÂ∫îÁöÑÂÆûÁé∞ÁöÑËøáÁ®ã„ÄÇOC‰∏≠ÊñπÊ≥ïÁöÑË∞ÉÁî®ËÉΩÂ§üÂú®ËøêË°åÊó∂ÈÄöËøáÊîπÂèò‚Äî‚ÄîÈÄöËøáÊîπÂèòÁ±ªÁöÑË∞ÉÂ∫¶Ë°®Ôºàdispatch tableÔºâ‰∏≠ÈÄâÊã©Âô®Âà∞ÊúÄÁªàÂáΩÊï∞Èó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇ Âú®OC‰∏≠Ë∞ÉÁî®‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂÖ∂ÂÆûÊòØÂêë‰∏Ä‰∏™ÂØπË±°ÂèëÈÄÅÊ∂àÊÅØÔºåÊü•ÊâæÊ∂àÊÅØÁöÑÂîØ‰∏Ä‰æùÊçÆÊòØselectorÁöÑÂêçÂ≠ó„ÄÇÂà©Áî®OCÁöÑÂä®ÊÄÅÁâπÊÄßÔºåÂèØ‰ª•ÂÆûÁé∞Âú®ËøêË°åÊó∂ÂÅ∑Êç¢selectorÂØπÂ∫îÁöÑÊñπÊ≥ïÂÆûÁé∞„ÄÇ ÊØè‰∏™Á±ªÈÉΩÊúâ‰∏Ä‰∏™ÊñπÊ≥ïÂàóË°®ÔºåÂ≠òÊîæÁùÄselectorÁöÑÂêçÂ≠óÂíåÊñπÊ≥ïÂÆûÁé∞ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇIMPÊúâÁÇπÁ±ª‰ººÂáΩÊï∞ÊåáÈíàÔºåÊåáÂêëÂÖ∑‰ΩìÁöÑMethodÂÆûÁé∞„ÄÇ Êàë‰ª¨ÂèØ‰ª•Âà©Áî® method_exchangeImplementations Êù•‰∫§Êç¢2‰∏™ÊñπÊ≥ï‰∏≠ÁöÑIMPÔºå Êàë‰ª¨ÂèØ‰ª•Âà©Áî® class_replaceMethod Êù•‰øÆÊîπÁ±ªÔºå Êàë‰ª¨ÂèØ‰ª•Âà©Áî® method_setImplementation Êù•Áõ¥Êé•ËÆæÁΩÆÊüê‰∏™ÊñπÊ≥ïÁöÑIMPÔºå ÂΩíÊ†πÁªìÂ∫ïÔºåÈÉΩÊòØÂÅ∑Êç¢‰∫ÜselectorÁöÑIMP ËÉΩÂê¶ÂêëÁºñËØëÂêéÂæóÂà∞ÁöÑÁ±ª‰∏≠Â¢ûÂä†ÂÆû‰æãÂèòÈáèÔºüËÉΩÂê¶ÂêëËøêË°åÊó∂ÂàõÂª∫ÁöÑÁ±ª‰∏≠Ê∑ªÂä†ÂÆû‰æãÂèòÈáèÔºü‰∏∫‰ªÄ‰πàÔºü- ‰∏çËÉΩÂêëÁºñËØëÂêéÂæóÂà∞ÁöÑÁ±ª‰∏≠Â¢ûÂä†ÂÆû‰æãÂèòÈáèÔºõ - ËÉΩÂêëËøêË°åÊó∂ÂàõÂª∫ÁöÑÁ±ª‰∏≠Ê∑ªÂä†ÂÆû‰æãÂèòÈáèÔºõ Ëß£ÈáäÂ¶Ç‰∏ãÔºö Âõ†‰∏∫ÁºñËØëÂêéÁöÑÁ±ªÂ∑≤ÁªèÊ≥®ÂÜåÂú® runtime ‰∏≠ÔºåÁ±ªÁªìÊûÑ‰Ωì‰∏≠ÁöÑ objc_ivar_list ÂÆû‰æãÂèòÈáèÁöÑÈìæË°® Âíå instance_size ÂÆû‰æãÂèòÈáèÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÂ∑≤ÁªèÁ°ÆÂÆöÔºåÂêåÊó∂runtime ‰ºöË∞ÉÁî® class_setIvarLayout Êàñ class_setWeakIvarLayout Êù•Â§ÑÁêÜ strong weak ÂºïÁî®„ÄÇÊâÄ‰ª•‰∏çËÉΩÂêëÂ≠òÂú®ÁöÑÁ±ª‰∏≠Ê∑ªÂä†ÂÆû‰æãÂèòÈáèÔºõ ËøêË°åÊó∂ÂàõÂª∫ÁöÑÁ±ªÊòØÂèØ‰ª•Ê∑ªÂä†ÂÆû‰æãÂèòÈáèÔºåË∞ÉÁî® class_addIvar ÂáΩÊï∞„ÄÇ‰ΩÜÊòØÂæóÂú®Ë∞ÉÁî® objc_allocateClassPair ‰πãÂêéÔºåobjc_registerClassPair ‰πãÂâçÔºåÂéüÂõ†Âêå‰∏ä„ÄÇ ‰∏∫‰ªÄ‰πàÂÖ∂‰ªñËØ≠Ë®ÄÈáåÂè´ÂáΩÊï∞Ë∞ÉÁî®Ôºå objective cÈáåÂàôÊòØÁªôÂØπË±°ÂèëÊ∂àÊÅØÔºàÊàñËÄÖË∞à‰∏ãÂØπruntimeÁöÑÁêÜËß£ÔºâÂÖàÊù•ÁúãÁúãÊÄé‰πàÁêÜËß£ÂèëÈÄÅÊ∂àÊÅØÁöÑÂê´‰πâÔºö [receiver message]‰ºöË¢´ÁºñËØëÂô®ËΩ¨Âåñ‰∏∫Ôºö objc_msgSend(receiver, selector) Â¶ÇÊûúÊ∂àÊÅØÂê´ÊúâÂèÇÊï∞ÔºåÂàô‰∏∫Ôºö objc_msgSend(receiver, selector, arg1, arg2, ...) Â¶ÇÊûúÊ∂àÊÅØÁöÑÊé•Êî∂ËÄÖËÉΩÂ§üÊâæÂà∞ÂØπÂ∫îÁöÑselectorÔºåÈÇ£‰πàÂ∞±Áõ∏ÂΩì‰∫éÁõ¥Êé•ÊâßË°å‰∫ÜÊé•Êî∂ËÄÖËøô‰∏™ÂØπË±°ÁöÑÁâπÂÆöÊñπÊ≥ïÔºõÂê¶ÂàôÔºåÊ∂àÊÅØË¶Å‰πàË¢´ËΩ¨ÂèëÔºåÊàñÊòØ‰∏¥Êó∂ÂêëÊé•Êî∂ËÄÖÂä®ÊÄÅÊ∑ªÂä†Ëøô‰∏™selectorÂØπÂ∫îÁöÑÂÆûÁé∞ÂÜÖÂÆπÔºåË¶Å‰πàÂ∞±Âπ≤ËÑÜÁé©ÂÆåÂ¥©Ê∫ÉÊéâ„ÄÇ Áé∞Âú®ÂèØ‰ª•ÁúãÂá∫[receiver message]ÁúüÁöÑ‰∏çÊòØ‰∏Ä‰∏™ÁÆÄÁÆÄÂçïÂçïÁöÑÊñπÊ≥ïË∞ÉÁî®„ÄÇÂõ†‰∏∫ËøôÂè™ÊòØÂú®ÁºñËØëÈò∂ÊÆµÁ°ÆÂÆö‰∫ÜË¶ÅÂêëÊé•Êî∂ËÄÖÂèëÈÄÅmessageËøôÊù°Ê∂àÊÅØÔºåËÄåreceiveÂ∞ÜË¶ÅÂ¶Ç‰ΩïÂìçÂ∫îËøôÊù°Ê∂àÊÅØÔºåÈÇ£Â∞±Ë¶ÅÁúãËøêË°åÊó∂ÂèëÁîüÁöÑÊÉÖÂÜµÊù•ÂÜ≥ÂÆö‰∫Ü„ÄÇ OC ÁöÑ Runtime Èì∏Â∞±‰∫ÜÂÆÉÂä®ÊÄÅËØ≠Ë®ÄÁöÑÁâπÊÄßÔºåObjc Runtime‰ΩøÂæóCÂÖ∑Êúâ‰∫ÜÈù¢ÂêëÂØπË±°ËÉΩÂäõÔºåÂú®Á®ãÂ∫èËøêË°åÊó∂ÂàõÂª∫ÔºåÊ£ÄÊü•Ôºå‰øÆÊîπÁ±ª„ÄÅÂØπË±°ÂíåÂÆÉ‰ª¨ÁöÑÊñπÊ≥ï„ÄÇÂèØ‰ª•‰ΩøÁî®runtimeÁöÑ‰∏ÄÁ≥ªÂàóÊñπÊ≥ïÂÆûÁé∞„ÄÇ È°∫‰æøÈôÑ‰∏äOC‰∏≠‰∏Ä‰∏™Á±ªÁöÑÊï∞ÊçÆÁªìÊûÑ /usr/include/objc/runtime.h struct objc_class { Class isa OBJC_ISA_AVAILABILITY; //isaÊåáÈíàÊåáÂêëMeta ClassÔºåÂõ†‰∏∫ObjcÁöÑÁ±ªÁöÑÊú¨Ë∫´‰πüÊòØ‰∏Ä‰∏™ObjectÔºå‰∏∫‰∫ÜÂ§ÑÁêÜËøô‰∏™ÂÖ≥Á≥ªÔºåruntimeÂ∞±ÂàõÈÄ†‰∫ÜMeta ClassÔºåÂΩìÁªôÁ±ªÂèëÈÄÅ[NSObject alloc]ËøôÊ†∑Ê∂àÊÅØÊó∂ÔºåÂÆûÈôÖ‰∏äÊòØÊääËøô‰∏™Ê∂àÊÅØÂèëÁªô‰∫ÜClass Object #if !__OBJC2__ Class super_class OBJC2_UNAVAILABLE; // Áà∂Á±ª const char *name OBJC2_UNAVAILABLE; // Á±ªÂêç long version OBJC2_UNAVAILABLE; // Á±ªÁöÑÁâàÊú¨‰ø°ÊÅØÔºåÈªòËÆ§‰∏∫0 long info OBJC2_UNAVAILABLE; // Á±ª‰ø°ÊÅØÔºå‰æõËøêË°åÊúü‰ΩøÁî®ÁöÑ‰∏Ä‰∫õ‰ΩçÊ†áËØÜ long instance_size OBJC2_UNAVAILABLE; // ËØ•Á±ªÁöÑÂÆû‰æãÂèòÈáèÂ§ßÂ∞è struct objc_ivar_list *ivars OBJC2_UNAVAILABLE; // ËØ•Á±ªÁöÑÊàêÂëòÂèòÈáèÈìæË°® struct objc_method_list **methodLists OBJC2_UNAVAILABLE; // ÊñπÊ≥ïÂÆö‰πâÁöÑÈìæË°® struct objc_cache *cache OBJC2_UNAVAILABLE; // ÊñπÊ≥ïÁºìÂ≠òÔºåÂØπË±°Êé•Âà∞‰∏Ä‰∏™Ê∂àÊÅØ‰ºöÊ†πÊçÆisaÊåáÈíàÊü•ÊâæÊ∂àÊÅØÂØπË±°ÔºåËøôÊó∂‰ºöÂú®method Lists‰∏≠ÈÅçÂéÜÔºåÂ¶ÇÊûúcache‰∫ÜÔºåÂ∏∏Áî®ÁöÑÊñπÊ≥ïË∞ÉÁî®Êó∂Â∞±ËÉΩÂ§üÊèêÈ´òË∞ÉÁî®ÁöÑÊïàÁéá„ÄÇ struct objc_protocol_list *protocols OBJC2_UNAVAILABLE; // ÂçèËÆÆÈìæË°® #endif } OBJC2_UNAVAILABLE; OC‰∏≠‰∏Ä‰∏™Á±ªÁöÑÂØπË±°ÂÆû‰æãÁöÑÊï∞ÊçÆÁªìÊûÑÔºà/usr/include/objc/objc.hÔºâ: typedef struct objc_class *Class; /// Represents an instance of a class. struct objc_object { Class isa OBJC_ISA_AVAILABILITY; }; /// A pointer to an instance of a class. typedef struct objc_object *id; ÂêëobjectÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåRuntimeÂ∫ì‰ºöÊ†πÊçÆobjectÁöÑisaÊåáÈíàÊâæÂà∞Ëøô‰∏™ÂÆû‰æãobjectÊâÄÂ±û‰∫éÁöÑÁ±ªÔºåÁÑ∂ÂêéÂú®Á±ªÁöÑÊñπÊ≥ïÂàóË°®‰ª•ÂèäÁà∂Á±ªÊñπÊ≥ïÂàóË°®ÂØªÊâæÂØπÂ∫îÁöÑÊñπÊ≥ïËøêË°å„ÄÇidÊòØ‰∏Ä‰∏™objc_objectÁªìÊûÑÁ±ªÂûãÁöÑÊåáÈíàÔºåËøô‰∏™Á±ªÂûãÁöÑÂØπË±°ËÉΩÂ§üËΩ¨Êç¢Êàê‰ªª‰Ωï‰∏ÄÁßçÂØπË±°„ÄÇ ÁÑ∂ÂêéÂÜçÊù•ÁúãÁúãÊ∂àÊÅØÂèëÈÄÅÁöÑÂáΩÊï∞Ôºöobjc_msgSendÂáΩÊï∞ Âú®ÂºïË®Ä‰∏≠Â∑≤ÁªèÂØπobjc_msgSendËøõË°å‰∫Ü‰∏ÄÁÇπ‰ªãÁªçÔºåÁúãËµ∑Êù•ÂÉèÊòØobjc_msgSendËøîÂõû‰∫ÜÊï∞ÊçÆÔºåÂÖ∂ÂÆûobjc_msgSend‰ªé‰∏çËøîÂõûÊï∞ÊçÆËÄåÊòØ‰Ω†ÁöÑÊñπÊ≥ïË¢´Ë∞ÉÁî®ÂêéËøîÂõû‰∫ÜÊï∞ÊçÆ„ÄÇ‰∏ãÈù¢ËØ¶ÁªÜÂèôËø∞‰∏ãÊ∂àÊÅØÂèëÈÄÅÊ≠•È™§Ôºö Ê£ÄÊµãËøô‰∏™ selector ÊòØ‰∏çÊòØË¶ÅÂøΩÁï•ÁöÑ„ÄÇÊØîÂ¶Ç Mac OS X ÂºÄÂèëÔºåÊúâ‰∫ÜÂûÉÂúæÂõûÊî∂Â∞±‰∏çÁêÜ‰ºö retain,release Ëøô‰∫õÂáΩÊï∞‰∫Ü„ÄÇ Ê£ÄÊµãËøô‰∏™ target ÊòØ‰∏çÊòØ nil ÂØπË±°„ÄÇObjC ÁöÑÁâπÊÄßÊòØÂÖÅËÆ∏ÂØπ‰∏Ä‰∏™ nil ÂØπË±°ÊâßË°å‰ªª‰Ωï‰∏Ä‰∏™ÊñπÊ≥ï‰∏ç‰ºö CrashÔºåÂõ†‰∏∫‰ºöË¢´ÂøΩÁï•Êéâ„ÄÇ Â¶ÇÊûú‰∏äÈù¢‰∏§‰∏™ÈÉΩËøá‰∫ÜÔºåÈÇ£Â∞±ÂºÄÂßãÊü•ÊâæËøô‰∏™Á±ªÁöÑ IMPÔºåÂÖà‰ªé cache ÈáåÈù¢ÊâæÔºåÂÆå‰∫ÜÊâæÂæóÂà∞Â∞±Ë∑≥Âà∞ÂØπÂ∫îÁöÑÂáΩÊï∞ÂéªÊâßË°å„ÄÇ Â¶ÇÊûú cache Êâæ‰∏çÂà∞Â∞±Êâæ‰∏Ä‰∏ãÊñπÊ≥ïÂàÜÂèëË°®„ÄÇ Â¶ÇÊûúÂàÜÂèëË°®Êâæ‰∏çÂà∞Â∞±Âà∞Ë∂ÖÁ±ªÁöÑÂàÜÂèëË°®ÂéªÊâæÔºå‰∏ÄÁõ¥ÊâæÔºåÁõ¥Âà∞ÊâæÂà∞NSObjectÁ±ª‰∏∫Ê≠¢„ÄÇ Â¶ÇÊûúËøòÊâæ‰∏çÂà∞Â∞±Ë¶ÅÂºÄÂßãËøõÂÖ•Âä®ÊÄÅÊñπÊ≥ïËß£Êûê‰∫ÜÔºåÂêéÈù¢‰ºöÊèêÂà∞„ÄÇ ÂêéÈù¢ËøòÊúâÔºö Âä®ÊÄÅÊñπÊ≥ïËß£ÊûêresolveThisMethodDynamically Ê∂àÊÅØËΩ¨ÂèëforwardingTargetForSelector runtimeÂ¶Ç‰ΩïÂÆûÁé∞weakÂ±ûÊÄßÔºü‚Ä¢ ÈÄöËøáÂÖ≥ËÅîÂ±ûÊÄßÊù•ÂÆûÁé∞Ôºö ‚Ä¢ // Â£∞Êòé‰∏Ä‰∏™weakÂ±ûÊÄßÔºåËøôÈáåÂÅáËÆædelegateÔºåÂÖ∂ÂÆûweakÂÖ≥ÈîÆÂ≠óÂèØ‰ª•‰∏ç‰ΩøÁî®Ôºå ‚Ä¢ // Âõ†‰∏∫Êàë‰ª¨ÈáçÂÜô‰∫Ügetter/setterÊñπÊ≥ï ‚Ä¢ @property (nonatomic, weak) id delegate; ‚Ä¢ ‚Ä¢ - (id)delegate { ‚Ä¢ return objc_getAssociatedObject(self, @&quot;__delegate__key&quot;); ‚Ä¢ } ‚Ä¢ ‚Ä¢ // ÊåáÂÆö‰ΩøÁî®OBJC_ASSOCIATION_ASSIGNÔºåÂÆòÊñπÊ≥®ÈáäÊòØÔºö ‚Ä¢ // Specifies a weak reference to the associated object. ‚Ä¢ // ‰πüÂ∞±ÊòØËØ¥ÂØπ‰∫éÂØπË±°Á±ªÂûãÔºåÂ∞±ÊòØweak‰∫Ü ‚Ä¢ - (void)setDelegate:(id)delegate { ‚Ä¢ objc_setAssociatedObject(self, @&quot;__delegate__key&quot;, delegate, OBJC_ASSOCIATION_ASSIGN); ‚Ä¢ } ‚Ä¢ ÈÄöËøáobjc_storeWeakÂáΩÊï∞Êù•ÂÆûÁé∞Ôºå‰∏çËøáËøôÁßçÊñπÂºèÂá†‰πéÊ≤°ÊúâÈÅáÂà∞Êúâ‰∫∫Ëøô‰πà‰ΩøÁî®ËøáÔºåÂõ†‰∏∫ËøôÈáå‰∏çÁªÜËØ¥‰∫Ü„ÄÇ runtimeÂ¶Ç‰ΩïÈÄöËøáselectorÊâæÂà∞ÂØπÂ∫îÁöÑIMPÂú∞ÂùÄÔºü ÊØè‰∏™selectorÈÉΩ‰∏éÂØπÂ∫îÁöÑIMPÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÂÖ≥Á≥ªÔºåÈÄöËøáselectorÂ∞±ÂèØ‰ª•Áõ¥Êé•ÊâæÂà∞ÂØπÂ∫îÁöÑIMPÔºö objc_msgForwardÂáΩÊï∞ÊòØÂÅö‰ªÄ‰πàÁöÑÔºåÁõ¥Êé•Ë∞ÉÁî®ÂÆÉÂ∞Ü‰ºöÂèëÁîü‰ªÄ‰πàÔºü_objc_msgForwardÊòØIMPÁ±ªÂûãÔºåÁî®‰∫éÊ∂àÊÅØËΩ¨ÂèëÁöÑÔºöÂΩìÂêë‰∏Ä‰∏™ÂØπË±°ÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØÔºå‰ΩÜÂÆÉÂπ∂Ê≤°ÊúâÂÆûÁé∞ÁöÑÊó∂ÂÄôÔºå_objc_msgForward‰ºöÂ∞ùËØïÂÅöÊ∂àÊÅØËΩ¨Âèë„ÄÇ IMP msgForward = _objc_msgForward; Â¶ÇÊûúÊâãÂä®Ë∞ÉÁî®objcmsgForwardÔºåÂ∞ÜË∑≥ËøáÊü•ÊâæIMPÁöÑËøáÁ®ãÔºåËÄåÊòØÁõ¥Êé•Ëß¶Âèë‚ÄúÊ∂àÊÅØËΩ¨Âèë‚ÄùÔºåËøõÂÖ•Â¶Ç‰∏ãÊµÅÁ®ãÔºö ‚Ä¢ Á¨¨‰∏ÄÊ≠•Ôºö+ (BOOL)resolveInstanceMethod:(SEL)selÂÆûÁé∞ÊñπÊ≥ïÔºåÊåáÂÆöÊòØÂê¶Âä®ÊÄÅÊ∑ªÂä†ÊñπÊ≥ï„ÄÇËã•ËøîÂõûNOÔºåÂàôËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÔºåËã•ËøîÂõûYESÔºåÂàôÈÄöËøáclass_addMethodÂáΩÊï∞Âä®ÊÄÅÂú∞Ê∑ªÂä†ÊñπÊ≥ïÔºåÊ∂àÊÅØÂæóÂà∞Â§ÑÁêÜÔºåÊ≠§ÊµÅÁ®ãÂÆåÊØï„ÄÇ ‚Ä¢ Á¨¨‰∫åÊ≠•ÔºöÂú®Á¨¨‰∏ÄÊ≠•ËøîÂõûÁöÑÊòØNOÊó∂ÔºåÂ∞±‰ºöËøõÂÖ•- (id)forwardingTargetForSelector:(SEL)aSelectorÊñπÊ≥ïÔºåËøôÊòØËøêË°åÊó∂ÁªôÊàë‰ª¨ÁöÑÁ¨¨‰∫åÊ¨°Êú∫‰ºöÔºåÁî®‰∫éÊåáÂÆöÂì™‰∏™ÂØπË±°ÂìçÂ∫îËøô‰∏™selector„ÄÇ‰∏çËÉΩÊåáÂÆö‰∏∫self„ÄÇËã•ËøîÂõûnilÔºåË°®Á§∫Ê≤°ÊúâÂìçÂ∫îËÄÖÔºåÂàô‰ºöËøõÂÖ•Á¨¨‰∏âÊ≠•„ÄÇËã•ËøîÂõûÊüê‰∏™ÂØπË±°ÔºåÂàô‰ºöË∞ÉÁî®ËØ•ÂØπË±°ÁöÑÊñπÊ≥ï„ÄÇ ‚Ä¢ Á¨¨‰∏âÊ≠•ÔºöËã•Á¨¨‰∫åÊ≠•ËøîÂõûÁöÑÊòØnilÔºåÂàôÊàë‰ª¨È¶ñÂÖàË¶ÅÈÄöËøá- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelectorÊåáÂÆöÊñπÊ≥ïÁ≠æÂêçÔºåËã•ËøîÂõûnilÔºåÂàôË°®Á§∫‰∏çÂ§ÑÁêÜ„ÄÇËã•ËøîÂõûÊñπÊ≥ïÁ≠æÂêçÔºåÂàô‰ºöËøõÂÖ•‰∏ã‰∏ÄÊ≠•„ÄÇ ‚Ä¢ Á¨¨ÂõõÊ≠•ÔºöÂΩìÁ¨¨‰∏âÊ≠•ËøîÂõûÊñπÊ≥ïÊñπÊ≥ïÁ≠æÂêçÂêéÔºåÂ∞±‰ºöË∞ÉÁî®- (void)forwardInvocation:(NSInvocation *)anInvocationÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáanInvocationÂØπË±°ÂÅöÂæàÂ§öÂ§ÑÁêÜÔºåÊØîÂ¶Ç‰øÆÊîπÂÆûÁé∞ÊñπÊ≥ïÔºå‰øÆÊîπÂìçÂ∫îÂØπË±°Á≠â ‚Ä¢ Á¨¨‰∫îÊ≠•ÔºöËã•Ê≤°ÊúâÂÆûÁé∞- (void)forwardInvocation:(NSInvocation *)anInvocationÊñπÊ≥ïÔºåÈÇ£‰πà‰ºöËøõÂÖ•- (void)doesNotRecognizeSelector:(SEL)aSelectorÊñπÊ≥ï„ÄÇËã•Êàë‰ª¨Ê≤°ÊúâÂÆûÁé∞Ëøô‰∏™ÊñπÊ≥ïÔºåÈÇ£‰πàÂ∞±‰ºöcrashÔºåÁÑ∂ÂêéÊèêÁ§∫Êâì‰∏çÂà∞ÂìçÂ∫îÁöÑÊñπÊ≥ï„ÄÇÂà∞Ê≠§ÔºåÂä®ÊÄÅËß£ÊûêÁöÑÊµÅÁ®ãÂ∞±ÁªìÊùü‰∫Ü„ÄÇ runtimeÂ¶Ç‰ΩïÂÆûÁé∞weakÂèòÈáèÁöÑËá™Âä®ÁΩÆnilÔºüruntimeÂØπÊ≥®ÂÜåÁöÑÁ±ª‰ºöËøõË°åÂ∏ÉÂ±ÄÔºåÂØπ‰∫éweakÂØπË±°‰ºöÊîæÂÖ•‰∏Ä‰∏™hashË°®‰∏≠„ÄÇ Áî®weakÊåáÂêëÁöÑÂØπË±°ÂÜÖÂ≠òÂú∞ÂùÄ‰Ωú‰∏∫keyÔºåÂΩìÊ≠§ÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞‰∏∫0ÁöÑÊó∂ÂÄô‰ºödealloc„ÄÇÂÅáÂ¶ÇweakÊåáÂêëÁöÑÂØπË±°ÂÜÖÂ≠òÂú∞ÂùÄÊòØaÔºåÈÇ£‰πàÂ∞±‰ºö‰ª•a‰∏∫ÈîÆÔºåÂú®Ëøô‰∏™ weak Ë°®‰∏≠ÊêúÁ¥¢ÔºåÊâæÂà∞ÊâÄÊúâ‰ª•a‰∏∫ÈîÆÁöÑweakÂØπË±°Ôºå‰ªéËÄåËÆæÁΩÆ‰∏∫nil„ÄÇ weak‰øÆÈ•∞ÁöÑÊåáÈíàÈªòËÆ§ÂÄºÊòØnilÔºàÂú®Objective-C‰∏≠ÂêënilÂèëÈÄÅÊ∂àÊÅØÊòØÂÆâÂÖ®ÁöÑÔºâ Âä®ÊÄÅÁªëÂÆö Âú®ËøêË°åÊó∂Á°ÆÂÆöË¶ÅË∞ÉÁî®ÁöÑÊñπÊ≥ï,Âä®ÊÄÅÁªëÂÆöÂ∞ÜË∞ÉÁî®ÊñπÊ≥ïÁöÑÁ°ÆÂÆö‰πüÊé®ËøüÂà∞ËøêË°åÊó∂„ÄÇÂú®ÁºñËØëÊó∂ÔºåÊñπÊ≥ïÁöÑË∞ÉÁî®Âπ∂‰∏çÂíå‰ª£Á†ÅÁªëÂÆöÂú®‰∏ÄËµ∑ÔºåÂè™ÊúâÂú®Ê∂àÂÆûÂèëÈÄÅÂá∫Êù•‰πãÂêéÔºåÊâçÁ°ÆÂÆöË¢´Ë∞ÉÁî®ÁöÑ‰ª£Á†Å„ÄÇÈÄöËøáÂä®ÊÄÅÁ±ªÂûãÂíåÂä®ÊÄÅÁªëÂÆöÊäÄÊúØÔºå‰ª£Á†ÅÊØèÊ¨°ÊâßË°åÈÉΩÂèØ‰ª•ÂæóÂà∞‰∏çÂêåÁöÑÁªìÊûú„ÄÇËøêË°åÊó∂Âõ†Â≠êË¥üË¥£Á°ÆÂÆöÊ∂àÊÅØÁöÑÊé•Êî∂ËÄÖÂíåË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ï„ÄÇËøêË°åÊó∂ÁöÑÊ∂àÊÅØÂàÜÂèëÊú∫Âà∂‰∏∫Âä®ÊÄÅÁªëÂÆöÊèê‰æõÊîØÊåÅ„ÄÇÂΩìÂêë‰∏Ä‰∏™Âä®ÊÄÅÁ±ªÂûãÁ°ÆÂÆö‰∫ÜÁöÑÂØπË±°ÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåËøêË°åÁéØÂ¢ÉÁ≥ªÁªü‰ºöÈÄöËøáÊé•Êî∂ËÄÖÁöÑisaÊåáÈíàÂÆö‰ΩçÂØπË±°ÁöÑÁ±ªÔºåÂπ∂‰ª•Ê≠§‰∏∫Ëµ∑ÁÇπÁ°ÆÂÆöË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÔºåÊñπÊ≥ïÂíåÊ∂àÊÅØÊòØÂä®ÊÄÅÁªëÂÆöÁöÑ„ÄÇËÄå‰∏îÔºå‰∏çÂøÖÂú®Objective-C ‰ª£Á†Å‰∏≠ÂÅö‰ªª‰ΩïÂ∑•‰ΩúÔºåÂ∞±ÂèØ‰ª•Ëá™Âä®Ëé∑ÂèñÂä®ÊÄÅÁªëÂÆöÁöÑÂ•ΩÂ§Ñ„ÄÇÂú®ÊØèÊ¨°ÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåÁâπÂà´ÊòØÂΩìÊ∂àÊÅØÁöÑÊé•Êî∂ËÄÖÊòØÂä®ÊÄÅÁ±ªÂûãÂ∑≤ÁªèÁ°ÆÂÆöÁöÑÂØπË±°Êó∂ÔºåÂä®ÊÄÅÁªëÂÆöÂ∞±‰ºö‰æãË°åËÄåÈÄèÊòéÂú∞ÂèëÁîü]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò20--ÂÆâÂÖ®Êú∫Âà∂]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9820-%E5%AE%89%E5%85%A8%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[ËãπÊûúÁöÑÂÆâÂÖ®Êú∫Âà∂ÊúâÂì™‰∫õ Ê≤°ÁªèËøáÁî®Êà∑ÂêåÊÑèÔºå‰Ω†‰∏çËÉΩÈöè‰æøËé∑ÂèñÁî®Êà∑‰ø°ÊÅØ„ÄÇ ÊâÄÊúâÁöÑÁ®ãÂ∫èÈÉΩÂú®Ê≤ôÁõíÈáåËøêË°åÔºåBÁ®ãÂ∫è‰∏çËÉΩËøõÂÖ•AÁ®ãÂ∫èÁöÑËøêË°åËåÉÂõ¥„ÄÇ Â¶ÇÊûúË∑üÈí±ÊúâÂÖ≥ÔºåÊØîÂ¶ÇËØ¥ÊîØ‰ªòÂÆùÔºåËøô‰∫õÂ∫ïÂ±ÇÁöÑÂÆûÁé∞ÈÉΩÊòØ‰øùÂØÜÁöÑÔºåÂè™Êèê‰æõÊé•Âè£‰æõÂºÄÂèëËÄÖË∞ÉÁî®ÔºåËøôÊ†∑ÁöÑËØùÂÆâÂÖ®ÊÄßÂæóÂà∞‰øùÈöú„ÄÇ Â¶ÇÊûúË¶ÅÈò≤Ê≠¢‰ª£Á†ÅË¢´ÂèçÁºñËØëÔºåÂèØ‰ª•Â∞ÜËá™Â∑±ÁöÑ‰ª£Á†Å‰∏≠ÁöÑ.mÊñá‰ª∂Â∞ÅË£ÖÊàêÈùôÊÄÅÂ∫ìÔºà.aÊñá‰ª∂ÔºâÊàñËÄÖÊòØframeworkÊñá‰ª∂ÔºåÂè™Êèê‰æõÁªôÂÖ∂ÂÆÉ‰∫∫.hÊñá‰ª∂„ÄÇËøôÊ†∑Â∞±‰øùËØÅ‰∫Ü‰∏™‰∫∫‰ª£Á†ÅÁöÑÂÆâÂÖ®ÊÄß„ÄÇ ÁΩëÁªúÁôªÂΩïÁöÑËØùË∑üÁî®Êà∑ÂêçË∑üÂØÜÁ†ÅÁõ∏ÂÖ≥Ë¶ÅÂèëÈÄÅPOSTËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊòØGETËØ∑Ê±ÇÁöÑËØùÂØÜÁ†Å‰ºöÁõ¥Êé•Âú®URL‰∏≠ÊòæÁ§∫„ÄÇÁÑ∂ÂêéÂêåÊó∂Ë¶ÅÂØπÂ∏êÂè∑ÂØÜÁ†ÅÈááÁî®Âä†ÂØÜÊäÄÊúØÔºåÂä†‰∏ÄÂè•ÔºöÊàë‰ª¨ÂÖ¨Âè∏Áî®ÁöÑÊòØMD5Ôºå‰ΩÜÊòØÁé∞Âú®MD5Êúâ‰∏Ä‰∏™‰∏ìÈó®ÁöÑÁΩëÁ´ôÊù•Á†¥Ëß£Ôºå‰∏∫‰∫ÜÈò≤Ê≠¢Ëøô‰∏™ÔºåÂèØ‰ª•ÈááÁî®Âä†ÁõêÊäÄÊúØ„ÄÇ iOS ÁöÑÁ≠æÂêçÊú∫Âà∂Â§ßÊ¶ÇÊòØÊÄéÊ†∑ÁöÑÔºü ÂÅáËÆæÔºåÊàë‰ª¨Êúâ‰∏Ä‰∏™APPÈúÄË¶ÅÂèëÂ∏ÉÔºå‰∏∫‰∫ÜÈò≤Ê≠¢‰∏≠ÈÄîÁØ°ÊîπAPPÂÜÖÂÆπÔºå‰øùËØÅAPPÁöÑÂÆåÊï¥ÊÄßÔºå‰ª•ÂèäAPPÊòØÁî±ÊåáÂÆöÁöÑÁßÅÈí•ÂèëÁöÑ„ÄÇÈ¶ñÂÖàÔºåÂÖàÂ∞ÜAPPÂÜÖÂÆπÈÄöËøáÊëòË¶ÅÁÆóÊ≥ïÔºåÂæóÂà∞ÊëòË¶ÅÔºåÂÜçÁî®ÁßÅÈí•ÂØπÊëòË¶ÅËøõË°åÂä†ÂØÜÂæóÂà∞ÂØÜÊñáÔºåÂ∞ÜÊ∫êÊñáÊú¨„ÄÅÂØÜÊñá„ÄÅÂíåÁßÅÈí•ÂØπÂ∫îÁöÑÂÖ¨Èí•‰∏ÄÂπ∂ÂèëÂ∏ÉÂç≥ÂèØ„ÄÇ ÈÇ£‰πàÂ¶Ç‰ΩïÈ™åËØÅÂë¢Ôºü È™åËØÅÊñπÈ¶ñÂÖàÊü•ÁúãÂÖ¨Èí•ÊòØÂê¶ÊòØÁßÅÈí•ÊñπÁöÑÔºåÁÑ∂ÂêéÁî®ÂÖ¨Èí•ÂØπÂØÜÊñáËøõË°åËß£ÂØÜÂæóÂà∞ÊëòË¶ÅÔºåÂ∞ÜAPPÁî®ÂêåÊ†∑ÁöÑÊëòË¶ÅÁÆóÊ≥ïÂæóÂà∞ÊëòË¶ÅÔºå‰∏§‰∏™ÊëòË¶ÅËøõË°åÊØîÂØπÔºåÂ¶ÇÊûúÁõ∏Á≠âÈÇ£‰πà‰∏ÄÂàáÊ≠£Â∏∏„ÄÇËøô‰∏™ËøáÁ®ãÂè™Ë¶ÅÊúâ‰∏ÄÊ≠•Âá∫ÈóÆÈ¢òÂ∞±ËßÜ‰∏∫Êó†Êïà„ÄÇ ÂÆ¢Êà∑Á´ØÂÆâÂÖ®ÊÄßÂ§ÑÁêÜÊñπÂºèÔºü1&gt; ÁΩëÁªúÊï∞ÊçÆ‰º†Ëæì(ÊïèÊÑüÊï∞ÊçÆ[Ë¥¶Âè∑\ÂØÜÁ†Å\Ê∂àË¥πÊï∞ÊçÆ\Èì∂Ë°åÂç°Ë¥¶Âè∑], ‰∏çËÉΩÊòéÊñáÂèëÈÄÅ) 2&gt; ÂçèËÆÆÁöÑÈóÆÈ¢ò(Ëá™ÂÆö‰πâÂçèËÆÆ, Ê∏∏Êàè‰ª£ÁªÉ) 3&gt; Êú¨Âú∞Êñá‰ª∂Â≠òÂÇ®(Ê∏∏ÊàèÁöÑÂ≠òÊ°£) 4&gt; Ê∫ê‰ª£Á†Å(Ê∑∑Ê∑Ü) Â¶Ç‰ΩïËøõË°åÊï∞ÊçÆÂä†ÂØÜ?Â∏∏ËßÅÁöÑÂä†ÂØÜÁÆóÊ≥ï:MD5 \ SHA \ DES \ 3DES \ RC2ÂíåRC4 \ RSA \ IDEA \ DSA \ AES Âä†ÂØÜÁÆóÊ≥ïÁöÑÈÄâÊã©:‰∏ÄËà¨ÂÖ¨Âè∏ÈÉΩ‰ºöÊúâ‰∏ÄÂ•óËá™Â∑±ÁöÑÂä†ÂØÜÊñπÊ°àÔºåÊåâÁÖßÂÖ¨Âè∏Êé•Âè£ÊñáÊ°£ÁöÑËßÑÂÆöÂéªÂä†ÂØÜ MD5ÁöÑÁâπÁÇπ: Ôºà1ÔºâËæìÂÖ•‰∏§‰∏™‰∏çÂêåÁöÑÊòéÊñá‰∏ç‰ºöÂæóÂà∞Áõ∏ÂêåÁöÑËæìÂá∫ÂÄº Ôºà2ÔºâÊ†πÊçÆËæìÂá∫ÂÄºÔºå‰∏çËÉΩÂæóÂà∞ÂéüÂßãÁöÑÊòéÊñáÔºåÂç≥ÂÖ∂ËøáÁ®ã‰∏çÂèØÈÄÜ Áé∞Âú®ÁöÑMD5Â∑≤‰∏çÂÜçÊòØÁªùÂØπÂÆâÂÖ®ÔºåÂØπÊ≠§ÔºåÂèØ‰ª•ÂØπMD5Á®ç‰ΩúÊîπËøõÔºå‰ª•Â¢ûÂä†Ëß£ÂØÜÁöÑÈöæÂ∫¶ Âä†ÁõêÔºàSaltÔºâÔºöÂú®ÊòéÊñáÁöÑÂõ∫ÂÆö‰ΩçÁΩÆÊèíÂÖ•ÈöèÊú∫‰∏≤ÔºåÁÑ∂ÂêéÂÜçËøõË°åMD5 ÂÖàÂä†ÂØÜÔºåÂêé‰π±Â∫èÔºöÂÖàÂØπÊòéÊñáËøõË°åMD5ÔºåÁÑ∂ÂêéÂØπÂä†ÂØÜÂæóÂà∞ÁöÑMD5‰∏≤ÁöÑÂ≠óÁ¨¶ËøõË°å‰π±Â∫è ÊÄª‰πãÂÆóÊó®Â∞±ÊòØÔºöÈªëÂÆ¢Â∞±ÁÆóÊîªÁ†¥‰∫ÜÊï∞ÊçÆÂ∫ìÔºå‰πüÊó†Ê≥ïËß£ÂØÜÂá∫Ê≠£Á°ÆÁöÑÊòéÊñá]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò19--ËÆæËÆ°Ê®°Âºè]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9819-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[‰ªéËÆæËÆ°Ê®°ÂºèÁöÑËßíÂ∫¶ÂàÜÊûêDelegate„ÄÅNotification„ÄÅKVOÁöÑÂå∫Âà´‰∏âËÄÖ‰ºòÁº∫ÁÇπÔºö delegateÁöÑ‰ºòÂäøÔºö 1.ÈùûÂ∏∏‰∏•Ê†ºÁöÑËØ≠Ê≥ï„ÄÇÊâÄÊúâÂ∞ÜÂê¨Âà∞ÁöÑ‰∫ã‰ª∂ÂøÖÈ°ªÊòØÂú®delegateÂçèËÆÆ‰∏≠ÊúâÊ∏ÖÊô∞ÁöÑÂÆö‰πâ„ÄÇ 2.Â¶ÇÊûúdelegate‰∏≠ÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÊ≤°ÊúâÂÆûÁé∞ÈÇ£‰πàÂ∞±‰ºöÂá∫Áé∞ÁºñËØëË≠¶Âëä/ÈîôËØØ 3.ÂçèËÆÆÂøÖÈ°ªÂú®controllerÁöÑ‰ΩúÁî®ÂüüËåÉÂõ¥ÂÜÖÂÆö‰πâ 4.Âú®‰∏Ä‰∏™Â∫îÁî®‰∏≠ÁöÑÊéßÂà∂ÊµÅÁ®ãÊòØÂèØË∑üË∏™ÁöÑÂπ∂‰∏îÊòØÂèØËØÜÂà´ÁöÑÔºõ 5.Âú®‰∏Ä‰∏™ÊéßÂà∂Âô®‰∏≠ÂèØ‰ª•ÂÆö‰πâÂÆö‰πâÂ§ö‰∏™‰∏çÂêåÁöÑÂçèËÆÆÔºåÊØè‰∏™ÂçèËÆÆÊúâ‰∏çÂêåÁöÑdelegates 6.Ê≤°ÊúâÁ¨¨‰∏âÊñπÂØπË±°Ë¶ÅÊ±Ç‰øùÊåÅ/ÁõëËßÜÈÄö‰ø°ËøáÁ®ã„ÄÇ 7.ËÉΩÂ§üÊé•Êî∂Ë∞ÉÁî®ÁöÑÂçèËÆÆÊñπÊ≥ïÁöÑËøîÂõûÂÄº„ÄÇËøôÊÑèÂë≥ÁùÄdelegateËÉΩÂ§üÊèê‰æõÂèçÈ¶à‰ø°ÊÅØÁªôcontroller 8.ÁªèÂ∏∏Ë¢´Áî®Âú®Â≠òÂú®Áà∂Â≠êÂÖ≥Á≥ªÁöÑÂØπË±°‰πãÈó¥ÈÄö‰ø°Ôºå‰æãÂ¶ÇÊéßÂà∂Âô®ÂíåÊéßÂà∂Âô®ÁöÑviewÔºàËá™Â∑±Âä†ÁöÑÁêÜËß£Ôºâ Áº∫ÁÇπÔºö 1.ÈúÄË¶ÅÂÆö‰πâÂæàÂ§ö‰ª£Á†ÅÔºö1.ÂçèËÆÆÂÆö‰πâÔºõ2.controllerÁöÑdelegateÂ±ûÊÄßÔºõ3.Âú®delegateÊú¨Ë∫´‰∏≠ÂÆûÁé∞delegateÊñπÊ≥ïÂÆö‰πâ 2.Âú®ÈáäÊîæ‰ª£ÁêÜÂØπË±°Êó∂ÔºåÈúÄË¶ÅÂ∞èÂøÉÁöÑÂ∞ÜdelegateÊîπ‰∏∫nil„ÄÇ‰∏ÄÊó¶ËÆæÂÆöÂ§±Ë¥•ÔºåÈÇ£‰πàË∞ÉÁî®ÈáäÊîæÂØπË±°ÁöÑÊñπÊ≥ïÂ∞Ü‰ºöÂá∫Áé∞ÂÜÖÂ≠òcrash 3.Âú®‰∏Ä‰∏™controller‰∏≠ÊúâÂ§ö‰∏™delegateÂØπË±°ÔºåÂπ∂‰∏îdelegateÊòØÈÅµÂÆàÂêå‰∏Ä‰∏™ÂçèËÆÆÔºå‰ΩÜËøòÊòØÂæàÈöæÂëäËØâÂ§ö‰∏™ÂØπË±°Âêå‰∏Ä‰∏™‰∫ã‰ª∂Ôºå‰∏çËøáÊúâÂèØËÉΩ„ÄÇ 4.ÁªèÂ∏∏Áî®Âú®‰∏ÄÂØπ‰∏ÄÁöÑÈÄö‰ø°„ÄÇÔºà‰∏çÁü•ÈÅìÊòØÁº∫ÁÇπËøòÊòØ‰ºòÁÇπÔºåÂè™ËÉΩÁÆóÊòØÁâπÁÇπÔºâÔºàËá™Â∑±Âä†ÁöÑÁêÜËß£Ôºâ notificationÁöÑ‰ºòÂäøÔºö 1.‰∏çÈúÄË¶ÅÁºñÂÜôÂ§öÂ∞ë‰ª£Á†ÅÔºåÂÆûÁé∞ÊØîËæÉÁÆÄÂçï 2.ÂØπ‰∫é‰∏Ä‰∏™ÂèëÂá∫ÁöÑÈÄöÁü•ÔºåÂ§ö‰∏™ÂØπË±°ËÉΩÂ§üÂÅöÂá∫ÂèçÂ∫îÔºåÂç≥‰∏ÄÂØπÂ§öÁöÑÊñπÂºèÂÆûÁé∞ÁÆÄÂçï 3.controllerËÉΩÂ§ü‰º†ÈÄícontextÂØπË±°ÔºàdictionaryÔºâÔºåcontextÂØπË±°Êê∫Â∏¶‰∫ÜÂÖ≥‰∫éÂèëÈÄÅÈÄöÁü•ÁöÑËá™ÂÆö‰πâÁöÑ‰ø°ÊÅØ Áº∫ÁÇπÔºö 1.Âú®ÁºñËØëÊúü‰∏ç‰ºöÊ£ÄÊü•ÈÄöÁü•ÊòØÂê¶ËÉΩÂ§üË¢´ËßÇÂØüËÄÖÊ≠£Á°ÆÁöÑÂ§ÑÁêÜÔºõ 2.Âú®ÈáäÊîæÊ≥®ÂÜåÁöÑÂØπË±°Êó∂ÔºåÈúÄË¶ÅÂú®ÈÄöÁü•‰∏≠ÂøÉÂèñÊ∂àÊ≥®ÂÜåÔºõ 3.Âú®Ë∞ÉËØïÁöÑÊó∂ÂÄôÂ∫îÁî®ÁöÑÂ∑•‰Ωú‰ª•ÂèäÊéßÂà∂ËøáÁ®ãÈöæË∑üË∏™Ôºõ 4.ÈúÄË¶ÅÁ¨¨‰∏âÊñπÂØπË±°Êù•ÁÆ°ÁêÜcontroller‰∏éËßÇÂØüËÄÖÂØπË±°‰πãÈó¥ÁöÑËÅîÁ≥ªÔºõ 5.controllerÂíåËßÇÂØüËÄÖÈúÄË¶ÅÊèêÂâçÁü•ÈÅìÈÄöÁü•ÂêçÁß∞„ÄÅUserInfo dictionary keys„ÄÇÂ¶ÇÊûúËøô‰∫õÊ≤°ÊúâÂú®Â∑•‰ΩúÂå∫Èó¥ÂÆö‰πâÔºåÈÇ£‰πà‰ºöÂá∫Áé∞‰∏çÂêåÊ≠•ÁöÑÊÉÖÂÜµÔºõ 6.ÈÄöÁü•ÂèëÂá∫ÂêéÔºåcontroller‰∏çËÉΩ‰ªéËßÇÂØüËÄÖËé∑Âæó‰ªª‰ΩïÁöÑÂèçÈ¶à‰ø°ÊÅØÔºàÁõ∏ÊØîËæÉdelegateÔºâ„ÄÇ KVOÁöÑ‰ºòÂäøÔºö 1.ËÉΩÂ§üÊèê‰æõ‰∏ÄÁßçÁÆÄÂçïÁöÑÊñπÊ≥ïÂÆûÁé∞‰∏§‰∏™ÂØπË±°Èó¥ÁöÑÂêåÊ≠•„ÄÇ‰æãÂ¶ÇÔºömodelÂíåview‰πãÈó¥ÂêåÊ≠•Ôºõ 2.ËÉΩÂ§üÂØπÈùûÊàë‰ª¨ÂàõÂª∫ÁöÑÂØπË±°ÔºåÂç≥ÂÜÖÈÉ®ÂØπË±°ÁöÑÁä∂ÊÄÅÊîπÂèò‰ΩúÂá∫ÂìçÂ∫îÔºåËÄå‰∏î‰∏çÈúÄË¶ÅÊîπÂèòÂÜÖÈÉ®ÂØπË±°ÔºàSKDÂØπË±°ÔºâÁöÑÂÆûÁé∞Ôºõ 3.ËÉΩÂ§üÊèê‰æõËßÇÂØüÁöÑÂ±ûÊÄßÁöÑÊúÄÊñ∞ÂÄº‰ª•ÂèäÂÖàÂâçÂÄºÔºõ 4.Áî®key pathsÊù•ËßÇÂØüÂ±ûÊÄßÔºåÂõ†Ê≠§‰πüÂèØ‰ª•ËßÇÂØüÂµåÂ•óÂØπË±°Ôºõ 5.ÂÆåÊàê‰∫ÜÂØπËßÇÂØüÂØπË±°ÁöÑÊäΩË±°ÔºåÂõ†‰∏∫‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑ‰ª£Á†ÅÊù•ÂÖÅËÆ∏ËßÇÂØüÂÄºËÉΩÂ§üË¢´ËßÇÂØü 6.ÂèØ‰ª•‰∏ÄÂØπÂ§ö„ÄÇ Áº∫ÁÇπÔºö 1.Êàë‰ª¨ËßÇÂØüÁöÑÂ±ûÊÄßÂøÖÈ°ª‰ΩøÁî®stringsÊù•ÂÆö‰πâ„ÄÇÂõ†Ê≠§Âú®ÁºñËØëÂô®‰∏ç‰ºöÂá∫Áé∞Ë≠¶Âëä‰ª•ÂèäÊ£ÄÊü•Ôºõ 2.ÂØπÂ±ûÊÄßÈáçÊûÑÂ∞ÜÂØºËá¥Êàë‰ª¨ÁöÑËßÇÂØü‰ª£Á†Å‰∏çÂÜçÂèØÁî®Ôºõ 3.Â§çÊùÇÁöÑ‚ÄúIF‚ÄùËØ≠Âè•Ë¶ÅÊ±ÇÂØπË±°Ê≠£Âú®ËßÇÂØüÂ§ö‰∏™ÂÄº„ÄÇËøôÊòØÂõ†‰∏∫ÊâÄÊúâÁöÑËßÇÂØü‰ª£Á†ÅÈÄöËøá‰∏Ä‰∏™ÊñπÊ≥ïÊù•ÊåáÂêëÔºõ 4.ÂΩìÈáäÊîæËßÇÂØüËÄÖÊó∂‰∏çÈúÄË¶ÅÁßªÈô§ËßÇÂØüËÄÖ„ÄÇ ÊïàÁéá ËÇØÂÆöÊòØdelegateÊØîNSNotificationÈ´ò„ÄÇ delegateÊñπÊ≥ïÊØînotificationÊõ¥Âä†Áõ¥Êé•ÔºåÊúÄÂÖ∏ÂûãÁöÑÁâπÂæÅÊòØÔºådelegateÊñπÊ≥ïÂæÄÂæÄÈúÄË¶ÅÂÖ≥Ê≥®ËøîÂõûÂÄºÔºå ‰πüÂ∞±ÊòØdelegateÊñπÊ≥ïÁöÑÁªìÊûú„ÄÇÊØîÂ¶Ç-windowShouldClose:ÔºåÈúÄË¶ÅÂÖ≥ÂøÉËøîÂõûÁöÑÊòØyesËøòÊòØno„ÄÇÊâÄ‰ª•delegateÊñπÊ≥ïÂæÄÂæÄÂåÖÂê´ shouldËøô‰∏™Âæà‰º†Á•ûÁöÑËØç„ÄÇ‰πüÂ∞±ÊòØÂ•ΩÊØî‰Ω†ÂÅöÊàëÁöÑdelegateÔºåÊàë‰ºöÈóÆ‰Ω†ÊàëÊÉ≥ÂÖ≥Èó≠Á™óÂè£‰Ω†ÊÑøÊÑèÂêóÔºü‰Ω†ÈúÄË¶ÅÁªôÊàë‰∏Ä‰∏™Á≠îÊ°àÔºåÊàëÊ†πÊçÆ‰Ω†ÁöÑÁ≠îÊ°àÊù•ÂÜ≥ÂÆöÂ¶Ç‰ΩïÂÅö‰∏ã‰∏Ä Ê≠•„ÄÇÁõ∏ÂèçÁöÑÔºånotificationÊúÄÂ§ßÁöÑÁâπËâ≤Â∞±ÊòØ‰∏çÂÖ≥ÂøÉÊé•ÂèóËÄÖÁöÑÊÄÅÂ∫¶Ôºå ÊàëÂè™ÁÆ°ÊääÈÄöÂëäÊîæÂá∫Êù•Ôºå‰Ω†Êé•Âèó‰∏çÊé•ÂèóÂ∞±ÊòØ‰Ω†ÁöÑ‰∫ãÊÉÖÔºåÂêåÊó∂Êàë‰πü‰∏çÂÖ≥ÂøÉÁªìÊûú„ÄÇÊâÄ‰ª•notificationÂæÄÂæÄÁî®didËøô‰∏™ËØçÊ±áÔºåÊØîÂ¶Ç NSWindowDidResizeNotificationÔºåÈÇ£‰πàNSWindowÂØπË±°ÊîæÂá∫Ëøô‰∏™notificationÂêéÂ∞±‰ªÄ‰πàÈÉΩ‰∏çÁÆ°‰∫Ü‰πü‰∏ç‰ºöÁ≠âÂæÖÊé• ÂèóËÄÖÁöÑÂèçÂ∫î„ÄÇ 2„ÄÅKVOÂíåNSNotificationÁöÑÂå∫Âà´ Ôºö Âíådelegate‰∏ÄÊ†∑ÔºåKVOÂíåNSNotificationÁöÑ‰ΩúÁî®‰πüÊòØÁ±ª‰∏éÁ±ª‰πãÈó¥ÁöÑÈÄö‰ø°Ôºå‰∏édelegate‰∏çÂêåÁöÑÊòØ1ÔºâËøô‰∏§‰∏™ÈÉΩÊòØË¥üË¥£ÂèëÂá∫ÈÄöÁü•ÔºåÂâ©‰∏ãÁöÑ‰∫ãÊÉÖÂ∞±‰∏çÁÆ°‰∫ÜÔºåÊâÄ‰ª•Ê≤°ÊúâËøîÂõûÂÄºÔºõ2ÔºâdelegateÂè™ÊòØ‰∏ÄÂØπ‰∏ÄÔºåËÄåËøô‰∏§‰∏™ÂèØ‰ª•‰∏ÄÂØπÂ§ö„ÄÇËøô‰∏§ËÄÖ‰πüÊúâÂêÑËá™ÁöÑÁâπÁÇπ„ÄÇ ÊÄªÁªìÔºö ‰ªé‰∏äÈù¢ÁöÑÂàÜÊûê‰∏≠ÂèØ‰ª•ÁúãÂá∫3‰∏≠ËÆæËÆ°Ê®°ÂºèÈÉΩÊúâÂêÑËá™ÁöÑ‰ºòÁÇπÂíåÁº∫ÁÇπ„ÄÇÂú®Ëøô‰∏âÁßçÊ®°Âºè‰∏≠ÔºåÊàëËÆ§‰∏∫KVOÊúâÊúÄÊ∏ÖÊô∞ÁöÑ‰ΩøÁî®Ê°à‰æãÔºåËÄå‰∏îÈíàÂØπÊüê‰∏™ÈúÄÊ±ÇÊúâÊ∏ÖÊô∞ÁöÑÂÆûÁî®ÊÄß„ÄÇËÄåÂè¶Â§ñ‰∏§ÁßçÊ®°ÂºèÊúâÊØîËæÉÁõ∏‰ººÁöÑÁî®Â§ÑÔºåÂπ∂‰∏îÁªèÂ∏∏Áî®Êù•ÁªôcontrollerÈó¥ËøõË°åÈÄö‰ø°„ÄÇÈÇ£‰πàÊàë‰ª¨Âú®‰ªÄ‰πàÊÉÖÂÜµ‰ΩøÁî®ÂÖ∂‰∏≠‰πã‰∏ÄÂë¢Ôºü Ê†πÊçÆÊàëÂºÄÂèëiOSÂ∫îÁî®ÁöÑÁªèÂéÜÔºåÊàëÂèëÁé∞Êúâ‰∫õËøáÂàÜÁöÑ‰ΩøÁî®ÈÄöÁü•Ê®°Âºè„ÄÇÊàë‰∏™‰∫∫‰∏çÊòØÂæàÂñúÊ¨¢‰ΩøÁî®ÈÄöÁü•‰∏≠ÂøÉ„ÄÇÊàëÂèëÁé∞Áî®ÈÄöÁü•‰∏≠ÂøÉÂæàÈöæÊääÊè°Â∫îÁî®ÁöÑÊâßË°åÊµÅÁ®ã„ÄÇUserlnfo dictionariesÁöÑkeysÂà∞Â§Ñ‰º†ÈÄíÂØºËá¥Â§±Âéª‰∫ÜÂêåÊ≠•ÔºåËÄå‰∏îÂú®ÂÖ¨ÂÖ±Á©∫Èó¥ÈúÄË¶ÅÂÆö‰πâÂ§™Â§öÁöÑÂ∏∏Èáè„ÄÇÂØπ‰∫é‰∏Ä‰∏™Â∑•‰Ωú‰∫éÁé∞ÊúâÁöÑÈ°πÁõÆÁöÑÂºÄÂèëËÄÖÊù•ËØ¥ÔºåÂ¶ÇÊûúËøáÂàÜÁöÑ‰ΩøÁî®ÈÄöÁü•‰∏≠ÂøÉÔºåÈÇ£‰πàÂæàÈöæÁêÜËß£Â∫îÁî®ÁöÑÊµÅÁ®ã„ÄÇ ÊàëËßâÂæó‰ΩøÁî®ÂëΩÂêçËßÑÂàôÂ•ΩÁöÑÂçèËÆÆÂíåÂçèËÆÆÊñπÊ≥ïÂÆö‰πâÂØπ‰∫éÊ∏ÖÊô∞ÁöÑÁêÜËß£controllersÈó¥ÁöÑÈÄö‰ø°ÊòØÂæàÂÆπÊòìÁöÑ„ÄÇÂä™ÂäõÁöÑÂÆö‰πâËøô‰∫õÂçèËÆÆÊñπÊ≥ïÂ∞ÜÂ¢ûÂº∫‰ª£Á†ÅÁöÑÂèØËØªÊÄßÔºå‰ª•ÂèäÊõ¥Â•ΩÁöÑË∑üË∏™‰Ω†ÁöÑapp„ÄÇ‰ª£ÁêÜÂçèËÆÆÂèëÁîüÊîπÂèò‰ª•ÂèäÂÆûÁé∞ÈÉΩÂèØÈÄöËøáÁºñËØëÂô®Ê£ÄÊü•Âá∫Êù•ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂ∞Ü‰ºöÂú®ÂºÄÂèëÁöÑËøáÁ®ã‰∏≠Ëá≥Â∞ë‰ºöÂá∫Áé∞crashÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØËÆ©‰∏Ä‰∫õ‰∫ãÊÉÖÂºÇÂ∏∏Â∑•‰Ωú„ÄÇÁîöËá≥Âú®Âêå‰∏Ä‰∫ã‰ª∂ÈÄöÁü•Â§öÊéßÂà∂Âô®ÁöÑÂú∫ÊôØ‰∏≠ÔºåÂè™Ë¶Å‰Ω†ÁöÑÂ∫îÁî®Âú®controllerÂ±ÇÊ¨°ÊúâÁùÄËâØÂ•ΩÁöÑÁªìÊûÑÔºåÊ∂àÊÅØÂ∞ÜÂú®ËØ•Â±ÇÊ¨°‰∏ä‰º†ÈÄí„ÄÇËØ•Â±ÇÊ¨°ËÉΩÂ§üÂêëÂêé‰º†ÈÄíÁõ¥Ëá≥ËÆ©ÊâÄÊúâÈúÄË¶ÅÁü•ÈÅì‰∫ã‰ª∂ÁöÑcontrollersÈÉΩÁü•ÈÅì„ÄÇÂΩìÁÑ∂‰ºöÊúâdelegationÊ®°Âºè‰∏çÈÄÇÂêàÁöÑ‰æãÂ§ñÊÉÖÂÜµÂá∫Áé∞ÔºåËÄå‰∏înotificationÂèØËÉΩÊõ¥Âä†ÊúâÊïà„ÄÇ‰æãÂ¶ÇÔºöÂ∫îÁî®‰∏≠ÊâÄÊúâÁöÑcontrollerÈúÄË¶ÅÁü•ÈÅì‰∏Ä‰∏™‰∫ã‰ª∂„ÄÇÁÑ∂ËÄåËøô‰∫õÁ±ªÂûãÁöÑÂú∫ÊôØÂæàÂ∞ëÂá∫Áé∞„ÄÇÂè¶Â§ñ‰∏Ä‰∏™‰æãÂ≠êÊòØÂΩì‰Ω†Âª∫Á´ã‰∫Ü‰∏Ä‰∏™Êû∂ÊûÑËÄå‰∏îÈúÄË¶ÅÈÄöÁü•ËØ•‰∫ã‰ª∂ÁªôÊ≠£Âú®ËøêË°å‰∏≠Â∫îÁî®„ÄÇ Ê†πÊçÆÁªèÈ™åÔºåÂ¶ÇÊûúÊòØÂ±ûÊÄßÂ±ÇÁöÑ‰∫ã‰ª∂Ôºå‰∏çÁÆ°ÊòØÂú®‰∏çÈúÄË¶ÅÁºñÁ®ãÁöÑÂØπË±°ËøòÊòØÂú®Á¥ßÁ¥ßÁªëÂÆö‰∏Ä‰∏™viewÂØπË±°ÁöÑmodelÂØπË±°ÔºåÊàëÂè™‰ΩøÁî®ËßÇÂØü„ÄÇÂØπ‰∫éÂÖ∂‰ªñÁöÑ‰∫ã‰ª∂ÔºåÊàëÈÉΩ‰ºö‰ΩøÁî®delegateÊ®°Âºè„ÄÇÂ¶ÇÊûúÂõ†‰∏∫ÊüêÁßçÂéüÂõ†Êàë‰∏çËÉΩ‰ΩøÁî®delegateÔºåÈ¶ñÂÖàÊàëÂ∞Ü‰º∞ËÆ°ÊàëÁöÑappÊû∂ÊûÑÊòØÂê¶Âá∫Áé∞‰∫Ü‰∏•ÈáçÁöÑÈîôËØØ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÈîôËØØÔºåÁÑ∂ÂêéÊâç‰ΩøÁî®notification„ÄÇ ‰ªÄ‰πàÊòØËÆæËÆ°Ê®°Âºè ËÆæËÆ°Ê®°ÂºèÊòØ‰∏∫ÁâπÂÆöÂú∫ÊôØ‰∏ãÁöÑÈóÆÈ¢òËÄåÂÆöÂà∂ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇÁâπÂÆöÂú∫ÊôØÊåáÈóÆÈ¢òÊâÄÂú®ÁöÑÈáçÂ§çÂá∫Áé∞ÁöÑÂú∫ÊôØÔºåÈóÆÈ¢òÊåáÁâπÂÆöÁéØÂ¢É‰∏ã‰Ω†ÊÉ≥ËææÊàêÁöÑÁõÆÊ†á„ÄÇÂêåÊ†∑ÁöÑÈóÆÈ¢òÂú®‰∏çÂêåÁöÑÁéØÂ¢É‰∏ã‰ºöÊúâ‰∏çÂêåÁöÑÈôêÂà∂ÂíåÊåëÊàò„ÄÇÂÆöÂà∂ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÊåáÂú®ÁâπÂÆöÁéØÂ¢É‰∏ãÂÖãÊúç‰∫ÜÈóÆÈ¢òÁöÑÈôêÂà∂Êù°‰ª∂ËÄåËææÊàêÁõÆÊ†áÁöÑ‰∏ÄÁßçËÆæËÆ°„ÄÇ ËÆæËÆ°Ê®°ÂºèÁöÑÂàÜÁ±ª ËÆæËÆ°Ê®°ÂºèÂàÜ‰∏∫‰∏âÁßçÁ±ªÂûãÔºåÂÖ±23Áßç„ÄÇ ÂàõÂª∫ÂûãÊ®°ÂºèÔºöÂçï‰æãÊ®°Âºè„ÄÅÊäΩË±°Â∑•ÂéÇÊ®°Âºè„ÄÅÂª∫ÈÄ†ËÄÖÊ®°Âºè„ÄÅÂ∑•ÂéÇÊ®°Âºè„ÄÅÂéüÂûãÊ®°Âºè„ÄÇ ÁªìÊûÑÂûãÊ®°ÂºèÔºöÈÄÇÈÖçÂô®Ê®°Âºè„ÄÅÊ°•Êé•Ê®°Âºè„ÄÅË£ÖÈ•∞Ê®°Âºè„ÄÅÁªÑÂêàÊ®°Âºè„ÄÅÂ§ñËßÇÊ®°Âºè„ÄÅ‰∫´ÂÖÉÊ®°Âºè„ÄÅ‰ª£ÁêÜÊ®°Âºè„ÄÇ Ë°å‰∏∫ÂûãÊ®°ÂºèÔºöÊ®°ÁâàÊñπÊ≥ïÊ®°Âºè„ÄÅÂëΩ‰ª§Ê®°Âºè„ÄÅËø≠‰ª£Âô®Ê®°Âºè„ÄÅËßÇÂØüËÄÖÊ®°Âºè„ÄÅ‰∏≠‰ªãËÄÖÊ®°Âºè„ÄÅÂ§áÂøòÂΩïÊ®°Âºè„ÄÅËß£ÈáäÂô®Ê®°ÂºèÔºàInterpreterÊ®°ÂºèÔºâ„ÄÅÁä∂ÊÄÅÊ®°Âºè„ÄÅÁ≠ñÁï•Ê®°Âºè„ÄÅËÅåË¥£ÈìæÊ®°Âºè(Ë¥£‰ªªÈìæÊ®°Âºè)„ÄÅËÆøÈóÆËÄÖÊ®°Âºè„ÄÇ Á±ªÂ∑•ÂéÇÊñπÊ≥ïÊòØ‰ªÄ‰πàÔºü Á±ªÂ∑•ÂéÇÊñπÊ≥ïÁöÑÂÆûÁé∞ÊòØ‰∏∫‰∫ÜÂêëÂÆ¢Êà∑Êèê‰æõÊñπ‰æøÔºåÂÆÉ‰ª¨Â∞ÜÂàÜÈÖçÂíåÂàùÂßãÂåñÂêàÂú®‰∏Ä‰∏™Ê≠•È™§‰∏≠Ôºå ËøîÂõûË¢´ÂàõÂª∫ÁöÑÂØπË±°ÔºåÂπ∂ ËøõË°åËá™Âä®ÈáäÊîæÂ§ÑÁêÜ„ÄÇ Ëøô‰∫õÊñπÊ≥ïÁöÑÂΩ¢ÂºèÊòØ+ (type)className‚Ä¶ÔºàÂÖ∂‰∏≠ className‰∏çÂåÖÊã¨‰ªª‰ΩïÂâçÁºÄÔºâ„ÄÇ Â∑•ÂéÇÊñπÊ≥ïÂèØËÉΩ‰∏ç‰ªÖ‰ªÖ‰∏∫‰∫ÜÊñπ‰æø‰ΩøÁî®„ÄÇÂÆÉ‰ª¨‰∏ç‰ΩÜÂèØ‰ª•Â∞ÜÂàÜÈÖçÂíåÂàùÂßãÂåñÂêàÂú®‰∏ÄËµ∑ÔºåËøòÂèØ‰ª•‰∏∫ÂàùÂßãÂåñËøáÁ®ãÊèê‰æõÂØπ Ë±°ÁöÑÂàÜÈÖç‰ø°ÊÅØ„ÄÇ Á±ªÂ∑•ÂéÇÊñπÊ≥ïÁöÑÂè¶‰∏Ä‰∏™ÁõÆÁöÑÊòØ‰ΩøÁ±ªÔºàÊØîÂ¶ÇNSWorkspaceÔºâÊèê‰æõÂçï‰æã„ÄÇËôΩ ÁÑ∂init‚Ä¶ÊñπÊ≥ïÂèØ‰ª•Á°ÆËÆ§‰∏Ä ‰∏™Á±ªÂú®ÊØèÊ¨°Á®ãÂ∫èËøêË°åËøáÁ®ãÂè™Â≠òÂú®‰∏Ä‰∏™ÂÆû‰æãÔºå‰ΩÜÂÆÉÈúÄË¶ÅÈ¶ñÂÖàÂàÜÈÖç‰∏Ä‰∏™‚ÄúÁîüÁöÑ‚ÄùÂÆû‰æãÔºåÁÑ∂ÂêéËøòÂøÖÈ°ªÈáäÊîæËØ•ÂÆû‰æã„ÄÇÂ∑•ÂéÇÊñπÊ≥ïÂàôÂèØ‰ª•ÈÅøÂÖç‰∏∫ÂèØËÉΩÊ≤°ÊúâÁî®ÁöÑÂØπË±°Áõ≤ÁõÆÂàÜÈÖçÂÜÖÂ≠ò„ÄÇ Âçï‰æãÊòØ‰ªÄ‰πàÔºüÂçï‰æãÊ®°ÂºèÁöÑÊÑèÊÄùÂ∞±ÊòØÂè™Êúâ‰∏Ä‰∏™ÂÆû‰æã„ÄÇÂçï‰æãÊ®°ÂºèÁ°Æ‰øùÊüê‰∏Ä‰∏™Á±ªÂè™Êúâ‰∏Ä‰∏™ÂÆû‰æãÔºåËÄå‰∏îËá™Ë°åÂÆû‰æãÂåñÂπ∂ÂêëÊï¥‰∏™Á≥ªÁªüÊèê‰æõËøô‰∏™ÂÆû‰æã„ÄÇËøô‰∏™Á±ªÁß∞‰∏∫Âçï‰æãÁ±ª„ÄÇ Âçï‰æãÊ®°ÂºèÁöÑË¶ÅÁÇπÔºö ÊòæÁÑ∂Âçï‰æãÊ®°ÂºèÁöÑË¶ÅÁÇπÊúâ‰∏â‰∏™Ôºõ‰∏ÄÊòØÊüê‰∏™Á±ªÂè™ËÉΩÊúâ‰∏Ä‰∏™ÂÆû‰æãÔºõ‰∫åÊòØÂÆÉÂøÖÈ°ªËá™Ë°åÂàõÂª∫Ëøô‰∏™ÂÆû‰æãÔºõ‰∏âÊòØÂÆÉÂøÖÈ°ªËá™Ë°åÂêëÊï¥‰∏™Á≥ªÁªüÊèê‰æõËøô‰∏™ÂÆû‰æã„ÄÇ Âçï‰æãÊ®°ÂºèÁöÑ‰ºòÁÇπÔºö ÂÆû‰æãÊéßÂà∂ÔºöSingleton ‰ºöÈòªÊ≠¢ÂÖ∂‰ªñÂØπË±°ÂÆû‰æãÂåñÂÖ∂Ëá™Â∑±ÁöÑ Singleton ÂØπË±°ÁöÑÂâØÊú¨Ôºå‰ªéËÄåÁ°Æ‰øùÊâÄÊúâÂØπË±°ÈÉΩËÆøÈóÆÂîØ‰∏ÄÂÆû‰æã„ÄÇ ÁÅµÊ¥ªÊÄßÔºöÂõ†‰∏∫Á±ªÊéßÂà∂‰∫ÜÂÆû‰æãÂåñËøáÁ®ãÔºåÊâÄ‰ª•Á±ªÂèØ‰ª•Êõ¥Âä†ÁÅµÊ¥ª‰øÆÊîπÂÆû‰æãÂåñËøáÁ®ã ÊâãÂÜô‰∏Ä‰∏ãÂçï‰æãÊñπÊ≥ï(ÊàñËÄÖÂçï‰æãÊ®°ÂºèÁöÑËÆæËÆ°ÔºöGCD ÊñπÂºèÂíåÂêåÊ≠•ÈîÅÊñπÂºèÁöÑÂå∫Âà´Âú®Âì™ÈáåÔºüunlock Âë¢ÔºüGCD ÊòØÊÄé‰πà‰øùËØÅÂçï‰æãÁöÑÔºü)image ÁÆÄË¶ÅÊèèËø∞ËßÇÂØüËÄÖÊ®°ÂºèÔºåÂπ∂ËøêÁî®Ê≠§Ê®°ÂºèÁºñÂÜô‰∏ÄÊÆµ‰ª£Á†ÅÔºü ËßÇÂØüËÄÖÊ®°ÂºèÔºàObserverÔºâÊòØÊåá‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂØπË±°ÂØπÂè¶‰∏Ä‰∏™ÂØπË±°ËøõË°åËßÇÂØüÔºåÂΩìË¢´ËßÇÂØüÂØπË±°ÂèëÁîüÂèòÂåñÊó∂ÔºåËßÇÂØüËÄÖÂèØ‰ª•Áõ¥Êé•ÊàñÈó¥Êé•Âú∞ÂæóÂà∞ÈÄöÁü•Ôºå‰ªéËÄåËÉΩËá™Âä®Âú∞Êõ¥Êñ∞ËßÇÂØüËÄÖÁöÑÊï∞ÊçÆÔºåÊàñËÄÖËøõË°å‰∏Ä‰∫õÊìç‰Ωú„ÄÇ ÂÖ∑‰ΩìÂà∞iOSÁöÑÂºÄÂèë‰∏≠ÔºåÂÆûÁé∞ËßÇÂØüËÄÖÊ®°ÂºèÂ∏∏Áî®ÁöÑÊñπÂºèÊúâKVOÂíåNotification‰∏§Áßç„ÄÇ ‰∏§ËÄÖÁöÑ‰∏çÂêåÂú®‰∫éÔºåKVOÊòØË¢´ËßÇÂØüËÄÖ‰∏ªÂä®ÂêëËßÇÂØüËÄÖÂèëÈÄÅÊ∂àÊÅØÔºõNotificationÊòØË¢´ËßÇÂØüËÄÖÂêëNotificationCenterÂèëÈÄÅÊ∂àÊÅØÔºåÂÜçÁî±NotificationCenter postÈÄöÁü•Âà∞ÊØè‰∏™Ê≥®ÂÜåÁöÑËßÇÂØüËÄÖ„ÄÇ Ë∞àË∞à‰Ω†ÂØπMVCÁöÑÁêÜËß£?‰∏∫‰ªÄ‰πàË¶ÅÁî®MVC?Âú®Cocoa‰∏≠MVCÊòØÊÄé‰πàÂÆûÁé∞ÁöÑ?‰Ω†ËøòÁÜüÊÇâÂÖ∂‰ªñÁöÑOCËÆæËÆ°Ê®°ÂºèÊàñÂà´ÁöÑËÆæËÆ°Ê®°ÂºèÂêó? MVCÂ∞±ÊòØModel-View-ControllerÁöÑÁº©ÂÜô,MÊåáÁöÑÊòØ‰∏öÂä°Ê®°Âûã,VÊåáÁöÑÊòØÁî®Êà∑È°µÈù¢,CÊåáÁöÑÊòØÊéßÂà∂Âô®„ÄÇMVCÊòØÊû∂ÊûÑÊ®°Âºè,ÊòØËÆ≤MÂíåVÁöÑ‰ª£Á†ÅÂàÜÁ¶ª,‰ªéËÄå‰ΩøÂêåÈÇ£‰∏™‰∏Ä‰∏™Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑË°®Áé∞ÂΩ¢Âºè„ÄÇ Âçï‰æã,‰ª£ÁêÜ,ËßÇÂØüËÄÖ,Â∑•ÂéÇÊ®°ÂºèÁ≠â Âçï‰æãÊ®°Âºè:‰∏äÈù¢ÊúâËØ¶ÁªÜËØ¥Êòé ‰ª£ÁêÜÊ®°Âºè:‰ª£ÁêÜÊ®°ÂºèÁªôÊüê‰∏Ä‰∏™ÂØπË±°Êèê‰æõ‰∏Ä‰∏™‰ª£ÁêÜÂØπË±°,Âπ∂Áî±‰ª£ÁêÜÂØπË±°ÊéßÂà∂ÂØπÊ∫êÂØπË±°ÁöÑÂºïÁî®.ÊØîÂ¶Ç‰∏Ä‰∏™Â∑•ÂéÇÁîü‰∫ß‰∫Ü‰∫ßÂìÅ,Âπ∂‰∏çÊÉ≥Áõ¥Êé•ÂçñÁªôÁî®Êà∑,ËÄåÊòØÊêû‰∫ÜÂæàÂ§ö‰ª£ÁêÜÂïÜ,Áî®Êà∑ÂèØ‰ª•Áõ¥Êé•Êâæ‰ª£ÁêÜÂïÜ‰π∞‰∏úË•ø,‰ª£ÁêÜÂïÜ‰ªéÂ∑•ÂéÇËøõË¥ß.Â∏∏ËßÅÁöÑÂ¶ÇQQÁöÑËá™Âä®ÂõûÂ§çÂ∞±Â±û‰∫é‰ª£ÁêÜÊã¶Êà™,‰ª£ÁêÜÊ®°ÂºèÂú®iphone‰∏≠ÂæóÂà∞ÂπøÊ≥õÂ∫îÁî®. MVC‰ºòÁÇπ‰∏çÊ≠£Á°ÆÁöÑÊòØA ‰ΩéËÄ¶ÂêàÊÄß B È´òÈáçÁî®ÊÄßÂíåÂèØÈÄÇÁî®ÊÄß C ËæÉ‰ΩéÁöÑÁîüÂëΩÂë®ÊúüÊàêÊú¨ D ‰ª£Á†ÅÈ´òÊïàÁéá ÂèÇËÄÉÁ≠îÊ°àÔºöD ÁêÜÁî±ÔºöMVCÂè™ÊòØ‰∏ÄÁßçËÆæËÆ°Ê®°ÂºèÔºåÂÆÉÁöÑÂá∫Áé∞ÊúâÊØîËæÉ‰πÖÁöÑÂéÜÂè≤‰∫Ü„ÄÇModel-Controller-ViewÊòØÂú®ÂºÄÂèë‰∏≠ÊúÄÂ∏∏ËßÅÂà∞ÁöÑËÆæËÆ°Ê®°ÂºèÔºåÈÄöËøáÂ∞ÜModel„ÄÅView„ÄÅController‰∏âËÄÖÁõ∏‰∫íËÅîÁ≥ªÔºå‰ª•Model‰Ωú‰∏∫Êï∞ÊçÆÂä†Â∑•ÂéÇÔºå‰ª•Controller‰Ωú‰∏∫Ê°•Ê¢ÅÔºåÂ§ÑÁêÜ‰∏öÂä°ÔºåËÄåViewÂè™ÊòØÊï∞ÊçÆÂ±ïÁ§∫Â±ÇÔºåÁêÜÂ∫î‰∏é‰∏öÂä°Êó†ÂÖ≥„ÄÇMVCËÆæËÆ°Ê®°ÂºèÈôç‰Ωé‰∫ÜËÄ¶ÂêàÊÄßÔºåÊèê‰æõ‰∫ÜÈáçÁî®ÊÄßÂíåÈÄÇÁî®ÊÄßÔºåÂèØÊúâÊïàÂú∞ÊèêÈ´òÂºÄÂèëÊïàÁéá„ÄÇ Â¶Ç‰ΩïÁêÜËß£MVVMÊ°ÜÊû∂ÔºåÂÆÉÁöÑ‰ºòÁÇπÂíåÁº∫ÁÇπÂú®Âì™ÔºüËøêÁî®Ê≠§Ê°ÜÊû∂ÁºñÂÜô‰∏ÄÊÆµ‰ª£Á†ÅÔºåÂª∫ËÆÆÈááÁî®ReactiveCocoaÂ∫ìÂÆûÁé∞Ôºõ MVVMÊ°ÜÊû∂Áõ∏ÂØπ‰∫é‰º†ÁªüÁöÑMVCÊù•ËØ¥Ôºå‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÊääÂéüÊú¨Âú®C‰∏≠ÔºàViewControllerÔºâÁöÑ‰∏öÂä°ÈÄªËæë„ÄÅÁΩëÁªúËØ∑Ê±Ç„ÄÅÊï∞ÊçÆÂ≠òÂÇ®Á≠âÊìç‰ΩúÂíåË°®Áé∞ÈÄªËæëÔºåÂàÜÁ¶ªÂà∞ViewModel‰∏≠Ôºå‰ªéËÄå‰ΩøViewControllerÂæóÂà∞Á≤æÁÆÄ MVC‰∏≠ÔºåControllerÂêåÊó∂Êìç‰ΩúModelÂíåViewÔºõMVVM‰∏≠ÔºåViewModel‰Ωú‰∏∫‰∏Ä‰∏™ËøáÊ∏°ÔºåModelÁöÑÊï∞ÊçÆËé∑ÂèñÂíåÂä†Â∑•Áî±ViewModelË¥üË¥£ÔºåÂæóÂà∞ÈÄÇÂêàViewÁöÑÊï∞ÊçÆÔºåÂà©Áî®ÁªëÂÆöÊú∫Âà∂Ôºå‰ΩøÂæóViewÂæó‰ª•Ëá™Âä®Êõ¥Êñ∞„ÄÇ ‰ºòÁÇπÔºö Â±ÇÊ¨°Êõ¥Âä†ÂàÜÊòéÊ∏ÖÊô∞ ‰ª£Á†ÅÁÆÄÊ¥Å‰ºòÈõÖ ÂáèÂ∞ëVCÁöÑÂ§çÊùÇÊÄß ‰ª£Á†ÅÂíåÁïåÈù¢ÂÆåÂÖ®ÂàÜÁ¶ª Êñπ‰æøÊµãËØï Áº∫ÁÇπÔºö MVVMÈúÄË¶Å‰ΩøÁî®Êï∞ÊçÆÁªëÂÆöÊú∫Âà∂ÔºåÂØπ‰∫éOS X ÂºÄÂèëÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Coocoa BindingÔºåÂØπ‰∫éiOSÔºåÊ≤°ÊúâÂ§™Â•ΩÁöÑÊï∞ÊçÆÁªëÂÆöÊñπÊ≥ïÔºåÂèØ‰ª•‰ΩøÁî®KVOÔºå‰ΩÜÂ¶ÇÊûúÈúÄË¶ÅÁªëÂÆöÁöÑÂ±ûÊÄßÂ§™Â§öÁöÑËØùÔºåÈúÄË¶ÅÁºñÂÜôÂ§ßÈáèÁöÑselector‰ª£Á†Å„ÄÇ ReactiveCocoaÊèê‰æõ‰∫Ü‰∏ÄÁßçÂæàÊñπ‰æø‰ºòÈõÖÁöÑÁªëÂÆöÊú∫Âà∂„ÄÇ ReactiveCocoa RACÂÖ∑ÊúâÂáΩÊï∞ÂºèÁºñÁ®ãÂíåÂìçÂ∫îÂºèÁºñÁ®ãÁöÑÁâπÊÄß ËØïÂõæËß£ÂÜ≥‰ª•‰∏ãÈóÆÈ¢ò ‰º†ÁªüiOSÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÁä∂ÊÄÅ‰ª•ÂèäÁä∂ÊÄÅ‰πãÈó¥‰æùËµñËøáÂ§öÁöÑÈóÆÈ¢ò ‰º†ÁªüMVCÊû∂ÊûÑÁöÑÈóÆÈ¢òÔºöControllerÊØîËæÉÂ§çÊùÇÔºåÂèØÊµãËØïÊÄßÂ∑Æ Êèê‰æõÁªü‰∏ÄÁöÑÊ∂àÊÅØ‰º†ÈÄíÊú∫Âà∂ Âì™‰∫õÈÄîÂæÑÂèØ‰ª•ËÆ© ViewController Áò¶‰∏ãÊù•Ôºü Êää Data Source ÂíåÂÖ∂‰ªñ Protocols ÂàÜÁ¶ªÂá∫Êù•(Â∞ÜUITableViewÊàñËÄÖUICollectionViewÁöÑ‰ª£Á†ÅÊèêÂèñÂá∫Êù•ÊîæÂú®ÂÖ∂‰ªñÁ±ª‰∏≠) Â∞Ü‰∏öÂä°ÈÄªËæëÁßªÂà∞ Model ‰∏≠(ÂíåÊ®°ÂûãÊúâÂÖ≥ÁöÑÈÄªËæëÂÖ®ÈÉ®Âú®model‰∏≠ÂÜô) ÊääÁΩëÁªúËØ∑Ê±ÇÈÄªËæëÁßªÂà∞ Model Â±Ç(ÁΩëÁªúËØ∑Ê±Ç‰æùÈù†Ê®°Âûã) Êää View ‰ª£Á†ÅÁßªÂà∞ View Â±Ç(Ëá™ÂÆö‰πâView) ‰Ω†Âú®‰Ω†ÁöÑÈ°πÁõÆ‰∏≠Áî®Âà∞‰∫ÜÂì™‰∫õËÆæËÆ°Ê®°ÂºèÔºüÈ°πÁõÆ‰∏≠‰ΩøÁî®‰∫ÜÂæàÂ§öÁöÑËÆæËÆ°Ê®°ÂºèÔºåÊàëÁõ∏‰ø°Èù¢ËØïÂÆòÊúÄÂ•ΩÂê¨Âà∞ÁöÑ‰∏ç‰ªÖ‰ªÖÊòØËÆæËÆ°Ê®°ÂºèÁöÑÂêçÂ≠óÔºåÊõ¥ÊÉ≥Âê¨Âà∞ÁöÑÊòØËøô‰∫õËÆæËÆ°Ê®°ÂºèÂú®È°πÁõÆ‰∏≠Â¶Ç‰ΩïÂ∫îÁî®„ÄÇÂõ†Ê≠§ÔºåÁ¨îËÄÖËÆ§‰∏∫Ëøô‰∏™ÈóÆÈ¢òÈöêÂºèÂú∞ËØ¥Êòé‰∫ÜÂ∫îËØ•ÂõûÁ≠îËÆæËÆ°Ê®°ÂºèÂèäÂÖ∂Âú®È°πÁõÆ‰∏≠ÁöÑÂ∫îÁî®„ÄÇ ÂèÇËÄÉÁ≠îÊ°àÔºö ‚Ä¢ Âçï‰æãËÆæËÆ°Ê®°ÂºèÔºöÂú®È°πÁõÆ‰∏≠ÔºåÂçï‰æãÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑ„ÄÇÊØîÂ¶ÇUIApplication„ÄÅNSUserDefaultsÂ∞±ÊòØËãπÊûúÊèê‰æõÁöÑÂçï‰æã„ÄÇÂú®È°πÁõÆ‰∏≠ÁªèÂ∏∏‰ºöÂ∞ÜÁî®Êà∑Êï∞ÊçÆÁÆ°ÁêÜÂ∞ÅË£ÖÊàê‰∏Ä‰∏™Âçï‰æãÁ±ªÔºåÂõ†Ê≠§Áî®Êà∑ÁöÑ‰ø°ÊÅØÈúÄË¶ÅÂÖ®Â±Ä‰ΩøÁî®„ÄÇ ‚Ä¢ MVCËÆæËÆ°Ê®°ÂºèÔºöÁé∞Âú®ÁªùÂ§ßÈÉ®ÂàÜÈ°πÁõÆÈÉΩÊòØÂü∫‰∫éMVCËÆæËÆ°Ê®°ÂºèÁöÑÔºåÁé∞Âú®Êúâ‰∏ÄÈÉ®ÂàÜÂºÄÂèëËÄÖÈááÁî®MVVM„ÄÅMVPÁ≠âÊ®°Âºè„ÄÇ ‚Ä¢ ÈÄöÁü•(NSNotification)Ê®°ÂºèÔºöÈÄöÁü•Âú®ÂºÄÂèë‰∏≠ÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑÔºåÂØπ‰∫éË∑®Ê®°ÂùóÁöÑÁ±ª‰∫§‰∫íÔºåÈúÄË¶Å‰ΩøÁî®ÈÄöÁü•ÔºõÂØπ‰∫éÂ§öÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºå‰ΩøÁî®ÈÄöÁü•Êõ¥Â•ΩÂÆûÁé∞„ÄÇ ‚Ä¢ Â∑•ÂéÇËÆæËÆ°Ê®°ÂºèÔºöÂú®ÊàëÁöÑÈ°πÁõÆ‰∏≠‰ΩøÁî®‰∫ÜÂ§ßÈáèÁöÑÂ∑•ÂéÇËÆæËÆ°Ê®°ÂºèÔºåÁâπÂà´ÊòØÁîüÊàêÊéß‰ª∂ÁöÑAPIÔºåÈÉΩÂ∑≤ÁªèÂ∞ÅË£ÖÊàê‰∏ÄÂ•óÔºåÂÖ®ÈÉ®ÊòØÊâ©Â±ïÁöÑÁ±ªÊñπÊ≥ïÔºåÂèØÁÆÄÂåñÂæàÂ§öÁöÑ‰ª£Á†Å„ÄÇ ‚Ä¢ KVC/KVOËÆæËÆ°Ê®°ÂºèÔºöÊúâÁöÑÊó∂ÂÄôÈúÄË¶ÅÁõëÂê¨Êüê‰∏™Á±ªÁöÑÂ±ûÊÄßÂÄºÁöÑÂèòÂåñËÄåÂÅöÂá∫Áõ∏Â∫îÁöÑÊîπÂèòÔºåËøôÊó∂ÂÄô‰ºö‰ΩøÁî®KVC/KVOËÆæËÆ°Ê®°Âºè„ÄÇÂú®È°πÁõÆ‰∏≠ÔºåÊàëÈúÄË¶ÅÁõëÂê¨model‰∏≠ÁöÑÊüê‰∏™Â±ûÊÄßÂÄºÁöÑÂèòÂåñÔºåÂΩìÂèòÂåñÊó∂ÔºåÈúÄË¶ÅÊõ¥Êñ∞UIÊòæÁ§∫ÔºåËøôÊó∂ÂÄô‰ΩøÁî®KVC/KVOËÆæËÆ°Ê®°ÂºèÂ∞±ÂæàÊñπ‰æø‰∫Ü„ÄÇ Â∞±ËØ¥Ëøô‰πàÂ§öÂêßÔºåËøòÊúâÂæàÂ§öÁöÑËÆæËÆ°Ê®°ÂºèÔºå‰∏çËøáÂÖ∂ÂÆÉÂπ∂‰∏çÊòØÈÇ£‰πàÂ∏∏Áî®„ÄÇ Â¶Ç‰ΩïÂÆûÁé∞Âçï‰æãÔºåÂçï‰æã‰ºöÊúâ‰ªÄ‰πàÂºäÁ´ØÔºüÂçï‰æãÂú®È°πÁõÆ‰∏≠ÁöÑÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑÔºåÂÆÉÂèØ‰ª•‰ΩøÊàë‰ª¨ÂÖ®Â±ÄÈÉΩÂèØÂÖ±‰∫´Êàë‰ª¨ÁöÑÊï∞ÊçÆ„ÄÇËøôÂè™ÊòØÁÆÄÂçïÁöÑÈóÆÈ¢òÔºåÂ§ßÂÆ∂Ê†πÊçÆËá™Â∑±ÁöÑÊÉÖÂÜµÂõûÁ≠î„ÄÇ ÂèÇËÄÉÁ≠îÊ°àÔºö ‚Ä¢ È¶ñÂÖàÔºåÂçï‰æãÂÜôÊ≥ïÊúâÂ•ΩÂá†ÁßçÔºåÈÄöÂ∏∏ÁöÑÂÜôÊ≥ïÊòØÂü∫‰∫éÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂÜôÊ≥ïÔºåÁªìÂêàdispatch_onceÊù•‰ΩøÁî®Ôºå‰øùËØÅÂçï‰æãÂØπË±°Âè™‰ºöË¢´ÂàõÂª∫‰∏ÄÊ¨°„ÄÇÂ¶ÇÊûú‰∏çÂ∞èÂøÉÈîÄÊØÅ‰∫ÜÂçï‰æãÔºåÂÜçË∞ÉÁî®Âçï‰æãÁîüÊàêÊñπÊ≥ïÊòØ‰∏ç‰ºöÂÜçÂàõÂª∫ÁöÑ„ÄÇ ‚Ä¢ ÂÖ∂Ê¨°ÔºåÁî±‰∫éÂçï‰æãÊòØÁ∫¶ÂÆö‰øóÊàêÁöÑÔºåÂõ†Ê≠§Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÈÄöÂ∏∏‰∏ç‰ºöÂéªÈáçÂÜôÂÜÖÂ≠òÁÆ°ÁêÜÊñπÊ≥ï„ÄÇ Âçï‰æãÁ°ÆÂÆûÁªôÊàë‰ª¨Â∏¶Êù•ÁöÑ‰æøÂà©Ôºå‰ΩÜÊòØÂÆÉ‰πü‰ºöÊúâ‰ª£‰ª∑ÁöÑ„ÄÇÂçï‰æã‰∏ÄÊó¶ÂàõÂª∫ÔºåÊï¥‰∏™App‰ΩøÁî®ËøáÁ®ãÈÉΩ‰∏ç‰ºöÈáäÊîæÔºåËøô‰ºöÂç†Áî®ÂÜÖÂ≠òÔºåÂõ†Ê≠§‰∏çÂèØÊª•Áî®Âçï‰æã„ÄÇ ‰Ω†Âú®‰Ω†ÁöÑÈ°πÁõÆ‰∏≠Áî®Âà∞‰∫ÜÂì™‰∫õËÆæËÆ°Ê®°ÂºèÔºü ËÆæËÆ°Ê®°ÂºèÊúâÂæàÂ§ö,Èù¢ËØïÂÆòËÇØÂÆö‰∏çÊÉ≥Âê¨‰Ω†ÊääÈ°πÁõÆÈáåÁöÑËÆæËÆ°Ê®°ÂºèÂêçÂ≠óÊä•Áªô‰ªñ,‰ªñÊÉ≥Âê¨ÂæóËÇØÂÆöÊòØ‰Ω†ÊòØÊÄé‰πàÂéªÁî®Ëøô‰∫õËÆæËÆ°Ê®°ÂºèÁöÑ ÂèÇËÄÉÁ≠îÊ°à: MVC:Ëøô‰∏™ËÆæËÆ°Ê®°ÂûãÂ§ßÈÉ®ÂàÜÂ∫îÁî®Â∫îËØ•ÈÉΩÂú®Áî®,‰ªãÁªç‰∏ãMVCÂ∞±Â•Ω Âçï‰æã:Âçï‰æãÂú®È°πÁõÆ‰∏≠Áî®ÁöÑËøòÊòØËõÆÂ§öÁöÑ,ÂÉèÁôªÂΩïÁïåÈù¢,ÂØπ‰∏Ä‰∫õÁ¨¨‰∏âÊñπÊ°ÜÊû∂‰∫åÊ¨°Â∞ÅË£ÖÁ≠âÁ≠â KVC/KVO:Ëøô‰∏™Áî®ÁöÑÂ∫îËØ•‰πüÂæàÂ§ö,KVCÁî®Êù•ÊõøÊç¢ÊéâÁ≥ªÁªüÁöÑtabbar,Áî®KVOÊù•ÁõëÂê¨ÂÅèÁßªÈáèÊù•ÂÆåÊàê‰∏ãÊãâÂà∑Êñ∞,ÊîπÂèòÂØºËà™Êù°ËÉåÊôØÈ¢úËâ≤Ëøô‰∫õ Â∑•ÂéÇÊñπÊ≥ï:Ëøô‰∏™Áî®ÁöÑÊõ¥Â§ö‰∫Ü,ËÆæÁΩÆ‰∏Ä‰∫õËá™ÂÆö‰πâViewËÇØÂÆöË¶ÅÁî®Âà∞Ëøô‰∏™ËÆæËÆ°Ê®°Âºè Â¶Ç‰ΩïÂÆûÁé∞Âçï‰æãÔºåÂçï‰æã‰ºöÊúâ‰ªÄ‰πàÂºäÁ´ØÔºü Ëøô‰∏™ÈóÆÈ¢òËøòÊòØËõÆÁÆÄÂçïÁöÑ,ËØ¥‰∏ãÂçï‰æãÊòØÊÄé‰πàÂÜôÁöÑ,Âçï‰æãÁöÑÁº∫ÁÇπÂ∞±Â•Ω ÂèÇËÄÉÁ≠îÊ°à: // OCÁâà +(instancetype)sharedInstance { static id sharedInstance = nil; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^{ sharedInstance = [[self alloc] init]; }); return sharedInstance; } // SwiftÁâà static let sharedInstance : &lt;#SingletonClass#&gt; = &lt;#SingletonClass#&gt;() Âçï‰æãÁöÑÁº∫ÁÇπ‰πüÂ∞±ÊòØ‰ºö‰∏ÄÁõ¥Âç†ÁùÄËøôÂùóÂÜÖÂ≠ò,‰∏ç‰ºöË¢´ÈáäÊîæ Âçï‰æã‰π¶ÂÜô ‰º™Âçï‰æã 1„ÄÅ Ëé∑ÂèñÂçï‰æãÂØπË±°ÁöÑÊñπÊ≥ï + (DataHandle *)sharedDataHandle; // ÂàõÂª∫Âçï‰æãÂØπË±°ÁöÑÊñπÊ≥ï„ÄÇÁ±ªÊñπÊ≥ï ÂëΩÂêçËßÑÂàôÔºö shared + Á±ªÂêç 2„ÄÅ ÊñπÊ≥ïÁöÑÂÆûÁé∞ // Âõ†‰∏∫ÂÆû‰æãÊòØÂÖ®Â±ÄÁöÑ Âõ†Ê≠§Ë¶ÅÂÆö‰πâ‰∏∫ÂÖ®Â±ÄÂèòÈáèÔºå‰∏îÈúÄË¶ÅÂ≠òÂÇ®Âú®ÈùôÊÄÅÂå∫Ôºå‰∏çÈáäÊîæ„ÄÇ‰∏çËÉΩÂ≠òÂÇ®Âú®Ê†àÂå∫„ÄÇ static DataHandle *handle = nil; // ‰º™Âçï‰æã Âíå ÂÆåÊï¥ÁöÑÂçï‰æã„ÄÇ ‰ª•ÂèäÁ∫øÁ®ãÁöÑÂÆâÂÖ®„ÄÇ // ‰∏ÄËà¨‰ΩøÁî®‰º™Âçï‰æãÂ∞±Ë∂≥Â§ü‰∫Ü ÊØèÊ¨°ÈÉΩÁî® sharedDataHandle ÂàõÂª∫ÂØπË±°„ÄÇ + (DataHandle *)sharedDataHandle { // Ê∑ªÂä†ÂêåÊ≠•ÈîÅÔºå‰∏ÄÊ¨°Âè™ËÉΩ‰∏Ä‰∏™Á∫øÁ®ãËÆøÈóÆ„ÄÇÂ¶ÇÊûúÊúâÂ§ö‰∏™Á∫øÁ®ãËÆøÈóÆÔºåÁ≠âÂæÖ„ÄÇ‰∏Ä‰∏™ËÆøÈóÆÁªìÊùüÂêé‰∏ã‰∏Ä‰∏™„ÄÇ @synchronized(self){ if (nil == handle) { handle = [[DataHadle alloc] init]; } } return handle; } ÂÆåÊï¥Âçï‰æã ÂÆåÊï¥ÁöÑÂçï‰æã ÂÆåÊï¥ÁöÑÂçï‰æãË¶ÅÊ±ÇÊØîËæÉÈ´òÔºå‰∏ç‰ªÖË¶ÅÊ±ÇÊàë‰ª¨ÈÄöËøáÊñπÊ≥ïËé∑ÂèñÁöÑÂØπË±°ÊòØÂçï‰æãÔºåÂ¶ÇÊûúÊúâ ÂØπËØ•ÂØπË±°ËøõË°åcopy mutableCopy copyWithZone Á≠âÊìç‰ΩúÊó∂Ôºå‰πüÊòØÂêå‰∏Ä‰ªΩÂØπË±°„ÄÇËøôÂ∞±Ë¶ÅÊ±ÇÊàë‰ª¨ÂøÖÈ°ªÈáçÂÜôËøô‰∫õÊñπÊ≥ïÔºåÂú®Ëøô‰∫õÊñπÊ≥ïÂÜÖÈÉ®ÂÅö‰∏Ä‰∫õÊìç‰Ωú„ÄÇ ÂÆåÊï¥ÁöÑÂçï‰æãË¶ÅÂÅöÂà∞Âõõ‰∏™ÊñπÈù¢Ôºö ‰∏∫Âçï‰æãÂØπË±°ÂÆûÁé∞‰∏Ä‰∏™ÈùôÊÄÅÂÆû‰æã,ÁÑ∂ÂêéËÆæÁΩÆÊàênilÔºå ÊûÑÈÄ†ÊñπÊ≥ïÊ£ÄÊü•ÈùôÊÄÅÂÆû‰æãÊòØÂê¶‰∏∫nilÔºåÊòØÂàôÊñ∞Âª∫Âπ∂ËøîÂõû‰∏Ä‰∏™ÂÆû‰æãÔºå ÈáçÂÜôallocWithZoneÊñπÊ≥ïÔºåÁî®Êù•‰øùËØÅÂÖ∂‰ªñ‰∫∫Áõ¥Êé•‰ΩøÁî®allocÂíåinitËØïÂõæËé∑Âæó‰∏Ä‰∏™Êñ∞ÂÆû‰æãÁöÑÊó∂ÂÄô‰∏ç‰ºö‰∫ßÁîü‰∏Ä‰∏™Êñ∞ÂÆû‰æãÔºå ÈÄÇÂΩìÂÆûÁé∞copyWithZoneÔºå,retain,retainCount,releaseÂíåautorelease Á≠âÊñπÊ≥ï 1„ÄÅ Ëé∑ÂèñÂçï‰æãÂØπË±°ÁöÑÊñπÊ≥ï + (DataHandle *)sharedDataHandle; // ÂàõÂª∫Âçï‰æãÂØπË±°ÁöÑÊñπÊ≥ï„ÄÇÁ±ªÊñπÊ≥ï ÂëΩÂêçËßÑÂàôÔºö shared + Á±ªÂêç 2„ÄÅ ÊñπÊ≥ïÁöÑÂÆûÁé∞ @synchronized(self){ if (nil == handle) { handle = [[super allocWithZone:nil] init]; // ÈÅøÂÖçÊ≠ªÂæ™ÁéØ // Â¶ÇÊûú Âú®Âçï‰æãÁ±ªÈáåÈù¢ÈáçÂÜô‰∫Ü allocWithZone ÊñπÊ≥ï ÔºåÂú®ÂàõÂª∫Âçï‰æãÂØπË±°Êó∂ ‰ΩøÁî® [[DataHandle alloc] init] ÂàõÂª∫Ôºå‰ºöÊ≠ªÂæ™ÁéØ„ÄÇ } } return handle; 3„ÄÅ ÈáçÂÜô allocWithZone copy mutableCopy copyWithZone Èò≤Ê≠¢Â§ñÁïåÊã∑Ë¥ùÈÄ†ÊàêÂ§ö‰∏™ÂÆû‰æãÔºå ‰øùËØÅÂÆû‰æãÁöÑÂîØ‰∏ÄÊÄß„ÄÇ Ê≥®ÊÑèÔºöÂ¶ÇÊûúËá™Â∑±ÈáçÂÜô‰∫Ü allocWithZone Â∞±‰∏çË¶ÅÂÜçË∞ÉÁî®Ëá™Ë∫´ÁöÑ alloc ÊñπÊ≥ïÔºåÂê¶Âàô‰ºöÂá∫Áé∞Ê≠ªÂæ™ÁéØ„ÄÇ + (instancetype)allocWithZone:(struct _NSZone *)zone { return [DataHandle sharedDataHandle]; } - (id)copy { return self; } - (id)mutableCopy { return self; } + (id)copyWithZone:(struct _NSZone *)zone { return self; } 4„ÄÅ ÈáçÂÜô alloc retain release autorelease retainCount + (instancetype)alloc { return [DataHandle sharedDataHandle]; } // Âõ†‰∏∫Âè™Êúâ‰∏Ä‰∏™ÂÆû‰æãÔºå ‰∏ÄÁõ¥‰∏çÈáäÊîæÔºåÊâÄ‰ª•‰∏çÂ¢ûÂä†ÂºïÁî®ËÆ°Êï∞„ÄÇÊó†ÊÑè‰πâ„ÄÇ - (instancetype)retain { return self; } - (oneway void)release { // nothing } - (instancetype)autorelease { return self; } - (NSUInteger)retainCount { return NSUIntegerMax; // ËøîÂõûÊï¥ÂΩ¢ÊúÄÂ§ßÂÄº„ÄÇ }]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò18--Â§öÂ™í‰Ωì]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9818-%E5%A4%9A%E5%AA%92%E4%BD%93%2F</url>
    <content type="text"><![CDATA[iPhone OS‰∏ªË¶ÅÊèê‰æõ‰∫ÜÂá†ÁßçÊí≠ÊîæÈü≥È¢ëÁöÑÊñπÊ≥ïÔºüSystemSound Services AVAudioPlayer Á±ª Audio Queue Services OpenAL ‰ΩøÁî®AVAudioPlayerÁ±ªË∞ÉÁî®Âì™‰∏™Ê°ÜÊû∂„ÄÅ‰ΩøÁî®Ê≠•È™§ÔºüAVFoundation.framework Ê≠•È™§ÔºöÈÖçÁΩÆ AVAudioPlayer ÂØπË±°Ôºõ ÂÆûÁé∞ AVAudioPlayer Á±ªÁöÑÂßîÊâòÊñπÊ≥ïÔºõ ÊéßÂà∂ AVAudioPlayer Á±ªÁöÑÂØπË±°Ôºõ ÁõëÊéßÈü≥ÈáèÊ∞¥Âπ≥Ôºõ ÂõûÊîæËøõÂ∫¶ÂíåÊãñÊãΩÊí≠Êîæ„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò17--Â§öÁ∫øÁ®ã]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9817-%E5%A4%9A%E7%BA%BF%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[‰Ω†‰ª¨È°πÁõÆ‰∏≠‰∏∫‰ªÄ‰πàÂ§öÁ∫øÁ®ãÁî®GCDËÄå‰∏çÁî®NSOperationÂë¢? ‰Ω†ÊúâÊ≤°ÊúâÂèëÁé∞ÂõΩÂ§ñÁöÑÂ§ßÁâõ‰ªñ‰ª¨Â§öÁ∫øÁ®ãÈÉΩÊòØÁî®NSOperation? ‰Ω†ËÉΩÂëäËØâÊàë‰ªñ‰ª¨ËøôÊ†∑ÂÅöÁöÑÁêÜÁî±Âêó?ÂÖ≥Á≥ª: ‚ë†:ÂÖàÊêûÊ∏Ö‰∏§ËÄÖÁöÑÂÖ≥Á≥ª,NSOpertaionQueueÁî®GCDÊûÑÂª∫Â∞ÅË£ÖÁöÑÔºåÊòØGCDÁöÑÈ´òÁ∫ßÊäΩË±°! ‚ë°:GCD‰ªÖ‰ªÖÊîØÊåÅFIFOÈòüÂàóÔºåËÄåNSOperationQueue‰∏≠ÁöÑÈòüÂàóÂèØ‰ª•Ë¢´ÈáçÊñ∞ËÆæÁΩÆ‰ºòÂÖàÁ∫ßÔºå‰ªéËÄåÂÆûÁé∞‰∏çÂêåÊìç‰ΩúÁöÑÊâßË°åÈ°∫Â∫èË∞ÉÊï¥„ÄÇGCD‰∏çÊîØÊåÅÂºÇÊ≠•Êìç‰Ωú‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªËÆæÁΩÆ„ÄÇÂ¶ÇÊûúÊüê‰∏™Êìç‰ΩúÁöÑ‰æùËµñÂè¶‰∏Ä‰∏™Êìç‰ΩúÁöÑÊï∞ÊçÆÔºàÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÊ®°ÂûãÊòØÂÖ∂‰∏≠‰πã‰∏ÄÔºâÔºå‰ΩøÁî®NSOperationQueueËÉΩÂ§üÊåâÁÖßÊ≠£Á°ÆÁöÑÈ°∫Â∫èÊâßË°åÊìç‰Ωú„ÄÇGCDÂàôÊ≤°ÊúâÂÜÖÂª∫ÁöÑ‰æùËµñÂÖ≥Á≥ªÊîØÊåÅ„ÄÇ ‚ë¢:NSOperationQueueÊîØÊåÅKVOÔºåÊÑèÂë≥ÁùÄÊàë‰ª¨ÂèØ‰ª•ËßÇÂØü‰ªªÂä°ÁöÑÊâßË°åÁä∂ÊÄÅ„ÄÇ ‰∫ÜËß£‰ª•‰∏ä‰∏çÂêåÔºåÊàë‰ª¨ÂèØ‰ª•‰ªé‰ª•‰∏ãËßíÂ∫¶Êù•ÂõûÁ≠î ÊÄßËÉΩ:‚ë†:GCDÊõ¥Êé•ËøëÂ∫ïÂ±ÇÔºåËÄåNSOperationQueueÂàôÊõ¥È´òÁ∫ßÊäΩË±°ÔºåÊâÄ‰ª•GCDÂú®ËøΩÊ±ÇÊÄßËÉΩÁöÑÂ∫ïÂ±ÇÊìç‰ΩúÊù•ËØ¥ÔºåÊòØÈÄüÂ∫¶ÊúÄÂø´ÁöÑ„ÄÇËøôÂèñÂÜ≥‰∫é‰ΩøÁî®InstrumentsËøõË°å‰ª£Á†ÅÊÄßËÉΩÂàÜÊûêÔºåÂ¶ÇÊúâÂøÖË¶ÅÁöÑËØù ‚ë°:‰ªéÂºÇÊ≠•Êìç‰Ωú‰πãÈó¥ÁöÑ‰∫ãÂä°ÊÄßÔºåÈ°∫Â∫èË°åÔºå‰æùËµñÂÖ≥Á≥ª„ÄÇGCDÈúÄË¶ÅËá™Â∑±ÂÜôÊõ¥Â§öÁöÑ‰ª£Á†ÅÊù•ÂÆûÁé∞ÔºåËÄåNSOperationQueueÂ∑≤ÁªèÂÜÖÂª∫‰∫ÜËøô‰∫õÊîØÊåÅ ‚ë¢:Â¶ÇÊûúÂºÇÊ≠•Êìç‰ΩúÁöÑËøáÁ®ãÈúÄË¶ÅÊõ¥Â§öÁöÑË¢´‰∫§‰∫íÂíåUIÂëàÁé∞Âá∫Êù•ÔºåNSOperationQueue‰ºöÊòØ‰∏Ä‰∏™Êõ¥Â•ΩÁöÑÈÄâÊã©„ÄÇÂ∫ïÂ±Ç‰ª£Á†Å‰∏≠Ôºå‰ªªÂä°‰πãÈó¥‰∏çÂ§™‰∫íÁõ∏‰æùËµñÔºåËÄåÈúÄË¶ÅÊõ¥È´òÁöÑÂπ∂ÂèëËÉΩÂäõÔºåGCDÂàôÊõ¥Êúâ‰ºòÂäø ÊúÄÂêéÁöÑ‰∏ÄÂè•ËØù:Âà´Âøò‰∫ÜÈ´òÂæ∑Á∫≥ÁöÑÊïôËØ≤Ôºö‚ÄúÂú®Â§ßÊ¶Ç97%ÁöÑÊó∂Èó¥ÈáåÔºåÊàë‰ª¨Â∫îËØ•ÂøòËÆ∞ÂæÆÂ∞èÁöÑÊÄßËÉΩÊèêÂçá„ÄÇËøáÊó©‰ºòÂåñÊòØ‰∏áÊÅ∂‰πãÊ∫ê„ÄÇ‚ÄùÂè™ÊúâInstrumentsÊòæÁ§∫ÊúâÁúüÊ≠£ÁöÑÊÄßËÉΩÊèêÂçáÊó∂ÊâçÊúâÂøÖË¶ÅÁî®‰ΩéÁ∫ßÁöÑGCD„ÄÇ ËØ¶Ëß£GCDÊ≠ªÈîÅunix‰∏äËøõÁ®ãÊÄé‰πàÈÄö‰ø°Ôºü UNIX‰∏ªË¶ÅÊîØÊåÅ‰∏âÁßçÈÄö‰ø°ÊñπÂºèÔºö Âü∫Êú¨ÈÄö‰ø°Ôºö‰∏ªË¶ÅÁî®Êù•ÂçèË∞ÉËøõÁ®ãÈó¥ÁöÑÂêåÊ≠•Âíå‰∫íÊñ• ÈîÅÊñá‰ª∂ÈÄö‰ø°:ÈÄö‰ø°ÁöÑÂèåÊñπÈÄöËøáÊü•ÊâæÁâπÂÆöÁõÆÂΩï‰∏ãÁâπÂÆöÁ±ªÂûãÁöÑÊñá‰ª∂(Áß∞ÈîÅÊñá‰ª∂)Êù•ÂÆåÊàêËøõÁ®ãÈó¥ ÂØπ‰∏¥ÁïåËµÑÊ∫êËÆøÈóÆÊó∂ÁöÑ‰∫íÊñ•Ôºõ‰æãÂ¶ÇËøõÁ®ãp1ËÆøÈóÆ‰∏Ä‰∏™‰∏¥ÁïåËµÑÊ∫êÔºåÈ¶ñÂÖàÊü•ÁúãÊòØÂê¶Êúâ‰∏Ä‰∏™ÁâπÂÆöÁ±ªÂûãÊñá‰ª∂ÔºåËã•ÊúâÔºåÂàôÁ≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÂÜçÊü•ÊâæÈîÅÊñá‰ª∂„ÄÇ ËÆ∞ÂΩïÈîÅÊñá‰ª∂ ÁÆ°ÈÅìÈÄö‰ø°ÔºöÈÄÇÂ∫îÂ§ßÊâπÈáèÁöÑÊï∞ÊçÆ‰º†ÈÄí IPC ÔºöÈÄÇÂ∫îÂ§ßÊâπÈáèÁöÑÊï∞ÊçÆ‰º†ÈÄí Âàó‰∏æÂá†ÁßçËøõÁ®ãÁöÑÂêåÊ≠•Êú∫Âà∂„ÄÅËøõÁ®ãÁöÑÈÄö‰ø°ÈÄîÂæÑ„ÄÅÊ≠ªÈîÅÂèäÊ≠ªÈîÅÁöÑÂ§ÑÁêÜÊñπÊ≥ï„ÄÇ ËøõÁ®ãÁöÑÂêåÊ≠•Êú∫Âà∂ÂéüÂ≠êÊìç‰Ωú ‰ø°Âè∑ÈáèÊú∫Âà∂ Ëá™ÊóãÈîÅ ÁÆ°Á®ãÔºå‰ºöÂêàÔºåÂàÜÂ∏ÉÂºèÁ≥ªÁªü ËøõÁ®ã‰πãÈó¥ÈÄö‰ø°ÁöÑÈÄîÂæÑÔºöÂÖ±‰∫´Â≠òÂÇ®Á≥ªÁªüÊ∂àÊÅØ‰º†ÈÄíÁ≥ªÁªüÁÆ°ÈÅìÔºö‰ª•Êñá‰ª∂Á≥ªÁªü‰∏∫Âü∫Á°Ä ËøõÁ®ãÊ≠ªÈîÅÁöÑÂéüÂõ†ÔºöËµÑÊ∫êÁ´û‰∫âÂèäËøõÁ®ãÊé®ËøõÈ°∫Â∫èÈùûÊ≥ï Ê≠ªÈîÅÁöÑ4‰∏™ÂøÖË¶ÅÊù°‰ª∂Ôºö‰∫íÊñ•„ÄÅËØ∑Ê±Ç‰øùÊåÅ„ÄÅ‰∏çÂèØÂâ•Â§∫„ÄÅÁéØË∑Ø Ê≠ªÈîÅÁöÑÂ§ÑÁêÜÔºöÈ∏µÈ∏üÁ≠ñÁï•„ÄÅÈ¢ÑÈò≤Á≠ñÁï•„ÄÅÈÅøÂÖçÁ≠ñÁï•„ÄÅÊ£ÄÊµã‰∏éËß£Èô§Ê≠ªÈîÅ Á∫øÁ®ã‰∏éËøõÁ®ãÁöÑÂå∫Âà´ÂíåËÅîÁ≥ª? Á∫øÁ®ãÊòØËøõÁ®ãÁöÑÂü∫Êú¨Âçï‰Ωç„ÄÇ ËøõÁ®ãÂíåÁ∫øÁ®ãÈÉΩÊòØÁî±Êìç‰ΩúÁ≥ªÁªüÊâÄ‰∫ßÁîüÁöÑÁ®ãÂ∫èËøêË°åÁöÑÂü∫Êú¨ÂçïÂÖÉ,Á≥ªÁªüÂà©Áî®ËØ•Âü∫Êú¨ÂçïÂÖÉÂÆûÁé∞Á≥ªÁªüÂØπÂ∫îÁî®ÁöÑÂπ∂ÂèëÊÄß„ÄÇ ËøõÁ®ãÂíåÁ∫øÁ®ãÁöÑ‰∏ªË¶ÅÂ∑ÆÂà´Âú®‰∫éÂÆÉ‰ª¨ÊòØ‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªüËµÑÊ∫êÁÆ°ÁêÜÊñπÂºè„ÄÇ ËøõÁ®ãÊúâÁã¨Á´ãÁöÑÂú∞ÂùÄÁ©∫Èó¥,‰∏Ä‰∏™ËøõÁ®ãÂ¥©Ê∫ÉÂêé,Âú®‰øùÊä§Ê®°Âºè‰∏ã ‰∏ç‰ºöÂØπÂÖ∂ÂÆÉËøõÁ®ã‰∫ßÁîüÂΩ±Âìç„ÄÇ Á∫øÁ®ãÂè™ÊòØ‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÁöÑ‰∏çÂêåÊâßË°åË∑ØÂæÑ„ÄÇ Á∫øÁ®ãÊúâËá™Â∑±ÁöÑÂ†ÜÊ†àÂíåÂ±ÄÈÉ®ÂèòÈáè,‰ΩÜÁ∫øÁ®ã‰πãÈó¥Ê≤°ÊúâÂçïÁã¨ÁöÑÂú∞ÂùÄÁ©∫Èó¥,‰∏Ä‰∏™Á∫øÁ®ãÊ≠ªÊéâÂ∞±Á≠â‰∫éÊï¥‰∏™ËøõÁ®ãÊ≠ªÊéâ,ÊâÄ‰ª•Â§öËøõÁ®ãÁöÑÁ®ãÂ∫èË¶ÅÊØîÂ§öÁ∫øÁ®ãÁöÑÁ®ãÂ∫èÂÅ•Â£Æ,‰ΩÜÂú®ËøõÁ®ãÂàáÊç¢Êó∂,ËÄóË¥πËµÑÊ∫êËæÉÂ§ß,ÊïàÁéáË¶ÅÂ∑Æ‰∏Ä‰∫õ„ÄÇ ‰ΩÜÂØπ‰∫é‰∏Ä‰∫õË¶ÅÊ±ÇÂêåÊó∂ËøõË°åÂπ∂‰∏îÂèàË¶ÅÂÖ±‰∫´Êüê‰∫õÂèòÈáèÁöÑÂπ∂ÂèëÊìç‰Ωú,Âè™ËÉΩÁî®Á∫øÁ®ã,‰∏çËÉΩÁî®ËøõÁ®ã„ÄÇ iOSÁ∫øÁ®ãÈó¥ÊÄé‰πàÈÄö‰ø°Ôºü performSelector:onThread:withObject:waitUntilDone: NSMachPort (Âü∫Êú¨Êú∫Âà∂ÔºöAÁ∫øÁ®ãÔºàÁà∂Á∫øÁ®ãÔºâÂàõÂª∫NSMachPortÂØπË±°ÔºåÂπ∂Âä†ÂÖ•AÁ∫øÁ®ãÁöÑrunloop„ÄÇÂΩìÂàõÂª∫BÁ∫øÁ®ãÔºàËæÖÂä©Á∫øÁ®ãÔºâÊó∂ÔºåÂ∞ÜÂàõÂª∫ÁöÑNSMachPortÂØπË±°‰º†ÈÄíÂà∞‰∏ª‰ΩìÂÖ•Âè£ÁÇπÔºåBÁ∫øÁ®ãÔºàËæÖÂä©Á∫øÁ®ãÔºâÂ∞±ÂèØ‰ª•‰ΩøÁî®Áõ∏ÂêåÁöÑÁ´ØÂè£ÂØπË±°Â∞ÜÊ∂àÊÅØ‰º†ÂõûAÁ∫øÁ®ãÔºàÁà∂Á∫øÁ®ãÔºâ„ÄÇ) iOSÂ§öÁ∫øÁ®ãÁöÑÂ∫ïÂ±ÇÂÆûÁé∞Ôºü È¶ñÂÖàÊêûÊ∏ÖÊ•ö‰ªÄ‰πàÊòØÁ∫øÁ®ã„ÄÅ‰ªÄ‰πàÊòØÂ§öÁ∫øÁ®ã MachÊòØÁ¨¨‰∏Ä‰∏™‰ª•Â§öÁ∫øÁ®ãÊñπÂºèÂ§ÑÁêÜ‰ªªÂä°ÁöÑÁ≥ªÁªüÔºåÂõ†Ê≠§Â§öÁ∫øÁ®ãÁöÑÂ∫ïÂ±ÇÂÆûÁé∞Êú∫Âà∂ÊòØÂü∫‰∫éMachÁöÑÁ∫øÁ®ã ÂºÄÂèë‰∏≠ÂæàÂ∞ëÁî®MachÁ∫ßÁöÑÁ∫øÁ®ãÔºåÂõ†‰∏∫MachÁ∫ßÁöÑÁ∫øÁ®ãÊ≤°ÊúâÊèê‰æõÂ§öÁ∫øÁ®ãÁöÑÂü∫Êú¨ÁâπÂæÅÔºåÁ∫øÁ®ã‰πãÈó¥ÊòØÁã¨Á´ãÁöÑ ÂºÄÂèë‰∏≠ÂÆûÁé∞Â§öÁ∫øÁ®ãÁöÑÊñπÊ°à CËØ≠Ë®ÄÁöÑPOSIXÊé•Âè£Ôºö#include &lt;pthread.h&gt; OCÁöÑNSThread CËØ≠Ë®ÄÁöÑGCDÊé•Âè£ÔºàÊÄßËÉΩÊúÄÂ•ΩÔºå‰ª£Á†ÅÊõ¥Á≤æÁÆÄÔºâ OCÁöÑNSOperationÂíåNSOperationQueueÔºàÂü∫‰∫éGCDÔºâ Ë∞àË∞àÂ§öÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÁöÑÂá†ÁßçËß£ÂÜ≥ÊñπÊ°à?‰Ωï‰∏∫Á∫øÁ®ãÂêåÊ≠•,Â¶Ç‰ΩïÂÆûÁé∞ÁöÑ?ÂàÜÁ∫øÁ®ãÂõûË∞É‰∏ªÁ∫øÁ®ãÊñπÊ≥ïÊòØ‰ªÄ‰πà,Êúâ‰ªÄ‰πà‰ΩúÁî®? Ëß£ÂÜ≥ÊñπÊ°à: ‰ΩøÁî®ÈîÅ: ÈîÅÊòØÁ∫øÁ®ãÁºñÁ®ãÂêåÊ≠•Â∑•ÂÖ∑ÁöÑÂü∫Á°Ä„ÄÇÈîÅÂèØ‰ª•ËÆ©‰Ω†ÂæàÂÆπÊòì‰øùÊä§‰ª£Á†Å‰∏≠‰∏ÄÂ§ßÂùóÂå∫Âüü‰ª•‰æø‰Ω†ÂèØ‰ª•Á°Æ‰øù‰ª£Á†ÅÁöÑÊ≠£Á°ÆÊÄß„ÄÇ ‰ΩøÁî®POSIX‰∫íÊñ•ÈîÅ; ‰ΩøÁî®NSLockÁ±ª; ‰ΩøÁî®@synchronizedÊåá‰ª§Á≠â„ÄÇ ÂõûÂà∞‰∏ªÁ∫øÁ®ãÁöÑÊñπÊ≥ï: dispatch_async(dispatch_get_main_queue(), ^{ }); ‰ΩúÁî®: ‰∏ªÁ∫øÁ®ãÊòØÊòæÁ§∫UIÁïåÈù¢,Â≠êÁ∫øÁ®ãÂ§öÊï∞ÊòØËøõË°åÊï∞ÊçÆÂ§ÑÁêÜ ‰ΩøÁî®atomic‰∏ÄÂÆöÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂêóÔºü‰∏çÊòØÁöÑ„ÄÇ atomicÂéüÂ≠êÊìç‰ΩúÔºåÁ≥ªÁªü‰ºö‰∏∫setterÊñπÊ≥ïÂä†ÈîÅ„ÄÇ ÂÖ∑‰Ωì‰ΩøÁî® @synchronized(self){//code } nonatomic‰∏ç‰ºö‰∏∫setterÊñπÊ≥ïÂä†ÈîÅ„ÄÇ atomicÔºöÁ∫øÁ®ãÂÆâÂÖ®ÔºåÈúÄË¶ÅÊ∂àËÄóÂ§ßÈáèÁ≥ªÁªüËµÑÊ∫êÊù•‰∏∫Â±ûÊÄßÂä†ÈîÅ nonatomicÔºöÈùûÁ∫øÁ®ãÂÆâÂÖ®ÔºåÈÄÇÂêàÂÜÖÂ≠òËæÉÂ∞èÁöÑÁßªÂä®ËÆæÂ§á ‰ΩøÁî®atomicÂπ∂‰∏çËÉΩ‰øùËØÅÁªùÂØπÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÔºåÂØπ‰∫éË¶ÅÁªùÂØπ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÊìç‰ΩúÔºåËøòÈúÄË¶Å‰ΩøÁî®Êõ¥È´òÁ∫ßÁöÑÊñπÂºèÊù•Â§ÑÁêÜÔºåÊØîÂ¶ÇNSSpinLock„ÄÅ@syncronizedÁ≠â Ë∞àË∞à‰Ω†ÂØπÂ§öÁ∫øÁ®ãÂºÄÂèëÁöÑÁêÜËß£(Â§öÁ∫øÁ®ãÁöÑÂ•ΩÂ§ÑÔºåÂ§öÁ∫øÁ®ãÁöÑ‰ΩúÁî®)Ôºüios‰∏≠ÊúâÂá†ÁßçÂÆûÁé∞Â§öÁ∫øÁ®ãÁöÑÊñπÊ≥ïÔºü Â•ΩÂ§ÑÔºö ‰ΩøÁî®Á∫øÁ®ãÂèØ‰ª•ÊääÂç†ÊçÆÊó∂Èó¥ÈïøÁöÑÁ®ãÂ∫è‰∏≠ÁöÑ‰ªªÂä°ÊîæÂà∞ÂêéÂè∞ÂéªÂ§ÑÁêÜ Áî®Êà∑ÁïåÈù¢ÂèØ‰ª•Êõ¥Âä†Âê∏Âºï‰∫∫ÔºåËøôÊ†∑ÊØîÂ¶ÇÁî®Êà∑ÁÇπÂáª‰∫Ü‰∏Ä‰∏™ÊåâÈíÆÂéªËß¶ÂèëÊüê‰∫õ‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÔºåÂèØ‰ª•ÂºπÂá∫‰∏Ä‰∏™ËøõÂ∫¶Êù°Êù•ÊòæÁ§∫Â§ÑÁêÜÁöÑËøõÂ∫¶ Á®ãÂ∫èÁöÑËøêË°åÊïàÁéáÂèØËÉΩÊèêÈ´ò Âú®‰∏Ä‰∫õÁ≠âÂæÖÁöÑ‰ªªÂä°ÂÆûÁé∞‰∏äÂ¶ÇÁî®Êà∑ËæìÂÖ•„ÄÅÊñá‰ª∂ËØªÂÜôÂíåÁΩëÁªúÊî∂ÂèëÊï∞ÊçÆÁ≠âÔºåÁ∫øÁ®ãÂ∞±ÊØîËæÉÊúâÁî®‰∫Ü„ÄÇ Áº∫ÁÇπÔºö Â¶ÇÊûúÊúâÂ§ßÈáèÁöÑÁ∫øÁ®ã,‰ºöÂΩ±ÂìçÊÄßËÉΩ,Âõ†‰∏∫Êìç‰ΩúÁ≥ªÁªüÈúÄË¶ÅÂú®ÂÆÉ‰ª¨‰πãÈó¥ÂàáÊç¢„ÄÇ Êõ¥Â§öÁöÑÁ∫øÁ®ãÈúÄË¶ÅÊõ¥Â§öÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ Á∫øÁ®ãÁöÑ‰∏≠Ê≠¢ÈúÄË¶ÅËÄÉËôëÂÖ∂ÂØπÁ®ãÂ∫èËøêË°åÁöÑÂΩ±Âìç„ÄÇ ÈÄöÂ∏∏ÂùóÊ®°ÂûãÊï∞ÊçÆÊòØÂú®Â§ö‰∏™Á∫øÁ®ãÈó¥ÂÖ±‰∫´ÁöÑÔºåÈúÄË¶ÅÈò≤Ê≠¢Á∫øÁ®ãÊ≠ªÈîÅÊÉÖÂÜµÁöÑÂèëÁîü„ÄÇ ÂÆûÁé∞Â§öÁ∫øÁ®ãÁöÑÊñπÊ≥ïÔºö NSObjectÁöÑÁ±ªÊñπÊ≥ï // -(void)performSelectornBackground/OnMainThread:(SEL)aSelector withObject:(id)arg NSThread NSOperation GCD OC‰∏≠ÂºÇÊ≠•‰ΩøÁî®ÁöÑÂì™Áßç‰∫ã‰ª∂Ê®°Âûã,iOS‰∏≠ÂºÇÊ≠•ÂÆûÁé∞Êú∫Âà∂ ÂºÇÊ≠•ÈùûÈòªÂ°û I/OÔºàAIOÔºâ ËØ¶ÁªÜË∞àË∞àGCD Êé®Âá∫ÁöÑÊó∂Èó¥ iOS4 ÁõÆÁöÑÊòØÁî®Êù•Âèñ‰ª£NSThreadÔºàios2.0Êé®Âá∫ÔºâÁöÑÔºåÊòØ CËØ≠Ë®ÄÊ°ÜÊû∂ÔºåÂÆÉËÉΩÂ§üËá™Âä®Âà©Áî®Êõ¥Â§öCPUÁöÑÊ†∏Êï∞ÔºåÂπ∂‰∏î‰ºöËá™Âä®ÁÆ°ÁêÜÁ∫øÁ®ãÁöÑÁîüÂëΩÂë®Êúü„ÄÇ CGDÁöÑ‰∏§‰∏™Ê†∏ÂøÉÊ¶ÇÂøµÔºö‰ªªÂä°Ôºå ÈòüÂàó ‰ªªÂä°ÔºöËÆ∞‰∏∫Âú®block‰∏≠ÊâßË°åÁöÑ‰ª£Á†Å„ÄÇ ÈòüÂàóÔºöÁî®Êù•Â≠òÊîæ‰ªªÂä°ÁöÑ„ÄÇ Ê≥®ÊÑè‰∫ãÈ°πÔºö ÈòüÂàó != Á∫øÁ®ã„ÄÇÈòüÂàó‰∏≠Â≠òÊîæÁöÑ‰ªªÂä°ÊúÄÂêéÈÉΩË¶ÅÁî±Á∫øÁ®ãÊù•ÊâßË°å!„ÄÇÈòüÂàóÁöÑÂéüÂàô:ÂÖàËøõÂÖàÂá∫,ÂêéËøõÂêéÂá∫(FIFO/ First In First Out) ÈòüÂàóÂèàÂàÜ‰∏∫ÂõõÁßçÁßçÔºö1 ‰∏≤Ë°åÈòüÂàó 2 Âπ∂ÂèëÈòüÂàó 3 ‰∏ªÈòüÂàó 4 ÂÖ®Â±ÄÈòüÂàó ‰∏≤Ë°åÈòüÂàóÔºö ‰ªªÂä°‰∏Ä‰∏™Êé•‰∏Ä‰∏™ÁöÑÊâßË°å„ÄÇ Âπ∂ÂèëÈòüÂàóÔºö ÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°Âπ∂ÂèëÊâßË°å„ÄÇ ‰∏ªÈòüÂàóÔºö Ë∑ü‰∏ªÁ∫øÁ®ãÁõ∏ÂÖ≥ÁöÑÈòüÂàóÔºå‰∏ªÈòüÂàóÈáåÈù¢ÁöÑÂÜÖÂÆπÈÉΩ‰ºöÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÊâßË°åÔºàÊàë‰ª¨‰∏ÄËà¨Âú®‰∏ªÁ∫øÁ®ã‰∏≠Âà∑Êñ∞UIÔºâ„ÄÇ ÂÖ®Â±ÄÈòüÂàóÔºö ‰∏Ä‰∏™ÁâπÊÆäÁöÑÂπ∂ÂèëÈòüÂàó„ÄÇ Âπ∂ÂèëÈòüÂàó‰∏éÂÖ®Â±ÄÈòüÂàóÁöÑÂå∫Âà´Ôºö Âπ∂ÂèëÈòüÂàóÊúâÂêçÁß∞,ÂèØ‰ª•Ë∑üË∏™ÈîôËØØ„ÄÇÂÖ®Â±ÄÈòüÂàóÊ≤°Êúâ Âú®ARC‰∏≠‰∏§‰∏™ÈòüÂàó‰∏çÈúÄË¶ÅËÄÉËôëÈáäÊîæÂÜÖÂ≠ò,‰ΩÜÊòØÂú®MRC‰∏≠Âπ∂ÂèëÈòüÂàóÊòØÂàõÂª∫Âá∫Êù•ÁöÑÈúÄË¶ÅreleaseÊìç‰ΩúÔºåËÄåÂÖ®Â±ÄÈòüÂàóÂè™Êúâ‰∏Ä‰∏™‰∏çÈúÄË¶Å„ÄÇ ‰∏ÄËà¨Âú®ÂºÄÂèëËøáÁ®ã‰∏≠Êàë‰ª¨‰ΩøÁî®ÂÖ®Â±ÄÈòüÂàó„ÄÇ ÊâßË°å‰ªªÂä°ÁöÑ‰∏§‰∏™ÂáΩÊï∞ ‚ÄòÂêåÊ≠•‚ÄôÊâßË°å‰ªªÂä°:dispatch_sync(&lt;#dispatch_queue_t queue#&gt;, &lt;#^(void)block#&gt;) ‚ÄòÂºÇÊ≠•‚ÄôÊâßË°å‰ªªÂä°:dispatch_async(dispatch_queue_t queue, &lt;#^(void)block#&gt;) ‚ÄúÂêåÊ≠•‚ÄùÂíå‚ÄùÂºÇÊ≠•‚ÄùÁöÑÂå∫Âà´: ‚ÄúÂêåÊ≠•‚Äù: Âè™ËÉΩÂú®‚ÄôÂΩìÂâç‚ÄôÁ∫øÁ®ã‰∏≠ÊâßË°å‰ªªÂä°,‰∏çÂÖ∑Â§áÂºÄÂêØÊñ∞Á∫øÁ®ãÁöÑËÉΩÂäõ. ‚ÄúÂºÇÊ≠•‚Äù: ÂèØ‰ª•Âú®‚ÄôÊñ∞‚ÄôÁöÑÁ∫øÁ®ã‰∏≠ÊâßË°å‰ªªÂä°,ÂÖ∑Â§áÂºÄÂêØÊñ∞Á∫øÁ®ãÁöÑËÉΩÂäõ. ÂêÑ‰∏™ÈòüÂàóÁöÑÊâßË°åÊïàÊûúÔºö ‰∏≤Ë°åÈòüÂàóÂêåÊ≠•ÊâßË°åÔºåÊó¢Âú®ÂΩìÂâçÁ∫øÁ®ã‰∏≠È°∫Â∫èÊâßË°å ‰∏≤Ë°åÈòüÂàóÂºÇÊ≠•ÊâßË°åÔºåÂºÄËæü‰∏ÄÊù°Êñ∞ÁöÑÁ∫øÁ®ãÔºåÂú®ËØ•Á∫øÁ®ã‰∏≠È°∫Â∫èÊâßË°å Âπ∂Ë°åÈòüÂàóÂêåÊ≠•ÊâßË°åÔºå‰∏çÂºÄËæüÁ∫øÁ®ãÔºåÂú®ÂΩìÂâçÁ∫øÁ®ã‰∏≠È°∫Â∫èÊâßË°å Âπ∂Ë°åÈòüÂàóÂºÇÊ≠•ÊâßË°åÔºåÂºÄËæüÂ§ö‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÔºåÂπ∂‰∏îÁ∫øÁ®ã‰ºöÈáçÁî®ÔºåÊó†Â∫èÊâßË°å ‰∏ªÈòüÂàóÂºÇÊ≠•ÊâßË°åÔºå‰∏çÂºÄËæüÊñ∞ÁöÑÁ∫øÁ®ãÔºåÈ°∫Â∫èÊâßË°å ‰∏ªÈòüÂàóÂêåÊ≠•ÊâßË°åÔºå‰ºöÈÄ†ÊàêÊ≠ªÈîÅÔºà‚Äô‰∏ªÁ∫øÁ®ã‚ÄôÂíå‚Äô‰∏ªÈòüÂàó‚ÄôÁõ∏‰∫íÁ≠âÂæÖ,Âç°‰Ωè‰∏ªÁ∫øÁ®ãÔºâ Á∫øÁ®ãÈó¥ÈÄöËÆØÔºöÁªèÂÖ∏Ê°à‰æãÔºöÂ≠êÁ∫øÁ®ãËøõË°åËÄóÊó∂Êìç‰ΩúÔºà‰æãÂ¶Ç‰∏ãËΩΩÊõ¥Êñ∞Á≠âÔºâ‰∏ªÁ∫øÁ®ãËøõË°åUIÂà∑Êñ∞„ÄÇ ÁªèÂÖ∏Áî®Ê≥ï(Â≠êÁ∫øÁ®ã‰∏ãËΩΩ(ËÄóÊó∂Êìç‰Ωú),‰∏ªÁ∫øÁ®ãÂà∑Êñ∞UI): dispatch_async(dispatch_get_global_queue(0, 0), ^{ // ÊâßË°åËÄóÊó∂ÁöÑÂºÇÊ≠•Êìç‰Ωú... dispatch_async(dispatch_get_main_queue(), ^{ // ÂõûÂà∞‰∏ªÁ∫øÁ®ãÔºåÊâßË°åUIÂà∑Êñ∞Êìç‰Ωú Âª∂ËøüÊìç‰Ωú Ë∞ÉÁî® NSObject ÊñπÊ≥ï:[self performSelector:@selector(run) withObject:nil afterDelay:2.0]; // 2ÁßíÂêéÂÜçË∞ÉÁî®selfÁöÑrunÊñπÊ≥ï GCDÂáΩÊï∞ÂÆûÁé∞Âª∂Êó∂ÊâßË°å:dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{ // 2ÁßíÂêéÊâßË°åËøôÈáåÁöÑ‰ª£Á†Å‚Ä¶ Âú®Âì™‰∏™Á∫øÁ®ãÊâßË°åÔºåË∑üÈòüÂàóÁ±ªÂûãÊúâÂÖ≥ ÈòüÂàóÁªÑÁöÑ‰ΩøÁî®Ôºö È°πÁõÆÈúÄÊ±Ç:È¶ñÂÖà:ÂàÜÂà´ÂºÇÊ≠•ÊâßË°å‰∏§‰∏™ËÄóÊó∂Êìç‰Ωú;ÂÖ∂Ê¨°:Á≠â‰∏§Ê¨°ËÄóÊó∂Êìç‰ΩúÈÉΩÊâßË°åÂÆåÊØïÂêé,ÂÜçÂõûÂà∞‰∏ªÁ∫øÁ®ãÊâßË°åÊìç‰Ωú.‰ΩøÁî®ÈòüÂàóÁªÑ(dispatch_group_t)Âø´ÈÄü,È´òÊïàÁöÑÂÆûÁé∞‰∏äËø∞ÈúÄÊ±Ç. dispatch_group_t group = dispatch_group_create(); // ÈòüÂàóÁªÑ dispatch_queue_t queue = dispatch_get_global_queue(0, 0); // ÂÖ®Â±ÄÂπ∂ÂèëÈòüÂàó dispatch_group_async(group, queue, ^{// ÂºÇÊ≠•ÊâßË°åÊìç‰Ωú1 // longTime1 }); dispatch_group_async(group, queue, ^{ // ÂºÇÊ≠•ÊâßË°åÊìç‰Ωú2 // longTime2 }); dispatch_group_notify(group, dispatch_get_main_queue(), ^{ // Âú®‰∏ªÁ∫øÁ®ãÂà∑Êñ∞Êï∞ÊçÆ // reload Data }); GCDÂÜÖÈÉ®ÊÄé‰πàÂÆûÁé∞ÁöÑ iOSÂíåOS XÁöÑÊ†∏ÂøÉÊòØXNUÂÜÖÊ†∏ÔºåGCDÊòØÂü∫‰∫éXNUÂÜÖÊ†∏ÂÆûÁé∞ÁöÑ GCDÁöÑAPIÂÖ®ÈÉ®Âú®libdispatchÂ∫ì‰∏≠ GCDÁöÑÂ∫ïÂ±ÇÂÆûÁé∞‰∏ªË¶ÅÊúâDispatch QueueÂíåDispatch Source Dispatch Queue ÔºöÁÆ°ÁêÜblock(Êìç‰Ωú) Dispatch Source ÔºöÂ§ÑÁêÜ‰∫ã‰ª∂(MACHÁ´ØÂè£ÂèëÈÄÅ,MACHÁ´ØÂè£Êé•Êî∂,Ê£ÄÊµã‰∏éËøõÁ®ãÁõ∏ÂÖ≥‰∫ã‰ª∂Á≠â10Áßç‰∫ã‰ª∂) GCDÁöÑqueue„ÄÅmain queue‰∏≠ÊâßË°åÁöÑ‰ª£Á†Å‰∏ÄÂÆöÊòØÂú®main thread‰πàÔºü‚Ä¢ ÂØπ‰∫équeue‰∏≠ÊâÄÊâßË°åÁöÑ‰ª£Á†Å‰∏ç‰∏ÄÂÆöÂú®main thread‰∏≠„ÄÇÂ¶ÇÊûúqueueÊòØÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÂàõÂª∫ÁöÑÔºåÈÇ£‰πàÊâÄÊâßË°åÁöÑ‰ª£Á†ÅÂ∞±ÊòØÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÊâßË°å„ÄÇÂ¶ÇÊûúÊòØÂú®Â≠êÁ∫øÁ®ã‰∏≠ÂàõÂª∫ÁöÑÔºåÈÇ£‰πàÂ∞±‰∏ç‰ºöÂú®main thread‰∏≠ÊâßË°å„ÄÇ ‚Ä¢ ÂØπ‰∫émain queueÂ∞±ÊòØÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÁöÑÔºåÂõ†Ê≠§‰∏ÄÂÆö‰ºöÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÊâßË°å„ÄÇËé∑Âèñmain queueÂ∞±ÂèØ‰ª•‰∫ÜÔºå‰∏çÈúÄË¶ÅÊàë‰ª¨ÂàõÂª∫ÔºåËé∑ÂèñÊñπÂºèÈÄöËøáË∞ÉÁî®ÊñπÊ≥ïdispatchgetmain_queueÊù•Ëé∑Âèñ„ÄÇ Â¶Ç‰ΩïÁî®GCDÂêåÊ≠•Ëã•Âπ≤‰∏™ÂºÇÊ≠•Ë∞ÉÁî®ÔºüÔºàÂ¶ÇÊ†πÊçÆËã•Âπ≤‰∏™urlÂºÇÊ≠•Âä†ËΩΩÂ§öÂº†ÂõæÁâáÔºåÁÑ∂ÂêéÂú®ÈÉΩ‰∏ãËΩΩÂÆåÊàêÂêéÂêàÊàê‰∏ÄÂº†Êï¥ÂõæÔºâ‰ΩøÁî®Dispatch GroupËøΩÂä†blockÂà∞Global Group Queue,Ëøô‰∫õblockÂ¶ÇÊûúÂÖ®ÈÉ®ÊâßË°åÂÆåÊØïÔºåÂ∞±‰ºöÊâßË°åMain Dispatch Queue‰∏≠ÁöÑÁªìÊùüÂ§ÑÁêÜÁöÑblock„ÄÇ dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, ); dispatch_group_t group = dispatch_group_create(); dispatch_group_async(group, queue, ^{ /*Âä†ËΩΩÂõæÁâá1 */ }); dispatch_group_async(group, queue, ^{ /*Âä†ËΩΩÂõæÁâá2 */ }); dispatch_group_async(group, queue, ^{ /*Âä†ËΩΩÂõæÁâá3 */ }); dispatch_group_notify(group, dispatch_get_main_queue(), ^{ // ÂêàÂπ∂ÂõæÁâá }); Êúâa„ÄÅb„ÄÅc„ÄÅd 4‰∏™ÂºÇÊ≠•ËØ∑Ê±ÇÔºåÂ¶Ç‰ΩïÂà§Êñ≠a„ÄÅb„ÄÅc„ÄÅdÈÉΩÂÆåÊàêÊâßË°åÔºüÂ¶ÇÊûúÈúÄË¶Åa„ÄÅb„ÄÅc„ÄÅdÈ°∫Â∫èÊâßË°åÔºåËØ•Â¶Ç‰ΩïÂÆûÁé∞Ôºü1. ÂØπ‰∫éËøôÂõõ‰∏™ÂºÇÊ≠•ËØ∑Ê±ÇÔºåË¶ÅÂà§Êñ≠ÈÉΩÊâßË°åÂÆåÊàêÊúÄÁÆÄÂçïÁöÑÊñπÂºèÂ∞±ÊòØÈÄöËøáGCDÁöÑgroupÊù•ÂÆûÁé∞Ôºö 2. dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); 3. dispatch_group_t group = dispatch_group_create(); 4. dispatch_group_async(group, queue, ^{ /*‰ªªÂä°a */ }); 5. dispatch_group_async(group, queue, ^{ /*‰ªªÂä°b */ }); 6. dispatch_group_async(group, queue, ^{ /*‰ªªÂä°c */ }); 7. dispatch_group_async(group, queue, ^{ /*‰ªªÂä°d */ }); 8. 9. dispatch_group_notify(group, dispatch_get_main_queue(), ^{ 10. // Âú®a„ÄÅb„ÄÅc„ÄÅdÂºÇÊ≠•ÊâßË°åÂÆåÊàêÂêéÔºå‰ºöÂõûË∞ÉËøôÈáå 11. }); ÂΩìÁÑ∂ÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®ÈùûÂ∏∏ËÄÅÂ•óÁöÑÊñπÊ≥ïÊù•Â§ÑÁêÜÔºåÈÄöËøáÂõõ‰∏™ÂèòÈáèÊù•Ê†áËØÜa„ÄÅb„ÄÅc„ÄÅdÂõõ‰∏™‰ªªÂä°ÊòØÂê¶ÂÆåÊàêÔºåÁÑ∂ÂêéÂú®runloop‰∏≠ËÆ©ÂÖ∂Á≠âÂæÖÔºåÂΩìÂÆåÊàêÊó∂ÊâçÈÄÄÂá∫run loop„ÄÇ‰ΩÜÊòØËøôÊ†∑ÂÅö‰ºöËÆ©ÂêéÈù¢ÁöÑ‰ª£Á†ÅÂæó‰∏çÂà∞ÊâßË°åÔºåÁõ¥Âà∞Run loopÊâßË°åÂÆåÊØï„ÄÇ Ë¶ÅÊ±ÇÈ°∫Â∫èÊâßË°åÔºåÈÇ£‰πàÂèØ‰ª•Â∞Ü‰ªªÂä°ÊîæÂà∞‰∏≤Ë°åÈòüÂàó‰∏≠ÔºåËá™ÁÑ∂Â∞±ÊòØÊåâÈ°∫Â∫èÊù•ÂºÇÊ≠•ÊâßË°å‰∫Ü ÂèëÈÄÅ10‰∏™ÁΩëÁªúËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂÜçÊé•Êî∂Âà∞ÊâÄÊúâÂõûÂ∫î‰πãÂêéÊâßË°åÂêéÁª≠Êìç‰ΩúÔºåÂ¶Ç‰ΩïÂÆûÁé∞Ôºü‰ªéÈ¢òÁõÆÂàÜÊûêÂèØÁü•Ôºå10‰∏™ËØ∑Ê±ÇË¶ÅÂÖ®ÈÉ®ÂÆåÊàêÂêéÔºåÊâçÊâßË°åÊüê‰∏ÄÂäüËÉΩ„ÄÇÊØîÂ¶ÇÔºå‰∏ãËΩΩ10ÂõæÁâáÂêéÂêàÊàê‰∏ÄÂº†Â§ßÂõæÔºåÂ∞±ÈúÄË¶ÅÂºÇÊ≠•ÂÖ®ÈÉ®‰∏ãËΩΩÂÆåÊàêÂêéÔºåÊâçËÉΩÂêàÂπ∂ÊàêÂ§ßÂõæ„ÄÇ ÂÅöÊ≥ïÔºöÈÄöËøádispatch_group_tÊù•ÂÆûÁé∞ÔºåÂ∞ÜÊØè‰∏™ËØ∑Ê±ÇÊîæÂÖ•Âà∞Group‰∏≠ÔºåÂ∞ÜÂêàÂπ∂ÊàêÂ§ßÂõæÁöÑÊìç‰ΩúÊîæÂú®dispatch_group_notify‰∏≠ÂÆûÁé∞„ÄÇ dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); dispatch_group_t group = dispatch_group_create(); dispatch_group_async(group, queue, ^{ /*Âä†ËΩΩÂõæÁâá1 */ }); dispatch_group_async(group, queue, ^{ /*Âä†ËΩΩÂõæÁâá2 */ }); dispatch_group_async(group, queue, ^{ /*Âä†ËΩΩÂõæÁâá3 */ }); dispatch_group_notify(group, dispatch_get_main_queue(), ^{ // ÂêàÂπ∂ÂõæÁâá }); ËãπÊûú‰∏∫‰ªÄ‰πàË¶ÅÂ∫üÂºÉdispatch_get_current_queueÔºü dispatch_get_current_queueÂÆπÊòìÈÄ†ÊàêÊ≠ªÈîÅ„ÄÇËØ¶ÊÉÖÁÇπÂáªËØ•APIÊü•ÁúãÂÆòÊñπÊ≥®Èáä„ÄÇ Â¶ÇÊûúËÆ©‰Ω†Êù•ÂÆûÁé∞ dispatch_onceÔºå‰Ω†‰ºöÊÄé‰πàÂÅöÔºü http://www.dreamingwish.com/article/gcd-guide-dispatch-once-2.htmlÔºàË∂ÖÁ∫ßËØ¶ÁªÜËß£ÊûêÔºâ ‰∏™‰∫∫ËßâÂæóËØ¥Âá∫ÂÆûÁé∞ÁöÑÊÄùË∑ØÂç≥ÂèØÔºåÊó†ÈîÅÁöÑÁ∫øÁ®ãÂêåÊ≠•ÁºñÁ®ãÔºåÊØè‰∏ÄÂ§ÑÁöÑÁ∫øÁ®ãÁ´û‰∫âÈÉΩËÄÉËôëÂà∞Âπ∂Â¶•ÂñÑÂ§ÑÁêÜ Á∫øÁ®ãAÊâßË°åBlockÊó∂Ôºå‰ªª‰ΩïÂÖ∂ÂÆÉÁ∫øÁ®ãÈÉΩÈúÄË¶ÅÁ≠âÂæÖ„ÄÇ Á∫øÁ®ãAÊâßË°åÂÆåBlockÂ∫îËØ•Á´ãÂç≥Ê†áËÆ∞‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅÔºåÁÑ∂ÂêéÈÅçÂéÜ‰ø°Âè∑ÈáèÈìæÊù•Âî§ÈÜíÊâÄÊúâÁ≠âÂæÖÁ∫øÁ®ã„ÄÇ Á∫øÁ®ãAÈÅçÂéÜ‰ø°Âè∑ÈáèÈìæÊù•signalÊó∂Ôºå‰ªª‰ΩïÂÖ∂‰ªñÊñ∞ËøõÂÖ•ÂáΩÊï∞ÁöÑÁ∫øÁ®ãÈÉΩÂ∫îËØ•Áõ¥Êé•ËøîÂõûËÄåÊó†ÈúÄÁ≠âÂæÖ„ÄÇ Á∫øÁ®ãAÈÅçÂéÜ‰ø°Âè∑ÈáèÈìæÊù•signalÊó∂ÔºåËã•ÊúâÂÖ∂ÂÆÉÁ≠âÂæÖÁ∫øÁ®ãB‰ªçÂú®Êõ¥Êñ∞ÊàñËØïÂõæÊõ¥Êñ∞‰ø°Âè∑ÈáèÈìæÔºåÂ∫îËØ•‰øùËØÅÊ≠§Á∫øÁ®ãBËÉΩÊ≠£Á°ÆÂÆåÊàêÂÖ∂‰ªªÂä°Ôºöa.Áõ¥Êé•ËøîÂõû b.Á≠âÂæÖÂú®‰ø°Âè∑Èáè‰∏äÂπ∂ÂæàÂø´ÂèàË¢´Âî§ÈÜí„ÄÇ Á∫øÁ®ãBÊûÑÈÄ†‰ø°Âè∑ÈáèÊó∂ÔºåÂ∫îËØ•ËÄÉËôëÁ∫øÁ®ãAÈöèÊó∂ÂèØËÉΩÊîπÂèòÁä∂ÊÄÅÔºà‚ÄúÁ≠âÂæÖ‚Äù„ÄÅ‚ÄúÂÆåÊàê‚Äù„ÄÅ‚ÄúÈÅçÂéÜ‰ø°Âè∑ÈáèÈìæ‚ÄùÔºâ„ÄÇ Á∫øÁ®ãBÊûÑÈÄ†‰ø°Âè∑ÈáèÊó∂ÔºåÂ∫îËØ•ËÄÉËôëÂà∞Âè¶‰∏Ä‰∏™Á∫øÁ®ãC‰πüÂèØËÉΩÊ≠£Âú®Êõ¥Êñ∞ÊàñËØïÂõæÊõ¥Êñ∞‰ø°Âè∑ÈáèÈìæÔºåÂ∫îËØ•‰øùËØÅB„ÄÅCÈÉΩËÉΩÊ≠£Â∏∏ÂÆåÊàêÂÖ∂‰ªªÂä°Ôºöa.Â¢ûÂä†ÈìæËäÇÂπ∂Á≠âÂæÖÂú®‰ø°Âè∑Èáè‰∏ä b.ÂèëÁé∞Á∫øÁ®ãAÂ∑≤ÁªèÊ†áËÆ∞‚ÄúÂÆåÊàê‚ÄùÁÑ∂ÂêéÁõ¥Êé•ÈîÄÊØÅ‰ø°Âè∑ÈáèÂπ∂ÈÄÄÂá∫ÂáΩÊï∞„ÄÇ ÂÖ≥‰∫éNSOperation: NSOperation: ÊäΩË±°Á±ª,‰∏çËÉΩÁõ¥Êé•‰ΩøÁî®,ÈúÄË¶Å‰ΩøÁî®ÂÖ∂Â≠êÁ±ª.(Á±ª‰ººÁöÑÁ±ªËøòÊúâÊ†∏ÂøÉÂä®Áîª) ‰∏§‰∏™Â∏∏Áî®Â≠êÁ±ª: NSInvocationOperation(Ë∞ÉÁî®) Âíå NSBlockOperation(Âùó); ‰∏§ËÄÖÊ≤°ÊúâÊú¨Ë¥®Âå∫Âà´,ÂêéËÄÖ‰ΩøÁî® Block ÁöÑÂΩ¢ÂºèÁªÑÁªá‰ª£Á†Å,‰ΩøÁî®Áõ∏ÂØπÊñπ‰æø. NSInvocationOperationÂú®Ë∞ÉÁî®startÊñπÊ≥ïÂêéÔºå‰∏ç‰ºöÂºÄÂêØÊñ∞ÁöÑÁ∫øÁ®ãÂè™‰ºöÂú®ÂΩìÂâçÁ∫øÁ®ã‰∏≠ÊâßË°å„ÄÇ NSBlockOperation Âú®Ë∞ÉÁî®startÊñπÊ≥ïÂêéÔºåÂ¶ÇÊûúÂ∞ÅË£ÖÁöÑÊìç‰ΩúÊï∞&gt;1‰ºöÂºÄËæüÂ§öÊù°Á∫øÁ®ãÊâßË°å =1 Âè™‰ºöÂú®ÂΩìÂâçÁ∫øÁ®ãÊâßË°å. NSOperationQueue ÂàõÂª∫ÁöÑÊìç‰ΩúÈòüÂàóÈªòËÆ§‰∏∫ÂÖ®Â±ÄÈòüÂàóÔºåÈòüÂàó‰∏≠ÁöÑÊìç‰ΩúÊâßË°åÈ°∫Â∫èÊòØÊó†Â∫èÁöÑÔºåÂ¶ÇÊûúÈúÄË¶ÅËÆ©ÂÆÉÊúâÂ∫èÊâßË°åÈúÄË¶ÅÊ∑ªÂä†‰æùËµñÂÖ≥Á≥ª„ÄÇ // Êìç‰Ωúop3‰æùËµñ‰∫éÊìç‰Ωúop2 [op3 addDependency:op2]; // Êìç‰Ωúop2‰æùËµñ‰∫éÊìç‰Ωúop1 [op2 addDependency:op1]; ÂêåÊó∂ÂèØ‰ª•ËÆæÁΩÆÊúÄÂ§ßÂπ∂ÂèëÊï∞ NSOperationQueue NSOperationÊîØÊåÅ ÂèñÊ∂àÊöÇÂÅúÁöÑÊìç‰Ωú ‰ΩÜÊòØÊ≠£Âú®ËøõË°åÁöÑÁöÑÊìç‰ΩúÂπ∂‰∏çËÉΩÂèñÊ∂àÔºåËøô‰∏ÄÊó¶ÂèñÊ∂à‰∏çÂèØÊÅ¢Â§ç. NSOperationQueueÊîØÊåÅKVOÔºåÂèØ‰ª•ÁõëÊµãoperationÊòØÂê¶Ê≠£Âú®ÊâßË°åÔºàisExecutedÔºâ„ÄÅÊòØÂê¶ÁªìÊùüÔºàisFinishedÔºâÔºåÊòØÂê¶ÂèñÊ∂àÔºàisCanceldÔºâ NSOperation queue? Â≠òÊîæNSOperationÁöÑÈõÜÂêàÁ±ª„ÄÇ‰∏çËÉΩËØ¥ÈòüÂàóÔºå‰∏çÊòØ‰∏•Ê†ºÁöÑÂÖàËøõÂÖàÂá∫ NSOperation‰∏éGCDÁöÑÂå∫Âà´ GCD GCDÊòØiOS4.0Êé®Âá∫ÁöÑÔºå‰∏ªË¶ÅÈíàÂØπÂ§öÊ†∏cpuÂÅö‰∫Ü‰ºòÂåñÔºåÊòØÁ∫ØcËØ≠Ë®ÄÁöÑÊäÄÊúØ„ÄÇ GCDÊòØÂ∞Ü‰ªªÂä°ÔºàblockÔºâÊ∑ªÂä†Âà∞ÈòüÂàóÔºà‰∏≤Ë°å„ÄÅÂπ∂Ë°å„ÄÅÂÖ®Â±Ä„ÄÅ‰∏ªÈòüÂàóÔºâÔºåÂπ∂‰∏î‰ª•ÂêåÊ≠•/ÂºÇÊ≠•ÁöÑÊñπÂºèÊâßË°å‰ªªÂä°ÁöÑÂáΩÊï∞„ÄÇ GCDÊèê‰æõ‰∫Ü‰∏Ä‰∫õNSOperation‰∏çÂÖ∑Â§áÁöÑÂäüËÉΩ ‰∏ÄÊ¨°ÊÄßÊâßË°å Âª∂ËøüÊâßË°å Ë∞ÉÂ∫¶ÁªÑ GCD ÊòØ‰∏•Ê†ºÁöÑÈòüÂàóÔºåÂÖàËøõÂÖàÂá∫ FIFOÔºõ NSOperation NSOperationÊòØiOS2.0Êé®Âá∫ÁöÑÔºåiOS4.0‰ª•ÂêéÂèàÈáçÂÜô‰∫ÜNSOperation NSOperationÊòØÂ∞ÜÊìç‰ΩúÔºàÂºÇÊ≠•ÁöÑ‰ªªÂä°ÔºâÊ∑ªÂä†Âà∞ÈòüÂàóÔºàÂπ∂ÂèëÈòüÂàóÔºâÔºåÂ∞±‰ºöÊâßË°åÊåáÂÆöÁöÑÂáΩÊï∞ NSOperationÊèê‰æõÁöÑÊñπ‰æøÊìç‰Ωú ÊúÄÂ§ßÂπ∂ÂèëÊï∞ ÈòüÂàóÁöÑÊöÇÂÅúÂíåÁªßÁª≠ ÂèñÊ∂àÊâÄÊúâÁöÑÊìç‰Ωú ÊåáÂÆöÊìç‰Ωú‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ª‰æùËµñÂÖ≥Á≥ªÔºåÂèØ‰ª•ËÆ©ÂºÇÊ≠•‰ªªÂä°ÂêåÊ≠•ÊâßË°å. Â∞ÜKVOÁî®‰∫éNSOperation‰∏≠ÔºåÁõëÂê¨‰∏Ä‰∏™operationÊòØÂê¶ÂÆåÊàê„ÄÇ ËÉΩÂ§üËÆæÁΩÆNSOperationÁöÑ‰ºòÂÖàÁ∫ßÔºåËÉΩÂ§ü‰ΩøÂêå‰∏Ä‰∏™Âπ∂Ë°åÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°Âå∫ÂàÜÂÖàÂêéÂú∞ÊâßË°å ÂØπNSOperationËøõË°åÁªßÊâøÔºåÂú®Ëøô‰πã‰∏äÊ∑ªÂä†ÊàêÂëòÂèòÈáè‰∏éÊàêÂëòÊñπÊ≥ïÔºåÊèêÈ´òÊï¥‰∏™‰ª£Á†ÅÁöÑÂ§çÁî®Â∫¶ GCD‰∏éNSThreadÁöÑÂå∫Âà´ NSThread ÈÄöËøá @selector ÊåáÂÆöË¶ÅÊâßË°åÁöÑÊñπÊ≥ïÔºå‰ª£Á†ÅÂàÜÊï£ GCD ÈÄöËøá block ÊåáÂÆöË¶ÅÊâßË°åÁöÑ‰ª£Á†ÅÔºå‰ª£Á†ÅÈõÜ‰∏≠, ÊâÄÊúâÁöÑ‰ª£Á†ÅÂÜôÂú®‰∏ÄËµ∑ÁöÑÔºåËÆ©‰ª£Á†ÅÊõ¥Âä†ÁÆÄÂçïÔºåÊòì‰∫éÈòÖËØªÂíåÁª¥Êä§ ‰ΩøÁî® GCD ‰∏çÈúÄË¶ÅÁÆ°ÁêÜÁ∫øÁ®ãÁöÑÂàõÂª∫/ÈîÄÊØÅ/Â§çÁî®ÁöÑËøáÁ®ãÔºÅÁ®ãÂ∫èÂëò‰∏çÁî®ÂÖ≥ÂøÉÁ∫øÁ®ãÁöÑÁîüÂëΩÂë®Êúü Â¶ÇÊûúË¶ÅÂºÄÂ§ö‰∏™Á∫øÁ®ã NSThread ÂøÖÈ°ªÂÆû‰æãÂåñÂ§ö‰∏™Á∫øÁ®ãÂØπË±° NSThread Èù† NSObject ÁöÑÂàÜÁ±ªÊñπÊ≥ïÂÆûÁé∞ÁöÑÁ∫øÁ®ãÈó¥ÈÄöËÆØÔºå ‰∏∫‰ªÄ‰πàË¶ÅÂèñÊ∂à/ÊÅ¢Â§çÈòüÂàóÂë¢Ôºü ‰∏ÄËà¨Âú®ÂÜÖÂ≠òË≠¶ÂëäÂêéÂèñÊ∂àÈòüÂàó‰∏≠ÁöÑÊìç‰Ωú„ÄÇ ‰∏∫‰∫Ü‰øùËØÅscorllViewÂú®ÊªöÂä®ÁöÑÊó∂ÂÄôÊµÅÁïÖ ÈÄöÂ∏∏Âú®ÊªöÂä®ÂºÄÂßãÊó∂ÔºåÊöÇÂÅúÈòüÂàó‰∏≠ÁöÑÊâÄÊúâÊìç‰ΩúÔºåÊªöÂä®ÁªìÊùüÂêéÔºåÊÅ¢Â§çÊìç‰Ωú„ÄÇ Object C‰∏≠ÂàõÂª∫Á∫øÁ®ãÁöÑÊñπÊ≥ïÊòØ‰ªÄ‰πà?Â¶ÇÊûúÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÊâßË°å‰ª£Á†ÅÔºåÊñπÊ≥ïÊòØ‰ªÄ‰πà?Â¶ÇÊûúÊÉ≥Âª∂Êó∂ÊâßË°å‰ª£Á†Å„ÄÅÊñπÊ≥ïÂèàÊòØ‰ªÄ‰πà?Á∫øÁ®ãÂàõÂª∫Êúâ‰∏âÁßçÊñπÊ≥ïÔºö‰ΩøÁî®NSThreadÂàõÂª∫„ÄÅ‰ΩøÁî®GCDÁöÑdispatch„ÄÅ‰ΩøÁî®Â≠êÁ±ªÂåñÁöÑNSOperation,ÁÑ∂ÂêéÂ∞ÜÂÖ∂Âä†ÂÖ•NSOperationQueue; NSThreadÂàõÂª∫Á∫øÁ®ãÁöÑ‰∏âÁßçÊñπÊ≥ïÔºö NSThread *thread = [[NSThread alloc]initWithTarget:self selector:@selector(run:) object:@&quot;nil&quot;]; [NSThread detachNewThreadSelector:@selector(run:) toTarget:self withObject:@&quot;ÊàëÊòØÂàÜÁ¶ªÂá∫Êù•ÁöÑÂ≠êÁ∫øÁ®ã&quot;]; [self performSelectorInBackground:@selector(run:) withObject:@&quot;ÊàëÊòØÂêéÂè∞Á∫øÁ®ã&quot;]; Âú®‰∏ªÁ∫øÁ®ãÊâßË°å‰ª£Á†ÅÔºåÂ∞±Ë∞ÉÁî®performSelectorOnMainThreadÊñπÊ≥ï„ÄÇ Â¶ÇÊûúÊÉ≥Âª∂Êó∂ÊâßË°å‰ª£Á†ÅÂèØ‰ª•Ë∞ÉÁî®performSelector:onThread:withObject:waitUntilDone:ÊñπÊ≥ïÔºõ GCDÔºö Âà©Áî®ÂºÇÊ≠•ÂáΩÊï∞dispatch_async()ÂàõÂª∫Â≠êÁ∫øÁ®ã„ÄÇ Âú®‰∏ªÁ∫øÁ®ãÊâßË°å‰ª£Á†ÅÔºådispatch_async(dispatch_get_main_queue(), ^{}); Âª∂ËøüÊâßË°å‰ª£Á†ÅÔºàÂª∂Ëøü¬∑ÂèØ‰ª•ÊéßÂà∂‰ª£Á†ÅÂú®Âì™‰∏™Á∫øÁ®ãÊâßË°åÔºâÔºö dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{}); NSOperationQueueÔºö ‰ΩøÁî®NSOperationÁöÑÂ≠êÁ±ªÂ∞ÅË£ÖÊìç‰ΩúÔºåÂÜçÂ∞ÜÊìç‰ΩúÊ∑ªÂä†Âà∞NSOperationQueueÂàõÂª∫ÁöÑÈòüÂàó‰∏≠ÔºåÂÆûÁé∞Â§öÁ∫øÁ®ã„ÄÇ Âú®‰∏ªÁ∫øÁ®ãÊâßË°å‰ª£Á†ÅÔºåÂè™Ë¶ÅÂ∞ÜÂ∞ÅË£Ö‰ª£Á†ÅÁöÑNSOperationÂØπË±°Ê∑ªÂä†Âà∞‰∏ªÈòüÂàóÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ ‰∏ãÈù¢ÂÖ≥‰∫éÁ∫øÁ®ãÁÆ°ÁêÜÈîôËØØÁöÑÊòØA. GCDÊâÄÁî®ÁöÑÂºÄÈîÄË¶ÅÊØîNSThreadÂ§ß B. ÂèØ‰ª•Âú®Â≠êÁ∫øÁ®ã‰∏≠‰øÆÊîπUIÂÖÉÁ¥† C. NSOperationQueueÊòØÊØîNSthreadÊõ¥È´òÂ±ÇÁöÑÂ∞ÅË£Ö D. GCDÂèØ‰ª•Ê†πÊçÆ‰∏çÂêå‰ºòÂÖàÁ∫ßÂàÜÈÖçÁ∫øÁ®ã ÂèÇËÄÉÁ≠îÊ°àÔºöB ÁêÜÁî±ÔºöÈ¶ñÂÖàÔºåUIÂÖÉÁ¥†ÁöÑÊõ¥Êñ∞ÂøÖÈ°ªÂú®‰∏ªÁ∫øÁ®ã„ÄÇGCD‰∏éBlockÈÖçÂêà‰ΩøÁî®ÔºåblockÈúÄË¶ÅËá™Âä®ÊçïËé∑‰∏ä‰∏ãÊñáÂèòÈáè‰ø°ÊÅØÁ≠âÔºåÂõ†Ê≠§ÈúÄË¶ÅÊõ¥Â§öÁöÑËµÑÊ∫êÔºåÊïÖÊØîNSThreadÂºÄÈîÄË¶ÅÂ§ß‰∏Ä‰∫õ„ÄÇNSOperationQueue‰∏éNSOperationÈÖçÂêà‰ΩøÁî®ÔºåÊØîNSThreadÊõ¥Êòì‰∫éÊìç‰ΩúÁ∫øÁ®ã„ÄÇGCDÊèê‰æõ‰∫ÜÂ§ö‰∏™‰ºòÂÖàÁ∫ßÔºåÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆËÆæÁΩÆ‰ºòÂÖàÁ∫ßÔºåËÆ©ÂÖ∂Ëá™Âä®‰∏∫Êàë‰ª¨ÂàÜÈÖçÁ∫øÁ®ã„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò16--WebView‰∏éJS‰∫§‰∫í]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9816-WebView%E4%B8%8EJS%E4%BA%A4%E4%BA%92%2F</url>
    <content type="text"><![CDATA[iOS‰∏≠Ë∞ÉÁî®HTML 1. Âä†ËΩΩÁΩëÈ°µ NSURL *url = [[NSBundle mainBundle] URLForResource:@&quot;index&quot; withExtension:@&quot;html&quot;]; NSURLRequest *request = [NSURLRequest requestWithURL:url]; [self.webView loadRequest:request]; 2. Âà†Èô§ NSString *str1 = @&quot;var word = document.getElementById(&#39;word&#39;);&quot;; NSString *str2 = @&quot;word.remove();&quot;; [webView stringByEvaluatingJavaScriptFromString:str1]; [webView stringByEvaluatingJavaScriptFromString:str2]; 3. Êõ¥Êîπ NSString *str3 = @&quot;var change = document.getElementsByClassName(&#39;change&#39;)[0];&quot; &quot;change.innerHTML = &#39;Â•Ω‰Ω†ÁöÑÂì¶!&#39;;&quot;; [webView stringByEvaluatingJavaScriptFromString:str3]; 4. ÊèíÂÖ• NSString *str4 =@&quot;var img = document.createElement(&#39;img&#39;);&quot; &quot;img.src = &#39;img_01.jpg&#39;;&quot; &quot;img.width = &#39;160&#39;;&quot; &quot;img.height = &#39;80&#39;;&quot; &quot;document.body.appendChild(img);&quot;; [webView stringByEvaluatingJavaScriptFromString:str4]; 5. ÊîπÂèòÊ†áÈ¢ò NSString *str1 = @&quot;var h1 = document.getElementsByTagName(&#39;h1&#39;)[0];&quot; &quot;h1.innerHTML=&#39;ÁÆÄ‰π¶ÂïäÂïäÂïäÂïä&#39;;&quot;; [webView stringByEvaluatingJavaScriptFromString:str1]; 6. Âà†Èô§Â∞æÈÉ® NSString *str2 =@&quot;document.getElementById(&#39;footer&#39;).remove();&quot;; [webView stringByEvaluatingJavaScriptFromString:str2]; 7. ÊãøÂá∫ÊâÄÊúâÁöÑÁΩëÈ°µÂÜÖÂÆπ NSString *str3 = @&quot;document.body.outerHTML&quot;; NSString *html = [webView stringByEvaluatingJavaScriptFromString:str3]; NSLog(@&quot;%@&quot;, html); Âú®HTML‰∏≠Ë∞ÉÁî®OC-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType{ NSString *str = request.URL.absoluteString; NSRange range = [str rangeOfString:@&quot;ZJY://&quot;]; if (range.location != NSNotFound) { NSString *method = [str substringFromIndex:range.location + range.length]; SEL sel = NSSelectorFromString(method); [self performSelector:sel]; } return YES; } // ËÆøÈóÆÁõ∏ÂÜå - (void)getImage{ UIImagePickerController *pickerImg = [[UIImagePickerController alloc]init]; pickerImg.sourceType = UIImagePickerControllerSourceTypePhotoLibrary; [self presentViewController:pickerImg animated:YES completion:nil]; } JavaScriptCore ‰ΩøÁî® JavaScriptCoreÊòØwebkitÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÁªÑÊàêÈÉ®ÂàÜÔºå‰∏ªË¶ÅÊòØÂØπJSËøõË°åËß£ÊûêÂíåÊèê‰æõÊâßË°åÁéØÂ¢É„ÄÇiOS7ÂêéËãπÊûúÂú®iPhoneÂπ≥Âè∞Êé®Âá∫ÔºåÊûÅÂ§ßÁöÑÊñπ‰æø‰∫ÜÊàë‰ª¨ÂØπjsÁöÑÊìç‰Ωú„ÄÇÊàë‰ª¨ÂèØ‰ª•ËÑ±Á¶ªwebviewÁõ¥Êé•ËøêË°åÊàë‰ª¨ÁöÑjs„ÄÇiOS7‰ª•ÂâçÊàë‰ª¨ÂØπJSÁöÑÊìç‰ΩúÂè™ÊúâwebviewÈáåÈù¢‰∏Ä‰∏™ÂáΩÊï∞stringByEvaluatingJavaScriptFromStringÔºåJSÂØπOCÁöÑÂõûË∞ÉÈÉΩÊòØÂü∫‰∫éURLÁöÑÊã¶Êà™ËøõË°åÁöÑÊìç‰Ωú„ÄÇÂ§ßÂÆ∂Áî®ÂæóÊØîËæÉÂ§öÁöÑÊòØWebViewJavascriptBridgeÂíåEasyJSWebViewËøô‰∏§‰∏™ÂºÄÊ∫êÂ∫ìÔºåÂæàÂ§öÊ∑∑ÂêàÈÉΩÈááÁî®ÁöÑËøôÁßçÊñπÂºè„ÄÇ #import &quot;JSContext.h&quot; #import &quot;JSValue.h&quot; #import &quot;JSManagedValue.h&quot; #import &quot;JSVirtualMachine.h&quot; #import &quot;JSExport.h&quot; JSContext:JSÊâßË°åÁöÑÁéØÂ¢ÉÔºåÂêåÊó∂‰πüÈÄöËøáJSVirtualMachineÁÆ°ÁêÜÁùÄÊâÄÊúâÂØπË±°ÁöÑÁîüÂëΩÂë®ÊúüÔºåÊØè‰∏™JSValueÈÉΩÂíåJSContextÁõ∏ÂÖ≥ËÅîÂπ∂‰∏îÂº∫ÂºïÁî®context„ÄÇ JSValue:JSÂØπË±°Âú®JSVirtualMachine‰∏≠ÁöÑ‰∏Ä‰∏™Âº∫ÂºïÁî®ÔºåÂÖ∂ÂÆûÂ∞±ÊòØHybirdÂØπË±°„ÄÇÊàë‰ª¨ÂØπJSÁöÑÊìç‰ΩúÈÉΩÊòØÈÄöËøáÂÆÉ„ÄÇÂπ∂‰∏îÊØè‰∏™JSValueÈÉΩÊòØÂº∫ÂºïÁî®‰∏Ä‰∏™context„ÄÇÂêåÊó∂ÔºåOCÂíåJSÂØπË±°‰πãÈó¥ÁöÑËΩ¨Êç¢‰πüÊòØÈÄöËøáÂÆÉÔºåÁõ∏Â∫îÁöÑÁ±ªÂûãËΩ¨Êç¢Â¶Ç‰∏ãÔºö Objective-C type JavaScript type nil undefined NSNull null NSString string NSNumber number, boolean NSDictionary Object object NSArray Array object NSDate Date object NSBlock (1) Function object (1) id (2) Wrapper object (2) Class (3) Constructor object (3) JSManagedValue:JSÂíåOCÂØπË±°ÁöÑÂÜÖÂ≠òÁÆ°ÁêÜËæÖÂä©ÂØπË±°„ÄÇÁî±‰∫éJSÂÜÖÂ≠òÁÆ°ÁêÜÊòØÂûÉÂúæÂõûÊî∂ÔºåÂπ∂‰∏îJS‰∏≠ÁöÑÂØπË±°ÈÉΩÊòØÂº∫ÂºïÁî®ÔºåËÄåOCÊòØÂºïÁî®ËÆ°Êï∞„ÄÇÂ¶ÇÊûúÂèåÊñπÁõ∏‰∫íÂºïÁî®ÔºåÂäøÂøÖ‰ºöÈÄ†ÊàêÂæ™ÁéØÂºïÁî®ÔºåËÄåÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇÊàë‰ª¨ÂèØ‰ª•Áî®JSManagedValue‰øùÂ≠òJSValueÊù•ÈÅøÂÖç„ÄÇ JSVirtualMachine:JSËøêË°åÁöÑËôöÊãüÊú∫ÔºåÊúâÁã¨Á´ãÁöÑÂ†ÜÁ©∫Èó¥ÂíåÂûÉÂúæÂõûÊî∂Êú∫Âà∂„ÄÇ JSExport:‰∏Ä‰∏™ÂçèËÆÆÔºåÂ¶ÇÊûúJSÂØπË±°ÊÉ≥Áõ¥Êé•Ë∞ÉÁî®OCÂØπË±°ÈáåÈù¢ÁöÑÊñπÊ≥ïÂíåÂ±ûÊÄßÔºåÈÇ£‰πàËøô‰∏™OCÂØπË±°Âè™Ë¶ÅÂÆûÁé∞Ëøô‰∏™JSExportÂçèËÆÆÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ Objective-C -&gt; JavaScript self.context = [[JSContext alloc] init]; NSString *js = @&quot;function add(a,b) {return a+b}&quot;; [self.context evaluateScript:js]; JSValue *n = [self.context[@&quot;add&quot;] callWithArguments:@[@2, @3]]; NSLog(@&quot;---%@&quot;, @([n toInt32]));//---5 JavaScript -&gt; Objective-C.JSË∞ÉÁî®OCÊúâ‰∏§‰∏™ÊñπÊ≥ïÔºöblockÂíåJSExport protocol„ÄÇ block(JS function): self.context = [[JSContext alloc] init]; self.context[@&quot;add&quot;] = ^(NSInteger a, NSInteger b) { NSLog(@&quot;---%@&quot;, @(a + b)); }; [self.context evaluateScript:@&quot;add(2,3)&quot;]; Êàë‰ª¨ÂÆö‰πâ‰∏Ä‰∏™blockÔºåÁÑ∂Âêé‰øùÂ≠òÂà∞contextÈáåÈù¢ÔºåÂÖ∂ÂÆûÂ∞±ÊòØËΩ¨Êç¢Êàê‰∫ÜJSÁöÑfunction„ÄÇÁÑ∂ÂêéÊàë‰ª¨Áõ¥Êé•ÊâßË°åËøô‰∏™functionÔºåË∞ÉÁî®ÁöÑÂ∞±ÊòØÊàë‰ª¨ÁöÑblockÈáåÈù¢ÁöÑÂÜÖÂÆπ‰∫Ü„ÄÇ JSExport protocol: //ÂÆö‰πâ‰∏Ä‰∏™JSExport protocol @protocol JSExportTest &lt;JSExport&gt; - (NSInteger)add:(NSInteger)a b:(NSInteger)b; @property (nonatomic, assign) NSInteger sum; @end //Âª∫‰∏Ä‰∏™ÂØπË±°ÂéªÂÆûÁé∞Ëøô‰∏™ÂçèËÆÆÔºö @interface JSProtocolObj : NSObject&lt;JSExportTest&gt; @end @implementation JSProtocolObj @synthesize sum = _sum; //ÂÆûÁé∞ÂçèËÆÆÊñπÊ≥ï - (NSInteger)add:(NSInteger)a b:(NSInteger)b { return a+b; } //ÈáçÂÜôsetterÊñπÊ≥ïÊñπ‰æøÊâìÂç∞‰ø°ÊÅØÔºå - (void)setSum:(NSInteger)sum { NSLog(@&quot;--%@&quot;, @(sum)); _sum = sum; } @end //Âú®VC‰∏≠ËøõË°åÊµãËØï @interface ViewController () &lt;JSExportTest&gt; @property (nonatomic, strong) JSProtocolObj *obj; @property (nonatomic, strong) JSContext *context; @end @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; //ÂàõÂª∫context self.context = [[JSContext alloc] init]; //ËÆæÁΩÆÂºÇÂ∏∏Â§ÑÁêÜ self.context.exceptionHandler = ^(JSContext *context, JSValue *exception) { [JSContext currentContext].exception = exception; NSLog(@&quot;exception:%@&quot;,exception); }; //Â∞ÜobjÊ∑ªÂä†Âà∞context‰∏≠ self.context[@&quot;OCObj&quot;] = self.obj; //JSÈáåÈù¢Ë∞ÉÁî®ObjÊñπÊ≥ïÔºåÂπ∂Â∞ÜÁªìÊûúËµãÂÄºÁªôObjÁöÑsumÂ±ûÊÄß [self.context evaluateScript:@&quot;OCObj.sum = OCObj.addB(2,3)&quot;]; } demoÂæàÁÆÄÂçïÔºåËøòÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™‰∏§‰∏™Êï∞Áõ∏Âä†ÁöÑÊñπÊ≥ïÔºåËøòÊúâ‰∏Ä‰∏™‰øùÂ≠òÁªìÊûúÁöÑÂèòÈáè„ÄÇÂú®JS‰∏≠ËøõË°åË∞ÉÁî®Ëøô‰∏™ÂØπË±°ÁöÑÊñπÊ≥ïÔºåÂπ∂Â∞ÜÁªìÊûúËµãÂÄºsum„ÄÇÂîØ‰∏ÄË¶ÅÊ≥®ÊÑèÁöÑÊòØOCÁöÑÂáΩÊï∞ÂëΩÂêçÂíåJSÂáΩÊï∞ÂëΩÂêçËßÑÂàôÈóÆÈ¢ò„ÄÇÂçèËÆÆ‰∏≠ÂÆö‰πâÁöÑÊòØadd: b:Ôºå‰ΩÜÊòØJSÈáåÈù¢ÊñπÊ≥ïÂêçÂ≠óÊòØaddB(a,b)„ÄÇÂèØ‰ª•ÈÄöËøáJSExportAsËøô‰∏™ÂÆèËΩ¨Êç¢ÊàêJSÁöÑÂáΩÊï∞ÂêçÂ≠ó„ÄÇ ÂÜÖÂ≠òÁÆ°ÁêÜ:Áé∞Âú®Êù•ËØ¥ËØ¥ÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÊ≥®ÊÑèÁÇπÔºåOC‰ΩøÁî®ÁöÑARCÔºåJS‰ΩøÁî®ÁöÑÊòØÂûÉÂúæÂõûÊî∂Êú∫Âà∂ÔºåÂπ∂‰∏îÊâÄÊúâÁöÑÂºïÁî®ÊòØÈÉΩÂº∫ÂºïÁî®Ôºå‰∏çËøáJSÁöÑÂæ™ÁéØÂºïÁî®ÔºåÂûÉÂúæÂõûÊî∂‰ºöÂ∏ÆÂÆÉ‰ª¨ÊâìÁ†¥„ÄÇJavaScriptCoreÈáåÈù¢Êèê‰æõÁöÑAPIÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåOCÂíåJSÂØπË±°‰πãÈó¥ÂÜÖÂ≠òÁÆ°ÁêÜÈÉΩÊó†ÈúÄÊàë‰ª¨ÂéªÂÖ≥ÂøÉ„ÄÇ‰∏çËøáËøòÊòØÊúâÂá†‰∏™Ê≥®ÊÑèÁÇπÈúÄË¶ÅÊàë‰ª¨ÂéªÁïôÊÑè‰∏ã„ÄÇ 1„ÄÅ‰∏çË¶ÅÂú®blockÈáåÈù¢Áõ¥Êé•‰ΩøÁî®contextÔºåÊàñËÄÖ‰ΩøÁî®Â§ñÈÉ®ÁöÑJSValueÂØπË±°„ÄÇ //ÈîôËØØ‰ª£Á†ÅÔºö self.context[@&quot;block&quot;] = ^(){ JSValue *value = [JSValue valueWithObject:@&quot;aaa&quot; inContext:self.context]; }; Ëøô‰∏™‰ª£Á†ÅÔºå‰∏çÁî®Ëá™Â∑±Áúã‰∫ÜÔºåÁºñËØëÂô®ÈÉΩ‰ºöÊèêÁ§∫‰Ω†ÁöÑ„ÄÇËøô‰∏™blockÈáåÈù¢‰ΩøÁî®selfÔºåÂæàÂÆπÊòìÂ∞±ÁúãÂá∫Êù•‰∫Ü„ÄÇ //‰∏Ä‰∏™ÊØîËæÉÈöêËîΩÁöÑ JSValue *value = [JSValue valueWithObject:@&quot;ssss&quot; inContext:self.context]; self.context[@&quot;log&quot;] = ^(){ NSLog(@&quot;%@&quot;,value); }; Ëøô‰∏™ÊòØblockÈáåÈù¢‰ΩøÁî®‰∫ÜÂ§ñÈÉ®ÁöÑvalueÔºåvalueÂØπcontextÂíåÂÆÉÁÆ°ÁêÜÁöÑJSÂØπË±°ÈÉΩÊòØÂº∫ÂºïÁî®„ÄÇËøô‰∏™valueË¢´blockÊâÄÊçïËé∑ÔºåËøôËæπÂêåÊ†∑‰πü‰ºöÂÜÖÂ≠òÊ≥ÑÈú≤ÔºåcontextÊòØÈîÄÊØÅ‰∏çÊéâÁöÑ„ÄÇ //Ê≠£Á°ÆÁöÑÂÅöÊ≥ïÔºåstrÂØπË±°ÊòØJSÈÇ£Ëæπ‰º†ÈÄíËøáÊù•„ÄÇ self.context[@&quot;log&quot;] = ^(NSString *str){ NSLog(@&quot;%@&quot;,str); }; 2„ÄÅOCÂØπË±°‰∏çË¶ÅÁî®Â±ûÊÄßÁõ¥Êé•‰øùÂ≠òJSValueÂØπË±°ÔºåÂõ†‰∏∫ËøôÊ†∑Â§™ÂÆπÊòìÂæ™ÁéØÂºïÁî®‰∫Ü„ÄÇ Áúã‰∏™demoÔºåÊää‰∏äÈù¢ÁöÑÁ§∫‰æãÊîπ‰∏ãÔºö //ÂÆö‰πâ‰∏Ä‰∏™JSExport protocol @protocol JSExportTest &lt;JSExport&gt; //Áî®Êù•‰øùÂ≠òJSÁöÑÂØπË±° @property (nonatomic, strong) JSvalue *jsValue; @end //Âª∫‰∏Ä‰∏™ÂØπË±°ÂéªÂÆûÁé∞Ëøô‰∏™ÂçèËÆÆÔºö @interface JSProtocolObj : NSObject&lt;JSExportTest&gt; @end @implementation JSProtocolObj @synthesize jsValue = _jsValue; @end //Âú®VC‰∏≠ËøõË°åÊµãËØï @interface ViewController () &lt;JSExportTest&gt; @property (nonatomic, strong) JSProtocolObj *obj; @property (nonatomic, strong) JSContext *context; @end @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; //ÂàõÂª∫context self.context = [[JSContext alloc] init]; //ËÆæÁΩÆÂºÇÂ∏∏Â§ÑÁêÜ self.context.exceptionHandler = ^(JSContext *context, JSValue *exception) { [JSContext currentContext].exception = exception; NSLog(@&quot;exception:%@&quot;,exception); }; //Âä†ËΩΩJS‰ª£Á†ÅÂà∞context‰∏≠ [self.context evaluateScript: @&quot;function callback (){}; function setObj(obj) { this.obj = obj; obj.jsValue=callback; }&quot;]; //Ë∞ÉÁî®JSÊñπÊ≥ï [self.context[@&quot;setObj&quot;] callWithArguments:@[self.obj]]; } ‰∏äÈù¢ÁöÑ‰æãÂ≠êÂæàÁÆÄÂçïÔºåË∞ÉÁî®JSÊñπÊ≥ïÔºåËøõË°åËµãÂÄºÔºåJSÂØπË±°‰øùÁïô‰∫Ü‰º†ËøõÊù•ÁöÑobjÔºåÊúÄÂêéÔºåJSÂ∞ÜËá™Â∑±ÁöÑÂõûË∞ÉcallbackËµãÂÄºÁªô‰∫ÜobjÔºåÊñπ‰æøobj‰∏ãÊ¨°ÂõûË∞ÉÁªôJSÔºõÁî±‰∫éJSÈÇ£Ëæπ‰øùÂ≠ò‰∫ÜobjÔºåËÄå‰∏îobjËøôËæπ‰πü‰øùÁïô‰∫ÜJSÁöÑÂõûË∞É„ÄÇËøôÊ†∑Â∞±ÂΩ¢Êàê‰∫ÜÂæ™ÁéØÂºïÁî®„ÄÇ ÊÄé‰πàËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºüÊàë‰ª¨Âè™ÈúÄË¶ÅÊâìÁ†¥objÂØπJSValueÂØπË±°ÁöÑÂºïÁî®Âç≥ÂèØ„ÄÇÂΩìÁÑ∂Ôºå‰∏çÊòØÊàë‰ª¨OC‰∏≠ÁöÑweak„ÄÇËÄåÊòØ‰πãÂâçËØ¥ÁöÑÂÜÖÂ≠òÁÆ°ÁêÜËæÖÂä©ÂØπË±°JSManagedValue„ÄÇ JSManagedValue Êú¨Ë∫´Â∞±ÊòØÊàë‰ª¨ÈúÄË¶ÅÁöÑÂº±ÂºïÁî®„ÄÇÁî®ÂÆòÊñπÁöÑËØùÊù•ËØ¥Âè´garbage collection weak reference„ÄÇ‰ΩÜÊòØÂÆÉÂ∏ÆÂä©Êàë‰ª¨ÊåÅÊúâJSValueÂØπË±°ÂøÖÈ°ªÂêåÊó∂Êª°Ë∂≥‰∏Ä‰∏ã‰∏§‰∏™Êù°‰ª∂Ôºà‰∏çÁøªËØë‰∫ÜÔºåÁøªËØë‰∫ÜÊÄ™ÊÄ™ÁöÑÔºÅÔºâÔºö The JSManagedValue&#39;s JavaScript value is reachable from JavaScript The owner of the managed reference is reachable in Objective-C. Manually adding or removing the managed reference in the JSVirtualMachine determines reachability. ÊÑèÊÄùÂæàÁÆÄÂçïÔºåJSManagedValue Â∏ÆÂä©Êàë‰ª¨‰øùÂ≠òJSValueÔºåÈÇ£ÈáåÈù¢‰øùÂ≠òÁöÑJSÂØπË±°ÂøÖÈ°ªÂú®JS‰∏≠Â≠òÂú®ÔºåÂêåÊó∂ JSManagedValue ÁöÑownerÂú®OC‰∏≠‰πüÂ≠òÂú®„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆÉÊèê‰æõÁöÑ‰∏§‰∏™ÊñπÊ≥ï``` + (JSManagedValue )managedValueWithValue:(JSValue )value; (JSManagedValue )managedValueWithValue:(JSValue )value andOwner:(id)ownerÂàõÂª∫JSManagedValueÂØπË±°„ÄÇÈÄöËøáJSVirtualMachineÁöÑÊñπÊ≥ï- (void)addManagedReference:(id)object withOwner:(id)ownerÊù•Âª∫Á´ãËøô‰∏™Âº±ÂºïÁî®ÂÖ≥Á≥ª„ÄÇÈÄöËøá- (void)removeManagedReference:(id)object withOwner:(id)owner``` Êù•ÊâãÂä®ÁßªÈô§‰ªñ‰ª¨‰πãÈó¥ÁöÑËÅîÁ≥ª„ÄÇ ÊääÂàöÂàöÁöÑ‰ª£Á†ÅÊîπ‰∏ãÔºö //ÂÆö‰πâ‰∏Ä‰∏™JSExport protocol @protocol JSExportTest &lt;JSExport&gt; //Áî®Êù•‰øùÂ≠òJSÁöÑÂØπË±° @property (nonatomic, strong) JSValue *jsValue; @end //Âª∫‰∏Ä‰∏™ÂØπË±°ÂéªÂÆûÁé∞Ëøô‰∏™ÂçèËÆÆÔºö @interface JSProtocolObj : NSObject&lt;JSExportTest&gt; //Ê∑ªÂä†‰∏Ä‰∏™JSManagedValueÁî®Êù•‰øùÂ≠òJSValue @property (nonatomic, strong) JSManagedValue *managedValue; @end @implementation JSProtocolObj @synthesize jsValue = _jsValue; //ÈáçÂÜôsetterÊñπÊ≥ï - (void)setJsValue:(JSValue *)jsValue { _managedValue = [JSManagedValue managedValueWithValue:jsValue]; [[[JSContext currentContext] virtualMachine] addManagedReference:_managedValue withOwner:self]; } @end //Âú®VC‰∏≠ËøõË°åÊµãËØï @interface ViewController () &lt;JSExportTest&gt; @property (nonatomic, strong) JSProtocolObj *obj; @property (nonatomic, strong) JSContext *context; @end @implementation ViewController - (void)viewDidLoad { [super viewDidLoad]; //ÂàõÂª∫context self.context = [[JSContext alloc] init]; //ËÆæÁΩÆÂºÇÂ∏∏Â§ÑÁêÜ self.context.exceptionHandler = ^(JSContext *context, JSValue *exception) { [JSContext currentContext].exception = exception; NSLog(@&quot;exception:%@&quot;,exception); }; //Âä†ËΩΩJS‰ª£Á†ÅÂà∞context‰∏≠ [self.context evaluateScript: @&quot;function callback (){}; function setObj(obj) { this.obj = obj; obj.jsValue=callback; }&quot;]; //Ë∞ÉÁî®JSÊñπÊ≥ï [self.context[@&quot;setObj&quot;] callWithArguments:@[self.obj]]; } Ê≥®Ôºö‰ª•‰∏ä‰ª£Á†ÅÂè™ÊòØ‰∏∫‰∫ÜÁ™ÅÂá∫Áî® JSManagedValueÊù•‰øùÂ≠ò JSValueÔºåÊâÄ‰ª•ÈáçÂÜô‰∫Ü setter ÊñπÊ≥ï„ÄÇÂÆûÈôÖ‰∏ç‰ºöÂÜôËøô‰πàÊêìÁöÑÂßøÂäø„ÄÇ„ÄÇ„ÄÇÂ∫îËØ•Ê†πÊçÆÂõûË∞ÉÊñπÊ≥ï‰º†ËøõÊù•ÂèÇÊï∞ÔºåËøõË°å‰øùÂ≠ò JSValue„ÄÇ 3„ÄÅ‰∏çË¶ÅÂú®‰∏çÂêåÁöÑ JSVirtualMachine ‰πãÈó¥ËøõË°å‰º†ÈÄíJSÂØπË±°„ÄÇ ‰∏Ä‰∏™ JSVirtualMachineÂèØ‰ª•ËøêË°åÂ§ö‰∏™contextÔºåÁî±‰∫éÈÉΩÊòØÂú®Âêå‰∏Ä‰∏™Â†ÜÂÜÖÂ≠òÂíåÂêå‰∏Ä‰∏™ÂûÉÂúæÂõûÊî∂‰∏ãÔºåÊâÄ‰ª•Áõ∏‰∫í‰πãÈó¥‰º†ÂÄºÊòØÊ≤°ÈóÆÈ¢òÁöÑ„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÂú®‰∏çÂêåÁöÑ JSVirtualMachine‰º†ÂÄºÔºåÂûÉÂúæÂõûÊî∂Â∞±‰∏çÁü•ÈÅì‰ªñ‰ª¨‰πãÈó¥ÁöÑÂÖ≥Á≥ª‰∫ÜÔºåÂèØËÉΩ‰ºöÂºïËµ∑ÂºÇÂ∏∏„ÄÇ Á∫øÁ®ã:JavaScriptCore Á∫øÁ®ãÊòØÂÆâÂÖ®ÁöÑÔºåÊØè‰∏™contextËøêË°åÁöÑÊó∂ÂÄôÈÄöËøálockÂÖ≥ËÅîÁöÑJSVirtualMachine„ÄÇÂ¶ÇÊûúË¶ÅËøõË°åÂπ∂ÂèëÊìç‰ΩúÔºåÂèØ‰ª•ÂàõÂª∫Â§ö‰∏™JSVirtualMachineÂÆû‰æãËøõË°åÊìç‰Ωú„ÄÇ ‰∏éUIWebViewÁöÑÊìç‰Ωú ÈÄöËøá‰∏äÈù¢ÁöÑdemoÔºåÂ∫îËØ•Â∑Æ‰∏çÂ§ö‰∫ÜËß£OCÂ¶Ç‰ΩïÂíåJSËøõË°åÈÄö‰ø°„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÁúãÁúãÂ¶Ç‰ΩïÂØπ UIWebView ËøõË°åÊìç‰ΩúÔºåÊàë‰ª¨‰∏çÂÜçÈÄöËøáURLÊã¶Êà™ÔºåÊàë‰ª¨Áõ¥Êé•Âèñ UIWebView ÁöÑ contextÔºåÁÑ∂ÂêéËøõË°åÂØπJSÊìç‰Ωú„ÄÇ Âú®UIWebViewÁöÑfinishÁöÑÂõûË∞É‰∏≠ËøõË°åËé∑Âèñ - (void)webViewDidFinishLoad:(UIWebView *)webView { self.context = [webView valueForKeyPath:@&quot;documentView.webView.mainFrame.javaScriptContext&quot;]; } ‰∏äÈù¢Áî®‰∫ÜÁßÅÊúâÂ±ûÊÄßÔºåÂèØËÉΩ‰ºöË¢´ËãπÊûúÁªôÊãí‰∫Ü„ÄÇËøôËæπË¶ÅÊ≥®ÊÑèÁöÑÊòØÊØè‰∏™È°µÈù¢Âä†ËΩΩÂÆåÈÉΩÊòØ‰∏Ä‰∏™Êñ∞ÁöÑcontextÔºå‰ΩÜÊòØÈÉΩÊòØÂêå‰∏Ä‰∏™JSVirtualMachine„ÄÇÂ¶ÇÊûúJSË∞ÉÁî®OCÊñπÊ≥ïËøõË°åÊìç‰ΩúUIÁöÑÊó∂ÂÄôÔºåËØ∑Ê≥®ÊÑèÁ∫øÁ®ãÊòØ‰∏çÊòØ‰∏ªÁ∫øÁ®ã„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò15--ÁΩëÁªú]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9815-%E7%BD%91%E7%BB%9C%2F</url>
    <content type="text"><![CDATA[httpËØ∑Ê±ÇÊñπÂºèÔºüÈÄöÂ∏∏ÔºåHTTPÁöÑËØ∑Ê±ÇÊñπÂºèÊúâ3ÁßçÔºåÂàÜÂà´ÊòØÔºöPOST„ÄÅGET„ÄÅHEAD„ÄÇPOSTÂíåGETÊñπÊ≥ïÊòØÁî®‰∫éÊï∞ÊçÆÂèëÈÄÅÁöÑ„ÄÇ POSTÔºöÂÆÉÂ∞ÜË¶ÅÂèëÈÄÅÁöÑÊï∞ÊçÆÂçïÁã¨ÊîæÂú®‰∏Ä‰∏™ÊµÅ‰∏≠ËøõË°åÂèëÈÄÅÔºåËÄå‰∏çÊòØÈôÑÂä†Âú®URLÂú∞ÂùÄÂêéÈù¢ÔºåËøôÊ†∑ÂÅöÁöÑÂ•ΩÂ§ÑÊòØËøô‰∫õÊï∞ÊçÆ‰∏ç‰ºöÂá∫Áé∞Âú®URLÂú∞ÂùÄ‰∏≠„ÄÇ GETÔºöÂÆÉÂ∞ÜË¶ÅÂèëÈÄÅÁöÑÊï∞ÊçÆÁõ¥Êé•Ê∑ªÂä†Âú®URLÂêéÈù¢ÔºåÂ¶ÇÔºöwww.sina.com.cn?username=‚Äú‚Äù&amp;password=‚Äù‚ÄùÔºåËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•Áõ¥Êé•Â∞ÜÊï∞ÊçÆÂä†Âú®URLÂêéÔºåËÄå‰∏çÈúÄÂú®Áî®Âè¶Â§ñÁöÑÊµÅÊù•ÂèëÈÄÅËøô‰∫õÊï∞ÊçÆÔºå‰ΩÜÊòØÁº∫ÁÇπ‰πüÊòæËÄåÊòìËßÅÔºåÂÆÉÂ∞ÜÁî®Êà∑ÁöÑ‰ø°ÊÅØÊòæÁ§∫Âá∫Êù•‰∫Ü„ÄÇ HEADÔºöÂÆÉÊòØËØ∑Ê±ÇËµÑÊ∫êÁöÑÂÖÉÊï∞ÊçÆÊñπÊ≥ï„ÄÇÂú®ÂÖ∑‰ΩìÁöÑÂ∫îÁî®‰∏≠ÔºåÊàëÊöÇÊó∂ËøòÊ≤°ÈÅáÂà∞ËøáÔºå‰πü‰∏çÂéªÂØπÂÆÉËøõË°åÁ†îÁ©∂ÔºåÈúÄË¶ÅÊòØÂú®Â≠¶‰π†„ÄÇ HttpÂÆö‰πâ‰∫Ü‰∏éÊúçÂä°Âô®‰∫§‰∫íÁöÑ‰∏çÂêåÊñπÊ≥ïÔºåÊúÄÂü∫Êú¨ÁöÑÊñπÊ≥ïÊúâÔºü URLÂÖ®Áß∞ÊòØËµÑÊ∫êÊèèËø∞Á¨¶ÔºåÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑ËÆ§‰∏∫Ôºö‰∏Ä‰∏™URLÂú∞ÂùÄÔºåÂÆÉÁî®‰∫éÊèèËø∞‰∏Ä‰∏™ÁΩëÁªú‰∏äÁöÑËµÑÊ∫êÔºåËÄåHTTP‰∏≠ÁöÑGETÔºåPOSTÔºåPUTÔºåDELETEÂ∞±ÂØπÂ∫îÁùÄÂØπËøô‰∏™ËµÑÊ∫êÁöÑÊü•ÔºåÊîπÔºåÂ¢ûÔºåÂà†4‰∏™Êìç‰Ωú„ÄÇ GET‰∏ÄËà¨Áî®‰∫éËé∑Âèñ/Êü•ËØ¢ËµÑÊ∫ê‰ø°ÊÅØÔºåËÄåPOST‰∏ÄËà¨Áî®‰∫éÊõ¥Êñ∞ËµÑÊ∫ê‰ø°ÊÅØ„ÄÇ socketÁºñÁ®ãÁÆÄËø∞ÂÆÉÊòØÂü∫‰∫éTCP/IPÂçèËÆÆÔºåSocketÂ∞±ÊòØ‰∏Ä‰∏™ÂèØ‰ª•ËøûÈÄöÁΩëÁªú‰∏ä‰∏çÂêåËÆ°ÁÆóÊú∫Á®ãÂ∫è‰πãÈó¥ÁöÑÁÆ°ÈÅìÔºåÊää‰∏ÄÂ†ÜÊï∞ÊçÆ‰ªéÁÆ°ÈÅìÁöÑAÁ´ØÊâîËøõÂéªÔºåÂàô‰ºö‰ªéÁÆ°ÈÅìÁöÑBÁ´ØÔºà‰πüËÆ∏ÂêåÊó∂ËøòÂèØ‰ª•‰ªéC„ÄÅD„ÄÅE„ÄÅF‚Ä¶‚Ä¶Á´ØÂÜíÂá∫Êù•Ôºâ„ÄÇÁÆ°ÈÅìÁöÑÁ´ØÂè£Áî±‰∏§‰∏™Âõ†Á¥†Êù•ÂîØ‰∏ÄÁ°ÆËÆ§ÔºåÂç≥Êú∫Âô®ÁöÑIPÂú∞ÂùÄÂíåÁ®ãÂ∫èÊâÄ‰ΩøÁî®ÁöÑÁ´ØÂè£Âè∑„ÄÇ SocketÂèØ‰ª•ÊîØÊåÅÊï∞ÊçÆÁöÑÂèëÈÄÅÂíåÊé•Êî∂ÔºåÂÆÉ‰ºöÂÆö‰πâ‰∏ÄÁßçÁß∞‰∏∫Â•óÊé•Â≠óÁöÑÂèòÈáèÔºåÂèëÈÄÅÊï∞ÊçÆÊó∂È¶ñÂÖàÂàõÂª∫Â•óÊé•Â≠óÔºåÁÑ∂Âêé‰ΩøÁî®ËØ•Â•óÊé•Â≠óÁöÑsendtoÁ≠âÊñπÊ≥ïÂØπÂáÜÊüê‰∏™IP/Á´ØÂè£ËøõË°åÊï∞ÊçÆÂèëÈÄÅÔºõÊé•Êî∂Á´Ø‰πüÈ¶ñÂÖàÂàõÂª∫Â•óÊé•Â≠óÔºåÁÑ∂ÂêéÂ∞ÜËØ•Â•óÊé•Â≠óÁªëÂÆöÂà∞‰∏Ä‰∏™IP/Á´ØÂè£‰∏äÔºåÊâÄÊúâÂèëÂêëÊ≠§Á´ØÂè£ÁöÑÊï∞ÊçÆ‰ºöË¢´ËØ•Â•óÊé•Â≠óÁöÑrecvÁ≠âÂáΩÊï∞ËØªÂá∫„ÄÇÂ¶ÇÂêåËØªÂá∫Êñá‰ª∂‰∏≠ÁöÑÊï∞ÊçÆ‰∏ÄÊ†∑„ÄÇ TCP/IPÁöÑsocketÊèê‰æõ‰∏ãÂàó‰∏âÁßçÁ±ªÂûãÂ•óÊé•Â≠ó„ÄÇ ÊµÅÂºèÂ•óÊé•Â≠ó„ÄÅÊï∞ÊçÆÊä•ÂºèÂ•óÊé•Â≠ó„ÄÅÂéüÂßãÂºèÂ•óÊé•Â≠ó„ÄÇ ÂÆ¢Êà∑Á´ØÁºñÁ®ãÊ≠•È™§Ôºö 1ÔºöÂä†ËΩΩÂ•óÊé•Â≠óÂ∫ìÔºåÂàõÂª∫Â•óÊé•Â≠ó(WSAStartup()/socket())Ôºõ 2ÔºöÂêëÊúçÂä°Âô®ÂèëÂá∫ËøûÊé•ËØ∑Ê±Ç(connect())Ôºõ 3ÔºöÂíåÊúçÂä°Âô®Á´ØËøõË°åÈÄö‰ø°(send()/recv())Ôºõ 4ÔºöÂÖ≥Èó≠Â•óÊé•Â≠óÔºåÂÖ≥Èó≠Âä†ËΩΩÁöÑÂ•óÊé•Â≠óÂ∫ì(closesocket()/WSACleanup())„ÄÇ Â∏∏Áî®Á¨¨‰∏âÊñπÂ∫ìÔºö1ÔºåAsyncsocketÂ∫ì asihttp‰ª£Á†ÅÂéüÁêÜÔºåÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÂéüÁêÜÔºåÂºÇÊ≠•ËØ∑Ê±ÇÊúÄÂ§ßÊï∞ÁõÆÔºå‰∏∫‰ªÄ‰πàÂè™ËÉΩËøô‰πàÂ§öÔºü ASIHTTPRequestÊòØ‰∏Ä‰∏™ÁÆÄÊòì‰ΩøÁî®ÁöÑÁ±ªÂ∫ì,ÈÄöËøáÂåÖË£ÖCFNetwork API Êù•ÁÆÄÂåñ ÂíåÊúçÂä°Âô®Á´ØÁöÑÈÄöËÆØ. ÂÆÉÁºñÂÜôÁöÑËØ≠Ë®ÄÊòØObjective-C ËÉΩÂ§üÂ∫îÁî®‰∫éMac OS X and iPhone Âπ≥Âè∞ÁöÑÂ∫îÁî®Á®ãÂ∫è. ÂºÇÊ≠•: ËØ∑Ê±ÇÈÄöËøá‰∫ã‰ª∂Ëß¶Âèë-&gt;ÊúçÂä°Âô®Â§ÑÁêÜÔºàËøôÊòØÊµèËßàÂô®‰ªçÁÑ∂ÂèØ‰ª•‰ΩúÂÖ∂‰ªñ‰∫ãÊÉÖÔºâ-&gt;Â§ÑÁêÜÂÆåÊØïËøô‰∏™Êï∞ÈáèÊòØË∑ücpuÊúâÂÖ≥ÁöÑ,Âπ∂ÂèëÊÄßÂèñÂÜ≥‰∫écpuÊ†∏Êï∞,ÊØè‰∏™Ê†∏Âè™ËÉΩÂêåÊó∂Â§ÑÁêÜ‰∏Ä‰∏™‰ªªÂä°.4Ê†∏cpuÁêÜËÆ∫‰∏äÂèØ‰ª•Âπ∂ÂèëÂ§ÑÁêÜ4‰∏™‰ªªÂä°,Â¶ÇÊûúÊåâhttpÊù•ÁÆóÂ∞±ÊòØ4‰∏™ËØ∑Ê±Ç,‰ΩÜÊòØcpuÊòØÊä¢Âç†ÂºèËµÑÊ∫ê,ÊâÄ‰ª•‰∏ÄËà¨Êù•ËØ¥Âπ∂ÂèëÈáèÊòØË¶ÅÊ†πÊçÆ‰ªªÂä°ÁöÑËÄóÊó∂ÂíåcpuÁöÑÁπÅÂøôÂ∫¶Êù•ËÆ°ÁÆó4‰∏™Â∑¶Âè≥Âè™ÊòØ‰∏™ÁªèÈ™åÂÄº‰Ω†ÂºÄ10‰∏™Áü≠ËÄóÊó∂ÁöÑ‰ªªÂä°ÂíåÂá†‰∏™ÈïøËÄóÊó∂‰ªªÂä°ÁöÑÊïàÁéáÊòØ‰∏çÂêåÁöÑ„ÄÇ JSONKit„ÄÅSBJson„ÄÅTouchJSONÂíåÂéüÁîüÁöÑÂå∫Âà´?JSONKit„ÄÅSBJson„ÄÅTouchJSONÔºàÊÄßËÉΩ‰ªéÂ∑¶Âà∞Âè≥ÔºåË∂äÂè≥Ë∂äÂ∑Æ,‰∏ªË¶ÅÂ∞±ÊòØÊÄßËÉΩ‰∏äÁöÑÂ∑ÆÂà´Ôºâ AppÈúÄË¶ÅÂä†ËΩΩË∂ÖÂ§ßÈáèÁöÑÊï∞ÊçÆÔºåÁªôÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÔºå‰ΩÜÊòØÊúçÂä°Âô®Âç°‰Ωè‰∫ÜÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü1&gt; ËÆæÁΩÆËØ∑Ê±ÇË∂ÖÊó∂ 2&gt; ÁªôÁî®Êà∑ÊèêÁ§∫ËØ∑Ê±ÇË∂ÖÊó∂ 3&gt; Ê†πÊçÆÁî®Êà∑Êìç‰ΩúÂÜçÊ¨°ËØ∑Ê±ÇÊï∞ÊçÆ HTTPÁöÑÈÄö‰ø°ÁöÑ ÂèëÈÄÅËØ∑Ê±Ç„ÄÅÊé•Êî∂ÂìçÂ∫î ÂåÖÂê´Âì™‰∫õÂÜÖÂÆπÔºüOC‰∏≠ÊòØÊÄéÊ†∑ÂÆûÁé∞ÁöÑÔºü ËØ∑Ê±ÇÔºö‰∏Ä‰∏™ËØ∑Ê±ÇÂåÖÂê´‰ª•‰∏ãÂÜÖÂÆπÔºö ËØ∑Ê±ÇË°åÔºöÂåÖÂê´‰∫ÜËØ∑Ê±ÇÊñπÊ≥ï„ÄÅËØ∑Ê±ÇËµÑÊ∫êË∑ØÂæÑ„ÄÅHTTPÂçèËÆÆÁâàÊú¨ GET /XXServer/resources/images/1.jpg HTTP/1.1 ËØ∑Ê±ÇÂ§¥ÔºöÂåÖÂê´‰∫ÜÂØπÂÆ¢Êà∑Á´ØÁöÑÁéØÂ¢ÉÊèèËø∞„ÄÅÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÁöÑ‰∏ªÊú∫Âú∞ÂùÄÁ≠â‰ø°ÊÅØ Host: 192.168.1.105:8080 // ÂÆ¢Êà∑Á´ØÊÉ≥ËÆøÈóÆÁöÑÊúçÂä°Âô®‰∏ªÊú∫Âú∞ÂùÄ User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9) Firefox/30.0 // ÂÆ¢Êà∑Á´ØÁöÑÁ±ªÂûãÔºåÂÆ¢Êà∑Á´ØÁöÑËΩØ‰ª∂ÁéØÂ¢É Accept: text/html, / // ÂÆ¢Êà∑Á´ØÊâÄËÉΩÊé•Êî∂ÁöÑÊï∞ÊçÆÁ±ªÂûã Accept-Language: zh-cn // ÂÆ¢Êà∑Á´ØÁöÑËØ≠Ë®ÄÁéØÂ¢É Accept-Encoding: gzip // ÂÆ¢Êà∑Á´ØÊîØÊåÅÁöÑÊï∞ÊçÆÂéãÁº©Ê†ºÂºè ËØ∑Ê±Ç‰ΩìÔºöÂÆ¢Êà∑Á´ØÂèëÁªôÊúçÂä°Âô®ÁöÑÂÖ∑‰ΩìÊï∞ÊçÆÔºåÊØîÂ¶ÇÊñá‰ª∂Êï∞ÊçÆ OC‰∏≠ËØ∑Ê±ÇNSURLRequest ÂèëÈÄÅÁªôÊúçÂä°Âô®ÁöÑËØ∑Ê±ÇÂåÖÂê´Ôºö ËØ∑Ê±ÇË°åÔºö ÂåÖÂê´‰∫ÜËØ∑Ê±ÇÊñπÊ≥ï„ÄÅËØ∑Ê±ÇËµÑÊ∫êË∑ØÂæÑ„ÄÅHTTPÂçèËÆÆÁâàÊú¨ ËØ∑Ê±ÇÂ§¥Ôºö ÂØπÂÆ¢Êà∑Á´ØÁöÑÁéØÂ¢ÉÊèèËø∞„ÄÅÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÁöÑ‰∏ªÊú∫Âú∞ÂùÄÁ≠â‰ø°ÊÅØ ËØ∑Ê±Ç‰ΩìÔºö ÂÆ¢Êà∑Á´ØÂèëÁªôÊúçÂä°Âô®ÁöÑÂÖ∑‰ΩìÊï∞ÊçÆ ÈªòËÆ§Ë∂ÖÊó∂Êó∂Â∏∏Ôºö60s ÂìçÂ∫îÔºö ‰∏Ä‰∏™ÂìçÂ∫îÂåÖÊã¨Ôºö Áä∂ÊÄÅË°åÔºöÂåÖÂê´‰∫ÜHTTPÂçèËÆÆÁâàÊú¨„ÄÅÁä∂ÊÄÅÁ†Å„ÄÅÁä∂ÊÄÅËã±ÊñáÂêçÁß∞ HTTP/1.1 200 OK ÂìçÂ∫îÂ§¥ÔºöÂåÖÂê´‰∫ÜÂØπÊúçÂä°Âô®ÁöÑÊèèËø∞„ÄÅÂØπËøîÂõûÊï∞ÊçÆÁöÑÊèèËø∞ Server: Apache-Coyote/1.1 // ÊúçÂä°Âô®ÁöÑÁ±ªÂûã Content-Type: image/jpeg // ËøîÂõûÊï∞ÊçÆÁöÑÁ±ªÂûã Content-Length: 56811 // ËøîÂõûÊï∞ÊçÆÁöÑÈïøÂ∫¶ Date: Mon, 23 Jun 2014 12:54:52 GMT // ÂìçÂ∫îÁöÑÊó∂Èó¥ ÂÆû‰ΩìÂÜÖÂÆπÔºöÊúçÂä°Âô®ËøîÂõûÁªôÂÆ¢Êà∑Á´ØÁöÑÂÖ∑‰ΩìÊï∞ÊçÆÔºåÊØîÂ¶ÇÊñá‰ª∂Êï∞ÊçÆ OC‰∏≠ÂìçÂ∫îÁî®NSURLResposeÔºöËøîÂõûÁªôÂÆ¢Êà∑Á´ØÁöÑÂõûÂ∫îÂåÖÂê´Ôºö Áä∂ÊÄÅË°å Ôºö ÂåÖÂê´‰∫ÜHTTPÂçèËÆÆÁâàÊú¨„ÄÅÁä∂ÊÄÅÁ†Å„ÄÅÁä∂ÊÄÅËã±ÊñáÂêçÁß∞ ÂìçÂ∫îÂ§¥ Ôºö ÂåÖÂê´‰∫ÜÂØπÊúçÂä°Âô®ÁöÑÊèèËø∞„ÄÅÂØπËøîÂõûÊï∞ÊçÆÁöÑÊèèËø∞ ÂÆû‰ΩìÂÜÖÂÆπÔºöÊúçÂä°Âô®ËøîÂõûÁªôÂÆ¢Êà∑Á´ØÁöÑÂÖ∑‰Ωì‰∫åËøõÂà∂Êï∞ÊçÆ Â∏∏Áî®Â±ûÊÄßÔºö expectedContentLength Ôºà‰∏ãËΩΩÊó∂ËøîÂõûÊñá‰ª∂ÁöÑÈïøÂ∫¶Ôºâ suggestedFilenameÔºàÂª∫ËÆÆ‰øùÂ≠òÁöÑÊñá‰ª∂ÂêçÔºâ http ÁöÑpost‰∏égetÂå∫Âà´‰∏éËÅîÁ≥ªÔºåÂÆûË∑µ‰∏≠Â¶Ç‰ΩïÈÄâÊã©ÂÆÉ‰ª¨Ôºü GET POST Áî®ÈÄî ‰ªéÊúçÂä°Âô®‰∏äËé∑ÂèñÊï∞ÊçÆ ÂêëÊúçÂä°Âô®‰º†ÈÄÅÊï∞ÊçÆÊèê‰∫§ÊñπÂºè ÊúçÂä°Âô®Ëß£Êûê Request.QueryStringËé∑ÂèñÂèòÈáèÁöÑÂÄº Request.FormËé∑ÂèñÊèê‰∫§ÁöÑÊï∞ÊçÆ Êï∞ÊçÆÂ§ßÂ∞è ÊúÄÂ§ß1024Â≠óËäÇ Êó†ÈôêÂà∂ ÂÆâÂÖ®ÊÄß URL‰∏≠ËÉΩÁúãÂà∞Êèê‰∫§ÁöÑÊï∞ÊçÆ ÈöêËóèÂú®ËØ∑Ê±ÇÂ§¥‰∏≠ Áü•ÈÅìTCP/UDPÂêóÔºüËØ¥ËØ¥ÂÖ≥‰∫éUDP/TCPÁöÑÂå∫Âà´Ôºü UDP: ÊòØÁî®Êà∑Êï∞ÊçÆÊä•ÂçèËÆÆ: ‰∏ªË¶ÅÁî®Âú®ÂÆûÊó∂ÊÄßË¶ÅÊ±ÇÈ´ò‰ª•ÂèäÂØπË¥®ÈáèÁõ∏ÂØπËæÉÂº±ÁöÑÂú∞Êñπ,‰ΩÜÈù¢ÂØπÁé∞Âú®È´òË¥®ÈáèÁöÑÁ∫øË∑Ø‰∏çÊòØÂÆπÊòì‰∏¢ÂåÖÈô§ÈùûÊòØ‰∏Ä‰∫õÊã•Â°ûÊù°‰ª∂‰∏ã, Â¶ÇÊµÅÂ™í‰Ωì TCP: ÊòØ‰º†ËæìÊéßÂà∂ÂçèËÆÆ:ÊòØÈù¢ËøûÊé•ÁöÑ,ÈÇ£‰πàËøêË°åÁéØÂ¢ÉÂøÖÁÑ∂Ë¶ÅÊ±ÇÂÖ∂ÂèØÈù†ÊÄß‰∏çÂèØ‰∏¢ÂåÖÊúâËâØÂ•ΩÁöÑÊã•Â°ûÊéßÂà∂Êú∫Âà∂Â¶Çhttp ftp telnet Á≠â TCP UDP ÂèëÈÄÅ‰∏éÊé•Êî∂ ÂÆâÂÖ®ÈÄÅËææ Âè™ÁÆ°ÂèëÈÄÅ Âª∫Á´ãËøûÊé• ÊòØÔºà‰∏âÊ¨°Êè°ÊâãÔºâ Âê¶ÔºàÊúâÊï∞ÊçÆÂåÖÔºåÊó†ÈúÄËøûÊé•Ôºâ Êï∞ÊçÆÂ§ßÂ∞è Êó†ÈôêÂà∂ ÊØè‰∏™Êï∞ÊçÆÊä•64k ÂèØÈù†ÊÄß ÂèØÈù† ‰∏çÂèØÈù† ÈÄüÂ∫¶ ÊÖ¢Ôºà‰∏âÊ¨°Êè°ÊâãÊâçËÉΩÂÆåÊàêËøûÊé• Âø´ÔºàÊó†ÈúÄËøûÊé•Ôºâ Â∫îÁî® ÊµÅÂ™í‰Ωì qq ‰ªÄ‰πàÊòØ‰∏âÊ¨°Êè°Êâã‰∏éÂõõÊ¨°Êå•ÊâãÔºü ‰∏âÊ¨°Êè°ÊâãÂÆûÁé∞ÁöÑËøáÁ®ãÔºö Á¨¨‰∏ÄÊ¨°Êè°ÊâãÔºöÂª∫Á´ãËøûÊé•Êó∂ÔºåÂÆ¢Êà∑Á´ØÂèëÈÄÅÂêåÊ≠•Â∫èÂàóÁºñÂè∑Âà∞ÊúçÂä°Âô®ÔºåÂπ∂ËøõÂÖ•ÂèëÈÄÅÁä∂ÊÄÅÔºåÁ≠âÂæÖÊúçÂä°Âô®Á°ÆËÆ§ Á¨¨‰∫åÊ¨°ÔºöÊúçÂä°Âô®Êî∂Âà∞ÂêåÊ≠•Â∫èÂàóÁºñÂè∑ÔºåÁ°ÆËÆ§Âπ∂ÂêåÊó∂Ëá™Â∑±‰πüÂèëÈÄÅ‰∏Ä‰∏™ÂêåÊ≠•Â∫èÂàóÁºñÂè∑+Á°ÆËÆ§Ê†áÂøóÔºåÊ≠§Êó∂ÊúçÂä°Âô®ËøõÂÖ•Êé•Êî∂Áä∂ÊÄÅ Á¨¨‰∏âÊ¨°ÔºöÂÆ¢Êà∑Á´ØÊî∂Âà∞ÊúçÂä°Âô®ÂèëÈÄÅÁöÑÂåÖÔºåÂπ∂ÂêëÊúçÂä°Âô®ÂèëÈÄÅÁ°ÆËÆ§Ê†áÂøóÔºåÈöèÂêéÈìæÊé•ÊàêÂäü„ÄÇ Ê≥®ÊÑèÔºöÊòØÂú®ÈìæÊé•ÊàêÂäüÂêéÂú®ËøõË°åÊï∞ÊçÆ‰º†Ëæì„ÄÇ ÂõõÊ¨°Êå•ÊâãÔºö Á¨¨‰∏ÄÊ¨°Ôºö ÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™Â∏¶ÊúâÁªìÊùüÊ†áËÆ∞ÁöÑÊä•Êñá„ÄÇ Á¨¨‰∫åÊ¨°ÔºöÊúçÂä°Âô®Êî∂Âà∞Êä•ÊñáÂêéÔºåÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅ‰∏Ä‰∏™Á°ÆËÆ§Â∫èÂè∑ÔºåÂêåÊó∂ÈÄöÁü•Ëá™Â∑±Áõ∏Â∫îÁöÑÂ∫îÁî®Á®ãÂ∫èÔºöÂØπÊñπË¶ÅÊ±ÇÂÖ≥Èó≠ËøûÊé• Á¨¨‰∏âÊ¨°Ôºö ÊúçÂä°Âô®ÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅ‰∏Ä‰∏™Â∏¶ÊúâÁªìÊùüÊ†áËÆ∞ÁöÑÊä•Êñá„ÄÇ Á¨¨ÂõõÊ¨°Ôºö ÂÆ¢Êà∑Á´ØÊî∂Âà∞Êä•ÊñáÂêéÔºåÂêëÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™Á°ÆËÆ§Â∫èÂè∑„ÄÇÈìæÊé•ÂÖ≥Èó≠„ÄÇ ÂàÜÊûêjson„ÄÅxmlÁöÑÂå∫Âà´?json„ÄÅxmlËß£ÊûêÊñπÂºèÁöÑÂ∫ïÂ±ÇÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÁöÑ? Json‰∏éxmlÁöÑÂå∫Âà´: ÂèØËØªÊÄßÊñπÈù¢:Âü∫Êú¨Áõ∏Âêå,xmlÁöÑÂèØËØªÊÄßÊØîËæÉÂ•Ω ÂèØÊâ©Â±ïÊÄßÊñπÈù¢:ÈÉΩÂÖ∑ÊúâÂæàÂ•ΩÁöÑÊâ©Â±ïÊÄß ÁºñÁ†ÅÈöæÂ∫¶ÊñπÈù¢:Áõ∏ÂØπËÄåË®Ä:JSONÁöÑÁºñÁ†ÅÊØîËæÉÂÆπÊòì Ëß£Á†ÅÈöæÂ∫¶:jsonÁöÑËß£Á†ÅÈöæÂ∫¶Âü∫Êú¨‰∏∫Èõ∂,xmlÈúÄË¶ÅËÄÉËôëÂ≠êËäÇÁÇπÂíåÁà∂ËäÇÁÇπ Êï∞ÊçÆ‰ΩìÁßØÊñπÈù¢:jsonÁõ∏ÂØπ‰∫éxmlÊù•ËÆ≤,Êï∞ÊçÆ‰ΩìÁßØÂ∞è,‰º†ÈÄíÁöÑÈÄüÂ∫¶Ë∑üÂø´‰∫õ Êï∞ÊçÆ‰∫§‰∫íÊñπÈù¢:json‰∏éJavaScriptÁöÑ‰∫§‰∫íÊõ¥Âä†ÊñπÈù¢,Êõ¥ÂÆπÊòìËß£ÊûêÂ§ÑÁêÜ,Êõ¥Â•ΩÁöÑÊï∞ÊçÆ‰∫§‰∫í Êï∞ÊçÆÊèèËø∞ÊñπÈù¢:xmlÂØπÊï∞ÊçÆÊèèËø∞ÊÄßÊØîËæÉÂ•Ω ‰º†ËæìÈÄüÂ∫¶ÊñπÈù¢:jsonÁöÑÈÄüÂ∫¶ËøúËøúÂø´‰∫éxml JSONÂ∫ïÂ±ÇÂéüÁêÜ: ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂ≠óÁ¨¶,ÊúÄÁªàÊ†πÊçÆÊ†ºÂºèËßÑÂÆöÁöÑÁâπÊÆäÂ≠óÁ¨¶,ÊØîÂ¶Ç{}Âè∑,[]Âè∑, : Âè∑ Á≠âËøõË°åÂå∫ÂàÜ,{}Âè∑ÊòØ‰∏Ä‰∏™Â≠óÂÖ∏ ÁöÑÂºÄÂßã,[]Âè∑ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÁöÑÂºÄÂßã, : Âè∑ÊòØÂ≠óÂÖ∏ÁöÑÈîÆÂíåÂÄºÁöÑÂàÜÊ∞¥Â≤≠,ÊúÄÁªà‰πÉÊòØÂ∞ÜjsonÊï∞ÊçÆËΩ¨Âåñ‰∏∫Â≠óÂÖ∏,Â≠óÂÖ∏‰∏≠ÂÄºÂèØËÉΩÊòØÂ≠óÂÖ∏,Êï∞ÁªÑ,ÊàñÂ≠óÁ¨¶‰∏≤ËÄåÂ∑≤„ÄÇ XMLÂ∫ïÂ±ÇÂéüÁêÜ: XMLËß£ÊûêÂ∏∏Áî®ÁöÑËß£ÊûêÊñπÊ≥ïÊúâ‰∏§Áßç:DOMËß£ÊûêÂíåSAXËß£Êûê„ÄÇ DOM ÈááÁî®Âª∫Á´ãÊ†ëÂΩ¢ÁªìÊûÑÁöÑÊñπÂºèËÆøÈóÆ XML ÊñáÊ°£,ËÄå SAX ÈááÁî®ÁöÑ‰∫ã‰ª∂Ê®°Âûã„ÄÇ DOM Ëß£ÊûêÊää XML ÊñáÊ°£ËΩ¨Âåñ‰∏∫‰∏Ä‰∏™ÂåÖÂê´ÂÖ∂ÂÜÖÂÆπÁöÑÊ†ë,Âπ∂ÂèØ‰ª•ÂØπÊ†ëËøõË°åÈÅçÂéÜ„ÄÇ ‰ΩøÁî® DOM Ëß£ÊûêÂô®ÁöÑÊó∂ÂÄôÈúÄ Ë¶ÅÂ§ÑÁêÜÊï¥‰∏™ XML ÊñáÊ°£,ÊâÄ‰ª•ÂØπÊÄßËÉΩÂíåÂÜÖÂ≠òÁöÑË¶ÅÊ±ÇÊØîËæÉÈ´ò„ÄÇ SAXÂú®Ëß£Êûê XML ÊñáÊ°£ÁöÑÊó∂ÂÄôÂèØ‰ª•Ëß¶Âèë‰∏ÄÁ≥ªÂàóÁöÑ‰∫ã‰ª∂,ÂΩìÂèëÁé∞ÁªôÂÆöÁöÑtagÁöÑÊó∂ÂÄô,ÂÆÉÂèØ‰ª•ÊøÄÊ¥ª‰∏Ä‰∏™ÂõûË∞ÉÊñπÊ≥ï,ÂëäËØâËØ•ÊñπÊ≥ïÂà∂ÂÆöÁöÑÊ†áÁ≠æÂ∑≤ÁªèÊâæÂà∞„ÄÇ SAX ÂØπÂÜÖÂ≠òÁöÑË¶ÅÊ±ÇÈÄöÂ∏∏‰ºöÊØîËæÉ‰Ωé,Âõ†‰∏∫ÂÆÉËÆ©ÂºÄÂèë‰∫∫ÂëòËá™Â∑±Êù•ÂÜ≥ÂÆöÊâÄË¶ÅÂ§ÑÁêÜÁöÑtag„ÄÇÁâπÂà´ÊòØÂΩìÂºÄÂèë‰∫∫ÂëòÂè™ÈúÄË¶ÅÂ§ÑÁêÜÊñáÊ°£‰∏≠ÊâÄÂåÖÂê´ÁöÑÈÉ®ÂàÜÊï∞ÊçÆÊó∂,SAX ËøôÁßçÊâ©Â±ïËÉΩÂäõÂæóÂà∞‰∫ÜÊõ¥Â•ΩÁöÑ‰ΩìÁé∞„ÄÇ (Ë°•ÂÖÖ)ÂÖ∂‰ªñËß£ÊûêÊñπÂºèÊúâËá™ÂÆö‰πâ‰∫åËøõÂà∂Ëß£ÊûêÔºåÂ∞±ÊòØÊåâÂ≠óËäÇÂéªËß£ÊûêÔºåÁîµËØù‰ºöË∞àÂ∞±ÊòØÂ¶ÇÊ≠§ÔºåËøòÂèØ‰ª•ÊòØÂ≠óÁ¨¶‰∏≤‰πãÈó¥Áî®ÁâπÊÆäÁ¨¶Âè∑ËøûÊé•ÁöÑÊï∞ÊçÆÔºåÂ∞ÜÊ≠§Êï∞ÊçÆÁî®ÁâπÊÆäÁ¨¶Âè∑ÂèØ‰ª•ÂàÜÂâ≤ÊàêÊâÄÁî®Êï∞ÊçÆ„ÄÇ httpÂíåscoketÈÄö‰ø°ÁöÑÂå∫Âà´?socketËøûÊé•Áõ∏ÂÖ≥Â∫ì,TCP,UDPÁöÑËøûÊé•ÊñπÊ≥ï,HTTPÁöÑÂá†ÁßçÂ∏∏Áî®ÊñπÂºè? httpÂíåscoketÈÄö‰ø°ÁöÑÂå∫Âà´: httpÊòØÂÆ¢Êà∑Á´ØÁî®httpÂçèËÆÆËøõË°åËØ∑Ê±Ç,ÂèëÈÄÅËØ∑Ê±ÇÊó∂ÂÄôÈúÄË¶ÅÂ∞ÅË£ÖhttpËØ∑Ê±ÇÂ§¥,Âπ∂ÁªëÂÆöËØ∑Ê±ÇÁöÑÊï∞ÊçÆ,ÊúçÂä°Âô®‰∏ÄËà¨ÊúâwebÊúçÂä°Âô®ÈÖçÂêà(ÂΩìÁÑ∂‰πüÈùûÁªùÂØπ)„ÄÇ httpËØ∑Ê±ÇÊñπÂºè‰∏∫ÂÆ¢Êà∑Á´Ø‰∏ªÂä®ÂèëËµ∑ËØ∑Ê±Ç,ÊúçÂä°Âô®ÊâçËÉΩÁªôÂìçÂ∫î,‰∏ÄÊ¨°ËØ∑Ê±ÇÂÆåÊØïÂêéÂàôÊñ≠ÂºÄËøûÊé•,‰ª•ËäÇÁúÅËµÑÊ∫ê„ÄÇÊúçÂä°Âô®‰∏çËÉΩ‰∏ªÂä®ÁªôÂÆ¢Êà∑Á´ØÂìçÂ∫î(Èô§ÈùûÈááÂèñhttpÈïøËøûÊé•ÊäÄÊúØ)„ÄÇiphone‰∏ªË¶Å‰ΩøÁî®Á±ªÊòØNSUrlConnection„ÄÇ scoketÊòØÂÆ¢Êà∑Á´ØË∑üÊúçÂä°Âô®Áõ¥Êé•‰ΩøÁî®socket‚ÄúÂ•óÊé•Â≠ó‚ÄùËøõË°åËøûÊé•,Âπ∂Ê≤°ÊúâËßÑÂÆöËøûÊé•ÂêéÊñ≠ÂºÄ,ÊâÄ‰ª•ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®ÂèØ‰ª•‰øùÊåÅËøûÊé•ÈÄöÈÅì,ÂèåÊñπÈÉΩÂèØ‰ª•‰∏ªÂä®ÂèëÈÄÅÊï∞ÊçÆ„ÄÇ‰∏ÄËà¨Âú®Ê∏∏ÊàèÂºÄÂèëÊàñËÇ°Á•®ÂºÄÂèëËøôÁßçË¶ÅÊ±ÇÂç≥Êó∂ÊÄßÂæàÂº∫Âπ∂‰∏î‰øùÊåÅÂèëÈÄÅÊï∞ÊçÆÈáèÊØîËæÉÂ§ßÁöÑÂú∫Âêà‰ΩøÁî®„ÄÇ‰∏ªË¶Å‰ΩøÁî®Á±ªÊòØCFSocketRef„ÄÇ ÈÄö‰ø°Â∫ïÂ±ÇÂéüÁêÜÔºàOSI‰∏ÉÂ±ÇÊ®°ÂûãÔºâ OSIÁÆÄ‰ªãÔºöOSIÈááÁî®‰∫ÜÂàÜÂ±ÇÁöÑÁªìÊûÑÂåñÊäÄÊúØÔºåÂÖ±ÂàÜ‰∏ÉÂ±ÇÔºåÁâ©ÁêÜÂ±Ç„ÄÅÊï∞ÊçÆÈìæË∑ØÂ±Ç„ÄÅÁΩëÁªúÂ±Ç„ÄÅ‰º†ËæìÂ±Ç„ÄÅ‰ºöËØùÂ±Ç„ÄÅË°®Á§∫Â±Ç„ÄÅÂ∫îÁî®Â±Ç„ÄÇ Áâ©ÁêÜÂ±ÇÔºö‰∏ªË¶ÅÂÆö‰πâÁâ©ÁêÜËÆæÂ§áÊ†áÂáÜÔºåÂ¶ÇÁΩëÁ∫øÁöÑÊé•Âè£Á±ªÂûã„ÄÅÂÖâÁ∫§ÁöÑÊé•Âè£Á±ªÂûã„ÄÅÂêÑÁßç‰º†Ëæì‰ªãË¥®ÁöÑ‰º†ËæìÈÄüÁéáÁ≠â„ÄÇÂÆÉÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØ‰º†ËæìÊØîÁâπÊµÅÔºàÂ∞±ÊòØÁî±1„ÄÅ0ËΩ¨Âåñ‰∏∫ÁîµÊµÅÂº∫Âº±Êù•ËøõË°å‰º†Ëæì,Âà∞ËææÁõÆÁöÑÂú∞ÂêéÂú®ËΩ¨Âåñ‰∏∫1„ÄÅ0Ôºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÊï∞Ê®°ËΩ¨Êç¢‰∏éÊ®°Êï∞ËΩ¨Êç¢Ôºâ„ÄÇËøô‰∏ÄÂ±ÇÁöÑÊï∞ÊçÆÂè´ÂÅöÊØîÁâπ„ÄÇ Êï∞ÊçÆÈìæË∑ØÂ±ÇÔºöÂÆö‰πâ‰∫ÜÂ¶Ç‰ΩïËÆ©Ê†ºÂºèÂåñÊï∞ÊçÆ‰ª•ËøõË°å‰º†ËæìÔºå‰ª•ÂèäÂ¶Ç‰ΩïËÆ©ÊéßÂà∂ÂØπÁâ©ÁêÜ‰ªãË¥®ÁöÑËÆøÈóÆ„ÄÇËøô‰∏ÄÂ±ÇÈÄöÂ∏∏ËøòÊèê‰æõÈîôËØØÊ£ÄÊµãÂíåÁ∫†Ê≠£Ôºå‰ª•Á°Æ‰øùÊï∞ÊçÆÁöÑÂèØÈù†‰º†Ëæì„ÄÇ ÁΩëÁªúÂ±ÇÔºöÔºöÂú®‰Ωç‰∫é‰∏çÂêåÂú∞ÁêÜ‰ΩçÁΩÆÁöÑÁΩëÁªú‰∏≠ÁöÑ‰∏§‰∏™‰∏ªÊú∫Á≥ªÁªü‰πãÈó¥Êèê‰æõËøûÊé•ÂíåË∑ØÂæÑÈÄâÊã©„ÄÇInternetÁöÑÂèëÂ±ï‰ΩøÂæó‰ªé‰∏ñÁïåÂêÑÁ´ôÁÇπËÆøÈóÆ‰ø°ÊÅØÁöÑÁî®Êà∑Êï∞Â§ßÂ§ßÂ¢ûÂä†ÔºåËÄåÁΩëÁªúÂ±ÇÊ≠£ÊòØÁÆ°ÁêÜËøôÁßçËøûÊé•ÁöÑÂ±Ç„ÄÇ ‰º†ËæìÂ±ÇÔºöÂÆö‰πâ‰∫Ü‰∏Ä‰∫õ‰º†ËæìÊï∞ÊçÆÁöÑÂçèËÆÆÂíåÁ´ØÂè£Âè∑ÔºàWWWÁ´ØÂè£80Á≠âÔºâÔºåÂ¶ÇÔºöTCPÔºà‰º†ËæìÊéßÂà∂ÂçèËÆÆÔºå‰º†ËæìÊïàÁéá‰ΩéÔºåÂèØÈù†ÊÄßÂº∫ÔºåÁî®‰∫é‰º†ËæìÂèØÈù†ÊÄßË¶ÅÊ±ÇÈ´òÔºåÊï∞ÊçÆÈáèÂ§ßÁöÑÊï∞ÊçÆÔºâÔºåUDPÔºàÁî®Êà∑Êï∞ÊçÆÊä•ÂçèËÆÆÔºå‰∏éTCPÁâπÊÄßÊÅ∞ÊÅ∞Áõ∏ÂèçÔºåÁî®‰∫é‰º†ËæìÂèØÈù†ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÔºåÊï∞ÊçÆÈáèÂ∞èÁöÑÊï∞ÊçÆÔºåÂ¶ÇQQËÅäÂ§©Êï∞ÊçÆÂ∞±ÊòØÈÄöËøáËøôÁßçÊñπÂºè‰º†ËæìÁöÑÔºâ„ÄÇ ‰∏ªË¶ÅÊòØÂ∞Ü‰ªé‰∏ãÂ±ÇÊé•Êî∂ÁöÑÊï∞ÊçÆËøõË°åÂàÜÊÆµÂíå‰º†ËæìÔºåÂà∞ËææÁõÆÁöÑÂú∞ÂùÄÂêéÂÜçËøõË°åÈáçÁªÑ„ÄÇÂ∏∏Â∏∏ÊääËøô‰∏ÄÂ±ÇÊï∞ÊçÆÂè´ÂÅöÊÆµ„ÄÇ ‰ºöËØùÂ±ÇÔºöÈÄöËøá‰º†ËæìÂ±ÇÔºàÁ´ØÂè£Âè∑Ôºö‰º†ËæìÁ´ØÂè£‰∏éÊé•Êî∂Á´ØÂè£ÔºâÂª∫Á´ãÊï∞ÊçÆ‰º†ËæìÁöÑÈÄöË∑Ø„ÄÇ‰∏ªË¶ÅÂú®‰Ω†ÁöÑÁ≥ªÁªü‰πãÈó¥ÂèëËµ∑‰ºöËØùÊàñËÄÖÊé•Âèó‰ºöËØùËØ∑Ê±ÇÔºàËÆæÂ§á‰πãÈó¥ÈúÄË¶Å‰∫íÁõ∏ËÆ§ËØÜÂèØ‰ª•ÊòØIP‰πüÂèØ‰ª•ÊòØMACÊàñËÄÖÊòØ‰∏ªÊú∫ÂêçÔºâ Ë°®Á§∫Â±ÇÔºöÔºöÂèØÁ°Æ‰øù‰∏Ä‰∏™Á≥ªÁªüÁöÑÂ∫îÁî®Â±ÇÊâÄÂèëÈÄÅÁöÑ‰ø°ÊÅØÂèØ‰ª•Ë¢´Âè¶‰∏Ä‰∏™Á≥ªÁªüÁöÑÂ∫îÁî®Â±ÇËØªÂèñ„ÄÇ‰æãÂ¶ÇÔºåPCÁ®ãÂ∫è‰∏éÂè¶‰∏ÄÂè∞ËÆ°ÁÆóÊú∫ËøõË°åÈÄö‰ø°ÔºåÂÖ∂‰∏≠‰∏ÄÂè∞ËÆ°ÁÆóÊú∫‰ΩøÁî®Êâ©Â±ï‰∫å‰∏ÄÂçÅËøõÂà∂‰∫§Êç¢Á†ÅÔºàEBCDICÔºâÔºåËÄåÂè¶‰∏ÄÂè∞Âàô‰ΩøÁî®ÁæéÂõΩ‰ø°ÊÅØ‰∫§Êç¢Ê†áÂáÜÁ†ÅÔºàASCIIÔºâÊù•Ë°®Á§∫Áõ∏ÂêåÁöÑÂ≠óÁ¨¶„ÄÇÂ¶ÇÊúâÂøÖË¶ÅÔºåË°®Á§∫Â±Ç‰ºöÈÄöËøá‰ΩøÁî®‰∏ÄÁßçÈÄöÊ†ºÂºèÊù•ÂÆûÁé∞Â§öÁßçÊï∞ÊçÆÊ†ºÂºè‰πãÈó¥ÁöÑËΩ¨Êç¢„ÄÇ Â∫îÁî®Â±ÇÔºöÊòØÊúÄÈù†ËøëÁî®Êà∑ÁöÑOSIÂ±Ç„ÄÇËøô‰∏ÄÂ±Ç‰∏∫Áî®Êà∑ÁöÑÂ∫îÁî®Á®ãÂ∫èÔºà‰æãÂ¶ÇÁîµÂ≠êÈÇÆ‰ª∂„ÄÅÊñá‰ª∂‰º†ËæìÂíåÁªàÁ´Ø‰ªøÁúüÔºâÊèê‰æõÁΩëÁªúÊúçÂä°„ÄÇ all people seem to need date processingËøô‰∏ÄÂè•ËØùÁöÑÊÑèÊÄùÊòØÊâÄÊúâÁöÑ‰∫∫‰ºº‰πéÈÉΩÈúÄË¶ÅÂ§ÑÁêÜÊï∞ÊçÆ Application all Presentation people Session seem Transport to Network need Data date Physical processing ËÆæËÆ°‰∏ÄÂ•óÂ§ßÊñá‰ª∂ÔºàÂ¶Ç‰∏äÁôæMÁöÑËßÜÈ¢ëÔºâ‰∏ãËΩΩÊñπÊ°à NSURLSession ÊîØÊåÅÊñ≠ÁÇπ‰∏ãËΩΩÔºåËá™Âä®ËÆ∞ÂΩïÂÅúÊ≠¢‰∏ãËΩΩÊó∂Êñ≠ÁÇπÁöÑ‰ΩçÁΩÆ ÈÅµÂÆàNSURLSessionDownloadDelegateÂçèËÆÆ ‰ΩøÁî®NSURLSession‰∏ãËΩΩÂ§ßÊñá‰ª∂ÔºåË¢´‰∏ãËΩΩÊñá‰ª∂‰ºöË¢´Ëá™Âä®ÂÜôÂÖ•Ê≤ôÁõíÁöÑ‰∏¥Êó∂Êñá‰ª∂Â§πtmp‰∏≠ ‰∏ãËΩΩÂÆåÊØïÔºåÈÄöÂ∏∏ÈúÄË¶ÅÂ∞ÜÂ∑≤‰∏ãËΩΩÊñá‰ª∂ÁßªÂä®ÂÖ∂‰ªñ‰ΩçÁΩÆÔºàtmpÊñá‰ª∂Â§π‰∏≠ÁöÑÊï∞ÊçÆË¢´ÂÆöÊó∂Âà†Èô§ÔºâÔºåÈÄöÂ∏∏ÊòØcacheÊñá‰ª∂Â§π‰∏≠ ‰∏ãËΩΩÊ≠•È™§Ôºö ËÆæÁΩÆ‰∏ãËΩΩ‰ªªÂä°taskÁöÑ‰∏∫ÊàêÂëòÂèòÈáè @property (nonatomic, strong) NSURLSessionDownloadTask *task; Ëé∑ÂèñNSURLSessionÂØπË±° NSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration] delegate:self delegateQueue:[[NSOperationQueue alloc] init]]; ÂàùÂßãÂåñ‰∏ãËΩΩ‰ªªÂä°‰ªªÂä° self.task = [session downloadTaskWithURL:ÔºàÊ≠§Â§Ñ‰∏∫‰∏ãËΩΩÊñá‰ª∂Ë∑ØÂæÑURLÔºâ]; ÂÆûÁé∞‰ª£ÁêÜÊñπÊ≥ï /**ÊØèÂΩìÂÜôÂÖ•Êï∞ÊçÆÂà∞‰∏¥Êó∂Êñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöË∞ÉÁî®‰∏ÄÊ¨°ËØ•ÊñπÊ≥ïÔºåÈÄöÂ∏∏Âú®ËØ•ÊñπÊ≥ï‰∏≠Ëé∑Âèñ‰∏ãËΩΩËøõÂ∫¶*/ -(void)URLSession:(NSURLSession *)session downloadTask: (NSURLSessionDownloadTask *)downloadTask didWriteData:(int64_t)bytesWritten totalBytesWritten:(int64_t)totalBytesWritten totalBytesExpectedToWrite:(int64_t)totalBytesExpectedToWrite { // ËÆ°ÁÆó‰∏ãËΩΩËøõÂ∫¶ CGFloat progress = 1.0 * totalBytesWritten / totalBytesExpectedToWrite; } /**‰ªªÂä°ÁªàÊ≠¢Êó∂Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÔºåÈÄöÂ∏∏Áî®‰∫éÊñ≠ÁÇπ‰∏ãËΩΩ*/ -(void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didResumeAtOffset:(int64_t)fileOffset expectedTotalBytes:(int64_t)expectedTotalBytes { //fileOffsetÔºö‰∏ãËΩΩ‰ªªÂä°‰∏≠Ê≠¢Êó∂ÁöÑÂÅèÁßªÈáè } /**ÈÅáÂà∞ÈîôËØØÁöÑÊó∂ÂÄôË∞ÉÁî®ÔºåerrorÂèÇÊï∞Âè™ËÉΩ‰º†ÈÄíÂÆ¢Êà∑Á´ØÁöÑÈîôËØØ*/ -(void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didCompleteWithError:(NSError *)error { } /**‰∏ãËΩΩÂÆåÊàêÁöÑÊó∂ÂÄôË∞ÉÁî®ÔºåÈúÄË¶ÅÂ∞ÜÊñá‰ª∂Ââ™ÂàáÂà∞ÂèØ‰ª•ÈïøÊúü‰øùÂ≠òÁöÑÊñá‰ª∂Â§π‰∏≠*/ -(void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didFinishDownloadingToURL:(NSURL *)location { //ÁîüÊàêÊñá‰ª∂ÈïøÊúü‰øùÂ≠òÁöÑË∑ØÂæÑ NSString *file = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:downloadTask.response.suggestedFilename]; //Ëé∑ÂèñÊñá‰ª∂Âè•ÊüÑ NSFileManager *fileManager = [NSFileManager defaultManager]; //ÈÄöËøáÊñá‰ª∂Âè•ÊüÑÔºåÂ∞ÜÊñá‰ª∂Ââ™ÂàáÂà∞Êñá‰ª∂ÈïøÊúü‰øùÂ≠òÁöÑË∑ØÂæÑ [fileManager moveItemAtURL:location toURL:[NSURL fileURLWithPath:file] error:nil]; } Êìç‰Ωú‰ªªÂä°Áä∂ÊÄÅ /**ÂºÄÂßã/ÁªßÁª≠‰∏ãËΩΩ‰ªªÂä°*/ [self.task resume]; /**ÊöÇÂÅú‰∏ãËΩΩ‰ªªÂä°*/ [self.task suspend]; HTTPÂçèËÆÆÁöÑÁâπÁÇπÔºåÂÖ≥‰∫éHTTPËØ∑Ê±ÇGETÂíåPOSTÁöÑÂå∫Âà´?HTTPÂçèËÆÆÁöÑÁâπÁÇπ: - HTTPË∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆÔºåÊòØÁü≠ËøûÊé•ÔºåÊòØÂÆ¢Êà∑Á´Ø‰∏ªÂä®ÂèëÈÄÅËØ∑Ê±ÇÔºåÊúçÂä°Âô®ÂÅöÂá∫ÂìçÂ∫îÔºåÊúçÂä°Âô®ÂìçÂ∫î‰πãÂêéÔºåÈìæÊé•Êñ≠ÂºÄ„ÄÇHTTPÊòØ‰∏Ä‰∏™Â±û‰∫éÂ∫îÁî®Â±ÇÈù¢ÂêëÂØπË±°ÁöÑÂçèËÆÆÔºåHTTPÊúâ‰∏§Á±ªÊä•ÊñáÔºöËØ∑Ê±ÇÊä•ÊñáÂíåÂìçÂ∫îÊä•Êñá„ÄÇ - HTTPËØ∑Ê±ÇÊä•ÊñáÔºö‰∏Ä‰∏™HTTPËØ∑Ê±ÇÊä•ÊñáÁî±ËØ∑Ê±ÇË°å„ÄÅËØ∑Ê±ÇÂ§¥ÈÉ®„ÄÅÁ©∫Ë°åÂíåËØ∑Ê±ÇÊï∞ÊçÆ4ÈÉ®ÂàÜÁªÑÊàê„ÄÇ - HTTPÂìçÂ∫îÊä•ÊñáÔºöÁî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºöÁä∂ÊÄÅË°å„ÄÅÊ∂àÊÅØÊä•Â§¥„ÄÅÂìçÂ∫îÊ≠£Êñá„ÄÇ Âç≥Êó∂ËÅäÂ§©App‰∏ç‰ºöÈááÁî®ÁöÑÁΩëÁªú‰º†ËæìÊñπÂºèA UDP B TCP C HTTP D FTP ÂèÇËÄÉÁ≠îÊ°àÔºöD ÁêÜÁî±ÔºöFTPÊòØÊñá‰ª∂‰º†ËæìÂçèËÆÆÔºåÊòØFile Transfer ProtocolÁöÑÁÆÄÁß∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÁî®‰∫éÊéßÂà∂‰∫íËÅîÁΩë‰∏äÊñá‰ª∂ÁöÑÂèåÂêë‰º†ËæìÔºåÂõ†Ê≠§‰∏ÄÂÆö‰∏ç‰ºöÊòØÂç≥Êó∂ËÅäÂ§©‰ΩøÁî®ÁöÑÔºõUDPÊòØÈù¢ÂêëÊó†ËøûÊé•ÁöÑ‰º†ËæìÂ±ÇÂçèËÆÆÔºåÊï∞ÊçÆ‰º†ËæìÊòØ‰∏çÂèØÈù†ÁöÑÔºåÂÆÉÂè™ÁÆ°ÂèëÔºå‰∏çÁÆ°Êî∂‰∏çÊî∂ÂæóÂà∞ÔºõTCPÊòØÈù¢ÂêëËøûÊé•ÁöÑÔºåÂèØÈù†ÁöÑ‰º†ËæìÂ±ÇÂçèËÆÆÔºõHTTPÊòØË∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆÔºåÂØπÂ∫î‰∫éÂ∫îÁî®Â±ÇÔºåËÄåHTTPÊòØÂü∫‰∫éTCPÁöÑ„ÄÇ Âú®App‰∏≠Ê∑∑ÂêàHTML5ÂºÄÂèëAppÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ„ÄÇÂú®App‰∏≠‰ΩøÁî®HTML5ÁöÑ‰ºòÁº∫ÁÇπÊòØ‰ªÄ‰πàÔºüÂú®iOS‰∏≠ÔºåÈÄöÂ∏∏ÊòØÁî®UIWebViewÊù•ÂÆûÁé∞ÔºåÂΩìÁÑ∂Âú®iOS8‰ª•ÂêéÂèØ‰ª•‰ΩøÁî®WKWebViewÊù•ÂÆûÁé∞.Êúâ‰ª•‰∏ãÂá†ÁßçÂÆûÁé∞ÊñπÊ≥ïÔºö ÈÄöËøáÂÆûÁé∞UIWebViewÁöÑ‰ª£ÁêÜÊñπÊ≥ïÊù•Êã¶Êà™ÔºåÂà§Êñ≠schemeÊòØÂê¶ÊòØÁ∫¶ÂÆöÂ•ΩÁöÑÔºåÁÑ∂ÂêéiOSË∞ÉÁî®Êú¨Âú∞Áõ∏ÂÖ≥APIÊù•ÂÆûÁé∞Ôºö - (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType; Âú®iOS7‰ª•ÂêéÔºåÂèØ‰ª•Áõ¥Êé•ÈÄöËøáJavaScripteCoreËøô‰∏™Â∫ìÊù•ÂÆûÁé∞ÔºåÈÄöËøáÂæÄJS DOMÊ≥®ÂÖ•ÂØπË±°ÔºåËÄåËøô‰∏™ÂØπË±°ÂØπÂ∫î‰∫éÊàë‰ª¨iOSÁöÑÊüê‰∏™Á±ªÁöÑÂÆû‰æã„ÄÇÊõ¥ËØ¶ÁªÜËØ∑ÈòÖËØªÔºö OC JavaScriptCore‰∏éjs‰∫§‰∫í WKWebViewÊñ∞ÁâπÊÄßÂèäJS‰∫§‰∫í Swift JavaScriptCore‰∏éJS‰∫§‰∫í ÂèØ‰ª•ÈÄöËøáWebViewJavascriptBridgeÊù•ÂÆûÁé∞„ÄÇÂÖ∑‰ΩìÂ¶Ç‰Ωï‰ΩøÁî®ÔºåËØ∑Â§ßÂÆ∂ÂéªÂÖ∂ÂÆÉÂçöÂÆ¢ÊêúÁ¥¢ÂêßÔºÅ ‰ºòÁº∫ÁÇπÔºö iOSÂä†ÂÖ•H5ÂìçÂ∫îÊØîÂéüÁîüË¶ÅÊÖ¢ÂæàÂ§öÔºå‰ΩìÈ™å‰∏çÂ§™Â•ΩÔºåËøôÊòØÁº∫ÁÇπ„ÄÇ iOSÂä†ÂÖ•H5ÂèØ‰ª•ÂÆûÁé∞ÂµåÂÖ•Âà´ÁöÑÂäüËÉΩÂÖ•Âè£ÔºåÂèØÈöèÊó∂Êõ¥ÊîπÔºå‰∏çÁî®Êõ¥Êñ∞ÁâàÊú¨Â∞±ÂèØ‰ª•‰∏äÁ∫øÔºåËøôÊòØÊúÄÂ§ßÁöÑ‰ºòÁÇπ„ÄÇ ‰ªãÁªç‰∏Ä‰∏ãXMPP?Êúâ‰ªÄ‰πà‰ºòÁº∫ÁÇπÂêó?XMPP(Extensible Messaging and Presence Protocol,ÂâçÁß∞)ÊòØ‰∏ÄÁßç‰ª•XML‰∏∫Âü∫Á°ÄÁöÑÂºÄÊîæÂºèÂÆûÊó∂ÈÄö‰ø°ÂçèËÆÆ,ÊòØ ÁªèÁî±‰∫íËÅîÁΩëÂ∑•Á®ãÂ∑•‰ΩúÂ∞èÁªÑ(IETF)ÈÄöËøáÁöÑ‰∫íËÅîÁΩëÊ†áÂáÜ„ÄÇÁÆÄÂçïÁöÑËØ¥,XMPPÂ∞±ÊòØ‰∏ÄÁßçÂçèËÆÆ,‰∏ÄÁßçËßÑÂÆö„ÄÇÂ∞±ÊòØËØ¥,Âú®ÁΩëÁªú‰∏ä‰º† ‰∏úË•ø,Ë¶ÅÂª∫Á´ãËøûÊé•,TCP/IPËøûÊé•,Âª∫Á´ãÂêéÂÜç‰º†‰∏úË•ø,ËÄåXMPPÂ∞±ÊòØËßÑÂÆö‰Ω†‰º†ÁöÑ‰∏úË•øÁöÑÊ†ºÂºè„ÄÇXMPPÊòØÂü∫‰∫éXMLÁöÑÂçèËÆÆ„ÄÇ ‰ºòÁÇπ ÂºÄÊîæ: XMPPÂçèËÆÆÊòØËá™Áî±„ÄÅÂºÄÊîæ„ÄÅÂÖ¨ÂºÄÁöÑ,Âπ∂‰∏îÊòì‰∫é‰∫ÜËß£„ÄÇ ËÄå‰∏îÂú®ÂÆ¢Êà∑Á´Ø „ÄÅ ÊúçÂä°Âô® „ÄÅ ÁªÑ‰ª∂ „ÄÅ Ê∫êÁ†ÅÂ∫ìÁ≠âÊñπÈù¢,ÈÉΩÂ∑≤ÁªèÂêÑËá™ÊúâÂ§öÁßçÂÆûÁé∞„ÄÇ Ê†áÂáÜ: ‰∫íËÅîÁΩëÂ∑•Á®ãÂ∑•‰ΩúÂ∞èÁªÑ( IETF )Â∑≤ÁªèÂ∞ÜJabberÁöÑÊ†∏ÂøÉXMLÊµÅÂçèËÆÆ‰ª•XMPP‰πãÂêç,Ê≠£ÂºèÂàó‰∏∫ËÆ§ÂèØÁöÑÂÆûÊó∂ÈÄö‰ø°ÂèäPresenceÊäÄÊúØ„ÄÇ ËÄåXMPPÁöÑÊäÄÊúØËßÑÊ†ºÂ∑≤Ë¢´ÂÆö‰πâÂú®RFC 3920ÂèäRFC 3921 „ÄÇ ‰ªª‰ΩïIM‰æõÂ∫îÂïÜÂú®ÈÅµÂæ™XMPPÂçèËÆÆ‰∏ã,ÈÉΩÂèØ‰∏éGoogle TalkÂÆûÁé∞ËøûÊé•„ÄÇ ËØÅÂÆûÂèØÁî®: Á¨¨‰∏Ä‰∏™Jabber(Áé∞Âú®XMPP)ÊäÄÊúØÊòØJeremie MillerÂú®1998Âπ¥ÂºÄÂèëÁöÑ,Áé∞Âú®Â∑≤ÁªèÁõ∏ÂΩìÁ®≥ÂÆö;Êï∞‰ª•ÁôæËÆ°ÁöÑÂºÄÂèëËÄÖ‰∏∫XMPPÊäÄÊúØËÄåÂä™ Âäõ„ÄÇ ‰ªäÊó•ÁöÑ‰∫íËÅîÁΩë‰∏äÊúâÊï∞‰ª•‰∏áËÆ°ÁöÑXMPPÊúçÂä°Âô®Ëøê‰ΩúÁùÄ,Âπ∂ÊúâÊï∞‰ª•Áôæ‰∏áËÆ°ÁöÑ‰∫∫‰ª¨‰ΩøÁî®XMPPÂÆûÊó∂‰º†ËÆØËΩØ‰ª∂„ÄÇ ÂàÜÊï£Âºè: XMPPÁΩëÁªúÁöÑÊû∂ÊûÑÂíåÁîµÂ≠êÈÇÆ‰ª∂ÂçÅÂàÜÁõ∏ÂÉè;XMPPÊ†∏ÂøÉÂçèËÆÆÈÄö‰ø°ÊñπÂºèÊòØÂÖàÂàõÂª∫‰∏Ä‰∏™stream,XMPP‰ª•TCP‰º†ÈÄíXMLÊï∞ÊçÆÊµÅ,Ê≤°Êúâ ‰∏≠Â§Æ‰∏ªÊúçÂä°Âô®„ÄÇ ‰ªª‰Ωï‰∫∫ÈÉΩÂèØ‰ª•ËøêË°åËá™Â∑±ÁöÑXMPPÊúçÂä°Âô®,‰Ωø‰∏™‰∫∫ÂèäÁªÑÁªáËÉΩÂ§üÊéåÊéß‰ªñ‰ª¨ÁöÑÂÆûÊó∂‰º†ËÆØ‰ΩìÈ™å„ÄÇ ÂÆâÂÖ®: ‰ªª‰ΩïXMPPÂçèËÆÆÁöÑÊúçÂä°Âô®ÂèØ‰ª•Áã¨Á´ã‰∫éÂÖ¨‰ºóXMPPÁΩëÁªú(‰æãÂ¶ÇÂú®‰ºÅ‰∏öÂÜÖÈÉ®ÁΩëÁªú‰∏≠),ËÄå‰ΩøÁî®SASLÂèäTLSÁ≠âÊäÄÊúØÁöÑÂèØÈù†ÂÆâÂÖ®ÊÄß,Â∑≤Ëá™ Â∏¶‰∫éÊ†∏ÂøÉXMPPÊäÄÊúØËßÑÊ†º‰∏≠„ÄÇ ÂèØÊâ©Â±ï: XML ÂëΩÂêçÁ©∫Èó¥ÁöÑÂ®ÅÂäõÂèØ‰Ωø‰ªª‰Ωï‰∫∫Âú®Ê†∏ÂøÉÂçèËÆÆÁöÑÂü∫Á°Ä‰∏äÂª∫ÈÄ†ÂÆöÂà∂ÂåñÁöÑÂäüËÉΩ;‰∏∫‰∫ÜÁª¥ÊåÅÈÄöÈÄèÊÄß,Â∏∏ËßÅÁöÑÊâ©Â±ïÁî±XMPPÊ†áÂáÜÂü∫Èáë‰ºö „ÄÇ ÂºπÊÄß‰Ω≥: XMPPÈô§‰∫ÜÂèØÁî®Âú®ÂÆûÊó∂ÈÄö‰ø°ÁöÑÂ∫îÁî®Á®ãÂ∫è,ËøòËÉΩÁî®Âú®ÁΩëÁªúÁÆ°ÁêÜ„ÄÅÂÜÖÂÆπ‰æõÁ®ø„ÄÅÂçèÂêåÂ∑•ÂÖ∑„ÄÅÊñá‰ª∂ÂÖ±‰∫´„ÄÅÊ∏∏Êàè„ÄÅËøúÁ®ãÁ≥ªÁªüÁõëÊéßÁ≠â„ÄÇ Â§öÊ†∑ÊÄß: Áî®XMPPÂçèËÆÆÊù•Âª∫ÈÄ†ÂèäÂ∏ÉÁΩ≤ÂÆûÊó∂Â∫îÁî®Á®ãÂ∫èÂèäÊúçÂä°ÁöÑÂÖ¨Âè∏ÂèäÂºÄÊîæÊ∫ê‰ª£Á†ÅËÆ°ÂàíÂàÜÂ∏ÉÂú®ÂêÑÁßçÈ¢ÜÂüü;Áî®XMPPÊäÄÊúØÂºÄÂèëËΩØ‰ª∂,ËµÑÊ∫êÂèäÊîØÊåÅÁöÑ Êù•Ê∫êÊòØÂ§öÊ†∑ÁöÑ,‰ΩøÂæó‰Ωø‰Ω†‰∏ç‰ºöÈô∑‰∫éË¢´‚ÄúÁªëÊû∂‚ÄùÁöÑÂõ∞Â¢É„ÄÇ Áº∫ÁÇπ Êï∞ÊçÆË¥üËΩΩÂ§™Èáç: ÈöèÁùÄÈÄöÂ∏∏Ë∂ÖËøá70%ÁöÑXMPPÂçèËÆÆÁöÑÊúçÂä°Âô®ÁöÑÊï∞ÊçÆÊµÅÈáèÁöÑÂ≠òÂú®ÂíåËøë60%ÁöÑË¢´ÈáçÂ§çËΩ¨Âèë,XMPPÂçèËÆÆÁõÆÂâçÊã•Êúâ‰∏Ä‰∏™Â§ßÂûãÊû∂Á©∫‰∏≠Â≠òÂú®ÁöÑ Êï∞ÊçÆÊèê‰æõÁªôÂ§ö‰∏™Êî∂‰ª∂‰∫∫„ÄÇ Êñ∞ÁöÑËÆÆÂÆö‰π¶Ê≠£Âú®Á†îÁ©∂,‰ª•ÂáèËΩªËøô‰∏ÄÈóÆÈ¢ò„ÄÇ Ê≤°Êúâ‰∫åËøõÂà∂Êï∞ÊçÆ: XMPPÂçèËÆÆÁöÑÊñπÂºèË¢´ÁºñÁ†Å‰∏∫‰∏Ä‰∏™Âçï‰∏ÄÁöÑÈïøÁöÑXMLÊñá‰ª∂,Âõ†Ê≠§Êó†Ê≥ïÊèê‰æõ‰øÆÊîπ‰∫åËøõÂà∂Êï∞ÊçÆ„ÄÇ Âõ†Ê≠§, Êñá‰ª∂‰º†ËæìÂçèËÆÆ‰∏ÄÊ†∑‰ΩøÁî®Â§ñÈÉ®ÁöÑ HTTP„ÄÇ Â¶ÇÊûú‰∏çÂèØÈÅøÂÖç,XMPPÂçèËÆÆËøòÊèê‰æõ‰∫ÜÂ∏¶ÁºñÁ†ÅÁöÑÊñá‰ª∂‰º†ËæìÁöÑÊâÄÊúâÊï∞ÊçÆ‰ΩøÁî®ÁöÑBase64 „ÄÇ Ëá≥‰∫éÂÖ∂‰ªñ‰∫åËøõÂà∂Êï∞ÊçÆÂä†ÂØÜ‰ºöËØù (encrypted conversations)ÊàñÂõæÂΩ¢ÂõæÊ†á(graphic icons)‰ª•ÂµåÂÖ•Âºè‰ΩøÁî®Áõ∏ÂêåÁöÑÊñπÊ≥ï„ÄÇ NSURLConnectionÁöÑÂá†‰∏™Â∏∏Áî®ÁöÑ‰ª£ÁêÜ? NSURLConnectionDownloadDelegate :ËÉΩÂ§üÂÆûÁé∞ÁõëÂê¨‰∏ãËΩΩËøõÂ∫¶!‰ΩÜÊòØ‰∏ãËΩΩ‰πãÂêé,Êâæ‰∏çÂà∞‰∏ãËΩΩÂ•ΩÁöÑÊñá‰ª∂! NSURLConnectionDataDelegate ÊòØÈíàÂØπÊï∞ÊçÆ‰∏ãËΩΩÊèê‰æõÁöÑÊñπÊ≥ï!ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ,ÈúÄË¶ÅËá™Â∑±ÂÆûÁé∞ÁõëÂê¨ËøõÂ∫¶ÁöÑ‰∏öÂä°ÈÄªËæë! Âà©Áî® NSURLConnection ÁöÑÂºÇÊ≠•ÂõûË∞ÉËøõË°åÊñá‰ª∂‰∏ãËΩΩ: Â¶ÇÊûúÊòØÂ∞èÊñá‰ª∂‰∏ãËΩΩ,ÈóÆÈ¢ò‰∏çÂ§ß! ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÂºÇÊ≠•ÂõûË∞ÉËøõË°å‰∏ãËΩΩ Â¶ÇÊûú‰ΩøÁî®ÂºÇÊ≠•ÂõûË∞ÉÁöÑÊñπÊ≥ïËøõË°åÂ§ßÊñá‰ª∂‰∏ãËΩΩ,Âàô‰ºöÂá∫Áé∞ÂÜÖÂ≠òÊö¥Ê∂®ÁöÑÊÉÖÂÜµ! ÂÜÖÂ≠òÊö¥Ê∂®ÁöÑÂéüÂõ†: Â§ßÊñá‰ª∂‰∏ãËΩΩ‰πãÂêé,ÈªòËÆ§ÊòØÊîæÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ,ÊâÄ‰ª•‰∏ãËΩΩÁöÑÊñá‰ª∂Ë∂äÂ§ß,Ë∂äËÄóË¥πÂÜÖÂ≠ò. Â≠òÂú®ÁöÑÁº∫ÁÇπ: ‰ΩøÁî®ÂºÇÊ≠•ÂõûË∞ÉÂÆûÁé∞Êñá‰ª∂,Êó†Ê≥ïÁõëÂê¨‰∏ãËΩΩËøõÂ∫¶!Âπ∂‰∏îÂØπ‰∫éÂ§ßÊñá‰ª∂‰∏ãËΩΩ,‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊö¥Ê∂®! Âü∫‰∫é‰ª•‰∏ä‰∏§ÁÇπ,‰∏ÄËà¨,Âú®ËøõË°åÊñá‰ª∂‰∏ãËΩΩÁöÑÊó∂ÂÄô,‰ΩøÁî®‰ª£ÁêÜÂõûË∞ÉÁõëÂê¨‰∏ãËΩΩËøõÂ∫¶!Âπ∂‰∏îÂú®‰∏ãËΩΩÊñá‰ª∂ÁöÑÊó∂ÂÄô,ÊâãÂä®ÁÆ°ÁêÜÂÜÖÂ≠ò! NSURLConnection&amp;NSURLSessionÁöÑÂå∫Âà´? ËôΩÁÑ∂ NSURLConnection Âú® iOS 9.0 ‰∏≠Â∑≤ÁªèË¢´Â∫üÂºÉÔºå‰ΩÜÊòØ‰Ωú‰∏∫ËµÑÊ∑±ÁöÑ iOS Á®ãÂ∫èÂëòÔºåÂøÖÈ°ªË¶Å‰∫ÜËß£ NSURLConnection ÁöÑÁªÜËäÇ, NSURLSession: Áî®‰∫éÊõø‰ª£ NSURLConnection ÊîØÊåÅÂêéÂè∞ËøêË°åÁöÑÁΩëÁªú‰ªªÂä° ÊöÇÂÅú„ÄÅÂÅúÊ≠¢„ÄÅÈáçÂêØÁΩëÁªú‰ªªÂä°Ôºå‰∏çÂÜçÈúÄË¶Å NSOperation Â∞ÅË£Ö ËØ∑Ê±ÇÂèØ‰ª•‰ΩøÁî®ÂêåÊ†∑ÁöÑÈÖçÁΩÆÂÆπÂô® ‰∏çÂêåÁöÑ session ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑÁßÅÊúâÂ≠òÂÇ® block Âíå‰ª£ÁêÜÂèØ‰ª•ÂêåÊó∂Ëµ∑‰ΩúÁî® Áõ¥Êé•‰ªéÊñá‰ª∂Á≥ªÁªü‰∏ä‰º†„ÄÅ‰∏ãËΩΩ XMLÊòØ‰ªÄ‰πà? XML‰∏éHTMLÁöÑÂå∫Âà´? XMLÁöÑÁÆÄÂçï‰ΩøÂÖ∂Êòì‰∫éÂú®‰ªª‰ΩïÂ∫îÁî®Á®ãÂ∫è‰∏≠ËØªÂÜôÊï∞ÊçÆÔºåËøô‰ΩøXMLÂæàÂø´Êàê‰∏∫Êï∞ÊçÆ‰∫§Êç¢ÁöÑÂîØ‰∏ÄÂÖ¨ÂÖ±ËØ≠Ë®ÄÔºåËôΩÁÑ∂‰∏çÂêåÁöÑÂ∫îÁî®ËΩØ‰ª∂‰πüÊîØÊåÅÂÖ∂ÂÆÉÁöÑÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºå‰ΩÜ‰∏ç‰πÖ‰πãÂêé‰ªñ‰ª¨ÈÉΩÂ∞ÜÊîØÊåÅXMLÔºåÈÇ£Â∞±ÊÑèÂë≥ÁùÄÁ®ãÂ∫èÂèØ‰ª•Êõ¥ÂÆπÊòìÁöÑ‰∏éWindows,Mac OS,Linux‰ª•ÂèäÂÖ∂‰ªñÂπ≥Âè∞‰∏ã‰∫ßÁîüÁöÑ‰ø°ÊÅØÁªìÂêàÔºåÁÑ∂ÂêéÂèØ‰ª•ÂæàÂÆπÊòìÂä†ËΩΩXMLÊï∞ÊçÆÂà∞Á®ãÂ∫è‰∏≠Âπ∂ÂàÜÊûê‰ªñÔºåÂπ∂‰ª•XMLÊ†ºÂºèËæìÂá∫ÁªìÊûú„ÄÇ XMLÂéªÊéâ‰∫Ü‰πãÂâç‰ª§ËÆ∏Â§öÂºÄÂèë‰∫∫ÂëòÂ§¥ÁñºÁöÑSGMLÔºàÊ†áÂáÜÈÄöÁî®Ê†áËÆ∞ËØ≠Ë®ÄÔºâÁöÑÈöèÊÑèËØ≠Ê≥ï„ÄÇÂú®XML‰∏≠ÔºåÈááÁî®‰∫ÜÂ¶Ç‰∏ãÁöÑËØ≠Ê≥ïÔºö ‰ªª‰ΩïÁöÑËµ∑ÂßãÊ†áÁ≠æÈÉΩÂøÖÈ°ªÊúâ‰∏Ä‰∏™ÁªìÊùüÊ†áÁ≠æ„ÄÇ ÂèØ‰ª•ÈááÁî®Âè¶‰∏ÄÁßçÁÆÄÂåñËØ≠Ê≥ïÔºåÂèØ‰ª•Âú®‰∏Ä‰∏™Ê†áÁ≠æ‰∏≠ÂêåÊó∂Ë°®Á§∫Ëµ∑ÂßãÂíåÁªìÊùüÊ†áÁ≠æ„ÄÇËøôÁßçËØ≠Ê≥ïÊòØÂú®Â§ß‰∫éÁ¨¶Âè∑‰πãÂâçÁ¥ßË∑ü‰∏Ä‰∏™ÊñúÁ∫øÔºà/ÔºâÔºå‰æãÂ¶Ç&lt;tag/ &gt;„ÄÇXMLËß£ÊûêÂô®‰ºöÂ∞ÜÂÖ∂ÁøªËØëÊàê„ÄÇ Ê†áÁ≠æÂøÖÈ°ªÊåâÂêàÈÄÇÁöÑÈ°∫Â∫èËøõË°åÂµåÂ•óÔºåÊâÄ‰ª•ÁªìÊùüÊ†áÁ≠æÂøÖÈ°ªÊåâÈïúÂÉèÈ°∫Â∫èÂåπÈÖçËµ∑ÂßãÊ†áÁ≠æÔºå‰æãÂ¶Çthis is asamplestring„ÄÇËøôÂ•ΩÊØîÊòØÂ∞ÜËµ∑ÂßãÂíåÁªìÊùüÊ†áÁ≠æÁúã‰ΩúÊòØÊï∞Â≠¶‰∏≠ÁöÑÂ∑¶Âè≥Êã¨Âè∑ÔºöÂú®Ê≤°ÊúâÂÖ≥Èó≠ÊâÄÊúâÁöÑÂÜÖÈÉ®Êã¨Âè∑‰πãÂâçÔºåÊòØ‰∏çËÉΩÂÖ≥Èó≠Â§ñÈù¢ÁöÑÊã¨Âè∑ÁöÑ„ÄÇ ÊâÄÊúâÁöÑÁâπÊÄßÈÉΩÂøÖÈ°ªÊúâÂÄº„ÄÇ ÊâÄÊúâÁöÑÁâπÊÄßÈÉΩÂøÖÈ°ªÂú®ÂÄºÁöÑÂë®Âõ¥Âä†‰∏äÂèåÂºïÂè∑„ÄÇ XML‰∏éHTMLÁöÑËÆæËÆ°Âå∫Âà´ÊòØÔºöXMLÁöÑÊ†∏ÂøÉÊòØÊï∞ÊçÆÔºåÂÖ∂ÈáçÁÇπÊòØÊï∞ÊçÆÁöÑÂÜÖÂÆπ„ÄÇËÄåHTML Ë¢´ËÆæËÆ°Áî®Êù•ÊòæÁ§∫Êï∞ÊçÆÔºåÂÖ∂ÈáçÁÇπÊòØÊï∞ÊçÆÁöÑÊòæÁ§∫„ÄÇ XMLÂíåHTMLËØ≠Ê≥ïÂå∫Âà´ÔºöHTMLÁöÑÊ†áËÆ∞‰∏çÊòØÊâÄÊúâÁöÑÈÉΩÈúÄË¶ÅÊàêÂØπÂá∫Áé∞ÔºåXMLÂàôË¶ÅÊ±ÇÊâÄÊúâÁöÑÊ†áËÆ∞ÂøÖÈ°ªÊàêÂØπÂá∫Áé∞ÔºõHTMLÊ†áËÆ∞‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºåXMLÂàô Â§ßÂ∞èÊïèÊÑü,Âç≥Âå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇ ÁΩëÁªúÂõæÁâáÂ§ÑÁêÜÈóÆÈ¢ò‰∏≠ÊÄé‰πàËß£ÂÜ≥‰∏Ä‰∏™Áõ∏ÂêåÁöÑÁΩëÁªúÂú∞ÂùÄÈáçÂ§çËØ∑Ê±ÇÁöÑÈóÆÈ¢òÔºüÂà©Áî®Â≠óÂÖ∏ÔºàÂõæÁâáÂú∞ÂùÄ‰∏∫keyÔºå‰∏ãËΩΩÊìç‰Ωú‰∏∫valueÔºâ sipÊòØ‰ªÄ‰πàÔºü1&gt; SIPÔºàSession Initiation ProtocolÔºâÔºå‰ºöËØùÂèëËµ∑ÂçèËÆÆ 2&gt; SIPÊòØÂª∫Á´ãVOIPËøûÊé•ÁöÑ IETF Ê†áÂáÜÔºåIETFÊòØÂÖ®ÁêÉ‰∫íËÅîÁΩëÊúÄÂÖ∑ÊùÉÂ®ÅÁöÑÊäÄÊúØÊ†áÂáÜÂåñÁªÑÁªá 3&gt; ÊâÄË∞ìVOIPÔºåÂ∞±ÊòØÁΩëÁªúÁîµËØùÔºåÁõ¥Êé•Áî®‰∫íËÅîÁΩëÊâìÁîµËØùÔºå‰∏çÁî®ËÄóÊâãÊú∫ËØùË¥π TCP/IPÂõõÂ±ÇÊ®°Âûã TCP/IPÊòØ‰∏ÄÁªÑÂçèËÆÆÁöÑ‰ª£ÂêçËØçÔºåÂÆÉËøòÂåÖÊã¨ËÆ∏Â§öÂçèËÆÆÔºåÁªÑÊàê‰∫ÜTCP/IPÂçèËÆÆÁ∞á„ÄÇTCP/IPÂçèËÆÆÁ∞áÂàÜ‰∏∫ÂõõÂ±ÇÔºåIP‰Ωç‰∫éÂçèËÆÆÁ∞áÁöÑÁ¨¨‰∫åÂ±Ç(ÂØπÂ∫îOSIÁöÑÁ¨¨‰∏âÂ±Ç)ÔºåTCP‰Ωç‰∫éÂçèËÆÆÁ∞áÁöÑÁ¨¨‰∏âÂ±Ç(ÂØπÂ∫îOSIÁöÑÁ¨¨ÂõõÂ±Ç)„ÄÇ Â∫îÁî®Â±ÇÔºöÂ∫îÁî®Á®ãÂ∫èÈó¥Ê≤üÈÄöÁöÑÂ±ÇÔºåÂ¶ÇÁÆÄÂçïÁîµÂ≠êÈÇÆ‰ª∂‰º†ËæìÔºàSMTPÔºâ„ÄÅÊñá‰ª∂‰º†ËæìÂçèËÆÆÔºàFTPÔºâ„ÄÅÁΩëÁªúËøúÁ®ãËÆøÈóÆÂçèËÆÆÔºàTelnetÔºâÁ≠â„ÄÇ ‰º†ËæìÂ±ÇÔºöÂú®Ê≠§Â±Ç‰∏≠ÔºåÂÆÉÊèê‰æõ‰∫ÜËäÇÁÇπÈó¥ÁöÑÊï∞ÊçÆ‰º†ÈÄÅÊúçÂä°ÔºåÂ¶Ç‰º†ËæìÊéßÂà∂ÂçèËÆÆÔºàTCPÔºâ„ÄÅÁî®Êà∑Êï∞ÊçÆÊä•ÂçèËÆÆÔºàUDPÔºâÁ≠âÔºåTCPÂíåUDPÁªôÊï∞ÊçÆÂåÖÂä†ÂÖ•‰º†ËæìÊï∞ÊçÆÂπ∂ÊääÂÆÉ‰º†ËæìÂà∞‰∏ã‰∏ÄÂ±Ç‰∏≠ÔºåËøô‰∏ÄÂ±ÇË¥üË¥£‰º†ÈÄÅÊï∞ÊçÆÔºåÂπ∂‰∏îÁ°ÆÂÆöÊï∞ÊçÆÂ∑≤Ë¢´ÈÄÅËææÂπ∂Êé•Êî∂„ÄÇ ‰∫íËøûÁΩëÁªúÂ±ÇÔºöË¥üË¥£Êèê‰æõÂü∫Êú¨ÁöÑÊï∞ÊçÆÂ∞ÅÂåÖ‰º†ÈÄÅÂäüËÉΩÔºåËÆ©ÊØè‰∏ÄÂùóÊï∞ÊçÆÂåÖÈÉΩËÉΩÂ§üÂà∞ËææÁõÆÁöÑ‰∏ªÊú∫Ôºà‰ΩÜ‰∏çÊ£ÄÊü•ÊòØÂê¶Ë¢´Ê≠£Á°ÆÊé•Êî∂ÔºâÔºåÂ¶ÇÁΩëÈôÖÂçèËÆÆÔºàIPÔºâ„ÄÇ ÁΩëÁªúÊé•Âè£Â±ÇÔºöÂØπÂÆûÈôÖÁöÑÁΩëÁªúÂ™í‰ΩìÁöÑÁÆ°ÁêÜÔºåÂÆö‰πâÂ¶Ç‰Ωï‰ΩøÁî®ÂÆûÈôÖÁΩëÁªúÔºàÂ¶ÇEthernet„ÄÅSerial LineÁ≠âÔºâÊù•‰º†ÈÄÅÊï∞ÊçÆ„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò14--Runloop]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9814-Runloop%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØ RunloopÔºü ‰ªéÂ≠óÈù¢‰∏äËÆ≤Â∞±ÊòØËøêË°åÂæ™ÁéØ„ÄÇ ÂÆÉÂÜÖÈÉ®Â∞±ÊòØdo-whileÂæ™ÁéØÔºåÂú®Ëøô‰∏™Âæ™ÁéØÂÜÖÈÉ®‰∏çÊñ≠Âú∞Â§ÑÁêÜÂêÑÁßç‰ªªÂä°„ÄÇ ‰∏Ä‰∏™Á∫øÁ®ãÂØπÂ∫î‰∏Ä‰∏™RunLoopÔºå‰∏ªÁ∫øÁ®ãÁöÑRunLoopÈªòËÆ§Â∑≤ÁªèÂêØÂä®ÔºåÂ≠êÁ∫øÁ®ãÁöÑRunLoopÂæóÊâãÂä®ÂêØÂä®ÔºàË∞ÉÁî®runÊñπÊ≥ïÔºâ RunLoopÂè™ËÉΩÈÄâÊã©‰∏Ä‰∏™ModeÂêØÂä®ÔºåÂ¶ÇÊûúÂΩìÂâçMode‰∏≠Ê≤°Êúâ‰ªª‰ΩïSource(Sources0„ÄÅSources1)„ÄÅTimerÔºåÈÇ£‰πàÂ∞±Áõ¥Êé•ÈÄÄÂá∫RunLoop Âü∫Êú¨ÁöÑ‰ΩúÁî®Â∞±ÊòØ‰øùÊåÅÁ®ãÂ∫èÁöÑÊåÅÁª≠ËøêË°åÔºåÂ§ÑÁêÜapp‰∏≠ÁöÑÂêÑÁßç‰∫ã‰ª∂„ÄÇÈÄöËøárunloopÔºåÊúâ‰∫ãËøêË°åÔºåÊ≤°‰∫ãÂ∞±‰ºëÊÅØÔºåÂèØ‰ª•ËäÇÁúÅcpuËµÑÊ∫êÔºåÊèêÈ´òÁ®ãÂ∫èÊÄßËÉΩ„ÄÇ RunloopÂØπË±°iOS‰∏≠Êúâ2Â•óAPIÊù•ËÆøÈóÆÂíå‰ΩøÁî®RunLoop FoundationÔºöNSRunLoop Core FoundationÔºöCFRunLoopRef NSRunLoopÂíåCFRunLoopRefÈÉΩ‰ª£Ë°®ÁùÄRunLoopÂØπË±° NSRunLoopÊòØÂü∫‰∫éCFRunLoopRefÁöÑ‰∏ÄÂ±ÇOCÂåÖË£ÖÔºåÊâÄ‰ª•Ë¶Å‰∫ÜËß£RunLoopÂÜÖÈÉ®ÁªìÊûÑÔºåÈúÄË¶ÅÂ§öÁ†îÁ©∂CFRunLoopRefÂ±ÇÈù¢ÁöÑAPI„ÄÇ Runloop‰∏éÁ∫øÁ®ã ÊØèÊù°Á∫øÁ®ãÈÉΩÊúâÂîØ‰∏ÄÁöÑ‰∏Ä‰∏™‰∏é‰πãÂØπÂ∫îÁöÑRunLoopÂØπË±° ‰∏ªÁ∫øÁ®ãÁöÑRunLoopÂ∑≤ÁªèËá™Âä®ÂàõÂª∫Â•Ω‰∫ÜÔºåÂ≠êÁ∫øÁ®ãÁöÑRunLoopÈúÄË¶Å‰∏ªÂä®ÂàõÂª∫ RunLoopÂú®Á¨¨‰∏ÄÊ¨°Ëé∑ÂèñÊó∂ÂàõÂª∫ÔºåÂú®Á∫øÁ®ãÁªìÊùüÊó∂ÈîÄÊØÅ Ëé∑ÂæóRunLoopÂØπË±° Foundation [NSRunLoop currentRunLoop]; // Ëé∑ÂæóÂΩìÂâçÁ∫øÁ®ãÁöÑRunLoopÂØπË±° [NSRunLoop mainRunLoop]; // Ëé∑Âæó‰∏ªÁ∫øÁ®ãÁöÑRunLoopÂØπË±° Core Foundation CFRunLoopGetCurrent(); // Ëé∑ÂæóÂΩìÂâçÁ∫øÁ®ãÁöÑRunLoopÂØπË±° CFRunLoopGetMain(); // Ëé∑Âæó‰∏ªÁ∫øÁ®ãÁöÑRunLoopÂØπË±° RunLoopÁõ∏ÂÖ≥Á±ªCore Foundation‰∏≠ÂÖ≥‰∫éRunLoopÁöÑ5‰∏™Á±ª CFRunLoopRef CFRunLoopModeRef CFRunLoopSourceRef CFRunLoopTimerRef CFRunLoopObserverRef CFRunLoopModeRefCFRunLoopModeRef‰ª£Ë°®RunLoopÁöÑËøêË°åÊ®°Âºè„ÄÇ ‰∏Ä‰∏™RunLoopÂåÖÂê´Ëã•Âπ≤‰∏™ModeÔºåÊØè‰∏™ModeÂèàÂåÖÂê´Ëã•Âπ≤‰∏™(set)Source/(array)Timer/(array)Observer ÊØèÊ¨°RunLoopÂêØÂä®Êó∂ÔºåÂè™ËÉΩÊåáÂÆöÂÖ∂‰∏≠‰∏Ä‰∏™ ModeÔºåËøô‰∏™ModeË¢´Áß∞‰ΩúCurrentMode Â¶ÇÊûúÈúÄË¶ÅÂàáÊç¢ModeÔºåÂè™ËÉΩÈÄÄÂá∫LoopÔºåÂÜçÈáçÊñ∞ÊåáÂÆö‰∏Ä‰∏™ModeËøõÂÖ• ËøôÊ†∑ÂÅö‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÂàÜÈöîÂºÄ‰∏çÂêåÁªÑÁöÑSource/Timer/ObserverÔºåËÆ©ÂÖ∂‰∫í‰∏çÂΩ±Âìç mode‰∏ªË¶ÅÊòØÁî®Êù•ÊåáÂÆö‰∫ã‰ª∂Âú®ËøêË°åÂæ™ÁéØ‰∏≠ÁöÑ‰ºòÂÖàÁ∫ßÁöÑÔºåÂàÜ‰∏∫Ôºö ‚Ä¢ NSDefaultRunLoopModeÔºàkCFRunLoopDefaultModeÔºâÔºöÈªòËÆ§ÔºåÁ©∫Èó≤Áä∂ÊÄÅ ‚Ä¢ UITrackingRunLoopModeÔºöScrollViewÊªëÂä®Êó∂‰ºöÂàáÊç¢Âà∞ËØ•Mode ‚Ä¢ UIInitializationRunLoopModeÔºörun loopÂêØÂä®Êó∂Ôºå‰ºöÂàáÊç¢Âà∞ËØ•mode ‚Ä¢ NSRunLoopCommonModesÔºàkCFRunLoopCommonModesÔºâÔºöModeÈõÜÂêà ËãπÊûúÂÖ¨ÂºÄÊèê‰æõÁöÑModeÊúâ‰∏§‰∏™Ôºö ‚Ä¢ NSDefaultRunLoopModeÔºàkCFRunLoopDefaultModeÔºâ ‚Ä¢ NSRunLoopCommonModesÔºàkCFRunLoopCommonModesÔºâ CFRunLoopTimerRef CFRunLoopTimerRefÊòØÂü∫‰∫éÊó∂Èó¥ÁöÑËß¶ÂèëÂô® CFRunLoopTimerRefÂü∫Êú¨‰∏äËØ¥ÁöÑÂ∞±ÊòØNSTimerÔºåÂÆÉÂèóRunLoopÁöÑModeÂΩ±Âìç GCDÁöÑÂÆöÊó∂Âô®‰∏çÂèóRunLoopÁöÑModeÂΩ±Âìç CFRunLoopSourceRefCFRunLoopSourceRefÊòØ‰∫ã‰ª∂Ê∫êÔºàËæìÂÖ•Ê∫êÔºâ ÊåâÁÖßÂÆòÊñπÊñáÊ°£ÔºåSourceÁöÑÂàÜÁ±ª Port-Based Sources Custom Input Sources Cocoa Perform Selector Sources ÊåâÁÖßÂáΩÊï∞Ë∞ÉÁî®Ê†àÔºåSourceÁöÑÂàÜÁ±ª Source0ÔºöÈùûÂü∫‰∫éPortÁöÑ Source1ÔºöÂü∫‰∫éPortÁöÑÔºåÈÄöËøáÂÜÖÊ†∏ÂíåÂÖ∂‰ªñÁ∫øÁ®ãÈÄö‰ø°ÔºåÊé•Êî∂„ÄÅÂàÜÂèëÁ≥ªÁªü‰∫ã‰ª∂ CFRunLoopObserverRef CFRunLoopObserverRefÊòØËßÇÂØüËÄÖÔºåËÉΩÂ§üÁõëÂê¨RunLoopÁöÑÁä∂ÊÄÅÊîπÂèò ÂèØ‰ª•ÁõëÂê¨ÁöÑÊó∂Èó¥ÁÇπÊúâ‰ª•‰∏ãÂá†‰∏™ kcfRunLoopEntry(Âç≥Â∞ÜËøõÂÖ•loop)//1 kcfRunLoopBeforeTimers(Âç≥Â∞ÜÂ§ÑÁêÜtimer)//2 kcfRunLoopBeforeSources(Âç≥Â∞ÜÂ§ÑÁêÜsource)//4 kcfRunLoopBeforeWaiting(Âç≥Â∞ÜËøõÂÖ•‰ºëÁú†)//32 kcfRunLoopAfterWaiting(Âàö‰ªé‰ºëÁú†‰∏≠Âî§ÈÜí)//64 kcfRunLoopExit(Âç≥Â∞ÜÈÄÄÂá∫loop)//128 Ê∑ªÂä†Observer CFRunLoopObserverRef observer = CFRunLoopObserverCreateWithHandler(CFAllocatorGetDefault(), kCFRunLoopAllActivities, YES, 0, ^(CFRunLoopObserverRef observer, CFRunLoopActivity activity) { NSLog(@&quot;----ÁõëÂê¨Âà∞RunLoopÁä∂ÊÄÅÂèëÁîüÊîπÂèò---%zd&quot;, activity); }); // Ê∑ªÂä†ËßÇÂØüËÄÖÔºöÁõëÂê¨RunLoopÁöÑÁä∂ÊÄÅ CFRunLoopAddObserver(CFRunLoopGetCurrent(), observer, kCFRunLoopDefaultMode); // ÈáäÊîæObserver CFRelease(observer); RunLoopÂ§ÑÁêÜÈÄªËæë ÈÄöÁü•Observer:Âç≥Â∞ÜËøõÂÖ•LoopÔºà1Ôºâ ÈÄöÁü•ObserverÔºöÂ∞ÜË¶ÅÂ§ÑÁêÜTimerÔºà2Ôºâ ÈÄöÁü•ObserverÔºöÂ∞ÜË¶ÅÂ§ÑÁêÜSource0Ôºà3Ôºâ Â§ÑÁêÜSource0Ôºà4Ôºâ Â¶ÇÊûúÊúâSource0ÔºåË∑≥Âà∞Á¨¨9Ê≠•Ôºà5Ôºâ ÈÄöÁü•ObserverÔºöÁ∫øÁ®ãÂç≥Â∞Ü‰ºëÁú†Ôºà6Ôºâ ‰ºëÁú†ÔºåÁ≠âÂæÖÂî§ÈÜíÔºöÔºà7Ôºâ Source0(port)„ÄÇ timerÂêØÂä® RunLoopËÆæÁΩÆÁöÑtimerÂ∑≤ÁªèË∂ÖÊó∂ RunloopË¢´Â§ñÈÉ®ÊâãÂä®Âî§ÈÜí ÈÄöÁü•ObserverÔºöÁ∫øÁ®ãÂ∞ÜË¢´Âî§ÈÜíÔºà8Ôºâ Â§ÑÁêÜÊú™Â§ÑÁêÜÁöÑÊó∂Èó¥Ôºà9Ôºâ Â¶ÇÊûúÁî®Êà∑ÂÆö‰πâÁöÑÂÆöÊó∂Âô®ÂêØÂä®ÔºåÂ§ÑÁêÜÂÆöÊó∂Âô®‰∫ã‰ª∂Âπ∂ÈáçÂêØRunloop„ÄÇËøõÂÖ•Ê≠•È™§2. Â¶ÇÊûúËæìÂÖ•Ê∫êÂêØÂä®Ôºå‰º†ÈÄíÁõ∏Â∫îÁöÑÊ∂àÊÅØ„ÄÇ Â¶ÇÊûúRunLoppË¢´ÊòæÂºèÂî§ÈÜíËÄå‰∏îÊó∂Èó¥ËøòÊ≤°Ë∂ÖÊó∂ÔºåÈáçÂêØRunLoopÔºåËøõÂÖ•Ê≠•È™§2. ÈÄöÁü•ObserverÔºöÂç≥Â∞ÜÈÄÄÂá∫Loop RunloopÁöÑÂ∫îÁî® NSTimer ImageViewÊòæÁ§∫ PerformSelector Â∏∏È©ªÁ∫øÁ®ã Ëá™Âä®ÈáäÊîæÊ±† runloopÂÆöÊó∂Ê∫êÂíåËæìÂÖ•Ê∫ê image RunloopÂ§ÑÁêÜÁöÑËæìÂÖ•‰∫ã‰ª∂Êúâ‰∏§Áßç‰∏çÂêåÁöÑÊù•Ê∫êÔºöËæìÂÖ•Ê∫êÔºàinput sourceÔºâÂíåÂÆöÊó∂Ê∫êÔºàtimer sourceÔºâ ËæìÂÖ•Ê∫ê‰º†ÈÄíÂºÇÊ≠•Ê∂àÊÅØÔºåÈÄöÂ∏∏Êù•Ëá™‰∫éÂÖ∂‰ªñÁ∫øÁ®ãÊàñËÄÖÁ®ãÂ∫è„ÄÇ ÂÆöÊó∂Ê∫êÂàô‰º†ÈÄíÂêåÊ≠•Ê∂àÊÅØÔºåÂú®ÁâπÂÆöÊó∂Èó¥ÊàñËÄÖ‰∏ÄÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîÂèëÁîü NSRunLoopÁöÑÂÆûÁé∞Êú∫Âà∂,ÂèäÂú®Â§öÁ∫øÁ®ã‰∏≠Â¶Ç‰Ωï‰ΩøÁî®- ÂÆûÁé∞Êú∫Âà∂ÔºöÂõûÁ≠îrunloopÁöÑÂü∫Êú¨‰ΩúÁî®ÔºåÂ§ÑÁêÜÈÄªËæëÔºåÂâçÈù¢ÈÉΩÊúâ„ÄÇ - Á®ãÂ∫èÂàõÂª∫Â≠êÁ∫øÁ®ãÁöÑÊó∂ÂÄôÔºåÊâçÈúÄË¶ÅÊâãÂä®ÂêØÂä®runloop„ÄÇ‰∏ªÁ∫øÁ®ãÁöÑrunloopÂ∑≤ÁªèÈªòËÆ§ÂêØÂä®„ÄÇ - Âú®Â§öÁ∫øÁ®ã‰∏≠Ôºå‰Ω†ÈúÄË¶ÅÂà§Êñ≠ÊòØÂê¶ÈúÄË¶Årunloop„ÄÇÂ¶ÇÊûúÈúÄË¶ÅrunloopÔºåÈÇ£‰πà‰Ω†Ë¶ÅË¥üË¥£ÈÖçÁΩÆrunloopÂπ∂ÂêØÂä®„ÄÇ‰Ω†‰∏çÈúÄË¶ÅÂú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÈÉΩÂéªÂêØÂä®runloop„ÄÇÊØîÂ¶ÇÔºå‰Ω†‰ΩøÁî®Á∫øÁ®ãÂéªÂ§ÑÁêÜ‰∏Ä‰∏™È¢ÑÂÖàÂÆö‰πâÂ•ΩÁöÑËÄóÊó∂ÊûÅÈïøÁöÑ‰ªªÂä°Êó∂Ôºå‰Ω†Â∞±ÂèØ‰ª•Êó†ÈúÄÂêØÂä®runloop„ÄÇRunloopÂè™Âú®‰Ω†Ë¶ÅÂíåÁ∫øÁ®ãÊúâ‰∫§‰∫íÊó∂ÊâçÈúÄË¶Å runloopÂíåÁ∫øÁ®ãÊúâ‰ªÄ‰πàÂÖ≥Á≥ªÔºü- ‰∏ªÁ∫øÁ®ãÁöÑrun loopÈªòËÆ§ÊòØÂêØÂä®ÁöÑ„ÄÇ iOSÁöÑÂ∫îÁî®Á®ãÂ∫èÈáåÈù¢ÔºåÁ®ãÂ∫èÂêØÂä®Âêé‰ºöÊúâ‰∏Ä‰∏™Â¶Ç‰∏ãÁöÑmain()ÂáΩÊï∞ ( argc, * argv[]) { @autoreleasepool { return UIApplicationMain(argc, argv, , NSStringFromClass([AppDelegate class])); } } ÈáçÁÇπÊòØUIApplicationMain()ÂáΩÊï∞ÔºåËøô‰∏™ÊñπÊ≥ï‰ºö‰∏∫main threadËÆæÁΩÆ‰∏Ä‰∏™NSRunLoopÂØπË±°ÔºåËøôÂ∞±Ëß£Èáä‰∫ÜÔºö‰∏∫‰ªÄ‰πàÊàë‰ª¨ÁöÑÂ∫îÁî®ÂèØ‰ª•Âú®Êó†‰∫∫Êìç‰ΩúÁöÑÊó∂ÂÄô‰ºëÊÅØÔºåÈúÄË¶ÅËÆ©ÂÆÉÂπ≤Ê¥ªÁöÑÊó∂ÂÄôÂèàËÉΩÁ´ãÈ©¨ÂìçÂ∫î„ÄÇ - ÂØπÂÖ∂ÂÆÉÁ∫øÁ®ãÊù•ËØ¥ÔºårunloopÈªòËÆ§ÊòØÊ≤°ÊúâÂêØÂä®ÁöÑÔºårunloopÂè™Âú®‰Ω†Ë¶ÅÂíåÁ∫øÁ®ãÊúâ‰∫§‰∫íÊó∂ÊâçÈúÄË¶Å„ÄÇ - Âú®‰ªª‰Ωï‰∏Ä‰∏™ Cocoa Á®ãÂ∫èÁöÑÁ∫øÁ®ã‰∏≠ÔºåÈÉΩÂèØ‰ª•ÈÄöËøá‰ª•‰∏ã‰ª£Á†ÅÊù•Ëé∑ÂèñÂà∞ÂΩìÂâçÁ∫øÁ®ãÁöÑ run loop „ÄÇ NSRunLoop *runloop = [NSRunLoop currentRunLoop]; autorelease ÂØπË±°Âú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöË¢´ÈáäÊîæÔºü ÂàÜ‰∏§ÁßçÊÉÖÂÜµÔºöÊâãÂä®Âπ≤È¢ÑÈáäÊîæÂíåÁ≥ªÁªüËá™Âä®ÈáäÊîæ ÊâãÂä®Âπ≤È¢ÑÈáäÊîæÂ∞±ÊòØÊåáÂÆöautoreleasepool,ÂΩìÂâç‰ΩúÁî®ÂüüÂ§ßÊã¨Âè∑ÁªìÊùüÂ∞±Á´ãÂç≥ÈáäÊîæ Á≥ªÁªüËá™Âä®ÂéªÈáäÊîæ:‰∏çÊâãÂä®ÊåáÂÆöautoreleasepool,AutoreleaseÂØπË±°‰ºöÂú®ÂΩìÂâçÁöÑ runloop Ëø≠‰ª£ÁªìÊùüÊó∂ÈáäÊîæ kCFRunLoopEntry(1):Á¨¨‰∏ÄÊ¨°ËøõÂÖ•‰ºöËá™Âä®ÂàõÂª∫‰∏Ä‰∏™autorelease kCFRunLoopBeforeWaiting(32):ËøõÂÖ•‰ºëÁú†Áä∂ÊÄÅÂâç‰ºöËá™Âä®ÈîÄÊØÅ‰∏Ä‰∏™autorelease,ÁÑ∂ÂêéÈáçÊñ∞ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑautorelease kCFRunLoopExit(128):ÈÄÄÂá∫runloopÊó∂‰ºöËá™Âä®ÈîÄÊØÅÊúÄÂêé‰∏Ä‰∏™ÂàõÂª∫ÁöÑautorelease ÂØπ‰∫érunloopÁöÑÁêÜËß£‰∏çÊ≠£Á°ÆÁöÑÊòØA ÊØè‰∏Ä‰∏™Á∫øÁ®ãÈÉΩÊúâÂÖ∂ÂØπÂ∫îÁöÑRunLoop B ÈªòËÆ§Èùû‰∏ªÁ∫øÁ®ãÁöÑRunLoopÊòØÊ≤°ÊúâËøêË°åÁöÑ C Âú®‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ∫øÁ®ã‰∏≠Ê≤°ÊúâÂøÖË¶ÅÂéªÂêØÁî®RunLoop D ÂèØ‰ª•Â∞ÜNSTimerÊ∑ªÂä†Âà∞runloop‰∏≠ ÂèÇËÄÉÁ≠îÊ°àÔºöC ÁêÜÁî±ÔºöËØ¥Âà∞RunLoopÔºåÂÆÉÂèØÊòØÂ§öÁ∫øÁ®ãÁöÑÊ≥ïÂÆö„ÄÇÈÄöÂ∏∏Êù•ËØ¥Ôºå‰∏Ä‰∏™Á∫øÁ®ã‰∏ÄÊ¨°Âè™ËÉΩÊâßË°å‰∏Ä‰∏™‰ªªÂä°ÔºåÊâßË°åÂÆå‰ªªÂä°ÂêéÂ∞±‰ºöÈÄÄÂá∫Á∫øÁ®ã„ÄÇ‰ΩÜÊòØÔºåÂØπ‰∫é‰∏ªÁ∫øÁ®ãÊòØ‰∏çËÉΩÈÄÄÂá∫ÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅËÆ©‰∏ªÁ∫øÁ®ãÂç≥Êó∂‰ªªÂä°ÊâßË°åÂÆåÊØïÔºå‰πüÂèØ‰ª•ÁªßÁª≠Á≠âÂæÖÊòØÊé•Êî∂‰∫ã‰ª∂ËÄå‰∏çÈÄÄÂá∫ÔºåÈÇ£‰πàRunLoopÂ∞±ÊòØÂÖ≥ÈîÆÊ≥ïÂÆù‰∫Ü„ÄÇ‰ΩÜÊòØÈùû‰∏ªÁ∫øÁ®ãÈÄöÂ∏∏Êù•ËØ¥Â∞±ÊòØ‰∏∫‰∫ÜÊâßË°åÊüê‰∏Ä‰ªªÂä°ÁöÑÔºåÊâßË°åÂÆåÊØïÂ∞±ÈúÄË¶ÅÂΩíËøòËµÑÊ∫êÔºåÂõ†Ê≠§ÈªòËÆ§ÊòØ‰∏çËøêË°åRunLoopÁöÑ„ÄÇNSRunLoopÊèê‰æõ‰∫Ü‰∏Ä‰∏™Ê∑ªÂä†NSTimerÁöÑÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÊòØÂú®Â∫îÁî®Ê≠£Â∏∏Áä∂ÊÄÅ‰∏ã‰ºöÂõûË∞É„ÄÇ runloopÁöÑmode‰ΩúÁî®ÊòØ‰ªÄ‰πàÔºümode‰∏ªË¶ÅÊòØÁî®Êù•ÊåáÂÆö‰∫ã‰ª∂Âú®ËøêË°åÂæ™ÁéØ‰∏≠ÁöÑ‰ºòÂÖàÁ∫ßÁöÑÔºåÂàÜ‰∏∫Ôºö ‚Ä¢ NSDefaultRunLoopModeÔºàkCFRunLoopDefaultModeÔºâÔºöÈªòËÆ§ÔºåÁ©∫Èó≤Áä∂ÊÄÅ ‚Ä¢ UITrackingRunLoopModeÔºöScrollViewÊªëÂä®Êó∂‰ºöÂàáÊç¢Âà∞ËØ•Mode ‚Ä¢ UIInitializationRunLoopModeÔºörun loopÂêØÂä®Êó∂Ôºå‰ºöÂàáÊç¢Âà∞ËØ•mode ‚Ä¢ NSRunLoopCommonModesÔºàkCFRunLoopCommonModesÔºâÔºöModeÈõÜÂêà ËãπÊûúÂÖ¨ÂºÄÊèê‰æõÁöÑModeÊúâ‰∏§‰∏™Ôºö ‚Ä¢ NSDefaultRunLoopModeÔºàkCFRunLoopDefaultModeÔºâ ‚Ä¢ NSRunLoopCommonModesÔºàkCFRunLoopCommonModesÔºâ Â¶ÇÊûúÊàë‰ª¨Êää‰∏Ä‰∏™NSTimerÂØπË±°‰ª•NSDefaultRunLoopModeÔºàkCFRunLoopDefaultModeÔºâÊ∑ªÂä†Âà∞‰∏ªËøêË°åÂæ™ÁéØ‰∏≠ÁöÑÊó∂ÂÄô, ScrollViewÊªöÂä®ËøáÁ®ã‰∏≠‰ºöÂõ†‰∏∫modeÁöÑÂàáÊç¢ÔºåËÄåÂØºËá¥NSTimerÂ∞Ü‰∏çÂÜçË¢´Ë∞ÉÂ∫¶„ÄÇÂΩìÊàë‰ª¨ÊªöÂä®ÁöÑÊó∂ÂÄôÔºå‰πüÂ∏åÊúõ‰∏çË∞ÉÂ∫¶ÔºåÈÇ£Â∞±Â∫îËØ•‰ΩøÁî®ÈªòËÆ§Ê®°Âºè„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÂ∏åÊúõÂú®ÊªöÂä®Êó∂ÔºåÂÆöÊó∂Âô®‰πüË¶ÅÂõûË∞ÉÔºåÈÇ£Â∞±Â∫îËØ•‰ΩøÁî®common mode„ÄÇ ËØ∑ÂÜôÂá∫NSTimer‰ΩøÁî®Êó∂ÁöÑÊ≥®ÊÑè‰∫ãÈ°πÔºà‰∏§È°πÂç≥ÂèØÔºâÊÄùË∑ØÂíå‰∏ä‰∏ÄÈ¢ò‰∏ÄÊ†∑ÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÈîÄÊØÅtimerÔºåÂàôÂøÖÈ°ªÂÖàÂ∞ÜtimerÁΩÆ‰∏∫Â§±ÊïàÔºåÂê¶ÂàôtimerÂ∞±‰∏ÄÁõ¥Âç†Áî®ÂÜÖÂ≠òËÄå‰∏ç‰ºöÈáäÊîæ„ÄÇÈÄ†ÊàêÈÄªËæë‰∏äÁöÑÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇËØ•Ê≥ÑÊºè‰∏çËÉΩÁî®xcodeÂèäinstrumentsÊµãÂá∫Êù•„ÄÇ Âè¶Â§ñÂØπ‰∫éË¶ÅÊ±ÇÂøÖÈ°ªÈîÄÊØÅtimerÁöÑÈÄªËæëÂ§ÑÁêÜÔºåÊú™Â∞ÜtimerÁΩÆ‰∏∫Â§±ÊïàÔºåËã•ÊØèÊ¨°ÈÉΩÂàõÂª∫‰∏ÄÊ¨°ÔºåÂàô‰πãÂâçÁöÑ‰∏çËÉΩÂæóÂà∞ÈáäÊîæÔºåÂàô‰ºöÂêåÊó∂Â≠òÂú®Â§ö‰∏™timerÁöÑÂÆû‰æãÂú®ÂÜÖÂ≠ò‰∏≠„ÄÇ ÂèÇËÄÉÁ≠îÊ°àÔºö ‚Ä¢ Ê≥®ÊÑètimerÊ∑ªÂä†Âà∞runloopÊó∂Â∫îËØ•ËÆæÁΩÆ‰∏∫‰ªÄ‰πàmode ‚Ä¢ Ê≥®ÊÑètimerÂú®‰∏çÈúÄË¶ÅÊó∂Ôºå‰∏ÄÂÆöË¶ÅË∞ÉÁî®invalidateÊñπÊ≥ï‰ΩøÂÆöÊó∂Âô®Â§±ÊïàÔºåÂê¶ÂàôÂæó‰∏çÂà∞ÈáäÊîæ UITableViewCell‰∏äÊúâ‰∏™UILabelÔºåÊòæÁ§∫NSTimerÂÆûÁé∞ÁöÑÁßíË°®Êó∂Èó¥ÔºåÊâãÊåáÊªöÂä®cellËøáÁ®ã‰∏≠ÔºålabelÊòØÂê¶Âà∑Êñ∞Ôºå‰∏∫‰ªÄ‰πàÔºüÂíå‰∏ä‰∏ÄÈ¢ò‰∏ÄÊ†∑ÁöÑÊÄùË∑ØÔºåÂ¶ÇÊûúË¶ÅcellÊªöÂä®ËøáÁ®ã‰∏≠ÂÆöÊó∂Âô®Ê≠£Â∏∏ÂõûË∞ÉÔºåUIÊ≠£Â∏∏Âà∑Êñ∞ÔºåÈÇ£‰πàË¶ÅÂ∞ÜtimerÊîæÂÖ•Âà∞CommonModes‰∏ãÔºåÂõ†‰∏∫ÊòØNSDefaultRunLoopModeÔºåÂè™ÊúâÂú®Á©∫Èó≤Áä∂ÊÄÅ‰∏ãÊâç‰ºöÂõûË∞É„ÄÇ ‰∏∫‰ªÄ‰πà UIScrollView ÁöÑÊªöÂä®‰ºöÂØºËá¥ NSTimer Â§±ÊïàÔºü ÊÄùË∑ØÂíå‰∏ä‰∏ÄÈ¢ò‰∏ÄÊ†∑ÔºåËß£ÂÜ≥ÂäûÊ≥ïÊúâ2‰∏™,‰∏Ä‰∏™ÊòØÊõ¥Êîπmode‰∏∫NSRunLoopCommonModes(Êó†ËÆ∫runloopËøêË°åÂú®Âì™‰∏™mode,ÈÉΩËÉΩËøêË°å),ËøòÊúâÁßçÂäûÊ≥ïÊòØÂàáÊç¢Âà∞‰∏ªÁ∫øÁ®ãÊù•Êõ¥Êñ∞UIÁïåÈù¢ÁöÑÂà∑Êñ∞ //Â∞ÜtimerÊ∑ªÂä†Âà∞NSDefaultRunLoopMode‰∏≠ [NSTimer scheduledTimerWithTimeInterval: target: selector:@selector(timerTick:) userInfo: repeats:]; //ÁÑ∂ÂêéÂÜçÊ∑ªÂä†Âà∞NSRunLoopCommonModesÈáå NSTimer *timer = [NSTimer timerWithTimeInterval: target: selector:@selector(timerTick:) userInfo: repeats:]; [[NSRunLoop currentRunLoop] addTimer:timer forMode:NSRunLoopCommonModes]; Âú®ÊªëÂä®È°µÈù¢‰∏äÁöÑÂàóË°®Êó∂Ôºåtimer‰ºöÊöÇÂÆöÂõûË∞ÉÔºå‰∏∫‰ªÄ‰πàÔºüÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü ÊÄùË∑ØÂíå‰∏ä‰∏ÄÈ¢ò‰∏ÄÊ†∑ Âú®ÂºÄÂèë‰∏≠Â¶Ç‰Ωï‰ΩøÁî®RunLoopÔºü‰ªÄ‰πàÂ∫îÁî®Âú∫ÊôØÔºü ÂºÄÂêØ‰∏Ä‰∏™Â∏∏È©ªÁ∫øÁ®ãÔºàËÆ©‰∏Ä‰∏™Â≠êÁ∫øÁ®ã‰∏çËøõÂÖ•Ê∂à‰∫°Áä∂ÊÄÅÔºåÁ≠âÂæÖÂÖ∂‰ªñÁ∫øÁ®ãÂèëÊù•Ê∂àÊÅØÔºåÂ§ÑÁêÜÂÖ∂‰ªñ‰∫ã‰ª∂Ôºâ Âú®Â≠êÁ∫øÁ®ã‰∏≠ÂºÄÂêØ‰∏Ä‰∏™ÂÆöÊó∂Âô® Âú®Â≠êÁ∫øÁ®ã‰∏≠ËøõË°å‰∏Ä‰∫õÈïøÊúüÁõëÊéß ÂèØ‰ª•ÊéßÂà∂ÂÆöÊó∂Âô®Âú®ÁâπÂÆöÊ®°Âºè‰∏ãÊâßË°å ÂèØ‰ª•ËÆ©Êüê‰∫õ‰∫ã‰ª∂ÔºàË°å‰∏∫„ÄÅ‰ªªÂä°ÔºâÂú®ÁâπÂÆöÊ®°Âºè‰∏ãÊâßË°å ÂèØ‰ª•Ê∑ªÂä†ObserverÁõëÂê¨RunLoopÁöÑÁä∂ÊÄÅÔºåÊØîÂ¶ÇÁõëÂê¨ÁÇπÂáª‰∫ã‰ª∂ÁöÑÂ§ÑÁêÜÔºàÂú®ÊâÄÊúâÁÇπÂáª‰∫ã‰ª∂‰πãÂâçÂÅö‰∏Ä‰∫õ‰∫ãÊÉÖÔºâ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò13--Êï∞ÊçÆÂ≠òÂÇ®]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9813-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%2F</url>
    <content type="text"><![CDATA[sqlite‰∏≠ÊèíÂÖ•ÁâπÊÆäÂ≠óÁ¨¶ÁöÑÊñπÊ≥ïÂíåÊé•Êî∂Âà∞Â§ÑÁêÜÊñπÊ≥ï„ÄÇÈô§‚ÄôÂÖ∂‰ªñÁöÑÈÉΩÊòØÂú®ÁâπÊÆäÂ≠óÁ¨¶ÂâçÈù¢Âä†‚Äú/‚ÄùÔºåËÄå ‚Äò -&gt; ‚Äò‚Äô „ÄÇÊñπÊ≥ïÔºökeyWord = keyWord.replace(‚Äú/‚Äú,‚Äù//‚Äú); ‰ªÄ‰πàÊòØNSManagedObjectÊ®°ÂûãÔºüNSManagedObjcetÊòØNSObjectÁöÑÂ≠êÁ±ªÔºåCore DateÁöÑÈáçË¶ÅÁªÑÊàêÈÉ®ÂàÜ„ÄÇÊòØ‰∏Ä‰∏™ÈÄöÁî®Á±ªÔºåÂÆûÁé∞‰∫ÜCore DateÊ®°ÂûãÂ±ÇÊâÄÈúÄÁöÑÂü∫Êú¨ÂäüËÉΩÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáNSManagedObjcetÂª∫Á´ãËá™Â∑±ÁöÑÊï∞ÊçÆÊ®°Âûã„ÄÇ ‰Ω†ÂÆûÁé∞ËøáÂ§öÁ∫øÁ®ãÁöÑCore Data‰πàÔºüNSPersistentStoreCoordinatorÔºåNSManagedObjectContextÂíåNSManagedObject‰∏≠ÁöÑÂì™‰∫õÈúÄË¶ÅÂú®Á∫øÁ®ã‰∏≠ÂàõÂª∫ÊàñËÄÖ‰º†ÈÄíÔºü‰Ω†ÊòØÁî®‰ªÄ‰πàÊ†∑ÁöÑÁ≠ñÁï•Êù•ÂÆûÁé∞ÁöÑÔºü1&gt; CoreDataÊòØÂØπSQLiteÊï∞ÊçÆÂ∫ìÁöÑÂ∞ÅË£Ö 2&gt; coreData‰∏≠Êúâ‰∏â‰∏™ÂØπË±°ÊòØÂøÖÈ°ªÊéåÊè°ÁöÑ, NSManagedObject :Âè™Ë¶ÅÂÆö‰πâ‰∏Ä‰∏™Á±ªÁªßÊâø‰∫éËØ•Á±ªÂ∞±‰ºöÂàõÂª∫‰∏ÄÂº†‰∏é‰πãÂØπÂ∫îÁöÑË°®, ‰πüÂ∞±ÊòØ‰∏Ä‰∏™ÁªßÊâø‰∫éËØ•Á±ªÁöÑÁ±ªÂ∞±ÂØπÂ∫î‰∏ÄÂº†Ë°®. ÊØè‰∏Ä‰∏™ÈÄöËøáÁªßÊâøËØ•Á±ªÂàõÂª∫Âá∫Êù•ÁöÑÂØπË±°,ÈÉΩÊòØËØ•Á±ªÂØπÂ∫îÁöÑË°®‰∏≠ÁöÑ‰∏ÄÊù°Êï∞ÊçÆ NSManagedObjectContext: Áî®‰∫éÊìç‰ΩúÊï∞ÊçÆÂ∫ì, Âè™Ë¶ÅÊúâÁ±ªÂÆÉÂ∞±ËÉΩÂØπÊï∞ÊçÆÂ∫ìÁöÑË°®ËøõË°åÂ¢ûÂà†ÊîπÊü• NSPersistentStoreCoordinator: ÂÜ≥ÂÆöÊï∞ÊçÆÂ≠òÂÇ®ÁöÑ‰ΩçÁΩÆ (SQLite/XML/ÂÖ∂ÂÆÉÊñá‰ª∂‰∏≠) 3&gt; Core dataÊú¨Ë∫´Âπ∂‰∏çÊòØ‰∏Ä‰∏™Âπ∂ÂèëÂÆâÂÖ®ÁöÑÊû∂ÊûÑÊâÄ‰ª•Âú®Â§öÁ∫øÁ®ã‰∏≠ÂÆûÁé∞Core data‰ºöÊúâÈóÆÈ¢ò.ÈóÆÈ¢òÂú®‰∫é &gt;2.1 CoreData‰∏≠ÁöÑNSManagedObjectContextÂú®Â§öÁ∫øÁ®ã‰∏≠‰∏çÂÆâÂÖ® &gt;2.2Â¶ÇÊûúÊÉ≥Ë¶ÅÂ§öÁ∫øÁ®ãËÆøÈóÆCoreDataÁöÑËØùÔºåÊúÄÂ•ΩÁöÑÊñπÊ≥ïÊòØ‰∏Ä‰∏™Á∫øÁ®ã‰∏Ä‰∏™NSManagedObjectContext &gt;2.3ÊØè‰∏™NSManagedObjectContextÂØπË±°ÂÆû‰æãÈÉΩÂèØ‰ª•‰ΩøÁî®Âêå‰∏Ä‰∏™NSPersistentStoreCoordinatorÂÆû‰æãÔºåËøôÊòØÂõ†‰∏∫NSManagedObjectContext‰ºöÂú®‰æøÁî®NSPersistentStoreCoordinatorÂâç‰∏äÈîÅ ÁÆÄÂçïÊèèËø∞‰∏ãÂÆ¢Êà∑Á´ØÁöÑÁºìÂ≠òÊú∫Âà∂Ôºü ÁºìÂ≠òÂèØ‰ª•ÂàÜ‰∏∫ÔºöÂÜÖÂ≠òÊï∞ÊçÆÁºìÂ≠ò„ÄÅÊï∞ÊçÆÂ∫ìÁºìÂ≠ò„ÄÅÊñá‰ª∂ÁºìÂ≠ò ÊØèÊ¨°ÊÉ≥Ëé∑ÂèñÊï∞ÊçÆÁöÑÊó∂ÂÄô ÂÖàÊ£ÄÊµãÂÜÖÂ≠ò‰∏≠ÊúâÊó†ÁºìÂ≠ò ÂÜçÊ£ÄÊµãÊú¨Âú∞ÊúâÊó†ÁºìÂ≠ò(Êï∞ÊçÆÂ∫ì\Êñá‰ª∂) ÊúÄÁªàÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç Â∞ÜÊúçÂä°Âô®ËøîÂõûÁöÑÁΩëÁªúÊï∞ÊçÆËøõË°åÁºìÂ≠òÔºàÂÜÖÂ≠ò„ÄÅÊï∞ÊçÆÂ∫ì„ÄÅÊñá‰ª∂ÔºâÔºå ‰ª•‰æø‰∏ãÊ¨°ËØªÂèñ ‰ªÄ‰πàÊòØÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÔºåÁî®Êù•ÂÅö‰ªÄ‰πà Â∫èÂàóÂåñÊääÂØπË±°ËΩ¨Âåñ‰∏∫Â≠óËäÇÂ∫èÂàóÁöÑËøáÁ®ã ÂèçÂ∫èÂàóÂåñÊääÁõ¥Êé•Â∫èÂàóÊÅ¢Â§çÊàêÂØπË±° ÊääÂØπË±°ÂÜôÂà∞Êñá‰ª∂ÊàñËÄÖÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂπ∂‰∏îËØªÂèñÂá∫Êù• OC‰∏≠ÂÆûÁé∞Â§çÊùÇÂØπË±°ÁöÑÂ≠òÂÇ® ÈÅµÂæ™NSCodingÂçèËÆÆÔºåÂÆûÁé∞Â§çÊùÇÂØπË±°ÁöÑÂ≠òÂÇ®ÔºåÂÆûÁé∞ËØ•ÂçèËÆÆÂêéÂèØ‰ª•ÂØπÂÖ∂ËøõË°åÊâìÂåÖÊàñËÄÖËß£ÂåÖÔºåËΩ¨Âåñ‰∏∫NSDate iOS‰∏≠Â∏∏Áî®ÁöÑÊï∞ÊçÆÂ≠òÂÇ®ÊñπÂºèÊúâÂì™‰∫õÔºü Êï∞ÊçÆÂ≠òÂÇ®ÊúâÂõõÁßçÊñπÊ°àÔºåNSUserDefault,KeyChain,File,DB. ÂÖ∂‰∏≠FileÊúâ‰∏âÁßçÊñπÂºèÔºöplist,Archiver,Stream DBÂåÖÊã¨core DataÂíåFMDB ËØ¥‰∏ÄËØ¥‰Ω†ÂØπSQLiteÁöÑËÆ§ËØÜ SQLiteÊòØÁõÆÂâç‰∏ªÊµÅÁöÑÂµåÂÖ•ÂºèÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåÂÖ∂ÊúÄ‰∏ªË¶ÅÁöÑÁâπÁÇπÂ∞±ÊòØËΩªÈáèÁ∫ß„ÄÅË∑®Âπ≥Âè∞ÔºåÂΩìÂâçÂæàÂ§öÂµåÂÖ•ÂºèÊìç‰ΩúÁ≥ªÁªüÈÉΩÂ∞ÜÂÖ∂‰Ωú‰∏∫Êï∞ÊçÆÂ∫ìÈ¶ñÈÄâ„ÄÇ ËôΩÁÑ∂SQLiteÊòØ‰∏ÄÊ¨æËΩªÂûãÊï∞ÊçÆÂ∫ìÔºå‰ΩÜÊòØÂÖ∂ÂäüËÉΩ‰πüÁªù‰∏ç‰∫ö‰∫éÂæàÂ§öÂ§ßÂûãÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ì„ÄÇ Â≠¶‰π†Êï∞ÊçÆÂ∫ìÂ∞±Ë¶ÅÂ≠¶‰π†ÂÖ∂Áõ∏ÂÖ≥ÁöÑÂÆö‰πâ„ÄÅÊìç‰Ωú„ÄÅÊü•ËØ¢ËØ≠Ë®ÄÔºå‰πüÂ∞±ÊòØÂ§ßÂÆ∂Êó•Â∏∏ËØ¥ÂæóSQLËØ≠Âè•„ÄÇÂíåÂÖ∂‰ªñÊï∞ÊçÆÂ∫ìÁõ∏ÊØîÔºåSQLite‰∏≠ÁöÑSQLËØ≠Ê≥ïÂπ∂Ê≤°ÊúâÂ§™Â§ßÁöÑÂ∑ÆÂà´ÔºåÂõ†Ê≠§ËøôÈáåÂØπ‰∫éSQLËØ≠Âè•ÁöÑÂÜÖÂÆπ‰∏ç‰ºöËøáÂ§öËµòËø∞ÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÂèÇËÄÉSQLite‰∏≠ÂÖ∂‰ªñSQLÁõ∏ÂÖ≥ÁöÑÂÜÖÂÆπÔºåËøôÈáåËøòÊòØÈáçÁÇπËÆ≤Ëß£iOS‰∏≠Â¶Ç‰Ωï‰ΩøÁî®SQLiteÊûÑÂª∫Â∫îÁî®Á®ãÂ∫è„ÄÇÂÖàÁúã‰∏Ä‰∏ãSQLiteÊï∞ÊçÆÂ∫ìÁöÑÂá†‰∏™ÁâπÁÇπÔºö Âü∫‰∫éCËØ≠Ë®ÄÂºÄÂèëÁöÑËΩªÂûãÊï∞ÊçÆÂ∫ì Âú®iOS‰∏≠ÈúÄË¶Å‰ΩøÁî®CËØ≠Ë®ÄËØ≠Ê≥ïËøõË°åÊï∞ÊçÆÂ∫ìÊìç‰Ωú„ÄÅËÆøÈóÆÔºàÊó†Ê≥ï‰ΩøÁî®ObjCÁõ¥Êé•ËÆøÈóÆÔºåÂõ†‰∏∫libqlite3Ê°ÜÊû∂Âü∫‰∫éCËØ≠Ë®ÄÁºñÂÜôÔºâ SQLite‰∏≠ÈááÁî®ÁöÑÊòØÂä®ÊÄÅÊï∞ÊçÆÁ±ªÂûãÔºåÂç≥‰ΩøÂàõÂª∫Êó∂ÂÆö‰πâ‰∫Ü‰∏ÄÁßçÁ±ªÂûãÔºåÂú®ÂÆûÈôÖÊìç‰ΩúÊó∂‰πüÂèØ‰ª•Â≠òÂÇ®ÂÖ∂‰ªñÁ±ªÂûãÔºå‰ΩÜÊòØÊé®ËçêÂª∫Â∫ìÊó∂‰ΩøÁî®ÂêàÈÄÇÁöÑÁ±ªÂûãÔºàÁâπÂà´ÊòØÂ∫îÁî®ÈúÄË¶ÅËÄÉËôëË∑®Âπ≥Âè∞ÁöÑÊÉÖÂÜµÊó∂Ôºâ Âª∫Á´ãËøûÊé•ÂêéÈÄöÂ∏∏‰∏çÈúÄË¶ÅÂÖ≥Èó≠ËøûÊé•ÔºàÂ∞ΩÁÆ°ÂèØ‰ª•ÊâãÂä®ÂÖ≥Èó≠Ôºâ Âú®iOS‰∏≠Êìç‰ΩúSQLiteÊï∞ÊçÆÂ∫ìÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ãÂá†Ê≠•ÔºàÊ≥®ÊÑèÂÖàÂú®È°πÁõÆ‰∏≠ÂØºÂÖ•libsqlite3Ê°ÜÊû∂ÔºâÔºö ÊâìÂºÄÊï∞ÊçÆÂ∫ìÔºåÂà©Áî®sqlite3_open()ÊâìÂºÄÊï∞ÊçÆÂ∫ì‰ºöÊåáÂÆö‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÊñá‰ª∂‰øùÂ≠òË∑ØÂæÑÔºåÂ¶ÇÊûúÊñá‰ª∂Â≠òÂú®ÂàôÁõ¥Êé•ÊâìÂºÄÔºåÂê¶ÂàôÂàõÂª∫Âπ∂ÊâìÂºÄ„ÄÇÊâìÂºÄÊï∞ÊçÆÂ∫ì‰ºöÂæóÂà∞‰∏Ä‰∏™sqlite3Á±ªÂûãÁöÑÂØπË±°ÔºåÂêéÈù¢ÈúÄË¶ÅÂÄüÂä©Ëøô‰∏™ÂØπË±°ËøõË°åÂÖ∂‰ªñÊìç‰Ωú„ÄÇ ÊâßË°åSQLËØ≠Âè•ÔºåÊâßË°åSQLËØ≠Âè•ÂèàÂåÖÊã¨ÊúâËøîÂõûÂÄºÁöÑËØ≠Âè•ÂíåÊó†ËøîÂõûÂÄºËØ≠Âè•„ÄÇ ÂØπ‰∫éÊó†ËøîÂõûÂÄºÁöÑËØ≠Âè•ÔºàÂ¶ÇÂ¢ûÂä†„ÄÅÂà†Èô§„ÄÅ‰øÆÊîπÁ≠âÔºâÁõ¥Êé•ÈÄöËøásqlite3_exec()ÂáΩÊï∞ÊâßË°åÔºõ ÂØπ‰∫éÊúâËøîÂõûÂÄºÁöÑËØ≠Âè•ÂàôÈ¶ñÂÖàÈÄöËøásqlite3_prepare_v2()ËøõË°åsqlËØ≠Âè•ËØÑ‰º∞ÔºàËØ≠Ê≥ïÊ£ÄÊµãÔºâÔºåÁÑ∂ÂêéÈÄöËøásqlite3_step()‰æùÊ¨°ÂèñÂá∫Êü•ËØ¢ÁªìÊûúÁöÑÊØè‰∏ÄË°åÊï∞ÊçÆÔºåÂØπ‰∫éÊØèË°åÊï∞ÊçÆÈÉΩÂèØ‰ª•ÈÄöËøáÂØπÂ∫îÁöÑsqlite3_column_Á±ªÂûã()ÊñπÊ≥ïËé∑ÂæóÂØπÂ∫îÂàóÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊ≠§ÂèçÂ§çÂæ™ÁéØÁõ¥Âà∞ÈÅçÂéÜÂÆåÊàê„ÄÇÂΩìÁÑ∂ÔºåÊúÄÂêéÈúÄË¶ÅÈáäÊîæÂè•ÊüÑ„ÄÇ ËØ¥‰∏ÄËØ¥‰Ω†ÂØπFMDBÁöÑËÆ§ËØÜ FMDBÊòØ‰∏Ä‰∏™Â§ÑÁêÜÊï∞ÊçÆÂ≠òÂÇ®ÁöÑÁ¨¨‰∏âÊñπÊ°ÜÊû∂ÔºåÊ°ÜÊû∂ÊòØÂØπsqliteÁöÑÂ∞ÅË£ÖÔºåÊï¥‰∏™Ê°ÜÊû∂ÈùûÂ∏∏ËΩªÈáèÁ∫ß‰ΩÜÂèà‰∏çÂ§±ÁÅµÊ¥ªÊÄßÔºåËÄå‰∏îÊõ¥Âä†Èù¢ÂêëÂØπË±°„ÄÇFMDBÊúâÂ¶Ç‰∏ãÂá†‰∏™ÁâπÊÄßÔºö FMDBÊó¢ÁÑ∂ÊòØÂØπ‰∫élibsqlite3Ê°ÜÊû∂ÁöÑÂ∞ÅË£ÖÔºåËá™ÁÑ∂‰ΩøÁî®Ëµ∑Êù•‰πüÊòØÁ±ª‰ººÁöÑÔºå‰ΩøÁî®Ââç‰πüË¶ÅÊâìÂºÄ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÔºåËøô‰∏™Êï∞ÊçÆÂ∫ìÊñá‰ª∂Â≠òÂú®ÂàôÁõ¥Êé•ÊâìÂºÄÂê¶Âàô‰ºöÂàõÂª∫Âπ∂ÊâìÂºÄ„ÄÇËøôÈáåFMDBÂºïÂÖ•‰∫Ü‰∏Ä‰∏™MFDatabaseÂØπË±°Êù•Ë°®Á§∫Êï∞ÊçÆÂ∫ìÔºåÊâìÂºÄÊï∞ÊçÆÂ∫ìÂíåÂêéÈù¢ÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúÂÖ®ÈÉ®‰æùËµñÊ≠§ÂØπË±°„ÄÇ ÂØπ‰∫éÊï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúË∑üÂâçÈù¢KCDbManagerÁöÑÂ∞ÅË£ÖÊòØÁ±ª‰ººÁöÑÔºåÂú®FMDB‰∏≠FMDatabaseÁ±ªÊèê‰æõ‰∫Ü‰∏§‰∏™ÊñπÊ≥ïexecuteUpdate:ÂíåexecuteQuery:ÂàÜÂà´Áî®‰∫éÊâßË°åÊó†ËøîÂõûÁªìÊûúÁöÑÊü•ËØ¢ÂíåÊúâËøîÂõûÁªìÊûúÁöÑÊü•ËØ¢„ÄÇÂΩìÁÑ∂Ëøô‰∏§‰∏™ÊñπÊ≥ïÊúâÂæàÂ§öÁöÑÈáçËΩΩËøôÈáåÂ∞±‰∏çËØ¶ÁªÜËß£Èáä‰∫Ü„ÄÇÂîØ‰∏ÄÈúÄË¶ÅÊåáÂá∫ÁöÑÊòØÔºåÂ¶ÇÊûúË∞ÉÁî®ÊúâÊ†ºÂºèÂåñÂèÇÊï∞ÁöÑsqlËØ≠Âè•Êó∂ÔºåÊ†ºÂºèÂåñÁ¨¶Âè∑‰ΩøÁî®‚Äú?‚ÄùËÄå‰∏çÊòØ‚Äú%@‚Äù„ÄÅÁ≠â„ÄÇ Êàë‰ª¨Áü•ÈÅìÁõ¥Êé•‰ΩøÁî®libsqlite3ËøõË°åÊï∞ÊçÆÂ∫ìÊìç‰ΩúÂÖ∂ÂÆûÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÔºåÂ¶ÇÊûúÈÅáÂà∞Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂Êìç‰Ωú‰∏Ä‰∏™Ë°®ÁöÑÊó∂ÂÄôÂèØËÉΩ‰ºöÂèëÁîüÊÑèÊÉ≥‰∏çÂà∞ÁöÑÁªìÊûú„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂª∫ËÆÆÂú®Â§öÁ∫øÁ®ã‰∏≠‰ΩøÁî®FMDatabaseQueueÂØπË±°ÔºåÁõ∏ÊØîFMDatabaseËÄåË®ÄÔºåÂÆÉÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ Â∞Ü‰∫ãÂä°ÊîæÂà∞FMDB‰∏≠ÂéªËØ¥Âπ∂‰∏çÊòØÂõ†‰∏∫Âè™ÊúâFMDBÊâçÊîØÊåÅ‰∫ãÂä°ÔºåËÄåÊòØÂõ†‰∏∫FMDBÂ∞ÜÂÖ∂Â∞ÅË£ÖÊàê‰∫ÜÂá†‰∏™ÊñπÊ≥ïÊù•Ë∞ÉÁî®Ôºå‰∏çÁî®Ëá™Â∑±ÂÜôÂØπÂ∫îÁöÑsqlËÄåÂ∑≤„ÄÇÂÖ∂ÂÆûÂú®Âú®‰ΩøÁî®libsqlite3Êìç‰ΩúÊï∞ÊçÆÂ∫ìÊó∂‰πüÊòØÂéüÁîüÊîØÊåÅ‰∫ãÂä°ÁöÑÔºàÂõ†‰∏∫ËøôÈáåÁöÑ‰∫ãÂä°ÊòØÂü∫‰∫éÊï∞ÊçÆÂ∫ìÁöÑÔºåFMDBËøòÊòØ‰ΩøÁî®ÁöÑSQLiteÊï∞ÊçÆÂ∫ìÔºâÔºåÂè™Ë¶ÅÂú®ÊâßË°åsqlËØ≠Âè•ÂâçÂä†‰∏ä‚Äúbegin transaction;‚ÄùÊâßË°åÂÆå‰πãÂêéÊâßË°å‚Äúcommit transaction;‚ÄùÊàñËÄÖ‚Äúrollback transaction;‚ÄùËøõË°åÊèê‰∫§ÊàñÂõûÊªöÂç≥ÂèØ„ÄÇÂè¶Â§ñÂú®Core Data‰∏≠Â§ßÂÆ∂‰πüÂèØ‰ª•ÂèëÁé∞ÔºåÊâÄÊúâÁöÑÂ¢û„ÄÅÂà†„ÄÅÊîπÊìç‰Ωú‰πãÂêéÂøÖÈ°ªË∞ÉÁî®‰∏ä‰∏ãÊñáÁöÑ‰øùÂ≠òÊñπÊ≥ïÔºåÂÖ∂ÂÆûÊú¨Ë∫´Â∞±Êèê‰æõ‰∫Ü‰∫ãÂä°ÁöÑÊîØÊåÅÔºåÂè™Ë¶Å‰∏çË∞ÉÁî®‰øùÂ≠òÊñπÊ≥ïÔºå‰πãÂâçÊâÄÊúâÁöÑÊìç‰ΩúÊòØ‰∏ç‰ºöÊèê‰∫§ÁöÑ„ÄÇÂú®FMDB‰∏≠FMDatabaseÊúâbeginTransaction„ÄÅcommit„ÄÅrollback‰∏â‰∏™ÊñπÊ≥ïËøõË°åÂºÄÂêØ‰∫ãÂä°„ÄÅÊèê‰∫§‰∫ãÂä°ÂíåÂõûÊªö‰∫ãÂä°„ÄÇ ËØ¥‰∏ÄËØ¥‰Ω†ÂØπCore DataÁöÑËÆ§ËØÜCore Data‰ΩøÁî®Ëµ∑Êù•Áõ∏ÂØπÁõ¥Êé•‰ΩøÁî®SQLite3ÁöÑAPIËÄåË®ÄÊõ¥Âä†ÁöÑÈù¢ÂêëÂØπË±°ÔºåÊìç‰ΩúËøáÁ®ãÈÄöÂ∏∏ÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö ÂàõÂª∫ÁÆ°ÁêÜ‰∏ä‰∏ãÊñá ÂàõÂª∫ÁÆ°ÁêÜ‰∏ä‰∏ãÂèØ‰ª•ÁªÜÂàÜ‰∏∫ÔºöÂä†ËΩΩÊ®°ÂûãÊñá‰ª∂-&gt;ÊåáÂÆöÊï∞ÊçÆÂ≠òÂÇ®Ë∑ØÂæÑ-&gt;ÂàõÂª∫ÂØπÂ∫îÊï∞ÊçÆÁ±ªÂûãÁöÑÂ≠òÂÇ®-&gt;ÂàõÂª∫ÁÆ°ÁêÜÂØπË±°‰∏ä‰∏ãÊñπÂπ∂ÊåáÂÆöÂ≠òÂÇ®„ÄÇ ÁªèËøáËøôÂá†‰∏™Ê≠•È™§‰πãÂêéÂèØ‰ª•ÂæóÂà∞ÁÆ°ÁêÜÂØπË±°‰∏ä‰∏ãÊñáNSManagedObjectContextÔºå‰ª•ÂêéÊâÄÊúâÁöÑÊï∞ÊçÆÊìç‰ΩúÈÉΩÁî±Ê≠§ÂØπË±°Ë¥üË¥£„ÄÇÂêåÊó∂Â¶ÇÊûúÊòØÁ¨¨‰∏ÄÊ¨°ÂàõÂª∫‰∏ä‰∏ãÊñáÔºåCore Data‰ºöËá™Âä®ÂàõÂª∫Â≠òÂÇ®Êñá‰ª∂Ôºà‰æãÂ¶ÇËøôÈáå‰ΩøÁî®SQLite3Â≠òÂÇ®ÔºâÔºåÂπ∂‰∏îÊ†πÊçÆÊ®°ÂûãÂØπË±°ÂàõÂª∫ÂØπÂ∫îÁöÑË°®ÁªìÊûÑ„ÄÇ Êü•ËØ¢Êï∞ÊçÆ ÂØπ‰∫éÊúâÊù°‰ª∂ÁöÑÊü•ËØ¢ÔºåÂú®Core Data‰∏≠ÊòØÈÄöËøáË∞ìËØçÊù•ÂÆûÁé∞ÁöÑ„ÄÇÈ¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÁÑ∂ÂêéËÆæÁΩÆËØ∑Ê±ÇÊù°‰ª∂ÔºåÊúÄÂêéË∞ÉÁî®‰∏ä‰∏ãÊñáÊâßË°åËØ∑Ê±ÇÁöÑÊñπÊ≥ï„ÄÇ ÊèíÂÖ•Êï∞ÊçÆ ÊèíÂÖ•Êï∞ÊçÆÈúÄË¶ÅË∞ÉÁî®ÂÆû‰ΩìÊèèËø∞ÂØπË±°NSEntityDescriptionËøîÂõû‰∏Ä‰∏™ÂÆû‰ΩìÂØπË±°ÔºåÁÑ∂ÂêéËÆæÁΩÆÂØπË±°Â±ûÊÄßÔºåÊúÄÂêé‰øùÂ≠òÂΩìÂâç‰∏ä‰∏ãÊñáÂç≥ÂèØ„ÄÇËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÔºåÂ¢û„ÄÅÂà†„ÄÅÊîπÊìç‰ΩúÂÆåÊúÄÂêéÂøÖÈ°ªË∞ÉÁî®ÁÆ°ÁêÜÂØπË±°‰∏ä‰∏ãÊñáÁöÑ‰øùÂ≠òÊñπÊ≥ïÔºåÂê¶ÂàôÊìç‰Ωú‰∏ç‰ºöÊâßË°å„ÄÇ Âà†Èô§Êï∞ÊçÆ Âà†Èô§Êï∞ÊçÆÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®ÁÆ°ÁêÜÂØπË±°‰∏ä‰∏ãÊñáÁöÑdeleteObjectÊñπÊ≥ïÔºåÂà†Èô§ÂÆå‰øùÂ≠ò‰∏ä‰∏ãÊñáÂç≥ÂèØ„ÄÇÊ≥®ÊÑèÔºåÂà†Èô§Êï∞ÊçÆÂâçÂøÖÈ°ªÂÖàÊü•ËØ¢Âà∞ÂØπÂ∫îÂØπË±°„ÄÇ ‰øÆÊîπÊï∞ÊçÆ ‰øÆÊîπÊï∞ÊçÆÈ¶ñÂÖà‰πüÊòØÂèñÂá∫ÂØπÂ∫îÁöÑÂÆû‰ΩìÂØπË±°ÔºåÁÑ∂ÂêéÈÄöËøá‰øÆÊîπÂØπË±°ÁöÑÂ±ûÊÄßÔºåÊúÄÂêé‰øùÂ≠ò‰∏ä‰∏ãÊñá„ÄÇ OC‰∏≠ÊúâÂì™‰∫õÊï∞ÊçÆÂ≠òÂÇ®ÊñπÂºè,ÂêÑÊúâ‰ªÄ‰πàÂå∫Âà´? OC‰∏≠ÊúâÂõõÁßçÊï∞ÊçÆÂ≠òÂÇ®ÊñπÂºè: NSUserDefaults,Áî®‰∫éÂ≠òÂÇ®ÈÖçÁΩÆ‰ø°ÊÅØ SQLite,Áî®‰∫éÂ≠òÂÇ®Êü•ËØ¢ÈúÄÊ±ÇËæÉÂ§öÁöÑÊï∞ÊçÆ CoreData,Áî®‰∫éËßÑÂàíÂ∫îÁî®‰∏≠ÁöÑÂØπË±° ‰ΩøÁî®Âü∫Êú¨ÂØπË±°Á±ªÂûãÂÆöÂà∂ÁöÑ‰∏™ÊÄßÂåñÁºìÂ≠òÊñπÊ°à. NSUserDefaults:ÂØπË±°‰∏≠ÂÇ®Â≠ò‰∫ÜÁ≥ªÁªü‰∏≠Áî®Êà∑ÁöÑÈÖçÁΩÆ‰ø°ÊÅØ,ÂºÄÂèëËÄÖÂèØ‰ª•ÈÄöËøáËøô‰∏™ÂÆû‰æãÂØπË±°ÂØπËøô‰∫õÂ∑≤ÊúâÁöÑ‰ø°ÊÅØËøõË°å‰øÆÊîπ,‰πü ÂèØ‰ª•ÊåâÁÖßËá™Â∑±ÁöÑÈúÄÊ±ÇÂàõÂª∫Êñ∞ÁöÑÈÖçÁΩÆÈ°π„ÄÇ SQLiteÊìÖÈïøÂ§ÑÁêÜÁöÑÊï∞ÊçÆÁ±ªÂûãÂÖ∂ÂÆû‰∏éNSUserDefaultsÂ∑Æ‰∏çÂ§ö,‰πüÊòØÂü∫Á°ÄÁ±ªÂûãÁöÑÂ∞èÊï∞ÊçÆ,Âè™ÊòØ‰ªéÁªÑÁªáÂΩ¢Âºè‰∏ä‰∏çÂêå„ÄÇÂºÄÂèëËÄÖÂèØ‰ª•‰ª•ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÊñπÂºèÁªÑÁªáÊï∞ÊçÆ,‰ΩøÁî®SQL DMLÊù•ÁÆ°ÁêÜÊï∞ÊçÆ„ÄÇ‰∏ÄËà¨Êù•ËØ¥Â∫îÁî®‰∏≠ÁöÑÊ†ºÂºèÂåñÁöÑÊñáÊú¨Á±ªÊï∞ÊçÆÂèØ‰ª•Â≠òÊîæÂú®Êï∞ÊçÆÂ∫ì ‰∏≠,Â∞§ÂÖ∂ÊòØÁ±ª‰ººËÅäÂ§©ËÆ∞ÂΩï„ÄÅTimelineÁ≠âËøô‰∫õÂÖ∑ÊúâÊù°‰ª∂Êü•ËØ¢ÂíåÊéíÂ∫èÈúÄÊ±ÇÁöÑÊï∞ÊçÆ„ÄÇ CoreDataÊòØ‰∏Ä‰∏™ÁÆ°ÁêÜÊñπÊ°à,ÂÆÉÁöÑÊåÅ‰πÖÂåñÂèØ‰ª•ÈÄöËøáSQLite„ÄÅXMLÊàñ‰∫åËøõÂà∂Êñá‰ª∂ÂÇ®Â≠ò„ÄÇÂÆÉÂèØ‰ª•ÊääÊï¥‰∏™Â∫îÁî®‰∏≠ÁöÑÂØπË±°Âª∫Ê®°Âπ∂ËøõË°åËá™Âä®ÂåñÁöÑÁÆ°ÁêÜ„ÄÇ‰ªéÂΩíÊ°£Êñá‰ª∂ËøòÂéüÊ®°ÂûãÊó∂CoreDataÂπ∂‰∏çÊòØ‰∏ÄÊ¨°ÊÄßÊääÊï¥‰∏™Ê®°Âûã‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆÈÉΩËΩΩÂÖ•ÂÜÖÂ≠ò,ËÄåÊòØÊ†πÊçÆËøêË°åÊó∂Áä∂ÊÄÅ,ÊääË¢´Ë∞ÉÁî®Âà∞ÁöÑÂØπË±°ÂÆû‰æãËΩΩÂÖ•ÂÜÖÂ≠ò„ÄÇÊ°ÜÊû∂‰ºöËá™Âä®ÊéßÂà∂Ëøô‰∏™ËøáÁ®ã,‰ªéËÄåËææÂà∞ÊéßÂà∂ÂÜÖÂ≠òÊ∂àËÄó,ÈÅøÂÖçÊµ™Ë¥π„ÄÇ Êó†ËÆ∫‰ªéËÆæËÆ°ÂéüÁêÜËøòÊòØ‰ΩøÁî®ÊñπÊ≥ï‰∏äÁúã,CoreDataÈÉΩÊØîËæÉÂ§çÊùÇ„ÄÇÂõ†Ê≠§,Â¶ÇÊûú‰ªÖ‰ªÖÊòØËÄÉËôëÁºìÂ≠òÊï∞ÊçÆËøô‰∏™ÈúÄÊ±Ç,CoreDataÁªùÂØπ‰∏çÊòØ‰∏Ä‰∏™‰ºòÈÄâÊñπÊ°à„ÄÇ CoreDataÁöÑ‰ΩøÁî®Âú∫ÊôØÂú®‰∫é:Êï¥‰∏™Â∫îÁî®‰ΩøÁî®CoreDataËßÑÂàí,ÊääÂ∫îÁî®ÂÜÖÁöÑÊï∞ÊçÆÈÄöËøáCoreDataÂª∫Ê®°,ÂÆåÂÖ®Âü∫‰∫éCoreDataÊû∂ÊûÑÂ∫îÁî®„ÄÇ ‰ΩøÁî®Âü∫Êú¨ÂØπË±°Á±ªÂûãÂÆöÂà∂ÁöÑ‰∏™ÊÄßÂåñÁºìÂ≠òÊñπÊ°à:‰ªéÈúÄÊ±ÇÂá∫ÂèëÂàÜÊûêÁºìÂ≠òÊï∞ÊçÆÊúâÂì™‰∫õË¶ÅÊ±Ç:ÊåâKeyÊü•Êâæ,Âø´ÈÄüËØªÂèñ,ÂÜôÂÖ•‰∏çÂΩ±ÂìçÊ≠£Â∏∏Êìç‰Ωú,‰∏çÊµ™Ë¥πÂÜÖÂ≠ò,ÊîØÊåÅÂΩíÊ°£„ÄÇËøô‰∫õÈÉΩÊòØÂü∫Êú¨ÈúÄÊ±Ç,ÈÇ£‰πàÂÜçËøõ‰∏ÄÊ≠•ÊàñËÆ∏ËøòÈúÄË¶ÅÂõ∫ÂÆöÁºìÂ≠òÈ°πÊï∞Èáè,ÊîØÊåÅÈòüÂàóÁºìÂ≠ò,ÁºìÂ≠òËøáÊúüÁ≠â„ÄÇ Êï∞ÊçÆÂ≠òÂÇ®Ëøô‰∏ÄÂùó, Èù¢ËØïÂ∏∏ÈóÆ, ‰Ω†Â∏∏Áî®Âì™‰∏ÄÁßçÊï∞ÊçÆÂ≠òÂÇ®? ‰ªÄ‰πàÊòØÂ∫èÂàóÂåñ? sqliteÊòØÁõ¥Êé•Áî®ÂÆÉËøòÊòØÁî®Â∞ÅË£Ö‰∫ÜÂÆÉÁöÑÁ¨¨‰∏âÊñπÂ∫ì? Â∞§ÂÖ∂ÊòØ‰ºöÈóÆsqliteÂíåcore dataÁöÑÂå∫Âà´? iOSÂπ≥Âè∞ÊÄé‰πàÂÅöÊï∞ÊçÆÁöÑÊåÅ‰πÖÂåñ?coredataÂíåsqliteÊúâÊó†ÂøÖÁÑ∂ËÅîÁ≥ª?coredataÊòØ‰∏Ä‰∏™ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂêó? iOS‰∏≠ÂèØ‰ª•ÊúâÂõõÁßçÊåÅ‰πÖÂåñÊï∞ÊçÆÁöÑÊñπÂºè: Â±ûÊÄßÂàóË°®„ÄÅÂØπË±°ÂΩíÊ°£„ÄÅSQLite3ÂíåCore Data coredataÂèØ‰ª•‰Ωø‰Ω†‰ª•ÂõæÂΩ¢ÁïåÈù¢ÁöÑÊñπÂºèÂø´ÈÄüÁöÑÂÆö‰πâappÁöÑÊï∞ÊçÆÊ®°Âûã,ÂêåÊó∂Âú®‰Ω†ÁöÑ‰ª£Á†Å‰∏≠ÂÆπÊòìËé∑ÂèñÂà∞ÂÆÉ„ÄÇ coredataÊèê‰æõ‰∫ÜÂü∫Á°ÄÁªìÊûÑÂéªÂ§ÑÁêÜÂ∏∏Áî®ÁöÑÂäüËÉΩ,‰æãÂ¶Ç‰øùÂ≠ò,ÊÅ¢Â§ç,Êí§ÈîÄÂíåÈáçÂÅö,ÂÖÅËÆ∏‰Ω†Âú®app‰∏≠ÁªßÁª≠ÂàõÂª∫Êñ∞ÁöÑ‰ªªÂä°„ÄÇ Âú®‰ΩøÁî®coredataÁöÑÊó∂ÂÄô,‰Ω†‰∏çÁî®ÂÆâË£ÖÈ¢ùÂ§ñÁöÑÊï∞ÊçÆÂ∫ìÁ≥ªÁªü,Âõ†‰∏∫coredata‰ΩøÁî®ÂÜÖÁΩÆÁöÑsqliteÊï∞ÊçÆÂ∫ì„ÄÇ coredataÂ∞Ü‰Ω†appÁöÑÊ®°ÂûãÂ±ÇÊîæÂÖ•Âà∞‰∏ÄÁªÑÂÆö‰πâÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÂØπË±°„ÄÇ coredata‰ºö ËøΩË∏™Ëøô‰∫õÂØπË±°ÁöÑÊîπÂèò,ÂêåÊó∂ÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÂÅöÁõ∏Â∫îÁöÑÊîπÂèò,‰æãÂ¶ÇÁî®Êà∑ÊâßË°åÊí§ÈîÄÂëΩ‰ª§„ÄÇ ÂΩìcoredataÂú®ÂØπ‰Ω†appÊï∞ÊçÆÁöÑÊîπÂèòËøõË°å‰øùÂ≠òÁöÑÊó∂ ÂÄô,core data‰ºöÊääËøô‰∫õÊï∞ÊçÆÂΩíÊ°£,Âπ∂Ê∞∏‰πÖÊÄß‰øùÂ≠ò„ÄÇ mac os x‰∏≠sqliteÂ∫ì,ÂÆÉÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÂäüËÉΩÂº∫Â§ßÁöÑÂÖ≥Á≥ªÊï∞ÊçÆÂºïÊìé,‰πüÂæàÂÆπÊòìÂµåÂÖ•Âà∞Â∫îÁî®Á®ãÂ∫è„ÄÇÂèØ‰ª•Âú®Â§ö‰∏™Âπ≥Âè∞‰ΩøÁî®,sqliteÊòØ‰∏Ä‰∏™ËΩª ÈáèÁ∫ßÁöÑÂµåÂÖ•ÂºèsqlÊï∞ÊçÆÂ∫ìÁºñÁ®ã„ÄÇ ‰∏écoredataÊ°ÜÊû∂‰∏çÂêåÁöÑÊòØ,sqliteÊòØ‰ΩøÁî®Á®ãÂ∫èÂºèÁöÑ,sqlÁöÑ‰∏ªË¶ÅÁöÑAPIÊù•Áõ¥Êé•Êìç‰ΩúÊï∞ÊçÆË°®„ÄÇ Core Data‰∏çÊòØ‰∏Ä‰∏™ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì,‰πü‰∏çÊòØÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªü(RDBMS)„ÄÇ ËôΩÁÑ∂Core DtaÊîØÊåÅSQLite‰Ωú‰∏∫‰∏ÄÁßçÂ≠òÂÇ®Á±ªÂûã, ‰ΩÜÂÆÉ‰∏çËÉΩ‰ΩøÁî®‰ªªÊÑèÁöÑSQLiteÊï∞ÊçÆÂ∫ì„ÄÇ Core DataÂú®‰ΩøÁî®ÁöÑËøáÁ®ãÁßçËá™Â∑±ÂàõÂª∫Ëøô‰∏™Êï∞ÊçÆÂ∫ì„ÄÇCore DataÊîØÊåÅÂØπ‰∏Ä„ÄÅÂØπÂ§öÁöÑÂÖ≥Á≥ª„ÄÇ Â¶ÇÊûúÂêéÊúüÈúÄË¶ÅÂ¢ûÂä†Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂ≠óÊÆµÊÄé‰πàÂÆûÁé∞ÔºåÂ¶ÇÊûú‰∏ç‰ΩøÁî®CoreDataÂë¢Ôºü ÁºñÂÜôSQLËØ≠Âè•Êù•Êìç‰ΩúÂéüÊù•Ë°®‰∏≠ÁöÑÂ≠óÊÆµ Â¢ûÂä†Ë°®Â≠óÊÆµÔºöALTER TABLE Ë°®Âêç ADD COLUMN Â≠óÊÆµÂêç Â≠óÊÆµÁ±ªÂûã; Âà†Èô§Ë°®Â≠óÊÆµÔºöALTER TABLE Ë°®Âêç DROP COLUMN Â≠óÊÆµÂêç; ‰øÆÊîπË°®Â≠óÊÆµÔºöALTER TABLE Ë°®Âêç RENAME COLUMN ÊóßÂ≠óÊÆµÂêç TO Êñ∞Â≠óÊÆµÂêç; SQLiteÊï∞ÊçÆÂ≠òÂÇ®ÊòØÊÄé‰πàÁî®Ôºü Ê∑ªÂä†SQLiteÂä®ÊÄÅÂ∫ìÔºöÂØºÂÖ•‰∏ªÂ§¥Êñá‰ª∂Ôºö#import &lt;sqlite3.h&gt; Âà©Áî®CËØ≠Ë®ÄÂáΩÊï∞ÂàõÂª∫\ÊâìÂºÄÊï∞ÊçÆÂ∫ìÔºåÁºñÂÜôSQLËØ≠Âè• ÁÆÄÂçïÊèèËø∞‰∏ãÂÆ¢Êà∑Á´ØÁöÑÁºìÂ≠òÊú∫Âà∂Ôºü ÁºìÂ≠òÂèØ‰ª•ÂàÜ‰∏∫ÔºöÂÜÖÂ≠òÊï∞ÊçÆÁºìÂ≠ò„ÄÅÊï∞ÊçÆÂ∫ìÁºìÂ≠ò„ÄÅÊñá‰ª∂ÁºìÂ≠ò ÊØèÊ¨°ÊÉ≥Ëé∑ÂèñÊï∞ÊçÆÁöÑÊó∂ÂÄô ÂÖàÊ£ÄÊµãÂÜÖÂ≠ò‰∏≠ÊúâÊó†ÁºìÂ≠ò ÂÜçÊ£ÄÊµãÊú¨Âú∞ÊúâÊó†ÁºìÂ≠ò(Êï∞ÊçÆÂ∫ì\Êñá‰ª∂) ÊúÄÁªàÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç Â∞ÜÊúçÂä°Âô®ËøîÂõûÁöÑÁΩëÁªúÊï∞ÊçÆËøõË°åÁºìÂ≠òÔºàÂÜÖÂ≠ò„ÄÅÊï∞ÊçÆÂ∫ì„ÄÅÊñá‰ª∂Ôºâ‰ª•‰æø‰∏ãÊ¨°ËØªÂèñ ‰Ω†ÂÆûÁé∞ËøáÂ§öÁ∫øÁ®ãÁöÑCore Data‰πàÔºüNSPersistentStoreCoordinatorÔºåNSManagedObjectContextÂíåNSManagedObject‰∏≠ÁöÑÂì™‰∫õÈúÄË¶ÅÂú®Á∫øÁ®ã‰∏≠ÂàõÂª∫ÊàñËÄÖ‰º†ÈÄíÔºü‰Ω†ÊòØÁî®‰ªÄ‰πàÊ†∑ÁöÑÁ≠ñÁï•Êù•ÂÆûÁé∞ÁöÑÔºü CoreDataÊòØÂØπSQLiteÊï∞ÊçÆÂ∫ìÁöÑÂ∞ÅË£Ö CoreData‰∏≠ÁöÑNSManagedObjectContextÂú®Â§öÁ∫øÁ®ã‰∏≠‰∏çÂÆâÂÖ® Â¶ÇÊûúÊÉ≥Ë¶ÅÂ§öÁ∫øÁ®ãËÆøÈóÆCoreDataÁöÑËØùÔºåÊúÄÂ•ΩÁöÑÊñπÊ≥ïÊòØ‰∏Ä‰∏™Á∫øÁ®ã‰∏Ä‰∏™NSManagedObjectContext ÊØè‰∏™NSManagedObjectContextÂØπË±°ÂÆû‰æãÈÉΩÂèØ‰ª•‰ΩøÁî®Âêå‰∏Ä‰∏™NSPersistentStoreCoordinatorÂÆû‰æãÔºåËøôÊòØÂõ†‰∏∫NSManagedObjectContext‰ºöÂú®‰æøÁî®NSPersistentStoreCoordinatorÂâç‰∏äÈîÅ Core DataÊï∞ÊçÆËøÅÁßªÂçöÂÆ¢Âú∞ÂùÄ: http://blog.csdn.net/jasonblog/article/details/17842535 FMDBÁöÑ‰ΩøÁî®ÂíåÂØπÂ§öÂº†Ë°®ÁöÑÂ§ÑÁêÜÂçöÂÆ¢Âú∞ÂùÄ: http://blog.csdn.net/wscqqlucy/article/details/8464398 ËØ¥ËØ¥Êï∞ÊçÆÂ∫ìÁöÑÂ∑¶ËøûÊé•ÂíåÂè≥ËøûÊé•ÁöÑÂå∫Âà´ Êï∞ÊçÆÂ∫ìÂ∑¶ËøûÊé•ÂíåÂè≥ËøûÊé•ÁöÑÂå∫Âà´Ôºö‰∏ªË°®‰∏ç‰∏ÄÊ†∑ÈÄöËøáÂ∑¶ËøûÊé•ÂíåÂè≥ËøûÊé•ÔºåÊúÄÂ∞èÊù°Êï∞‰∏∫3ÔºàËÆ∞ÂΩïÊù°Êï∞ËæÉÂ∞èÁöÑËÆ∞ÂΩïÊï∞ÔºâÔºåÊúÄÂ§ßÊù°Êï∞‰∏∫12Ôºà3√ó4Ôºâ ÊäÄÊúØÂçöÂÆ¢ÁöÑÂú∞ÂùÄ : http://www.2cto.com/database/201407/317367.html iOS ÁöÑÊ≤ôÁõíÁõÆÂΩïÁªìÊûÑÊòØÊÄéÊ†∑ÁöÑÔºü App Bundle ÈáåÈù¢ÈÉΩÊúâ‰ªÄ‰πàÔºü Ê≤ôÁõíÁªìÊûÑ ApplicationÔºöÂ≠òÊîæÁ®ãÂ∫èÊ∫êÊñá‰ª∂Ôºå‰∏äÊû∂ÂâçÁªèËøáÊï∞Â≠óÁ≠æÂêçÔºå‰∏äÊû∂Âêé‰∏çÂèØ‰øÆÊîπ DocumentsÔºöÂ∏∏Áî®ÁõÆÂΩïÔºåiCloudÂ§á‰ªΩÁõÆÂΩïÔºåÂ≠òÊîæÊï∞ÊçÆ,ËøôÈáå‰∏çËÉΩÂ≠òÁºìÂ≠òÊñá‰ª∂,Âê¶Âàô‰∏äÊû∂‰∏çË¢´ÈÄöËøá Library CachesÔºöÂ≠òÊîæ‰ΩìÁßØÂ§ßÂèà‰∏çÈúÄË¶ÅÂ§á‰ªΩÁöÑÊï∞ÊçÆ,SDWebImageÁºìÂ≠òË∑ØÂæÑÂ∞±ÊòØËøô‰∏™ PreferenceÔºöËÆæÁΩÆÁõÆÂΩïÔºåiCloud‰ºöÂ§á‰ªΩËÆæÁΩÆ‰ø°ÊÅØ tmpÔºöÂ≠òÊîæ‰∏¥Êó∂Êñá‰ª∂Ôºå‰∏ç‰ºöË¢´Â§á‰ªΩÔºåËÄå‰∏îËøô‰∏™Êñá‰ª∂‰∏ãÁöÑÊï∞ÊçÆÊúâÂèØËÉΩÈöèÊó∂Ë¢´Ê∏ÖÈô§ÁöÑÂèØËÉΩ App Bundle ÈáåÈù¢Êúâ‰ªÄ‰πà Info.plist:Ê≠§Êñá‰ª∂ÂåÖÂê´‰∫ÜÂ∫îÁî®Á®ãÂ∫èÁöÑÈÖçÁΩÆ‰ø°ÊÅØ.Á≥ªÁªü‰æùËµñÊ≠§Êñá‰ª∂‰ª•Ëé∑ÂèñÂ∫îÁî®Á®ãÂ∫èÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ ÂèØÊâßË°åÊñá‰ª∂:Ê≠§Êñá‰ª∂ÂåÖÂê´Â∫îÁî®Á®ãÂ∫èÁöÑÂÖ•Âè£ÂíåÈÄöËøáÈùôÊÄÅËøûÊé•Âà∞Â∫îÁî®Á®ãÂ∫ètargetÁöÑ‰ª£Á†Å ËµÑÊ∫êÊñá‰ª∂:ÂõæÁâá,Â£∞Èü≥Êñá‰ª∂‰∏ÄÁ±ªÁöÑ ÂÖ∂‰ªñ:ÂèØ‰ª•ÂµåÂÖ•ÂÆöÂà∂ÁöÑÊï∞ÊçÆËµÑÊ∫ê ‰Ω†‰ºöÂ¶Ç‰ΩïÂ≠òÂÇ®Áî®Êà∑ÁöÑ‰∏Ä‰∫õÊïèÊÑü‰ø°ÊÅØÔºåÂ¶ÇÁôªÂΩïÁöÑ token‰ΩøÁî®keychainÊù•Â≠òÂÇ®,‰πüÂ∞±ÊòØÈí•Âåô‰∏≤,‰ΩøÁî®keychainÈúÄË¶ÅÂØºÂÖ•SecurityÊ°ÜÊû∂ Ëá™ÂÆö‰πâ‰∏Ä‰∏™keychainÁöÑÁ±ª #import &lt;Security/Security.h&gt; @implementation YCKKeyChain +(NSMutableDictionary *)getKeychainQuery:(NSString *)service { return [NSMutableDictionary dictionaryWithObjectsAndKeys: (__bridge_transfer id)kSecClassGenericPassword,(__bridge_transfer id)kSecClass, service, (__bridge_transfer id)kSecAttrService, service, (__bridge_transfer id)kSecAttrAccount, (__bridge_transfer id)kSecAttrAccessibleAfterFirstUnlock, (__bridge_transfer id)kSecAttrAccessible, nil]; } +(void)save:(NSString *)service data:(id)data { // Ëé∑ÂæóÊêúÁ¥¢Â≠óÂÖ∏ NSMutableDictionary *keychainQuery = [self getKeychainQuery:service]; // Ê∑ªÂä†Êñ∞ÁöÑÂà†Èô§ÊóßÁöÑ SecItemDelete((__bridge_retained CFDictionaryRef)keychainQuery); // Ê∑ªÂä†Êñ∞ÁöÑÂØπË±°Âà∞Â≠óÁ¨¶‰∏≤ [keychainQuery setObject:[NSKeyedArchiver archivedDataWithRootObject:data] forKey:(__bridge_transfer id)kSecValueData]; // Êü•ËØ¢Èí•Âåô‰∏≤ SecItemAdd((__bridge_retained CFDictionaryRef)keychainQuery, NULL); } +(id)load:(NSString *)service { id ret = nil; NSMutableDictionary *keychainQuery = [self getKeychainQuery:service]; // ÈÖçÁΩÆÊêúÁ¥¢ËÆæÁΩÆ [keychainQuery setObject:(id)kCFBooleanTrue forKey:(__bridge_transfer id)kSecReturnData]; [keychainQuery setObject:(__bridge_transfer id)kSecMatchLimitOne forKey: (__bridge_transfer id)kSecMatchLimit]; CFDataRef keyData = NULL; if (SecItemCopyMatching((__bridge_retained CFDictionaryRef)keychainQuery, (CFTypeRef *)&amp;keyData) == noErr) { @try { ret = [NSKeyedUnarchiver unarchiveObjectWithData:(__bridge_transfer NSData *)keyData]; } @catch (NSException *e) { NSLog(@&quot;Unarchive of %@ failed: %@&quot;, service, e); } @finally { } } return ret; } +(void)delete:(NSString *)service { NSMutableDictionary *keychainQuery = [self getKeychainQuery:service]; SecItemDelete((__bridge_retained CFDictionaryRef)keychainQuery); } Âú®Âà´ÁöÑÁ±ªÂÆûÁé∞Â≠òÂÇ®,Âä†ËΩΩ,Âà†Èô§ÊïèÊÑü‰ø°ÊÅØÊñπÊ≥ï // Áî®Êù•Ê†áËØÜËøô‰∏™Èí•Âåô‰∏≤ static NSString const KEY_IN_KEYCHAIN = @‚Äùcom.yck.app.allinfo‚Äù; // Áî®Êù•Ê†áËØÜÂØÜÁ†Å static NSString const KEY_PASSWORD = @‚Äùcom.yck.app.password‚Äù; +(void)savePassWord:(NSString *)password { NSMutableDictionary *passwordDict = [NSMutableDictionary dictionary]; [passwordDict setObject:password forKey:KEY_PASSWORD]; [YCKKeyChain save:KEY_IN_KEYCHAIN data:passwordDict]; } +(id)readPassWord { NSMutableDictionary *passwordDict = (NSMutableDictionary *)[YCKKeyChain load:KEY_IN_KEYCHAIN]; return [passwordDict objectForKey:KEY_PASSWORD]; } +(void)deletePassWord { [YCKKeyChain delete:KEY_IN_KEYCHAIN]; } ‰ΩøÁî® NSUserDefaults Êó∂ÔºåÂ¶Ç‰ΩïÂ§ÑÁêÜÂ∏ÉÂ∞îÁöÑÈªòËÆ§ÂÄºÔºü(ÊØîÂ¶ÇËøîÂõû NOÔºå‰∏çÁü•ÈÅìÊòØÁúüÁöÑ NO ËøòÊòØÊ≤°ÊúâËÆæÁΩÆËøá)if([[NSUserDefaults standardUserDefaults] objectForKey:ID] == nil){ NSLog(@&quot;Ê≤°ÊúâËÆæÁΩÆ&quot;); } MD5ÂíåBase64ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºåÂêÑËá™‰ΩøÁî®Âú∫ÊôØÊòØ‰ªÄ‰πàÔºüÂÅöËøáÂä†ÂØÜÁõ∏ÂÖ≥ÁöÑÂäüËÉΩÁöÑÔºåÂá†‰πéÈÉΩ‰ºö‰ΩøÁî®Âà∞MD5ÂíåBase64ÔºåÂÆÉ‰ª¨‰∏§ËÄÖÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÊòØÊúÄÂ∏∏Áî®ÁöÑ„ÄÇ ‚Ä¢ MD5ÔºöÊòØ‰∏ÄÁßç‰∏çÂèØÈÄÜÁöÑÊëòË¶ÅÁÆóÊ≥ïÔºåÁî®‰∫éÁîüÊàêÊëòË¶ÅÔºåÊó†Ê≥ïÈÄÜÁùÄÁ†¥Ëß£ÂæóÂà∞ÂéüÊñá„ÄÇÂ∏∏Áî®ÁöÑÊòØÁîüÊàê32‰ΩçÊëòË¶ÅÔºåÁî®‰∫éÈ™åËØÅÊï∞ÊçÆÁöÑÊúâÊïàÊÄß„ÄÇÊØîÂ¶ÇÔºåÂú®ÁΩëÁªúËØ∑Ê±ÇÊé•Âè£‰∏≠ÔºåÈÄöËøáÂ∞ÜÊâÄÊúâÁöÑÂèÇÊï∞ÁîüÊàêÊëòË¶ÅÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈááÁî®ÂêåÊ†∑ÁöÑËßÑÂàôÁîüÊàêÊëòË¶ÅÔºåËøôÊ†∑ÂèØ‰ª•Èò≤ÁØ°Êîπ„ÄÇÂèàÂ¶ÇÔºå‰∏ãËΩΩÊñá‰ª∂Êó∂ÔºåÈÄöËøáÁîüÊàêÊñá‰ª∂ÁöÑÊëòË¶ÅÔºåÁî®‰∫éÈ™åËØÅÊñá‰ª∂ÊòØÂê¶ÊçüÂùè„ÄÇ ‚Ä¢ Base64ÔºöÂ±û‰∫éÂä†ÂØÜÁÆóÊ≥ïÔºåÊòØÂèØÈÄÜÁöÑÔºåÁªèËøáencodeÂêéÔºåÂèØ‰ª•decodeÂæóÂà∞ÂéüÊñá„ÄÇÂú®ÂºÄÂèë‰∏≠ÔºåÊúâÁöÑÂÖ¨Âè∏‰∏ä‰º†ÂõæÁâáÈááÁî®ÁöÑÊòØÂ∞ÜÂõæÁâáËΩ¨Êç¢Êàêbase64Â≠óÁ¨¶‰∏≤ÔºåÂÜç‰∏ä‰º†„ÄÇÂú®ÂÅöÂä†ÂØÜÁõ∏ÂÖ≥ÁöÑÂäüËÉΩÊó∂ÔºåÈÄöÂ∏∏‰ºöÂ∞ÜÊï∞ÊçÆËøõË°åbase64Âä†ÂØÜ/Ëß£ÂØÜ„ÄÇ plistÊñá‰ª∂ÊòØÁî®Êù•ÂÅö‰ªÄ‰πàÁöÑ„ÄÇ‰∏ÄËà¨Áî®ÂÆÉÊù•Â§ÑÁêÜ‰∏Ä‰∫õ‰ªÄ‰πàÊñπÈù¢ÁöÑÈóÆÈ¢ò„ÄÇ plistÊòØiOSÁ≥ªÁªü‰∏≠ÁâπÊúâÁöÑÊñá‰ª∂Ê†ºÂºè„ÄÇÊàë‰ª¨Â∏∏Áî®ÁöÑNSUserDefaultsÂÅèÂ•ΩËÆæÁΩÆÂÆûË¥®‰∏äÂ∞±ÊòØplistÊñá‰ª∂Êìç‰Ωú„ÄÇplistÊñá‰ª∂ÊòØÁî®Êù•ÊåÅ‰πÖÂåñÂ≠òÂÇ®Êï∞ÊçÆÁöÑ„ÄÇ Êàë‰ª¨ÈÄöÂ∏∏‰ΩøÁî®ÂÆÉÊù•Â≠òÂÇ®ÂÅèÂ•ΩËÆæÁΩÆÔºå‰ª•ÂèäÈÇ£‰∫õÂ∞ëÈáèÁöÑ„ÄÅÊï∞ÁªÑÁªìÊûÑÊØîËæÉÂ§çÊùÇÁöÑ‰∏çÈÄÇÂêàÂ≠òÂÇ®Êï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆ„ÄÇÊØîÂ¶ÇÔºåÊàë‰ª¨Ë¶ÅÂ≠òÂÇ®ÂÖ®ÂõΩÂüéÂ∏ÇÂêçÁß∞ÂíåidÔºåÈÇ£‰πàÊàë‰ª¨Ë¶Å‰ºòÂÖàÈÄâÊã©plistÁõ¥Êé•ÊåÅ‰πÖÂåñÂ≠òÂÇ®ÔºåÂõ†‰∏∫Êõ¥ÁÆÄÂçï„ÄÇ ÂΩìÂ≠òÂÇ®Â§ßÂùóÊï∞ÊçÆÊòØÊÄé‰πàÂÅöÔºü ‰Ω†ÊúâÂæàÂ§öÈÄâÊã©ÔºåÊØîÂ¶ÇÔºö ‰ΩøÁî®NSUerDefaults ‰ΩøÁî®XML, JSON, ÊàñËÄÖ plist ‰ΩøÁî®NSCodingÂ≠òÊ°£ ‰ΩøÁî®Á±ª‰ººSQLiteÁöÑÊú¨Âú∞SQLÊï∞ÊçÆÂ∫ì ‰ΩøÁî® Core Data NSUserDefaultsÁöÑÈóÆÈ¢òÊòØ‰ªÄ‰πàÔºüËôΩÁÑ∂ÂÆÉÂæànice‰πüÂæà‰æøÊç∑Ôºå‰ΩÜÊòØÂÆÉÂè™ÈÄÇÁî®‰∫éÂ∞èÊï∞ÊçÆÔºåÊØîÂ¶Ç‰∏Ä‰∫õÁÆÄÂçïÁöÑÂ∏ÉÂ∞îÂûãÁöÑËÆæÁΩÆÈÄâÈ°πÔºåÂÜçÂ§ßÁÇπ‰Ω†Â∞±Ë¶ÅËÄÉËôëÂÖ∂ÂÆÉÊñπÂºè‰∫Ü XMLËøôÁßçÁªìÊûÑÂåñÊ°£Ê°àÂë¢ÔºüÊÄª‰ΩìÊù•ËØ¥Ôºå‰Ω†ÈúÄË¶ÅËØªÂèñÊï¥‰∏™Êñá‰ª∂Âà∞ÂÜÖÂ≠òÈáåÂéªËß£ÊûêÔºåËøôÊ†∑ÊòØÂæà‰∏çÁªèÊµéÁöÑ„ÄÇ‰ΩøÁî®SAXÂèàÊòØ‰∏Ä‰∏™ÂæàÈ∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖ„ÄÇ NSCodingÔºü‰∏çÂπ∏ÁöÑÊòØÔºåÂÆÉ‰πüÈúÄË¶ÅËØªÂÜôÊñá‰ª∂ÔºåÊâÄ‰ª•‰πüÊúâ‰ª•‰∏äÈóÆÈ¢ò„ÄÇ Âú®ËøôÁßçÂ∫îÁî®Âú∫ÊôØ‰∏ãÔºå‰ΩøÁî®SQLite ÊàñËÄÖ Core DataÊØîËæÉÂ•Ω„ÄÇ‰ΩøÁî®Ëøô‰∫õÊäÄÊúØ‰Ω†Áî®ÁâπÂÆöÁöÑÊü•ËØ¢ËØ≠Âè•Â∞±ËÉΩÂè™Âä†ËΩΩ‰Ω†ÈúÄË¶ÅÁöÑÂØπË±°„ÄÇÂú®ÊÄßËÉΩÂ±ÇÈù¢Êù•ËÆ≤ÔºåSQLiteÂíåCore DataÊòØÂæàÁõ∏‰ººÁöÑ„ÄÇ‰ªñ‰ª¨ÁöÑ‰∏çÂêåÂú®‰∫éÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ï„ÄÇCore Data‰ª£Ë°®‰∏Ä‰∏™ÂØπË±°ÁöÑgraph modelÔºå‰ΩÜSQLiteÂ∞±ÊòØ‰∏Ä‰∏™DBMS„ÄÇAppleÂú®‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂª∫ËÆÆ‰ΩøÁî®Core DataÔºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†ÊúâÁêÜÁî±‰∏ç‰ΩøÁî®ÂÆÉÔºåÈÇ£‰πàÂ∞±Âéª‰ΩøÁî®Êõ¥Âä†Â∫ïÂ±ÇÁöÑSQLiteÂêß„ÄÇÂ¶ÇÊûú‰Ω†‰ΩøÁî®SQLiteÔºå‰Ω†ÂèØ‰ª•Áî®FMDB(https://GitHub.com/ccgus/fmdb)Ëøô‰∏™Â∫ìÊù•ÁÆÄÂåñSQLiteÁöÑÊìç‰ΩúÔºåËøôÊ†∑‰Ω†Â∞±‰∏çÁî®Ëä±ÂæàÂ§öÁªèÂéÜ‰∫ÜËß£SQLiteÁöÑC API‰∫Ü ÊÄé‰πàËß£ÂÜ≥sqliteÈîÅÂÆöÁöÑÈóÆÈ¢ò1&gt; ËÆæÁΩÆÊï∞ÊçÆÂ∫ìÈîÅÂÆöÁöÑÂ§ÑÁêÜÂáΩÊï∞ int sqlite3_busy_handler(sqlite3*, int(*)(void*,int), void*); ÂáΩÊï∞ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåÂΩìÂá∫Áé∞Êï∞ÊçÆÂ∫ìÂøôÊó∂Ôºåsqlite‰ºöË∞ÉÁî®ËØ•ÂáΩÊï∞ ÂΩìÂõûË∞ÉÂáΩÊï∞‰∏∫ÔºÆÔºµÔº¨Ôº¨Êó∂ÔºåÊ∏ÖÈô§busy handleÔºåÁî≥ËØ∑‰∏çÂà∞ÈîÅÁõ¥Êé•ËøîÂõû ÂõûË∞ÉÂáΩÊï∞ÁöÑÁ¨¨‰∫å‰∏™ÂáΩÊï∞‰ºöË¢´‰º†ÈÄí‰∏∫ËØ•Áî±Ê≠§Ê¨°Âøô‰∫ã‰ª∂Ë∞ÉÁî®ËØ•ÂáΩÊï∞ÁöÑÊ¨°Êï∞ ÂõûË∞ÉÂáΩÊï∞ËøîÂõûÈùûÔºê,Êï∞ÊçÆÂ∫ì‰ºöÈáçËØïÂΩìÂâçÊìç‰ΩúÔºåËøîÂõûÔºêÂàôÂΩìÂâçÊìç‰ΩúËøîÂõûSQLITE_BUSY 2&gt; ËÆæÂÆöÈîÅÂÆöÊó∂ÁöÑÁ≠âÂæÖÊó∂Èó¥ int sqlite3_busy_timeout(sqlite3*, 60); ÂÆö‰πâ‰∏Ä‰∏™ÊØ´ÁßíÊï∞ÔºåÂΩìÊú™Âà∞ËææËØ•ÊØ´ÁßíÊï∞Êó∂Ôºåsqlite‰ºösleepÂπ∂ÈáçËØïÂΩìÂâçÊìç‰Ωú Â¶ÇÊûúË∂ÖËøámsÊØ´ÁßíÔºå‰ªçÁÑ∂Áî≥ËØ∑‰∏çÂà∞ÈúÄË¶ÅÁöÑÈîÅÔºåÂΩìÂâçÊìç‰ΩúËøîÂõûsqlite_BUSY ÂΩìms&lt;=0Êó∂ÔºåÊ∏ÖÈô§busy handleÔºåÁî≥ËØ∑‰∏çÂà∞ÈîÅÁõ¥Êé•ËøîÂõû]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò12--ÁªòÂõæ‰∏éÂä®Áîª]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9812-%E7%BB%98%E5%9B%BE%E4%B8%8E%E5%8A%A8%E7%94%BB%2F</url>
    <content type="text"><![CDATA[CAAnimationÁöÑÂ±ÇÁ∫ßÁªìÊûÑ CAPropertyAnimationÊòØCAAnimationÁöÑÂ≠êÁ±ªÔºå‰πüÊòØ‰∏™ÊäΩË±°Á±ªÔºåË¶ÅÊÉ≥ÂàõÂª∫Âä®ÁîªÂØπË±°ÔºåÂ∫îËØ•‰ΩøÁî®ÂÆÉÁöÑ‰∏§‰∏™Â≠êÁ±ªÔºöCABasicAnimationÂíåCAKeyframeAnimation Â±ûÊÄßËß£ÊûêÔºökeyPathÔºöÈÄöËøáÊåáÂÆöCALayerÁöÑ‰∏Ä‰∏™Â±ûÊÄßÂêçÁß∞‰∏∫keyPath(NSStringÁ±ªÂûã)ÔºåÂπ∂‰∏îÂØπCALayerÁöÑËøô‰∏™Â±ûÊÄßÁöÑÂÄºËøõË°å‰øÆÊîπÔºåËææÂà∞Áõ∏Â∫îÁöÑÂä®ÁîªÊïàÊûú„ÄÇÊØîÂ¶ÇÔºåÊåáÂÆö@‚Äùposition‚Äù‰∏∫keyPathÔºåÂ∞±‰øÆÊîπCALayerÁöÑpositionÂ±ûÊÄßÁöÑÂÄºÔºå‰ª•ËææÂà∞Âπ≥ÁßªÁöÑÂä®ÁîªÊïàÊûú CABasicAnimationÔºåCAPropertyAnimationÁöÑÂ≠êÁ±ª Â±ûÊÄßËß£Êûê: fromValueÔºökeyPathÁõ∏Â∫îÂ±ûÊÄßÁöÑÂàùÂßãÂÄº toValueÔºökeyPathÁõ∏Â∫îÂ±ûÊÄßÁöÑÁªìÊùüÂÄº ÈöèÁùÄÂä®ÁîªÁöÑËøõË°åÔºåÂú®ÈïøÂ∫¶‰∏∫durationÁöÑÊåÅÁª≠Êó∂Èó¥ÂÜÖÔºåkeyPathÁõ∏Â∫îÂ±ûÊÄßÁöÑÂÄº‰ªéfromValueÊ∏êÊ∏êÂú∞Âèò‰∏∫toValue„ÄÇÂ¶ÇÊûúfillMode=kCAFillModeForwardsÂíåremovedOnComletion=NOÔºåÈÇ£‰πàÂú®Âä®ÁîªÊâßË°åÂÆåÊØïÂêéÔºåÂõæÂ±Ç‰ºö‰øùÊåÅÊòæÁ§∫Âä®ÁîªÊâßË°åÂêéÁöÑÁä∂ÊÄÅ„ÄÇ‰ΩÜÂú®ÂÆûË¥®‰∏äÔºåÂõæÂ±ÇÁöÑÂ±ûÊÄßÂÄºËøòÊòØÂä®ÁîªÊâßË°åÂâçÁöÑÂàùÂßãÂÄºÔºåÂπ∂Ê≤°ÊúâÁúüÊ≠£Ë¢´ÊîπÂèò„ÄÇÊØîÂ¶ÇÔºåCALayerÁöÑpositionÂàùÂßãÂÄº‰∏∫(0,0)ÔºåCABasicAnimationÁöÑfromValue‰∏∫(10,10)ÔºåtoValue‰∏∫(100,100)ÔºåËôΩÁÑ∂Âä®ÁîªÊâßË°åÂÆåÊØïÂêéÂõæÂ±Ç‰øùÊåÅÂú®(100,100)Ëøô‰∏™‰ΩçÁΩÆÔºåÂÆûË¥®‰∏äÂõæÂ±ÇÁöÑpositionËøòÊòØ‰∏∫(0,0) CAKeyframeAnimationÔºåCApropertyAnimationÁöÑÂ≠êÁ±ªÔºåË∑üCABasicAnimationÁöÑÂå∫Âà´ÊòØÔºöCABasicAnimationÂè™ËÉΩ‰ªé‰∏Ä‰∏™Êï∞ÂÄº(fromValue)ÂèòÂà∞Âè¶‰∏Ä‰∏™Êï∞ÂÄº(toValue)ÔºåËÄåCAKeyframeAnimation‰ºö‰ΩøÁî®‰∏Ä‰∏™NSArray‰øùÂ≠òËøô‰∫õÊï∞ÂÄº Â±ûÊÄßËß£ÊûêÔºö valuesÔºöÂ∞±ÊòØ‰∏äËø∞ÁöÑNSArrayÂØπË±°„ÄÇÈáåÈù¢ÁöÑÂÖÉÁ¥†Áß∞‰∏∫‚ÄùÂÖ≥ÈîÆÂ∏ß‚Äù(keyframe)„ÄÇÂä®ÁîªÂØπË±°‰ºöÂú®ÊåáÂÆöÁöÑÊó∂Èó¥(duration)ÂÜÖÔºå‰æùÊ¨°ÊòæÁ§∫valuesÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂÖ≥ÈîÆÂ∏ß pathÔºöÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™CGPathRef\CGMutablePathRef,ËÆ©Â±ÇË∑üÁùÄË∑ØÂæÑÁßªÂä®„ÄÇpathÂè™ÂØπCALayerÁöÑanchorPointÂíåpositionËµ∑‰ΩúÁî®„ÄÇÂ¶ÇÊûú‰Ω†ËÆæÁΩÆ‰∫ÜpathÔºåÈÇ£‰πàvaluesÂ∞ÜË¢´ÂøΩÁï• keyTimesÔºöÂèØ‰ª•‰∏∫ÂØπÂ∫îÁöÑÂÖ≥ÈîÆÂ∏ßÊåáÂÆöÂØπÂ∫îÁöÑÊó∂Èó¥ÁÇπ,ÂÖ∂ÂèñÂÄºËåÉÂõ¥‰∏∫0Âà∞1.0,keyTimes‰∏≠ÁöÑÊØè‰∏Ä‰∏™Êó∂Èó¥ÂÄºÈÉΩÂØπÂ∫îvalues‰∏≠ÁöÑÊØè‰∏ÄÂ∏ß.ÂΩìkeyTimesÊ≤°ÊúâËÆæÁΩÆÁöÑÊó∂ÂÄô,ÂêÑ‰∏™ÂÖ≥ÈîÆÂ∏ßÁöÑÊó∂Èó¥ÊòØÂπ≥ÂàÜÁöÑ CABasicAnimationÂèØÁúãÂÅöÊòØÊúÄÂ§öÂè™Êúâ2‰∏™ÂÖ≥ÈîÆÂ∏ßÁöÑCAKeyframeAnimation CAAnimationGroupÔºåCAAnimationÁöÑÂ≠êÁ±ªÔºåÂèØ‰ª•‰øùÂ≠ò‰∏ÄÁªÑÂä®ÁîªÂØπË±°ÔºåÂ∞ÜCAAnimationGroupÂØπË±°Âä†ÂÖ•Â±ÇÂêéÔºåÁªÑ‰∏≠ÊâÄÊúâÂä®ÁîªÂØπË±°ÂèØ‰ª•ÂêåÊó∂Âπ∂ÂèëËøêË°å Â±ûÊÄßËß£ÊûêÔºö animationsÔºöÁî®Êù•‰øùÂ≠ò‰∏ÄÁªÑÂä®ÁîªÂØπË±°ÁöÑNSArray ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰∏ÄÁªÑÂä®ÁîªÂØπË±°ÊòØÂêåÊó∂ËøêË°åÁöÑÔºå‰πüÂèØ‰ª•ÈÄöËøáËÆæÁΩÆÂä®ÁîªÂØπË±°ÁöÑbeginTimeÂ±ûÊÄßÊù•Êõ¥ÊîπÂä®ÁîªÁöÑÂºÄÂßãÊó∂Èó¥ CATransitionÔºåCAAnimationÁöÑÂ≠êÁ±ªÔºåÁî®‰∫éÂÅöËΩ¨Âú∫Âä®ÁîªÔºåËÉΩÂ§ü‰∏∫Â±ÇÊèê‰æõÁßªÂá∫Â±èÂπïÂíåÁßªÂÖ•Â±èÂπïÁöÑÂä®ÁîªÊïàÊûú„ÄÇiOSÊØîMac OS XÁöÑËΩ¨Âú∫Âä®ÁîªÊïàÊûúÂ∞ë‰∏ÄÁÇπ UINavigationControllerÂ∞±ÊòØÈÄöËøáCATransitionÂÆûÁé∞‰∫ÜÂ∞ÜÊéßÂà∂Âô®ÁöÑËßÜÂõæÊé®ÂÖ•Â±èÂπïÁöÑÂä®ÁîªÊïàÊûú Â±ûÊÄßËß£Êûê: typeÔºöÂä®ÁîªËøáÊ∏°Á±ªÂûã subtypeÔºöÂä®ÁîªËøáÊ∏°ÊñπÂêë startProgressÔºöÂä®ÁîªËµ∑ÁÇπ(Âú®Êï¥‰ΩìÂä®ÁîªÁöÑÁôæÂàÜÊØî) endProgressÔºöÂä®ÁîªÁªàÁÇπ(Âú®Êï¥‰ΩìÂä®ÁîªÁöÑÁôæÂàÜÊØî) UIViewÂä®Áîª UIKitÁõ¥Êé•Â∞ÜÂä®ÁîªÈõÜÊàêÂà∞UIViewÁ±ª‰∏≠ÔºåÂΩìÂÜÖÈÉ®ÁöÑ‰∏Ä‰∫õÂ±ûÊÄßÂèëÁîüÊîπÂèòÊó∂ÔºåUIViewÂ∞Ü‰∏∫Ëøô‰∫õÊîπÂèòÊèê‰æõÂä®ÁîªÊîØÊåÅ ÊâßË°åÂä®ÁîªÊâÄÈúÄË¶ÅÁöÑÂ∑•‰ΩúÁî±UIViewÁ±ªËá™Âä®ÂÆåÊàêÔºå‰ΩÜ‰ªçË¶ÅÂú®Â∏åÊúõÊâßË°åÂä®ÁîªÊó∂ÈÄöÁü•ËßÜÂõæÔºå‰∏∫Ê≠§ÈúÄË¶ÅÂ∞ÜÊîπÂèòÂ±ûÊÄßÁöÑ‰ª£Á†ÅÊîæÂú®[UIView beginAnimations:nil context:nil]Âíå[UIView commitAnimations]‰πãÈó¥ BlockÂä®Áîª Â∏ßÂä®Áîª PNG Ë∞àË∞à‰Ω†ÂØπCore Graphic ÁªòÂõæÁöÑ‰∫ÜËß£? Core GraphicsÊòØÂü∫‰∫éCÁöÑAPIÔºåÂèØ‰ª•Áî®‰∫é‰∏ÄÂàáÁªòÂõæÊìç‰Ωú Core Graphics ÂíåQuartz 2DÁöÑÂå∫Âà´ quartzÊòØ‰∏Ä‰∏™ÈÄöÁî®ÁöÑÊúØËØ≠ÔºåÁî®‰∫éÊèèËø∞Âú®IOSÂíåMAC OS X ZHONG Êï¥‰∏™Â™í‰ΩìÂ±ÇÁî®Âà∞ÁöÑÂ§öÁßçÊäÄÊúØ ÂåÖÊã¨ÂõæÂΩ¢„ÄÅÂä®Áîª„ÄÅÈü≥È¢ë„ÄÅÈÄÇÈÖç„ÄÇ Quart 2D ÊòØ‰∏ÄÁªÑ‰∫å‰ΩçÁªòÂõæÂíåÊ∏≤ÊüìAPIÔºåCore Graphic‰ºö‰ΩøÁî®Âà∞ËøôÁªÑAPI Quartz Core ‰∏ìÊåáCore AnimationÁî®Âà∞ÁöÑÂä®ÁîªÁõ∏ÂÖ≥ÁöÑÂ∫ì„ÄÅAPIÂíåÁ±ª Core GraphicsÊòØÈ´òÂ∫¶ÈõÜÊàê‰∫éUIViewÂíåÂÖ∂‰ªñUIKitÈÉ®ÂàÜÁöÑ„ÄÇ Core GraphicsÊï∞ÊçÆÁªìÊûÑÂíåÂáΩÊï∞ÂèØ‰ª•ÈÄöËøáÂâçÁºÄCGÊù•ËØÜÂà´„ÄÇ Á≥ªÁªüÊã•ÊúâÂùêÊ†áÁ≥ªÔºåÂ¶Ç320 480 Á°¨‰ª∂ÊúâretainÂ±èÂπïÂíåÈùûretainÂ±èÔºöÂ¶Ç320 480„ÄÅ640 960 Core Graphics ‰ΩøÁî®ÁöÑÊòØÁ≥ªÁªüÁöÑÂùêÊ†áÁ≥ªÊù•ÁªòÂà∂ÂõæÁâá„ÄÇÂú®ÂàÜËæ®Áéá‰∏∫640 960ÊâãÊú∫‰∏äÁªòÂà∂ÂõæÁâáÊó∂ÔºåÂÆûÈôÖ‰∏äCore Graphics ÁöÑÂùêÊ†áÊòØ320*480„ÄÇËøô‰∏™Êó∂ÂÄôÊØè‰∏™ÂùêÊ†áÁ≥ª‰∏äÁöÑÁÇπÔºåÂÆûÈôÖ‰∏äÊã•Êúâ‰∏§‰∏™ÂÉèÁ¥†„ÄÇ ËßÜÂõæÂèØ‰ª•ÈÄöËøáÂ≠êËßÜÂõæ„ÄÅÂõæÂ±ÇÊàñÂÆûÁé∞drawRectÔºöÊñπÊ≥ïÊù•Ë°®Áé∞ÂÜÖÂÆπÔºåÂ¶ÇÊûúËØ¥ÂÆûÁé∞‰∫ÜdrawRectÔºöÊñπÊ≥ïÔºåÈÇ£‰πàÊúÄÂ•ΩÂ∞±‰∏çË¶ÅÊ∑∑Áî®ÂÖ∂‰ªñÊñπÊ≥ï‰∫ÜÔºåÂ¶ÇÂõæÂ±ÇÂíåÂ≠êËßÜÂõæ„ÄÇËá™ÂÆö‰πâÁªòÂõæÂ§ßÈÉ®ÂàÜÊòØÁî±UIKitÊàñËÄÖCore GraphicsÊù•ÂÆûÁé∞ÁöÑ„ÄÇ Core GraphicsÁöÑ‰ºòÁÇπÔºöÂø´ÈÄü„ÄÅÈ´òÊïàÔºåÂáèÂ∞èÂ∫îÁî®ÁöÑÊñá‰ª∂Â§ßÂ∞è„ÄÇÂêåÊó∂ÂèØ‰ª•Ëá™Áî±Âú∞‰ΩøÁî®Âä®ÊÄÅÁöÑ„ÄÅÈ´òË¥®ÈáèÁöÑÂõæÂΩ¢ÂõæÂÉè„ÄÇ ‰ΩøÁî®Core GraphicsÔºåÂèØ‰ª•ÂàõÂª∫Áõ¥Á∫ø„ÄÅË∑ØÂæÑ„ÄÅÊ∏êÂèò„ÄÅÊñáÂ≠ó‰∏éÂõæÂÉèÁ≠âÂÜÖÂÆπÔºåÂπ∂ÂèØ‰ª•ÂÅöÂèòÂΩ¢Â§ÑÁêÜ 2DÁªòÂõæ‰∏ÄËà¨ÂèØ‰ª•ÊãÜÂàÜÊàê‰ª•‰∏ãÂá†‰∏™Êìç‰Ωú: Á∫øÊù° , Ë∑ØÂæÑ , ÊñáÊú¨ , ÂõæÁâá , Ê∏êÂèò Áî±‰∫éÂÉèÁ¥†ÊòØ‰æùËµñ‰∫éÁõÆÊ†áÁöÑÔºåÊâÄ‰ª•2DÁªòÂõæÂπ∂‰∏çËÉΩÊìç‰ΩúÂçïÁã¨ÁöÑÂÉèÁ¥†ÔºåÊàë‰ª¨ÂèØ‰ª•‰ªé‰∏ä‰∏ãÊñáÔºàContextÔºâËØªÂèñÂÆÉ„ÄÇ ÁªòÂõæÂ∞±Â•ΩÊØîÂú®ÁîªÂ∏É‰∏äÊãøÁùÄÁîªÁ¨îÊú∫Ê¢∞ÁöÑËøõË°åÁîªÁîªÔºåÈÄöËøáÂà∂ÂÆö‰∏çÂêåÁöÑÂèÇÊï∞Êù•ËøõË°å‰∏çÂêåÁöÑÁªòÂà∂„ÄÇ http://www.tuicool.com/articles/jIJzMf http://blog.csdn.net/mangosnow/article/details/37054765 Core Animation(Ê†∏ÂøÉÂä®Áîª)? CoreAnimation‰πüÂ∞±ÊòØÊ†∏ÂøÉÂä®Áîª, ÊòØ‰∏ÄÁªÑÈùûÂ∏∏Âº∫Â§ßÁöÑÂä®ÁîªÂ§ÑÁêÜAPI, ÂèØ‰ª•‰ΩøÁî®Â∞ëÈáèÁöÑ‰ª£Á†ÅÂÅöÂá∫Áªö‰∏ΩÁöÑÊïàÊûú, ÊòØÁõ¥Êé•‰ΩúÁî®Âú®CALayer‰∏äÁöÑ, Âπ∂ÈùûUIView, Âπ∂‰∏îCore AnimationÁöÑÂä®ÁîªÊâßË°åËøáÁ®ãÈÉΩÊòØÂú®ÂêéÂè∞Êìç‰Ωú, ‰∏ç‰ºöÈòªÂ°û‰∏ªÁ∫øÁ®ã. ÊâÄÊúâÂä®ÁîªÈÉΩÊòØ‰ΩúÁî®Âú®CALayer‰∏äÁöÑ, ÂΩìÊääÂä®ÁîªÊ∑ªÂä†Âà∞Layer‰∏ä, ÊòØ‰∏çÁõ¥Êé•‰øÆÊîπÂÆÉÁöÑÂ±ûÊÄß, Core AnimationÁª¥Êä§‰∫Ü‰∏§‰∏™Âπ≥Ë°ålayerÁöÑÂ±ÇÊ¨°ÁªìÊûÑ, Ê®°ÂûãÂ±ÇÊ†ëÂèØ‰ª•ÁúãÂà∞LayerÁöÑÁä∂ÊÄÅ, Ë°®Á§∫Â±ÇÊ†ëÂàôÊòØÂä®ÁîªÊ≠£Âú®Ë°®Áé∞ÁöÑÂÄºÁöÑËøë‰ºº„ÄÇ Core AnimationÁöÑ‰ΩøÁî®Ê≠•È™§: ‰ΩøÁî®ÂÆÉÈúÄË¶ÅÂÖàÊ∑ªÂä†QuartzCore.frameworkÊ°ÜÊû∂ÂíåÂºïÂÖ•‰∏ªÂ§¥Êñá‰ª∂&lt;QuartzCore/QuartzCore.h&gt;(iOS7.0+ ‰∏çÈúÄË¶Å) ÂàùÂßãÂåñ‰∏Ä‰∏™CAAnimationÂØπË±°ÔºåÂπ∂ËÆæÁΩÆ‰∏Ä‰∫õÂä®ÁîªÁõ∏ÂÖ≥Â±ûÊÄß ÈÄöËøáË∞ÉÁî®CALayerÁöÑaddAnimation:forKey:ÊñπÊ≥ïÂ¢ûÂä†CAAnimationÂØπË±°Âà∞CALayer‰∏≠ÔºåËøôÊ†∑Â∞±ËÉΩÂºÄÂßãÊâßË°åÂä®Áîª‰∫Ü ÈÄöËøáË∞ÉÁî®CALayerÁöÑremoveAnimationForKey:ÊñπÊ≥ïÂèØ‰ª•ÂÅúÊ≠¢CALayer‰∏≠ÁöÑÂä®Áîª ËΩ¨Âú∫Âä®Áîª? CATransition-ËΩ¨Âú∫Âä®Áîª, ‰Ωú‰∏∫CAAnimationÁöÑÂ≠êÁ±ªÔºåÁî®‰∫éÂÅöËΩ¨Âú∫Âä®ÁîªÔºåËÉΩÂ§ü‰∏∫Â±ÇÊèê‰æõÁßªÂá∫Â±èÂπïÂíåÁßªÂÖ•Â±èÂπïÁöÑÂä®ÁîªÊïàÊûú„ÄÇiOSÊØîMac OS XÁöÑËΩ¨Âú∫Âä®ÁîªÊïàÊûúÂ∞ë‰∏ÄÁÇπ. UINavigationControllerÂ∞±ÊòØÈÄöCATransitionÂÆûÁé∞‰∫ÜÂ∞ÜÊéßÂà∂Âô®ÁöÑËßÜÂõæÊé®ÂÖ•Â±èÂπïÁöÑÂä®ÁîªÊïàÊûú. Cocoa TouchÊèê‰æõ‰∫ÜÂì™Âá†ÁßçCore AnimationËøáÊ∏°Á±ªÂûãÔºü Cocoa Touch Êèê‰æõ‰∫Ü 4 Áßç Core Animation ËøáÊ∏°Á±ªÂûãÔºåÂàÜÂà´‰∏∫Ôºö‰∫§ÂèâÊ∑°Âåñ„ÄÅÊé®Êå§„ÄÅÊòæÁ§∫ÂíåË¶ÜÁõñ„ÄÇ ‰ΩøÁî®UIViewÁöÑÂä®ÁîªÂáΩÊï∞, ÂÆûÁé∞ËΩ¨Âú∫Âä®Áîª ÂçïËßÜÂõæ: +(void)transitionWithView:(UIView* )view duration:(NSTimeInterval)duration options:(UIViewAnimationOptions)options animations:(void (^)(void))animations completion:(void (^)(BOOL finished))completion; ÂèåËßÜÂõæ: +(void)transitionFromView:(UIView )fromView toView:(UIView)toView duration:(NSTimeInterval)duration options:(UIViewAnimationOptions)options completion:(void (^)(BOOL finished))completion; ‰∏Ä‰∏™Âä®ÁîªÊÄé‰πàÂÆûÁé∞? ‰ª•ËΩ¨Âú∫Âä®Áîª‰∏∫‰æã: ÂàõÂª∫CATransitionÂØπË±° CATransition *animation = [CATransition animation]; ËÆæÁΩÆËøêÂä®Êó∂Èó¥(Âç≥Âä®ÁîªÊó∂Èó¥) animation.duration = DURATION; ËÆæÁΩÆËøêÂä®type(Á±ªÂûã) animation.type = type; if (subtype != nil) { //ËÆæÁΩÆÂ≠êÁ±ª (ÂíåtypeÈÖçÂêà‰ΩøÁî®, ÊåáÂÆöËøêÂä®ÁöÑÊñπÂêë) animation.subtype = subtype;} ËÆæÁΩÆËøêÂä®ÈÄüÂ∫¶(Âä®ÁîªÁöÑËøêÂä®ËΩ®ËøπÔºåÁî®‰∫éÂèòÂåñËµ∑ÁÇπÂíåÁªàÁÇπ‰πãÈó¥ÁöÑÊèíÂÄºËÆ°ÁÆó,ÂΩ¢Ë±°ÁÇπËØ¥ÂÆÉÂÜ≥ÂÆö‰∫ÜÂä®ÁîªËøêË°åÁöÑËäÇÂ•è,ÊØîÂ¶ÇÊòØÂùáÂåÄÂèòÂåñ(Áõ∏ÂêåÊó∂Èó¥ÂèòÂåñÈáèÁõ∏Âêå)ËøòÊòØÂÖàÂø´ÂêéÊÖ¢,ÂÖàÊÖ¢ÂêéÂø´ËøòÊòØÂÖàÊÖ¢ÂÜçÂø´ÂÜçÊÖ¢) animation.timingFunction = UIViewAnimationOptionCurveEaseInOut; Â∞ÜÂä®ÁîªÊ∑ªÂä†Âà∞viewÁöÑLayerÂ±Ç [view.layer addAnimation:animation forKey:@‚Äùanimation‚Äù]; Âä®ÁîªÁ±ªÂûãÂ¶Ç‰∏ã: typedef enum : NSUInteger { Push, //Êé®Êå§ Cube, //Á´ãÊñπ‰Ωì } AnimationType; ËØ¥ËØ¥Core AnimationÊòØÂ¶Ç‰ΩïÂºÄÂßãÂíåÁªìÊùüÂä®ÁîªÁöÑ‰∏çÊòØÂæàÊ∏ÖÊ•öÈ¢òÁõÆÁöÑÁúüÊ≠£Ë¶ÅÊ±ÇÔºåÊòØÊÉ≥Áü•ÈÅìÊ†∏ÂøÉÂä®ÁîªÁöÑÂì™‰∫õÁü•ËØÜÁÇπ„ÄÇÂ¶Ç‰ΩïÂºÄÂßãÂíåÁªìÊùüÂä®ÁîªÔºåËøôÊ†∏ÂøÉÂä®ÁîªÊúâÂæàÂ§öÁßçÔºåÊØèÁßçÂä®ÁîªËøòÊúâÂæàÂ§ßÁöÑÂå∫Âà´„ÄÇ ÂèÇËÄÉÁ≠îÊ°àÔºö Âä®ÁîªÁöÑÂºÄÂßãÂíåÁªìÊùüÈÉΩÂèØ‰ª•ÈÄöËøáCAMediaTimingÂçèËÆÆÊù•Â§ÑÁêÜÔºåÊ†∏ÂøÉÂä®ÁîªÁöÑÂü∫Á±ªÊòØÈÅµÂÆà‰∫ÜCAMediaTimingÂçèËÆÆÁöÑÔºåÂèØ‰ª•ÊåáÂÆöÂä®ÁîªÂºÄÂßãÊó∂Èó¥„ÄÅÂä®ÁîªÊó∂Èïø„ÄÅÂä®ÁîªÊí≠ÊîæÈÄüÂ∫¶„ÄÅÂä®ÁîªÂú®ÂÆåÊàêÊó∂ÁöÑË°å‰∏∫ÔºàÂÅúÁïôÂú®ÁªìÊùüÂ§Ñ„ÄÅÂä®ÁîªÂõûÂà∞ÂºÄÂßãÂ§Ñ„ÄÅÂä®ÁîªÂÆåÊàêÊó∂ÁßªÈô§Âä®ÁîªÔºâ„ÄÇ Âä®ÁîªÊúâÂü∫Êú¨Á±ªÂûãÊúâÂì™Âá†ÁßçÔºõË°®ËßÜÂõæÊúâÂì™Âá†ÁßçÂü∫Êú¨Ê†∑Âºè„ÄÇ Âä®ÁîªÊúâ‰∏§ÁßçÂü∫Êú¨Á±ªÂûãÔºö‰∏ÄÁßç‰∏∫UIViewÂä®Áîª,ÂèàÁß∞ÈöêÂºèÂä®Áîª,Âä®ÁîªÂêéframeÁöÑÊï∞ÂÄºÂèëÁîü‰∫ÜÂèòÂåñ.Âè¶‰∏ÄÁßçÊòØCALayerÂä®Áîª,ÂèàÁß∞ÊòæÁ§∫Âä®Áîª,Âä®ÁîªÂêéÊ®°ÂûãÂ±ÇÁöÑÊï∞ÊçÆ‰∏ç‰ºöÂèëÁîüÂèòÂåñ,ÂõæÂΩ¢ÂõûÂà∞ÂéüÊù•ÁöÑ‰ΩçÁΩÆ„ÄÇ UITableViewStylePlainÔºöÊôÆÈÄöÊ†∑Âºè UITableViewStyleGrouped:ÂàÜÁªÑÊ†∑Âºè UITableViewCellStyleDefault:DefaultÊ†∑ÂºèÔºöÂ∑¶Ëæπ‰∏Ä‰∏™ÊòæÁ§∫ÂõæÁâáÁöÑimageViewÔºå‰∏Ä‰∏™Ê†áÈ¢òtextLabelÔºåÊ≤°ÊúâdetailTextLabel„ÄÇ UITableViewCellStyleSubtitle:SubtitleÊ†∑ÂºèÔºöÂ∑¶Ëæπ‰∏Ä‰∏™ÊòæÁ§∫ÂõæÁâáÁöÑimageViewÔºå‰∏äËæπ‰∏Ä‰∏™‰∏ªÊ†áÈ¢òtextLabelÔºå‰∏Ä‰∏™ÂâØÊ†áÈ¢òdetailTextLabel„ÄÇ‰∏ªÊ†áÈ¢òÂ≠ó‰ΩìÂ§ß‰∏îÂä†ÈªëÔºåÂâØÊ†áÈ¢òÂ≠ó‰ΩìÂ∞èÂú®‰∏ªÊ†áÈ¢ò‰∏ãËæπ„ÄÇ UITableViewCellStyleValue1:Value1Ê†∑ÂºèÔºöÂ∑¶Ëæπ‰∏Ä‰∏™ÊòæÁ§∫ÂõæÁâáÁöÑimageViewÔºåÂ∑¶Ëæπ‰∏Ä‰∏™‰∏ªÊ†áÈ¢òtextLabelÔºåÂè≥Ëæπ‰∏Ä‰∏™ÂâØÊ†áÈ¢òdetailTextLabelÔºå‰∏ªÊ†áÈ¢òÂ≠ó‰ΩìÊØîËæÉÈªë„ÄÇ UITableViewCellStyleValue2:Value2Ê†∑ÂºèÔºöÂ∑¶Ëæπ‰∏Ä‰∏™‰∏ªÊ†áÈ¢òtextLabelÂ≠ó‰ΩìÂÅèÂ∞èÔºåÊå®ÁùÄÂè≥Ëæπ‰∏Ä‰∏™ÂâØÊ†áÈ¢òdetailTextLabelÔºåÂ≠ó‰ΩìÂ§ß‰∏îÂä†Èªë„ÄÇ CADisplayLink CADisplayLinkÊòØ‰∏ÄÁßç‰ª•Â±èÂπïÂà∑Êñ∞È¢ëÁéáËß¶ÂèëÁöÑÊó∂ÈíüÊú∫Âà∂ÔºåÊØèÁßíÈíüÊâßË°åÂ§ßÁ∫¶60Ê¨°Â∑¶Âè≥ CADisplayLinkÊòØ‰∏Ä‰∏™ËÆ°Êó∂Âô®ÔºåÂèØ‰ª•‰ΩøÁªòÂõæ‰ª£Á†Å‰∏éËßÜÂõæÁöÑÂà∑Êñ∞È¢ëÁéá‰øùÊåÅÂêåÊ≠•ÔºåËÄåNSTimerÊó†Ê≥ïÁ°Æ‰øùËÆ°Êó∂Âô®ÂÆûÈôÖË¢´Ëß¶ÂèëÁöÑÂáÜÁ°ÆÊó∂Èó¥ ‰ΩøÁî®ÊñπÊ≥ïÔºö ÂÆö‰πâCADisplayLinkÂπ∂Âà∂ÂÆöËß¶ÂèëË∞ÉÁî®ÊñπÊ≥ï Â∞ÜÊòæÁ§∫ÈìæÊé•Ê∑ªÂä†Âà∞‰∏ªËøêË°åÂæ™ÁéØÈòüÂàó Quatrz 2DÁöÑÁªòÂõæÂäüËÉΩÁöÑ‰∏â‰∏™Ê†∏ÂøÉÊ¶ÇÂøµÊòØ‰ªÄ‰πàÂπ∂ÁÆÄËø∞ÂÖ∂‰ΩúÁî®„ÄÇ‰∏ä‰∏ãÊñáÔºö‰∏ªË¶ÅÁî®‰∫éÊèèËø∞ÂõæÂΩ¢ÂÜôÂÖ•Âì™ÈáåÔºõ Ë∑ØÂæÑÔºöÊòØÂú®ÂõæÂ±Ç‰∏äÁªòÂà∂ÁöÑÂÜÖÂÆπÔºõ Áä∂ÊÄÅÔºöÁî®‰∫é‰øùÂ≠òÈÖçÁΩÆÂèòÊç¢ÁöÑÂÄº„ÄÅÂ°´ÂÖÖÂíåËΩÆÂªìÔºå alpha ÂÄºÁ≠â„ÄÇ ÊñáÁ´†Â¶ÇÊúâÈóÆÈ¢òÔºåËØ∑ÁïôË®ÄÔºåÊàëÂ∞ÜÂèäÊó∂Êõ¥Ê≠£„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò11--Á¨¨‰∏âÊñπÊ°ÜÊû∂ÂèäÂÖ∂ÁÆ°ÁêÜ]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9811-%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A1%86%E6%9E%B6%E5%8F%8A%E5%85%B6%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî®ËøáCocoaPodsÂêóÔºüÂÆÉÊòØ‰ªÄ‰πàÔºüCocoaPodsÁöÑÂéüÁêÜ? CocoaPodÊòØ‰∏Ä‰∏™Á¨¨‰∏âÊñπÂ∫ìÁöÑÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÁî®Êù•ÁÆ°ÁêÜÈ°πÁõÆ‰∏≠ÁöÑÁ¨¨‰∏âÊñπÊ°ÜÊû∂„ÄÇ Âú®ÁªàÁ´Ø‰∏≠ËøõÂÖ•ÔºàcdÂëΩ‰ª§Ôºâ‰Ω†È°πÁõÆÊâÄÂú®ÁõÆÂΩïÔºåÁÑ∂ÂêéÂú®ÂΩìÂâçÁõÆÂΩï‰∏ãÔºåÂà©Áî®vimÂàõÂª∫PodfileÔºåËøêË°åÔºö $ vim Podfile ÁÑ∂ÂêéÂú®PodfileÊñá‰ª∂‰∏≠ËæìÂÖ•‰ª•‰∏ãÊñáÂ≠óÔºö platform :ios, ‚Äò9.3‚Äô pod ‚ÄúAFNetworking‚Äù, ‚Äú~&gt; 2.0‚Äù ÁÑ∂Âêé‰øùÂ≠òÈÄÄÂá∫„ÄÇvimÁéØÂ¢É‰∏ãÔºå‰øùÂ≠òÈÄÄÂá∫ÂëΩ‰ª§ÊòØ :wq ËøôÊó∂ÂÄôÔºå‰Ω†‰ºöÂèëÁé∞‰Ω†ÁöÑÈ°πÁõÆÁõÆÂΩï‰∏≠ÔºåÂá∫Áé∞‰∏Ä‰∏™ÂêçÂ≠ó‰∏∫PodfileÁöÑÊñá‰ª∂ÔºåËÄå‰∏îÊñá‰ª∂ÂÜÖÂÆπÂ∞±ÊòØ‰Ω†ÂàöÂàöËæìÂÖ•ÁöÑÂÜÖÂÆπ„ÄÇ ËøôÊó∂ÂÄôÔºå‰Ω†Â∞±ÂèØ‰ª•Âà©Áî®CocoPods‰∏ãËΩΩAFNetworkingÁ±ªÂ∫ì‰∫Ü,ËøêË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö$ pod install Áî®cocoapodsÁÆ°ÁêÜÁ¨¨‰∏âÊñπÊ°ÜÊû∂ÁöÑÊó∂ÂÄôÊàëÊÉ≥ÊîπÁâàÊú¨ÔºåÊÄé‰πàÂäûÂà∞Ôºü ÂèØ‰ª•Áõ¥Êé•ÊàñËÄÖÁªàÁ´ØÊâìÂºÄPodfile, ‰øÆÊîπPodfileÊñá‰ª∂‰∏≠Á¨¨‰∏âÊñπÊ°ÜÊû∂ÁöÑÁâàÊú¨ ÈõÜÊàê‰∏âÊñπÊ°ÜÊû∂ÊúâÂì™‰∫õÊñπÊ≥ï cocoapods framework Áõ¥Êé•‰∏ãËΩΩÊ∫êÁ†ÅÊãñËøõÈ°πÁõÆÁî® SDWebImageÁöÑÂéüÁêÜÂÆûÁé∞Êú∫Âà∂ÔºåÂ¶Ç‰ΩïËß£ÂÜ≥TableViewÂç°ÁöÑÈóÆÈ¢ò?SDWebImageÂÜÖÈÉ®ÂÆûÁé∞ËøáÁ®ãÔºàÂª∫ËÆÆÁîªÂõæËÆ∞‰ΩèÔºâ image ÂÖ•Âè£ setImageWithURL:placeholderImage:options: ‰ºöÂÖàÊää placeholderImage ÊòæÁ§∫ÔºåÁÑ∂Âêé SDWebImageManager Ê†πÊçÆ URL ÂºÄÂßãÂ§ÑÁêÜÂõæÁâá„ÄÇ ËøõÂÖ• SDWebImageManager-downloadWithURL:delegate:options:userInfo:Ôºå‰∫§Áªô SDImageCache ‰ªéÁºìÂ≠òÊü•ÊâæÂõæÁâáÊòØÂê¶Â∑≤Áªè‰∏ãËΩΩ queryDiskCacheForKey:delegate:userInfo:. ÂÖà‰ªéÂÜÖÂ≠òÂõæÁâáÁºìÂ≠òÊü•ÊâæÊòØÂê¶ÊúâÂõæÁâáÔºåÂ¶ÇÊûúÂÜÖÂ≠ò‰∏≠Â∑≤ÁªèÊúâÂõæÁâáÁºìÂ≠òÔºåSDImageCacheDelegate ÂõûË∞É imageCache:didFindImage:forKey:userInfo: Âà∞ SDWebImageManager„ÄÇ SDWebImageManagerDelegate ÂõûË∞É webImageManager:didFinishWithImage: Âà∞ UIImageView+WebCache Á≠âÂâçÁ´ØÂ±ïÁ§∫ÂõæÁâá„ÄÇ Â¶ÇÊûúÂÜÖÂ≠òÁºìÂ≠ò‰∏≠Ê≤°ÊúâÔºåÁîüÊàê NSInvocationOperation Ê∑ªÂä†Âà∞ÈòüÂàóÂºÄÂßã‰ªéÁ°¨ÁõòÊü•ÊâæÂõæÁâáÊòØÂê¶Â∑≤ÁªèÁºìÂ≠ò„ÄÇ Ê†πÊçÆ URLKey Âú®Á°¨ÁõòÁºìÂ≠òÁõÆÂΩï‰∏ãÂ∞ùËØïËØªÂèñÂõæÁâáÊñá‰ª∂„ÄÇËøô‰∏ÄÊ≠•ÊòØÂú® NSOperation ËøõË°åÁöÑÊìç‰ΩúÔºåÊâÄ‰ª•Âõû‰∏ªÁ∫øÁ®ãËøõË°åÁªìÊûúÂõûË∞É notifyDelegate:„ÄÇ Â¶ÇÊûú‰∏ä‰∏ÄÊìç‰Ωú‰ªéÁ°¨ÁõòËØªÂèñÂà∞‰∫ÜÂõæÁâáÔºåÂ∞ÜÂõæÁâáÊ∑ªÂä†Âà∞ÂÜÖÂ≠òÁºìÂ≠ò‰∏≠ÔºàÂ¶ÇÊûúÁ©∫Èó≤ÂÜÖÂ≠òËøáÂ∞èÔºå‰ºöÂÖàÊ∏ÖÁ©∫ÂÜÖÂ≠òÁºìÂ≠òÔºâ„ÄÇSDImageCacheDelegate ÂõûË∞É imageCache:didFindImage:forKey:userInfo:„ÄÇËøõËÄåÂõûË∞ÉÂ±ïÁ§∫ÂõæÁâá„ÄÇ Â¶ÇÊûú‰ªéÁ°¨ÁõòÁºìÂ≠òÁõÆÂΩïËØªÂèñ‰∏çÂà∞ÂõæÁâáÔºåËØ¥ÊòéÊâÄÊúâÁºìÂ≠òÈÉΩ‰∏çÂ≠òÂú®ËØ•ÂõæÁâáÔºåÈúÄË¶Å‰∏ãËΩΩÂõæÁâá, ÂõûË∞É imageCache:didNotFindImageForKey:userInfo:„ÄÇ ÂÖ±‰∫´ÊàñÈáçÊñ∞ÁîüÊàê‰∏Ä‰∏™‰∏ãËΩΩÂô® SDWebImageDownloader ÂºÄÂßã‰∏ãËΩΩÂõæÁâá„ÄÇ ÂõæÁâá‰∏ãËΩΩÁî± NSURLConnection Êù•ÂÅöÔºåÂÆûÁé∞Áõ∏ÂÖ≥ delegate Êù•Âà§Êñ≠ÂõæÁâá‰∏ãËΩΩ‰∏≠„ÄÅ‰∏ãËΩΩÂÆåÊàêÂíå‰∏ãËΩΩÂ§±Ë¥•„ÄÇ connection:didReceiveData: ‰∏≠Âà©Áî® ImageIO ÂÅö‰∫ÜÊåâÂõæÁâá‰∏ãËΩΩËøõÂ∫¶Âä†ËΩΩÊïàÊûú„ÄÇ connectionDidFinishLoading: Êï∞ÊçÆ‰∏ãËΩΩÂÆåÊàêÂêé‰∫§Áªô SDWebImageDecoder ÂÅöÂõæÁâáËß£Á†ÅÂ§ÑÁêÜ„ÄÇ ÂõæÁâáËß£Á†ÅÂ§ÑÁêÜÂú®‰∏Ä‰∏™ NSOperationQueue ÂÆåÊàêÔºå‰∏ç‰ºöÊãñÊÖ¢‰∏ªÁ∫øÁ®ã UI„ÄÇÂ¶ÇÊûúÊúâÈúÄË¶ÅÂØπ‰∏ãËΩΩÁöÑÂõæÁâáËøõË°å‰∫åÊ¨°Â§ÑÁêÜÔºåÊúÄÂ•Ω‰πüÂú®ËøôÈáåÂÆåÊàêÔºåÊïàÁéá‰ºöÂ•ΩÂæàÂ§ö„ÄÇ Âú®‰∏ªÁ∫øÁ®ã notifyDelegateOnMainThreadWithInfo: ÂÆ£ÂëäËß£Á†ÅÂÆåÊàêÔºåimageDecoder:didFinishDecodingImage:userInfo: ÂõûË∞ÉÁªô SDWebImageDownloader„ÄÇ imageDownloader:didFinishWithImage: ÂõûË∞ÉÁªô SDWebImageManager ÂëäÁü•ÂõæÁâá‰∏ãËΩΩÂÆåÊàê„ÄÇ ÈÄöÁü•ÊâÄÊúâÁöÑ downloadDelegates ‰∏ãËΩΩÂÆåÊàêÔºåÂõûË∞ÉÁªôÈúÄË¶ÅÁöÑÂú∞ÊñπÂ±ïÁ§∫ÂõæÁâá„ÄÇ Â∞ÜÂõæÁâá‰øùÂ≠òÂà∞ SDImageCache ‰∏≠ÔºåÂÜÖÂ≠òÁºìÂ≠òÂíåÁ°¨ÁõòÁºìÂ≠òÂêåÊó∂‰øùÂ≠ò„ÄÇÂÜôÊñá‰ª∂Âà∞Á°¨Áõò‰πüÂú®‰ª•ÂçïÁã¨ NSInvocationOperation ÂÆåÊàêÔºåÈÅøÂÖçÊãñÊÖ¢‰∏ªÁ∫øÁ®ã„ÄÇ SDImageCache Âú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄô‰ºöÊ≥®ÂÜå‰∏Ä‰∫õÊ∂àÊÅØÈÄöÁü•ÔºåÂú®ÂÜÖÂ≠òË≠¶ÂëäÊàñÈÄÄÂà∞ÂêéÂè∞ÁöÑÊó∂ÂÄôÊ∏ÖÁêÜÂÜÖÂ≠òÂõæÁâáÁºìÂ≠òÔºåÂ∫îÁî®ÁªìÊùüÁöÑÊó∂ÂÄôÊ∏ÖÁêÜËøáÊúüÂõæÁâá„ÄÇ SDWI ‰πüÊèê‰æõ‰∫Ü UIButton+WebCache Âíå MKAnnotationView+WebCacheÔºåÊñπ‰æø‰ΩøÁî®„ÄÇ SDWebImagePrefetcher ÂèØ‰ª•È¢ÑÂÖà‰∏ãËΩΩÂõæÁâáÔºåÊñπ‰æøÂêéÁª≠‰ΩøÁî®„ÄÇ Â¶Ç‰ΩïËß£ÂÜ≥tableViewÂç°È°øÈóÆÈ¢òÔºåÂâçÈù¢‰πüÊèê‰∫ÜÂæàÂ§öÊñπÊ°à„ÄÇÈÄöËøáËÆæÁΩÆÊúÄÂ§ßÂπ∂ÂèëÊï∞, ËÆæÁΩÆÂΩìÂâçÈ°µÁöÑcell, ËÄå‰∏çÊòØÊääÊâÄÊúâcell‰∏ÄÊ¨°ÊÄßËÆæÁΩÆÂÆå, ‰ª•ÂèäÊï∞ÊçÆÂõæÁâáÁöÑ‰∏âÁ∫ßÁºìÂ≠ò, Áõ¥Êé•‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÂíåÊ≤ôÁõíÁºìÂ≠ò‰∏≠ËøõË°åËØªÂèñ. Èôç‰ΩéÁΩëÁªúËØ∑Ê±ÇÁöÑÊ¨°Êï∞, ‰∏ç‰ªÖËäÇÁ∫¶Áî®Êà∑ÊµÅÈáè. ‰πü‰ºö‰øùËØÅtableViewÊªëÂä®ÁöÑÊµÅÁïÖÊÄß SDWebImageÊÄéÊ†∑ÂÆûÁé∞ÂõæÁâáÁöÑÁºìÂ≠òÊú∫Âà∂ÁöÑÔºü ÂõæÁâáÁöÑÁºìÂ≠ò, ÂÜÖÂ≠òÁºìÂ≠ò, Ê≤ôÁõíÁºìÂ≠ò, Êìç‰ΩúÁºìÂ≠ò, ‰ª•tableViewController‰∏∫‰æã: ÊØèÊ¨°cellÈúÄË¶ÅÊòæÁ§∫,ÈÉΩÈúÄË¶ÅÈáçÊñ∞Ë∞ÉÁî®- (UITableViewCell )tableView:(UITableView )tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath { }ÊñπÊ≥ï ÊØèÊ¨°Ë∞ÉÁî®tableViewÊòæÁ§∫Ë°åÁöÑÊï∞ÊçÆÊ∫êÊñπÊ≥ïÊó∂, Â¶ÇÊûúÈúÄË¶Å‰ªéÁΩëÁªúÂä†ËΩΩÂõæÁâá, Â∞±ÈúÄË¶ÅÂ∞ÜÂä†ËΩΩÂõæÁâáËøôÊ†∑ÁöÑËÄóÊó∂Êìç‰ΩúÊîæÂú®Â≠êÁ∫øÁ®ã‰∏äÊâßË°å, ‰ªéÁΩëÁªú‰∏ä‰∏ãËΩΩÁöÑÂõæÁâáÂèØ‰ª•‰ª•ÈîÆÂÄºÂØπÁöÑÂΩ¢Âºè‰øùÂ≠òÂú®ÂÆö‰πâÁöÑÂèØÂèòÂ≠óÂÖ∏‰∏≠,Â∞ÜÊØèÂº†ÂõæÁâáÁöÑÂîØ‰∏ÄÁöÑË∑ØÂæÑ‰Ωú‰∏∫ÈîÆ,Â∞Ü‰ªéÁΩëÁªú‰∏ãËΩΩ‰∏ãÊù•ÁöÑÂõæÁâá‰Ωú‰∏∫ÂÄº, ‰øùÂ≠òÂú®ÂÜÖÂ≠òÁºìÂ≠ò‰∏≠, ËøôÊ†∑ÊØèÊ¨°ÊªëÂä®tableView cellÈáçÁî®Êó∂Â∞±Áõ¥Êé•Âà§Êñ≠ÂÜÖÂ≠òÁºìÂ≠ò‰∏≠ÊúâÊ≤°ÊúâÈúÄË¶ÅÁöÑÂõæÁâá, Â¶ÇÊûúÊúâÂ∞±‰∏çÈúÄË¶ÅÂÜçÊ¨°‰∏ãËΩΩ,Âú®Ê≤°ÊúâÂá∫Áé∞ÂÜÖÂ≠òË≠¶ÂëäÊàñËÄÖÁ®ãÂ∫èÂëòÊâãÂä®Ê∏ÖÁêÜÂÜÖÂ≠òÁºìÂ≠òÊó∂, Â∞±Áõ¥Êé•‰ªéÂÜÖÂ≠òÁºìÂ≠ò‰∏≠Ëé∑ÂèñÂõæÁâá. ‰∏∫‰∫ÜÊØèÊ¨°ÈÄÄÂá∫Á®ãÂ∫è,ÂÜçÊ¨°ËøõÂÖ•Á®ãÂ∫èÊó∂,‰∏çÊµ™Ë¥πÁî®Êà∑ÁöÑÊµÅÈáè, ÈúÄË¶ÅÂ∞ÜÁ¨¨‰∏ÄÊ¨°ËøõÂÖ•Á®ãÂ∫èÊó∂Âä†ËΩΩÁöÑÂõæÁâá‰øùÂ≠òÂú®Êú¨Âú∞Ê≤ôÁõíÁºìÂ≠òÊñá‰ª∂‰∏≠, Âú®Ê≤ôÁõí‰∏≠‰øùÂ≠òÁöÑÂõæÁâáÊï∞ÊçÆÊ≤°ÊúâË¢´ÊîπÂèò‰πãÂâç,‰∏ãÊ¨°ÂºÄÂêØÁ®ãÂ∫èÂ∞±Áõ¥Êé•‰ªéÊ≤ôÁõíÁöÑÁºìÂ≠òÊñá‰ª∂‰∏≠ËØªÂèñÈúÄË¶ÅÊòæÁ§∫ÁöÑÂõæÁâá, Âπ∂Â∞ÜÊ≤ôÁõíÁºìÂ≠òÊñá‰ª∂Â§π(Cache)‰∏≠‰øùÂ≠òÁöÑÂõæÁâá‰øùÂ≠òÂà∞ÂÜÖÂ≠òÁºìÂ≠ò‰∏≠, ËøôÊ†∑Áî®Êà∑ÊØèÊ¨°ÊªëÂä®tableView cellÈáçÁî®Êó∂Áõ¥Êé•‰ªéÂÜÖÂ≠òÁºìÂ≠ò‰∏≠ËØªÂèñËÄå‰∏çÊòØ‰ªéÊ≤ôÁõí‰∏≠ËØªÂèñ, ËäÇÁ∫¶Êó∂Èó¥. ‰Ω†Áî®ËøáÂì™‰∫õÁ¨¨‰∏âÊñπÊ°ÜÊû∂Ôºü ‰ΩøÁî®Ëøá‰∏Ä‰∫õÁ¨¨‰∏âÊñπÊ°ÜÊû∂, ‰æãÂ¶ÇAFN,SDWebimage,FMDB, MBProgressHUD, Masonry„ÄÇ ‰ΩøÁî® AFNetworkingÂÅöËøáÊñ≠ÁÇπÁª≠‰º†ÂêóÔºü Êñ≠ÁÇπÁª≠‰º†ÁöÑ‰∏ªË¶ÅÊÄùË∑Ø: Ê£ÄÊü•ÊúçÂä°Âô®Êñá‰ª∂‰ø°ÊÅØ Ê£ÄÊü•Êú¨Âú∞Êñá‰ª∂ Â¶ÇÊûúÊØîÊúçÂä°Âô®Êñá‰ª∂Â∞è, Êñ≠ÁÇπÁª≠‰º†, Âà©Áî® HTTP ËØ∑Ê±ÇÂ§¥ÁöÑ Range ÂÆûÁé∞Êñ≠ÁÇπÁª≠‰º† Â¶ÇÊûúÊØîÊúçÂä°Âô®Êñá‰ª∂Â§ßÔºåÈáçÊñ∞‰∏ãËΩΩ Â¶ÇÊûúÂíåÊúçÂä°Âô®Êñá‰ª∂‰∏ÄÊ†∑Ôºå‰∏ãËΩΩÂÆåÊàê ‰ΩøÁî®Á¨¨‰∏âÊñπÊ°ÜÊû∂ÁöÑÊó∂ÂÄôÊúâÊ≤°Êúâ‰ªîÁªÜÁ†îËØªËøáÂÆÉ‰ª¨ÁöÑÊ∫êÁ†Å(AFNetworking)ÔºüAFNÂ∫ïÂ±ÇÂéüÁêÜÂàÜÊûê„ÄÇ AFNetworking‰∏ªË¶ÅÊòØÂØπNSURLSessionÂíåNSURLCollectionÔºàiOS9.0Â∫üÂºÉÔºâÁöÑÂ∞ÅË£Ö,ÂÖ∂‰∏≠‰∏ªË¶ÅÊúâ‰ª•‰∏ãÁ±ª: AFHTTPRequestOperationManager :ÂÜÖÈÉ®Â∞ÅË£ÖÁöÑÊòØ NSUrlConnection,Ë¥üË¥£ÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç,‰ΩøÁî®ÊúÄÂ§öÁöÑ‰∏Ä‰∏™Á±ª.Ôºà3.0Â∫üÂºÉÔºâ AFHTTPSessionManager :ÂÜÖÈÉ®Â∞ÅË£ÖÊòØ NSUrlSession ,Ë¥üË¥£ÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç,‰ΩøÁî®ÊúÄÂ§öÁöÑ‰∏Ä‰∏™Á±ª. AFHTTPRequestOperationManager Âíå AFHTTPSessionManager :ÂÆö‰πâÁöÑ API(ÊñπÊ≥ïÂêçÁß∞)ÊòØ‰∏ÄÊ®°‰∏ÄÊ†∑,Ê≤°Êúâ‰ªª‰ΩïÂå∫Âà´. AFNetworkReachabilityManager :ÂÆûÊó∂ÁõëÊµãÁΩëÁªúÁä∂ÊÄÅÁöÑÂ∑•ÂÖ∑Á±ª.ÂΩìÂâçÁöÑÁΩëÁªúÁéØÂ¢ÉÂèëÁîüÊîπÂèò‰πãÂêé,Ëøô‰∏™Â∑•ÂÖ∑Á±ªÂ∞±ÂèØ‰ª•Ê£ÄÊµãÂà∞. AFSecurityPolicy :ÁΩëÁªúÂÆâÂÖ®ÁöÑÂ∑•ÂÖ∑Á±ª, ‰∏ªË¶ÅÊòØÈíàÂØπ HTTPS ÊúçÂä°. AFURLRequestSerialization :Â∫èÂàóÂåñÂ∑•ÂÖ∑Á±ª,Âü∫Á±ª.‰∏ä‰º†ÁöÑÊï∞ÊçÆËΩ¨Êç¢ÊàêJSONÊ†ºÂºè(AFJSONRequestSerializer).‰ΩøÁî®‰∏çÂ§ö. AFURLResponseSerialization :ÂèçÂ∫èÂàóÂåñÂ∑•ÂÖ∑Á±ª;Âü∫Á±ª.‰ΩøÁî®ÊØîËæÉÂ§ö: AFJSONResponseSerializer; JSONËß£ÊûêÂô®,ÈªòËÆ§ÁöÑËß£ÊûêÂô®. AFHTTPResponseSerializer; ‰∏áËÉΩËß£ÊûêÂô®; JSONÂíåXML‰πãÂ§ñÁöÑÊï∞ÊçÆÁ±ªÂûã,Áõ¥Êé•ËøîÂõû‰∫åËøõÂà∂Êï∞ÊçÆ.ÂØπÊúçÂä°Âô®ËøîÂõûÁöÑÊï∞ÊçÆ‰∏çÂÅö‰ªª‰ΩïÂ§ÑÁêÜ. AFXMLParserResponseSerializer; XMLËß£ÊûêÂô®; AFNÈªòËÆ§Ë∂ÖÊó∂Êó∂ÈïøÊòØÂ§öÂ∞ëÂïä? AFNÁöÑÈªòËÆ§Ë∂ÖÊó∂Êó∂ÈïøÊòØ60s. ‰∏æÂá∫5‰∏™‰ª•‰∏ä‰Ω†ÊâÄÁÜüÊÇâÁöÑiOS sdkÂ∫ìÊúâÂì™‰∫õÂíåÁ¨¨‰∏âÊñπÂ∫ìÊúâÂì™‰∫õ?1&gt; iOS-sdk: Foundation.framework, CoreGraphics.framework, UIKit.framework, MediaPlayer.framework, CoreAudio.framework 2&gt; Á¨¨‰∏âÊñπÂ∫ì: 1.AFNetWoring 2.SDWebImage 3.masonry 4.MBProgressHUD 3&gt; Ê°ÜÊû∂ÂàÜÁ±ª: Èü≥È¢ëÂíåËßÜÈ¢ë Core Audio OpenAL Media Library AVFoundation Êï∞ÊçÆÁÆ°ÁêÜ Core Data SQLite ÂõæÁâáÂíåÂä®Áîª Core Animation OpenGL ES Quartz 2D ÁΩëÁªú Bonjour WebKit BSD Sockets Áî®Êà∑Â∫îÁî® Address Book Core Location Map Kit Store Kit Á¨¨‰∏âÊñπAPIÊòØÊÄé‰πàÁî®ÁöÑÔºü Â§ßÂÖ¨Âè∏ÁöÑÂºÄÊîæAPI,github‰∏äÈù¢Âà´‰∫∫ÂèëÂ∏ÉÁöÑÊ°ÜÊû∂Áî®Á¨¨‰∏âÊñπAPI, Âú®ÂÆòÊñπÊñáÊ°£ÈÉΩÊúâËØ¥ÊòéÔºåÊåâÁÖßÂÆòÊñπÊñáÊ°£ÁöÑ‰∏ÄÊ≠•‰∏ÄÊ≠•ÂÅöÂèÇËÄÉÂÆòÊñπÊèê‰æõÁöÑÁ§∫‰æãÁ®ãÂ∫è„ÄÇÂÖàËá™Â∑±ÂàõÂª∫‰∏Ä‰∏™Â∑•Á®ãËØïËØïÔºåÁ≠âÁÜüÊÇâ‰∫ÜÔºåÂú®‰ΩøÁî®Âà∞È°πÁõÆ‰∏≠ ÂÆûÁé∞ËøáÊ°ÜÊû∂ÊàñËÄÖÂ∫ì‰ª•‰æõ‰ªñ‰∫∫‰ΩøÁî®‰πàÔºüÂ¶ÇÊûúÊúâÔºåËØ∑Ë∞à‰∏ÄË∞àÊûÑÂª∫Ê°ÜÊû∂ÊàñËÄÖÂ∫ìÊó∂ÂÄôÁöÑÁªèÈ™åÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåËØ∑ËÆæÊÉ≥ÂíåËÆæËÆ°Ê°ÜÊû∂ÁöÑpublicÁöÑAPIÔºåÂπ∂ÊåáÂá∫Â§ßÊ¶ÇÈúÄË¶ÅÂ¶Ç‰ΩïÂÅö„ÄÅÈúÄË¶ÅÊ≥®ÊÑèÂì™‰∫õÈóÆÈ¢òÔºå‰ª•‰Ωø‰∫∫‰∫∫Êõ¥ÂÆπÊòìÂú∞‰ΩøÁî®‰Ω†ÁöÑÊ°ÜÊû∂„ÄÇ‰ªé‰ª•‰∏ãËßíÂ∫¶Âá∫ÂèëÊù•ÊÄùËÄÉÂíåËÆæËÆ°ÂÖ¨ÂÖ±Ê°ÜÊû∂Ôºö ‚Ä¢ Á°Æ‰øùÂ§ñÈÉ®Ë∞ÉÁî®ÁÆÄÂçïÔºå‰∏î‰øùËØÅÊúâËØ¶ÁªÜÁöÑÂ§¥Êñá‰ª∂Ê≥®ÈáäËØ¥Êòé„ÄÇ ‚Ä¢ Á°Æ‰øùAPIÁºñÁ†ÅËßÑËåÉÔºå‰øùËØÅÈ£éÊ†ºÁªü‰∏Ä„ÄÇ ‚Ä¢ Á°Æ‰øùAPIÊòìÊâ©Â±ïÔºåÂèØ‰ª•ËÄÉËôëÈ¢ÑÁïôÂèÇÊï∞ ‚Ä¢ Á°Æ‰øùÊ≤°ÊúâÂ§ñÈÉ®‰æùËµñÊàñËÄÖ‰æùËµñË¶ÅÂ∞ΩÂèØËÉΩÁöÑÂ∞ëÔºå‰ª•‰øùËØÅÂÖ¨ÂÖ±Â∫ìÁöÑÁ∫ØÊ¥ÅÔºàÂéüÂàô‰∏ä‰∏çËÉΩÊúâÂ§ñÈÉ®‰æùËµñÔºâ ‚Ä¢ Á°Æ‰øùÊòìÁª¥Êä§Ôºå‰∏çÂ≠òÂú®ÂÜó‰ΩôAPI ÁÆÄËø∞‰∏ãËãπÊûúÁöÑÂºÄÂèëÊ°ÜÊû∂ÔºüFoundation Êèê‰æõOCÁöÑÂü∫Á°ÄÁ±ªÔºàÂÉèNSObjectÔºâ„ÄÅÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁ≠â UIKit ÂàõÂª∫ÂíåÁÆ°ÁêÜÂ∫îÁî®Á®ãÂ∫èÁöÑÁî®Êà∑ÁïåÈù¢ QuartzCore Êèê‰æõÂä®ÁîªÁâπÊïà‰ª•ÂèäÈÄöËøáÁ°¨‰ª∂ËøõË°åÊ∏≤ÊüìÁöÑËÉΩÂäõ CoreGraphics Êèê‰æõ2DÁªòÂà∂ÁöÑÂü∫‰∫éCÁöÑAPI SystemConfiguration Ê£ÄÊµãÂΩìÂâçÁΩëÁªúÊòØÂê¶ÂèØÁî®ÂíåÁ°¨‰ª∂ËÆæÂ§áÁä∂ÊÄÅ AVFoundation Êèê‰æõÈü≥È¢ëÂΩïÂà∂ÂíåÂõûÊîæÁöÑÂ∫ïÂ±ÇAPIÔºåÂêåÊó∂‰πüË¥üË¥£ÁÆ°ÁêÜÈü≥È¢ëÁ°¨‰ª∂ CFNetwork ËÆøÈóÆÂíåÈÖçÁΩÆÁΩëÁªúÔºåÂÉèHTTP„ÄÅFTPÂíåBonjour Services CoreFoundation Êèê‰æõÊäΩË±°ÁöÑÂ∏∏Áî®Êï∞ÊçÆÁ±ªÂûãÔºåÂ¶ÇUnicode strings„ÄÅXML„ÄÅURLÁ≠â CoreLocation ‰ΩøÁî®GPSÂíåWIFIËé∑Âèñ‰ΩçÁΩÆ‰ø°ÊÅØ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò10--Êä•ÈîôË≠¶ÂëäË∞ÉËØï]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%9810-%E6%8A%A5%E9%94%99%E8%AD%A6%E5%91%8A%E8%B0%83%E8%AF%95%2F</url>
    <content type="text"><![CDATA[‰Ω†Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÊúâÂì™‰∫õÊâãÊú∫Êû∂ÊûÑ‰∏éÊÄßËÉΩË∞ÉËØïÁªèÈ™å ÂàöÊé•ÊâãÂÖ¨Âè∏ÁöÑÊóßÈ°πÁõÆÊó∂ÔºåÊ®°ÂùóÁâπÂà´Â§öÔºåËÄå‰∏îÂá†‰πéÊâÄÊúâÁöÑ‰ª£Á†ÅÈÉΩÂÜôÂú®ÊéßÂà∂Âô®ÈáåÈù¢ÔºåÊØîÂ¶ÇUIÊéß‰ª∂‰ª£Á†Å„ÄÅÁΩëÁªúËØ∑Ê±Ç‰ª£Á†Å„ÄÅÊï∞ÊçÆÂ≠òÂÇ®‰ª£Á†Å Êé•‰∏ãÊù•ÈááÂèñMVCÊ®°ÂºèËøõË°åÂ∞ÅË£Ö„ÄÅÈáçÊûÑ Ëá™ÂÆö‰πâUIÊéß‰ª∂Â∞ÅË£ÖÂÜÖÈÉ®ÁöÑ‰∏öÂä°ÈÄªËæë Â∞ÅË£ÖÁΩëÁªúËØ∑Ê±ÇÂ∑•ÂÖ∑Á±ª(Èôç‰ΩéËÄ¶Âêà) Â∞ÅË£ÖÊï∞ÊçÆÂ≠òÂÇ®Â∑•ÂÖ∑Á±ª BAD_ACCESSÂú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÂá∫Áé∞ÔºüËøôÁßçÈóÆÈ¢òÊòØÁªèÂ∏∏ÈÅáÂà∞ÁöÑÔºåÂú®ÂºÄÂèëÊó∂ÁªèÂ∏∏‰ºöÂá∫Áé∞BAD_ACCESS„ÄÇÂéüÂõ†ÊòØËÆøÈóÆ‰∫ÜÈáéÊåáÈíàÔºåÊØîÂ¶ÇËÆøÈóÆÂ∑≤ÁªèÈáäÊîæÂØπË±°ÁöÑÊàêÂëòÂèòÈáèÊàñËÄÖÂèëÊ∂àÊÅØ„ÄÅÊ≠ªÂæ™ÁéØÁ≠â„ÄÇ Â¶Ç‰ΩïË∞ÉËØïBAD_ACCESSÈîôËØØÔºüÂá∫Áé∞BAD_ACCESSÈîôËØØÔºåÈÄöÂ∏∏ÊòØËÆøÈóÆ‰∫ÜÈáéÊåáÈíàÔºåÊØîÂ¶ÇËÆøÈóÆ‰∫ÜÂ∑≤ÁªèÈáäÊîæ‰∫ÜÁöÑÂØπË±°„ÄÇÂø´ÈÄüÂÆö‰ΩçÈóÆÈ¢òÁöÑÊ≠•È™§ÊúâÔºö 1. ÈáçÂÜôÂØπË±°ÁöÑrespondsToSelectorÊñπÊ≥ïÔºåÂÖàÊâæÂà∞Âá∫Áé∞EXECBADACCESSÂâçËÆøÈóÆÁöÑÊúÄÂêé‰∏Ä‰∏™object 2. ËÆæÁΩÆEnable Zombie Objects 3. ËÆæÁΩÆÂÖ®Â±ÄÊñ≠ÁÇπÂø´ÈÄüÂÆö‰ΩçÈóÆÈ¢ò‰ª£Á†ÅÊâÄÂú®Ë°åÔºåÊé•Êî∂ÊâÄÊúâÁöÑÂºÇÂ∏∏ 4. Xcode7Â∑≤ÁªèÈõÜÊàê‰∫ÜBAD_ACCESSÊçïËé∑ÂäüËÉΩÔºöAddress SanitizerÔºå‰∏éÊ≠•È™§2‰∏ÄÊ†∑ËÆæÁΩÆ 5. analyze‰πüË°åÔºà‰∏ç‰∏ÄÂÆöÁÆ°Áî®Ôºâ ‰ªÄ‰πàÊó∂ÂÄô‰ºöÊä• unrecognized selector ÂºÇÂ∏∏Ôºü ÂΩìË∞ÉÁî®ÂØπË±°ÔºàÂ≠êÁ±ªÔºåÂêÑÁ∫ßÁà∂Á±ªÔºâ‰∏≠‰∏çÂê´ÊúâÂØπÂ∫îÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåÂπ∂‰∏î‰æùÊóßÊ≤°ÊúâÁªôÂá∫‚ÄúÊ∂àÊÅØËΩ¨Âèë‚ÄùÁöÑÂÖ∑‰ΩìÊñπÊ°àÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫èÂú®ËøêË°åÊó∂‰ºöcrashÂπ∂ÊäõÂá∫ unrecognized selector ÂºÇÂ∏∏ objective-c ‰∏≠ÁöÑÊØè‰∏™ÊñπÊ≥ïÂú®ËøêË°åÊó∂‰ºöË¢´ËΩ¨‰∏∫Ê∂àÊÅØÂèëÈÄÅobjc_msgSend(reciver, selector) ‰æãÂ¶Ç [person say]Â∞±‰ºöË¢´ËΩ¨Âåñ‰∏∫ objc_msgSend(person, @selector(say)) ËøêË°åÊó∂‰ºöÊ†πÊçÆÂØπË±°(reciever) ÁöÑisa ÊåáÈíàÊâæÂà∞ËØ•ÂØπË±°ÊâÄÂØπÂ∫îÁöÑÁ±ªÔºåÁÑ∂Âêé‰ºö‰æùÊ¨°Âú®ÂØπÂ∫îÁöÑÁ±ªÔºåÁà∂Á±ªÔºåÁà∑Áà∑Á±ªÔºåÊ†πÁ±ª‰∏≠ÊâæÂØπÂ∫îÁöÑÊñπÊ≥ï ‰∏ãÈù¢Âè™ËÆ≤Ëø∞ÂØπË±°ÊñπÊ≥ïÁöÑËß£ÊûêËøáÁ®ãÔºö Á¨¨‰∏ÄÊ≠•Ôºö+ (BOOL)resolveInstanceMethod:(SEL)selÂÆûÁé∞ÊñπÊ≥ïÔºåÊåáÂÆöÊòØÂê¶Âä®ÊÄÅÊ∑ªÂä†ÊñπÊ≥ï„ÄÇËã•ËøîÂõûNOÔºåÂàôËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÔºåËã•ËøîÂõûYESÔºåÂàôÈÄöËøáclass_addMethodÂáΩÊï∞Âä®ÊÄÅÂú∞Ê∑ªÂä†ÊñπÊ≥ïÔºåÊ∂àÊÅØÂæóÂà∞Â§ÑÁêÜÔºåÊ≠§ÊµÅÁ®ãÂÆåÊØï„ÄÇ Á¨¨‰∫åÊ≠•ÔºöÂú®Á¨¨‰∏ÄÊ≠•ËøîÂõûÁöÑÊòØNOÊó∂ÔºåÂ∞±‰ºöËøõÂÖ•- (id)forwardingTargetForSelector:(SEL)aSelectorÊñπÊ≥ïÔºåËøôÊòØËøêË°åÊó∂ÁªôÊàë‰ª¨ÁöÑÁ¨¨‰∫åÊ¨°Êú∫‰ºöÔºåÁî®‰∫éÊåáÂÆöÂì™‰∏™ÂØπË±°ÂìçÂ∫îËøô‰∏™selector„ÄÇ‰∏çËÉΩÊåáÂÆö‰∏∫self„ÄÇËã•ËøîÂõûnilÔºåË°®Á§∫Ê≤°ÊúâÂìçÂ∫îËÄÖÔºåÂàô‰ºöËøõÂÖ•Á¨¨‰∏âÊ≠•„ÄÇËã•ËøîÂõûÊüê‰∏™ÂØπË±°ÔºåÂàô‰ºöË∞ÉÁî®ËØ•ÂØπË±°ÁöÑÊñπÊ≥ï„ÄÇ Á¨¨‰∏âÊ≠•ÔºöËã•Á¨¨‰∫åÊ≠•ËøîÂõûÁöÑÊòØnilÔºåÂàôÊàë‰ª¨È¶ñÂÖàË¶ÅÈÄöËøá- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelectorÊåáÂÆöÊñπÊ≥ïÁ≠æÂêçÔºåËã•ËøîÂõûnilÔºåÂàôË°®Á§∫‰∏çÂ§ÑÁêÜ„ÄÇËã•ËøîÂõûÊñπÊ≥ïÁ≠æÂêçÔºåÂàô‰ºöËøõÂÖ•‰∏ã‰∏ÄÊ≠•„ÄÇ Á¨¨ÂõõÊ≠•ÔºöÂΩìÁ¨¨‰∏âÊ≠•ËøîÂõûÊñπÊ≥ïÊñπÊ≥ïÁ≠æÂêçÂêéÔºåÂ∞±‰ºöË∞ÉÁî®- (void)forwardInvocation:(NSInvocation *)anInvocationÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáanInvocationÂØπË±°ÂÅöÂæàÂ§öÂ§ÑÁêÜÔºåÊØîÂ¶Ç‰øÆÊîπÂÆûÁé∞ÊñπÊ≥ïÔºå‰øÆÊîπÂìçÂ∫îÂØπË±°Á≠â Á¨¨‰∫îÊ≠•ÔºöËã•Ê≤°ÊúâÂÆûÁé∞- (void)forwardInvocation:(NSInvocation *)anInvocationÊñπÊ≥ïÔºåÈÇ£‰πà‰ºöËøõÂÖ•- (void)doesNotRecognizeSelector:(SEL)aSelectorÊñπÊ≥ï„ÄÇËã•Êàë‰ª¨Ê≤°ÊúâÂÆûÁé∞Ëøô‰∏™ÊñπÊ≥ïÔºåÈÇ£‰πàÂ∞±‰ºöcrashÔºåÁÑ∂ÂêéÊèêÁ§∫Êâì‰∏çÂà∞ÂìçÂ∫îÁöÑÊñπÊ≥ï„ÄÇÂà∞Ê≠§ÔºåÂä®ÊÄÅËß£ÊûêÁöÑÊµÅÁ®ãÂ∞±ÁªìÊùü‰∫Ü„ÄÇ ÊúâÂì™‰∫õÂ∏∏ËßÅÁöÑ Crash Âú∫ÊôØÔºü ËÆøÈóÆ‰∫ÜÂÉµÂ∞∏ÂØπË±° ËÆøÈóÆ‰∫Ü‰∏çÂ≠òÂú®ÁöÑÊñπÊ≥ï Êï∞ÁªÑË∂äÁïå Âú®ÂÆöÊó∂Âô®‰∏ã‰∏ÄÊ¨°ÂõûË∞ÉÂâçÂ∞ÜÂÆöÊó∂Âô®ÈáäÊîæ,‰ºöCrash lldbÔºàgdbÔºâÂ∏∏Áî®ÁöÑË∞ÉËØïÂëΩ‰ª§Ôºü‚Ä¢ p ËæìÂá∫Âü∫Êú¨Á±ªÂûã//p (int)[[[self view] subviews] count] ‚Ä¢ po Áî®‰∫éËæìÂá∫ Objective-C ÂØπË±°//po [self view] ‚Ä¢ expr ÂèØ‰ª•Âú®Ë∞ÉËØïÊó∂Âä®ÊÄÅÊâßË°åÊåáÂÆöË°®ËææÂºèÔºåÂπ∂Â∞ÜÁªìÊûúÊâìÂç∞Âá∫Êù•„ÄÇÂ∏∏Áî®‰∫éÂú®Ë∞ÉËØïËøáÁ®ã‰∏≠‰øÆÊîπÂèòÈáèÁöÑÂÄº„ÄÇ//Ê∫ê‰ª£Á†Å‰∏≠ a = 1 Ôºõexpr a=2 ËæìÂá∫ÁªìÊûúÔºö(int) $0 = 2 Â¶ÇÊûú‰∏Ä‰∏™ÂáΩÊï∞10Ê¨°‰∏≠Êúâ7Ê¨°Ê≠£Á°ÆÔºå3Ê¨°ÈîôËØØÔºåÈóÆÈ¢òÂèØËÉΩÂá∫Áé∞Âú®Âì™ÈáåÔºüËøôÊ†∑ÁöÑÈóÆÈ¢òÈÄöËøáÂ∫îËÅòËÄÖÁöÑÂàÜÊûêÔºåÂèØ‰ª•Áü•ÈÅìÂ∫îËÅòËÄÖÁöÑÂäüÂ∫ïÂ¶Ç‰Ωï„ÄÇÂæàÂ§ö‰∫∫ÁöÑÂõûÁ≠î‰ºöÊòØÂæàÁÆÄÂçïÁöÑÔºåÊ≤°Êúâ‰ªéÂ§öÊñπÈù¢ÂéªÂàÜÊûê„ÄÇËøôÊ†∑ÁöÑÈóÆÈ¢ò‰πüÊòØÂæàÊúâÊÑè‰πâÁöÑÔºåÂú®È°πÁõÆÂºÄÂèë‰∏≠ÊâÄ‰∫ßÁîüÁöÑbugÔºåÊúâÁöÑÊó∂ÂÄô‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåËÄå‰ª£Á†ÅÈáèÊØîËæÉÂ§ß‰∏î‰∏öÂä°ÊØîËæÉÂ§çÊùÇÊó∂ÔºåÈÄöËøáÂÖ∂‰ªñÂ∑•ÂÖ∑Âπ∂‰∏çËÉΩÂàÜÊûêÂá∫Êù•ÊòØ‰ªÄ‰πàbugÔºå‰ΩÜÊòØÊàë‰ª¨Âç¥ÂèØ‰ª•Ê†πÊçÆÂá∫Áé∞ÁöÑÈ¢ëÁéáÊé®Êµã„ÄÇÁ¨îËÄÖÊääËøô‰∏™ÈóÆÈ¢òÂΩì‰ΩúÊµãËØïÈÉ®ÂèçÈ¶àËøáÊù•ÁöÑbugÊèèËø∞ÈóÆÈ¢òÊù•ÂàÜÊûê‰∏Ä‰∏ã„ÄÇ ÂèÇËÄÉÁ≠îÊ°àÔºö ‰ªéÈóÆÈ¢òÊèèËø∞ÂèØÁü•Ôºåbug‰∏ç‰ºöÂøÖÁé∞ÁöÑÔºåÂõ†Ê≠§Êó†Ê≥ïÁõ¥Êé•ÂÆö‰ΩçÂá∫Èîô‰πãÂ§Ñ„ÄÇ‰ªé‰ª•‰∏ãËßíÂ∫¶Âá∫Áé∞Êù•ÂàÜÊûêÂèØËÉΩÂá∫Èîô‰πãÂ§ÑÔºö 1. Âõ†Âá∫ÈîôÂπ∂‰∏çÊòØÂ¥©Ê∫ÉÔºåÂõ†Ê≠§Ê≤°ÊúâÈîôËØØÊó•ÂøóÂèØÁúã„ÄÇÁ¨¨‰∏ÄÊ≠•Â∞±ÊòØÂàÜÊûêÂáΩÊï∞‰∏≠ÁöÑÊâÄÊúâÂàÜÊîØÔºåÊòØÂê¶Âú®ËØ≠Ê≥ï‰∏äÂ≠òÂú®ÂèØËÉΩÁº∫Â∞ëÊù°‰ª∂ÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•ÔºåÊ£ÄÊü•ÊâÄÊúâÁöÑÂàÜÊîØÔºåÁ°Æ‰øùÊØè‰∏™ÂàÜÊîØÊâßË°åÁöÑÁªìÊûúÁöÑÊ≠£Á°ÆÁöÑ 2. Ê£ÄÊµãÂáΩÊï∞ÁöÑÂèÇÊï∞Ôºå‰øùËØÅÂøÖ‰º†ÂèÇÊï∞‰∏çËÉΩ‰∏∫Á©∫ÔºåËã•‰∏∫Á©∫Â∫îËØ•ÊäõÂá∫ÂºÇÂ∏∏„ÄÇÂõ†Ê≠§ÔºåÁî®Êñ≠Ë®ÄÊ£ÄÊµãÂèÇÊï∞ÁöÑÊ≠£Á°ÆÊÄßÊòØÂæàÈáçË¶ÅÁöÑ„ÄÇ 3. Ê£ÄÊµãÂáΩÊï∞‰∏≠ÊØè‰∏™ÂàÜÊîØÊâÄË∞ÉÁî®ÁöÑÂáΩÊï∞ËøîÂõûÁªìÊûúÊòØÊ≠£Á°ÆÁöÑÔºåÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ÈÄíÂΩíÁöÑËøáÁ®ãÔºàÊ≠•È™§1„ÄÅ2Ôºâ ‰Ω†‰∏ÄËà¨ÊòØÂ¶Ç‰ΩïË∞ÉËØïBugÁöÑÔºüËøô‰∏™ÈóÆÈ¢òÁúãËµ∑Êù•ÂæàÁ¨ºÁªüÔºå‰ΩÜÂèà‰∏ÄÈíàËßÅË°Ä„ÄÇÈÄöËøáÂ∫îËÅòËÄÖÁöÑÂõûÁ≠îÔºåÂèØÂæàÁõ¥ËßÇÂú∞ÁúãÂá∫Ëøô‰∏™Â∫îËÅòËÄÖÁöÑÂ§ÑÁêÜbugÁöÑËÉΩÂäõÔºå‰ª•ÂèäÂÖ∂Ëß£ÂÜ≥ÈóÆÈ¢òÁöÑÊÄùÁª¥„ÄÇ ÂèÇËÄÉÁ≠îÊ°àÔºö BugÂàÜ‰∏∫ÊµãËØï‰∏≠ÁöÑBugÂíåÁ∫ø‰∏äÁöÑBugÔºö ‚Ä¢ Á∫ø‰∏äBugÔºöÈ°πÁõÆ‰ΩøÁî®‰∫ÜÂèãÁõüÁªüËÆ°ÔºåÂõ†Ê≠§‰ºöÊúâÂ¥©Ê∫ÉÊó•ÂøóÔºåÈÄöËøáËß£ÊûêdYSMÂèØ‰ª•Áõ¥Êé•ÂÆö‰ΩçÂà∞Â§ßÈÉ®ÂàÜbugÂ¥©Ê∫É‰πãÂ§Ñ„ÄÇËß£ÂÜ≥Á∫ø‰∏äbugÈúÄË¶Å‰ªé‰∏ªÂπ≤Êãâ‰∏Ä‰∏™Êñ∞ÁöÑÂàÜÊîØÔºåËß£ÂÜ≥bugÂπ∂ÊµãËØïÈÄöËøáÂêéÔºåÂÜçÂêàÂπ∂Âà∞‰∏ªÂπ≤ÔºåÁÑ∂Âêé‰∏äÁ∫ø„ÄÇËã•ÊòØÂ§öÂõ¢ÈòüÂºÄÂèëÔºåÂèØ‰ª•Â∞Üfix bugÂàÜÊîØ‰∏éÂÖ∂‰ªñÂõ¢ÈòüÊúÄËøëË¶Å‰∏äÁ∫øÁöÑÂàÜÊîØÈõÜÊàêÔºåÁÑ∂ÂêéÈõÜÊàêÊµãËØïÂÜç‰∏äÁ∫ø„ÄÇ ‚Ä¢ ÊµãËØïBugÔºöÊ†πÊçÆÊµãËØïÊâÄÂèçÈ¶àÁöÑbugÊèèËø∞ÔºåËã•ËØ≠‰πâ‰∏çÊ∏ÖÊô∞ÔºåÂàôÁõ¥Êé•ÊâæÂà∞Êèêbug‰∫∫ÔºåÊìç‰ΩúÁªôÂºÄÂèë‰∫∫ÂëòÁúãÔºåÊúÄÂ•ΩÊòØÂèØ‰ª•bugÂ§çÁé∞„ÄÇËß£ÂÜ≥bugÊó∂ÔºåËã•ËÉΩÊ†πÊçÆÊèèËø∞Áõ¥Êé•ÂÆö‰ΩçbugÂá∫Èîô‰πãÂ§ÑÔºåÂàôÂ•ΩÂ§ÑÁêÜÔºõËã•Êó†Ê≥ïÁõ¥ËßÇÂÆö‰ΩçÔºåÂàôÊ†πÊçÆbugÁ±ªÂûãÂàÜÂá†ÁßçÂ§ÑÁêÜÊñπÂºèÔºåÊØîÂ¶ÇÂ¥©Ê∫ÉÁöÑbugÂèØ‰ª•ÈÄöËøáinstrumentsÊù•Ê£ÄÊµã„ÄÅÊï∞ÊçÆÊòæÁ§∫ÈîôËØØÁöÑbugÔºåÂàôÈúÄË¶ÅÈòÖËØª‰ª£Á†Å‰∏ÄÊ≠•Ê≠•Êü•ÁúãÈÄªËæëÂì™ÈáåÂÜôÈîô„ÄÇ ÂØπ‰∫éÂºÄÂèë‰∏≠Âá∫Áé∞ÁöÑÂ¥©Ê∫ÉÊàñËÄÖÊï∞ÊçÆÊòæÁ§∫‰∏çÊ≠£Â∏∏ÔºåÈÇ£Â∞±ÈúÄË¶ÅÊ†πÊçÆÁªèÈ™åÊàñËÄÖÁõ∏ÂÖ≥Â∑•ÂÖ∑Êù•Ê£ÄÊµãÂèØËÉΩÂá∫Èîô‰πãÂ§Ñ„ÄÇÂΩìÁÑ∂ÔºåÂõ¢ÈòüÂÜÖÊ≤üÈÄöËß£ÂÜ≥ÊòØÊúÄÂ•ΩÁöÑ„ÄÇ Ëé∑Âèñ‰∏ÄÂè∞ËÆæÂ§áÂîØ‰∏ÄÊ†áËØÜÁöÑÊñπÊ≥ïÊúâÂì™‰∫õÔºü Áé∞Âú®Â∏∏Áî®ÁöÑÊòØÁî®UUID + keychainÁªìÂêàÊù•ÂÆûÁé∞Ëøô‰∏™ÈúÄÊ±Ç„ÄÇ UUIDÊòØUniversally Unique IdentifierÁöÑÁº©ÂÜôÔºå‰∏≠ÊñáÊÑèÊÄùÊòØÈÄöÁî®ÂîØ‰∏ÄËØÜÂà´Á†Å„ÄÇÂÆÉÊòØËÆ©ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÔºåÈÉΩËÉΩÊúâÂîØ‰∏ÄÁöÑËæ®ËØÜËµÑËÆØÔºåËÄå‰∏çÈúÄË¶ÅÈÄèËøá‰∏≠Â§ÆÊéßÂà∂Á´ØÊù•ÂÅöËæ®ËØÜËµÑËÆØÁöÑÊåáÂÆö„ÄÇËøôÊ†∑ÔºåÊØè‰∏™‰∫∫ÈÉΩÂèØ‰ª•Âª∫Á´ã‰∏ç‰∏éÂÖ∂ÂÆÉ‰∫∫ÂÜ≤Á™ÅÁöÑ UUID„ÄÇÂú®Ê≠§ÊÉÖÂÜµ‰∏ãÔºåÂ∞±‰∏çÈúÄËÄÉËôëÊï∞ÊçÆÂ∫ìÂª∫Á´ãÊó∂ÁöÑÂêçÁß∞ÈáçÂ§çÈóÆÈ¢ò„ÄÇËãπÊûúÂÖ¨Âè∏Âª∫ËÆÆ‰ΩøÁî®UUID‰∏∫Â∫îÁî®ÁîüÊàêÂîØ‰∏ÄÊ†áËØÜÂ≠óÁ¨¶‰∏≤„ÄÇ //Ëé∑Âèñ‰∏Ä‰∏™UUID - (NSString*)uuid { CFUUIDRef uuid = CFUUIDCreate( nil ); CFStringRef uuidString = CFUUIDCreateString( nil, uuid ); NSString * result = (NSString *)CFBridgingRelease(CFStringCreateCopy( NULL, uuidString)); CFRelease(uuid); CFRelease(uuidString); return result; } Áé∞Âú®Êàë‰ª¨Ëé∑ÂèñÂà∞‰∫Ü‰∏Ä‰∏™UUIDÔºåËôΩÁÑ∂Ëøô‰∏™Ê†áËØÜÊòØÂîØ‰∏ÄÁöÑÔºå‰ΩÜÊòØËøôÊ†∑ËøòÊòØÊó†Ê≥ï‰øùËØÅÊØè‰∏ÄÊ¨°ÁöÑÂîØ‰∏ÄÊÄßÔºåÂõ†‰∏∫ÂΩì‰Ω†ÊØèÊ¨°Ë∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ïÊàñËÄÖÊääÂ∫îÁî®Âç∏ËΩΩ‰∫ÜÔºåUUID‰ºöÈáçÊñ∞ÁîüÊàê‰∏Ä‰∏™‰∏çÂêåÁöÑ„ÄÇËøô‰∏™Êó∂ÂÄôkeychainÂ∞±Ëµ∑Âà∞‰∫Ü‰ΩúÁî®„ÄÇ ÊâÄ‰ª•Êï¥‰∏™ÈÄªËæëÊòØËøôÊ†∑ÁöÑÔºöÂÖà‰ªékeychainÂèñUUIDÔºåÂ¶ÇÊûúËÉΩÂèñÂà∞ÔºåÂ∞±Áî®Ëøô‰∏™ÊØîÂØπÔºåÂ¶ÇÊûúÂèñ‰∏çÂà∞Â∞±ÈáçÊñ∞ÁîüÊàê‰∏Ä‰∏™‰øùÂ≠òËµ∑Êù•„ÄÇkeychainÁã¨Á´ãÂú®App‰πãÂ§ñÔºåÊòØÂíåÁ≥ªÁªüÁªü‰∏ÄÁ≠âÁ∫ßÁöÑÔºåÊâÄ‰ª•‰Ω†‰∏çÁî®ÊãÖÂøÉÂÆÉÊåÇÊéâ„ÄÇ keychainÊòØËãπÊûúÂÖ¨Âè∏Mac OS‰∏≠ÁöÑÂØÜÁ†ÅÁÆ°ÁêÜÁ≥ªÁªü„ÄÇÂÆÉÂú®Mac OS 8.6‰∏≠Ë¢´ÂØºÂÖ•ÔºåÂπ∂‰∏îÂåÖÊã¨Âú®‰∫ÜÊâÄÊúâÂêéÁª≠ÁöÑMac OSÁâàÊú¨‰∏≠ÔºåÂåÖÊã¨Mac OS X„ÄÇ‰∏Ä‰∏™Èí•Âåô‰∏≤ÂèØ‰ª•ÂåÖÂê´Â§öÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆÔºöÂØÜÁ†ÅÔºàÂåÖÊã¨ÁΩëÁ´ôÔºåFTPÊúçÂä°Âô®ÔºåSSHÂ∏êÊà∑ÔºåÁΩëÁªúÂÖ±‰∫´ÔºåÊó†Á∫øÁΩëÁªúÔºåÁæ§ÁªÑËΩØ‰ª∂ÔºåÂä†ÂØÜÁ£ÅÁõòÈïúÂÉèÁ≠âÔºâÔºåÁßÅÈí•ÔºåÁîµÂ≠êËØÅ‰π¶ÂíåÂä†ÂØÜÁ¨îËÆ∞Á≠â„ÄÇiOSÁ´ØÂêåÊ†∑Êúâ‰∏™keychainÂ∏ÆÂä©Êàë‰ª¨ÁÆ°ÁêÜËøô‰∫õÊïèÊÑü‰ø°ÊÅØ„ÄÇ ‰ΩøÁî®Ëøákeychain‰øùÂ≠òËøáË¥¶Âè∑ÂØÜÁ†ÅÁöÑÁ´•ÈûãÂ∫îËØ•ÂØπËøô‰∏™Â∑•ÂÖ∑ÈùûÂ∏∏‰∫ÜËß£ÔºåÂú®ËøôÈáå‰∏çÂÅöËøáÂ§öËß£Èáä„ÄÇ‰ΩøÁî®keychainÈúÄË¶ÅÂØºÂÖ•Security.frameworkÂíåKeychainItemWrapper.h/.mÔºåKeychainItemWrapper.h/.mÊêú‰∏Ä‰∏ãÂèØ‰ª•‰∏ãËΩΩ‰∏ãÊù•ÔºåÊãñÂÖ•Â∑•Á®ã‰∏≠„ÄÇ‰øùÂ≠òUUID‰ª£Á†ÅÂ¶Ç‰∏ãÔºö - (void)saveUuidWithKeyChain { KeychainItemWrapper *keychainItem = [[KeychainItemWrapper alloc] initWithIdentifier:@"UUID" accessGroup:@"com.xxx.www"]; NSString *strUUID = [keychainItem objectForKey:(id)kSecValueData]; if (strUUID == nil || [strUUID isEqualToString:@""]) { [keychainItem setObject:[self uuid] forKey:(id)kSecValueData]; } } Ê≥®ÔºöËøô‰∏™ÊñπÊ≥ï‰∏≠accessGroup:Ëøô‰∏™ÂèÇÊï∞Â¶ÇÊûú‰∏Ä‰∫õAppËÆæÁΩÆÁõ∏ÂêåÁöÑËØùÔºåÊòØÂèØ‰ª•ÂÖ±‰∫´ÁöÑ„ÄÇ ‰ªékeychainËé∑ÂèñUUIDÁöÑÊñπÊ≥ïÂ¶Ç‰∏ãÔºö - (NSString *)getKeychain { KeychainItemWrapper *keychainItem = [[KeychainItemWrapper alloc] initWithIdentifier:@"UUID" accessGroup:@"com.xxx.www"]; NSString *strUUID = [keychainItem objectForKey:(id)kSecValueData]; return strUUID; } Ëá≥Ê≠§ÔºåÂü∫Êú¨‰∏äÂîØ‰∏ÄÊ†áËØÜÁöÑÂá†‰∏™ÊñπÊ≥ïÁÆóÊòØÂÜôÂÆå‰∫ÜÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÊµãËØï‰∏Ä‰∏ãÔºåÂç∏ËΩΩÂ∫îÁî®ÂÜçÈáçÊñ∞Ë£ÖÔºå‰ªékeychainËØªÂèñÁöÑUUIDËøòÊòØÂíå‰πãÂâç‰∏ÄÊ†∑„ÄÇ ‰ΩÜËøôÈáåÊúâ‰∏™‰∏çÁ°ÆÂÆöÂõ†Á¥†ÔºåÂ∞±ÊòØÊâãÊú∫Á≥ªÁªüÊÅ¢Â§çÂá∫ÂéÇËÆæÁΩÆÊàñËÄÖÊäπÊéâÊâÄÊúâÊï∞ÊçÆÁöÑËØùÔºåËøô‰∏™ÊñπÊ≥ï‰πüÂèØËÉΩ‰∏çËµ∑‰ΩúÁî®‰∫ÜÔºåÂõ†‰∏∫ÂÆÉÊòØ‰æùÈù†Èí•Âåô‰∏≤Âú®ÁîüÂ≠òÔºåÈí•Âåô‰∏≤ÊåÇÊéâÁöÑËØùÂÆÉ‰πüÂ∞±Â§±Êïà‰∫Ü„ÄÇ ‰Ω†‰∏ÄËà¨ÊòØÊÄé‰πàÁî® Instruments ÁöÑÔºü Ëøô‰∏™ÈóÆÈ¢ò‰πüÂ∞±ÊòØËÄÉÂØü‰∏ã‰Ω†ÁªèÈ™åÂ¶Ç‰Ωï‰∫Ü, InstrumentsÈáåÈù¢Â∑•ÂÖ∑ÂæàÂ§ö,‰πüÊ≤°ÂøÖË¶ÅÈÄê‰∏ÄËØ¥Êòé,ÊåëÂá†‰∏™Â∏∏Áî®ÁöÑËØ¥‰∏ãÂ∞±Â•Ω ÂèÇËÄÉÁ≠îÊ°à: Time Profiler:ÊÄßËÉΩÂàÜÊûê Zombies:Ê£ÄÊü•ÊòØÂê¶ËÆøÈóÆ‰∫ÜÂÉµÂ∞∏ÂØπË±°,‰ΩÜÊòØËøô‰∏™Â∑•ÂÖ∑Âè™ËÉΩ‰ªé‰∏äÂæÄ‰∏ãÊ£ÄÊü•,‰∏çÊô∫ËÉΩ Allocations:Áî®Êù•Ê£ÄÊü•ÂÜÖÂ≠ò,ÂÜôÁÆóÊ≥ïÁöÑÈÇ£Êâπ‰∫∫‰πüÁî®Ëøô‰∏™Êù•Ê£ÄÊü• Leaks:Ê£ÄÊü•ÂÜÖÂ≠ò,ÁúãÊòØÂê¶ÊúâÂÜÖÂ≠òÊ≥ÑÈú≤ ‰Ω†‰∏ÄËà¨ÊòØÂ¶Ç‰ΩïË∞ÉËØï Bug ÁöÑÔºü Êü•ÁúãÂºÇÂ∏∏Êä•Âëä ÈÖçÁΩÆÁõ∏ÂÖ≥ÁéØÂ¢ÉÔºåÈáçÁé∞bug ‰ª£Á†ÅÊ£ÄÊü• Áî®ÊµãËØïÊ°à‰æãÊù•ÊçïËé∑bug ÂèØ‰ª•ËØ∑Âêå‰∫ã‰∏ÄÂêåÊù•ÂÆ°Êü•ÈóÆÈ¢òÔºåÊúâ‰∫õÊó∂ÂÄôÂΩìÂ±ÄËÄÖËø∑ÔºåÊóÅËßÇËÄÖÊ∏Ö„ÄÇ Â¶Ç‰ΩïÂØπiOSËÆæÂ§áËøõË°åÊÄßËÉΩÊµãËØï?Profile-&gt; Instruments -&gt;Time Profiler ËøõË°åÊÄßËÉΩÊµãËØïÔºÅ ÊµãËØïiOSÁâàÁöÑ App Ê≥®ÊÑè‰∫ãÈ°πÂàÜ‰∫´‰ª•‰∏ãÂá†ÁÇπÔºö 1.app‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊé•Âê¨ÁîµËØù„ÄÇÂèØ‰ª•ÊµãËØï‰∏çÂêåÁöÑÈÄöËØùÊó∂Èó¥ÁöÑÈïøÁü≠ÔºåÂØπ‰∫éÈÄöËØùÁªìÊùüÂêéÔºåÂéüÂÖàÊâìÂºÄÁöÑappÁöÑÂìçÂ∫îÔºåÊØîÂ¶ÇÊòØÂê¶ÂÅúÁïôÂú®ÂéüÂÖàÁïåÈù¢ÔºåÁªßÁª≠Êìç‰ΩúÊó∂ÁöÑÁõ∏Â∫îÈÄüÂ∫¶Á≠â„ÄÇ 2.app‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊúâÊé®ÈÄÅÊ∂àÊÅØÊó∂ÔºåÂØπappÁöÑ‰ΩøÁî®ÂΩ±Âìç 3.ËÆæÂ§áÂú®ÂÖÖÁîµÊó∂ÔºåappÁöÑÂìçÂ∫î‰ª•ÂèäÊìç‰ΩúÊµÅÁïÖÂ∫¶ 4.ËÆæÂ§áÂú®‰∏çÂêåÁîµÈáèÊó∂(‰Ωé‰∫é10%Ôºå50%Ôºå95%)ÔºåappÁöÑÂìçÂ∫î‰ª•ÂèäÊìç‰ΩúÊµÅÁïÖÂ∫¶ 5.ÊÑèÂ§ñÊñ≠ÁîµÊó∂ÔºåappÊï∞ÊçÆ‰∏¢Â§±ÊÉÖÂÜµ 6.ÁΩëÁªúÁéØÂ¢ÉÂèòÂåñÊó∂ÔºåappÁöÑÂ∫îÂØπÊÉÖÂÜµÂ¶Ç‰ΩïÔºöÊòØÂê¶ÊúâÈÄÇÂΩìÊèêÁ§∫?‰ªéÊúâÁΩëÁªúÁéØÂ¢ÉÂà∞Êó†ÁΩëÁªúÁéØÂ¢ÉÊó∂ÔºåappÁöÑÂèçÈ¶àÂ¶Ç‰Ωï?‰ªéÊó†ÁΩëÁªúÁéØÂ¢ÉÂõûÂà∞ÊúâÁΩëÁªúÁéØÂ¢ÉÊó∂ÔºåÊòØÂê¶ËÉΩËá™Âä®Âä†ËΩΩÊï∞ÊçÆÔºåÂ§ö‰πÖÊâçËÉΩÂºÄÂßãÂä†ËΩΩÊï∞ÊçÆ 7.Â§öÁÇπËß¶Êë∏ÁöÑÊÉÖÂÜµ 8.Ë∑üÂÖ∂‰ªñapp‰πãÈó¥‰∫íÁõ∏ÂàáÊç¢Êó∂ÁöÑÂìçÂ∫î 9.ËøõÁ®ãÂÖ≥Èó≠ÂÜçÈáçÊñ∞ÊâìÂºÄÁöÑÂèçÈ¶à 10.IOSÁ≥ªÁªüËØ≠Ë®ÄÁéØÂ¢ÉÂèòÂåñÊó∂]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò9--UI]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%989-UI%2F</url>
    <content type="text"><![CDATA[viewcontrollerÁöÑ‰∏Ä‰∫õÊñπÊ≥ïÁöÑËØ¥ÊòéviewDidLoad,viewWillDisappear, viewWillAppearÊñπÊ≥ïÁöÑ È°∫Â∫èÂíå‰ΩúÁî®ÔºüviewWillAppear:ËßÜÂõæÂç≥Â∞ÜÂèØËßÅÊó∂Ë∞ÉÁî®„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏çÊâßË°å‰ªª‰ΩïÊìç‰Ωú viewDidAppear:ËßÜÂõæÂ∑≤ÂÆåÂÖ®ËøáÊ∏°Âà∞Â±èÂπï‰∏äÊó∂Ë∞ÉÁî® viewWillDisappear:ËßÜÂõæË¢´È©≥ÂõûÊó∂Ë∞ÉÁî®ÔºåË¶ÜÁõñÊàñ‰ª•ÂÖ∂‰ªñÊñπÂºèÈöêËóè„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏çÊâßË°å‰ªª‰ΩïÊìç‰Ωú viewDidDisappear:ËßÜÂõæË¢´È©≥ÂõûÂêéË∞ÉÁî®ÔºåË¶ÜÁõñÊàñ‰ª•ÂÖ∂‰ªñÊñπÂºèÈöêËóè„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏çÊâßË°å‰ªª‰ΩïÊìç‰ΩúloadView; .ËøôÊòØÂΩì‰ªñ‰ª¨Ê≤°ÊúâÊ≠£Âú®‰ΩøÁî®nibËßÜÂõæÈ°µÈù¢ÔºåÂ≠êÁ±ªÂ∞Ü‰ºöÂàõÂª∫Ëá™Â∑±ÁöÑËá™ÂÆö‰πâËßÜÂõæÂ±Ç„ÄÇÁªù‰∏çËÉΩÁõ¥Êé•Ë∞ÉÁî®„ÄÇ viewDidLoad:Âú®ËßÜÂõæÂä†ËΩΩÂêéË¢´Ë∞ÉÁî®ÔºåÂ¶ÇÊûúÊòØÂú®‰ª£Á†Å‰∏≠ÂàõÂª∫ÁöÑËßÜÂõæÂä†ËΩΩÂô®Ôºå‰ªñÂ∞Ü‰ºöÂú®loadViewÊñπÊ≥ïÂêéË¢´Ë∞ÉÁî®ÔºåÂ¶ÇÊûúÊòØ‰ªénibËßÜÂõæÈ°µÈù¢ËæìÂá∫Ôºå‰ªñÂ∞Ü‰ºöÂú®ËßÜÂõæËÆæÁΩÆÂ•ΩÂêéÂêéË¢´Ë∞ÉÁî®„ÄÇ „ÄåinitWithNibName: bundle:„ÄçËΩΩÂÖ•nibÊ°£Ê°àÊù•ÂàùÂßãÂåñ„ÄåloadView„ÄçËΩΩÂÖ•ËßÜÂõæ„ÄåviewDidLoad„ÄçÂú®ËΩΩÂÖ•ËßÜÂõæËá≥ÂÜÖÂ≠òÂêé‰ºöÂëºÂè´ÁöÑÊñπÊ≥ï„ÄåviewDidUnload„ÄçÂú®ËßÜÂõæ‰ªéÂÜÖÂ≠ò‰∏≠ÈáäÊîæÂêé‰ºöÂëºÂè´ÁöÑÊñπÊ≥ï (ÂΩìÂÜÖÂ≠òËøá‰ΩéÔºåÈáäÊîæ‰∏Ä‰∫õ‰∏çÈúÄË¶ÅÁöÑËßÜÂõæÊó∂Ë∞ÉÁî®) „ÄåviewWillAppear„ÄçÂΩìÊî∂Âà∞ËßÜÂõæÂú®ËßÜÁ™óÂ∞ÜÂèØËßÅÊó∂ÁöÑÈÄöÁü•‰ºöÂëºÂè´ÁöÑÊñπÊ≥ï „ÄåviewDidAppear„ÄçÂΩìÊî∂Âà∞ËßÜÂõæÂú®ËßÜÁ™óÂ∑≤ÂèØËßÅÊó∂ÁöÑÈÄöÁü•‰ºöÂëºÂè´ÁöÑÊñπÊ≥ï „ÄåviewWillDisappear„ÄçÂΩìÊî∂Âà∞ËßÜÂõæÂ∞ÜÂéªÈô§„ÄÅË¢´Ë¶ÜÁõñÊàñÈöêËóè‰∫éËßÜÁ™óÊó∂ÁöÑÈÄöÁü•‰ºöÂëºÂè´ÁöÑÊñπÊ≥ï „ÄåviewDidDisappear„ÄçÂΩìÊî∂Âà∞ËßÜÂõæÂ∑≤ÂéªÈô§„ÄÅË¢´Ë¶ÜÁõñÊàñÈöêËóè‰∫éËßÜÁ™óÊó∂ÁöÑÈÄöÁü•‰ºöÂëºÂè´ÁöÑÊñπÊ≥ï „ÄådidReceiveMemoryWarning„ÄçÊî∂Âà∞Á≥ªÁªü‰º†Êù•ÁöÑÂÜÖÂ≠òË≠¶ÂëäÈÄöÁü•Âêé‰ºöÊâßË°åÁöÑÊñπÊ≥ï „ÄåshouldAutorotateToInterfaceOrientation„ÄçÊòØÂê¶ÊîØÊåÅ‰∏çÂêåÊñπÂêëÁöÑÊóãËΩ¨ËßÜÂõæ „ÄåwillAnimateRotationToInterfaceOrientation„ÄçÂú®ËøõË°åÊóãËΩ¨ËßÜÂõæÂâçÁöÑ‰ºöÊâßË°åÁöÑÊñπÊ≥ïÔºàÁî®‰∫éË∞ÉÊï¥ÊóãËΩ¨ËßÜÂõæ‰πãÁî®Ôºâ ‰ª£Á†ÅÁöÑÊâßË°åÈ°∫Â∫è 1„ÄÅ alloc ÂàõÂª∫ÂØπË±°ÔºåÂàÜÈÖçÁ©∫Èó¥ 2„ÄÅinit (initWithNibName) ÂàùÂßãÂåñÂØπË±°ÔºåÂàùÂßãÂåñÊï∞ÊçÆ 3„ÄÅloadView ‰ªénibËΩΩÂÖ•ËßÜÂõæ ÔºåÈÄöÂ∏∏Ëøô‰∏ÄÊ≠•‰∏çÈúÄË¶ÅÂéªÂπ≤Ê∂â„ÄÇÈô§Èùû‰Ω†Ê≤°Êúâ‰ΩøÁî®xibÊñá‰ª∂ÂàõÂª∫ËßÜÂõæ 4„ÄÅviewDidLoad ËΩΩÂÖ•ÂÆåÊàêÔºåÂèØ‰ª•ËøõË°åËá™ÂÆö‰πâÊï∞ÊçÆ‰ª•ÂèäÂä®ÊÄÅÂàõÂª∫ÂÖ∂‰ªñÊéß‰ª∂ 5„ÄÅviewWillAppear ËßÜÂõæÂ∞ÜÂá∫Áé∞Âú®Â±èÂπï‰πãÂâçÔºåÈ©¨‰∏äËøô‰∏™ËßÜÂõæÂ∞±‰ºöË¢´Â±ïÁé∞Âú®Â±èÂπï‰∏ä‰∫Ü 6„ÄÅviewDidAppear ËßÜÂõæÂ∑≤Âú®Â±èÂπï‰∏äÊ∏≤ÊüìÂÆåÊàêÂΩì‰∏Ä‰∏™ËßÜÂõæË¢´ÁßªÈô§Â±èÂπïÂπ∂‰∏îÈîÄÊØÅÁöÑÊó∂ÂÄôÁöÑÊâßË°åÈ°∫Â∫èÔºåËøô‰∏™È°∫Â∫èÂ∑Æ‰∏çÂ§öÂíå‰∏äÈù¢ÁöÑÁõ∏Âèç 1„ÄÅviewWillDisappear ËßÜÂõæÂ∞ÜË¢´‰ªéÂ±èÂπï‰∏äÁßªÈô§‰πãÂâçÊâßË°å 2„ÄÅviewDidDisappear ËßÜÂõæÂ∑≤ÁªèË¢´‰ªéÂ±èÂπï‰∏äÁßªÈô§ÔºåÁî®Êà∑Áúã‰∏çÂà∞Ëøô‰∏™ËßÜÂõæ‰∫Ü 3„ÄÅdealloc ËßÜÂõæË¢´ÈîÄÊØÅÔºåÊ≠§Â§ÑÈúÄË¶ÅÂØπ‰Ω†Âú®initÂíåviewDidLoad‰∏≠ÂàõÂª∫ÁöÑÂØπË±°ËøõË°åÈáäÊîæ ‰ªÄ‰πàÊòØkey windowÔºü ‰∏Ä‰∏™Á™óÂè£ÂΩìÂâçËÉΩÊé•ÂèóÈîÆÁõòÂíåÈùûËß¶Êë∏‰∫ã‰ª∂Êó∂Ôºå‰æøË¢´ËÆ§‰∏∫ÊòØ‰∏ªÁ™óÂè£„ÄÇËÄåËß¶Êë∏‰∫ã‰ª∂ÂàôË¢´ÊäïÈÄíÂà∞Ëß¶Êë∏ÂèëÁîüÁöÑÁ™óÂè£ÔºåÊ≤°ÊúâÁõ∏Â∫îÂùêÊ†áÂÄºÁöÑ‰∫ã‰ª∂Ë¢´ÊäïÈÄíÂà∞‰∏ªÁ™óÂè£„ÄÇÂêå‰∏ÄÊó∂ÂàªÂè™Êúâ‰∏Ä‰∏™Á™óÂè£ÊòØ‰∏ªÁ™óÂè£„ÄÇ Ë∞à‰∏ÄË∞à‰Ω†ÊòØÊÄé‰πàÂ∞ÅË£ÖviewÁöÑ- ÂÖàÊ∑ªÂä†ÊâÄÈúÄÂ≠êÊéß‰ª∂ - ÂÜçÊé•Êî∂Ê®°ÂûãÊï∞ÊçÆÊ†πÊçÆÊ®°ÂûãÊï∞ÊçÆËÆæÁΩÆÂ≠êÊéß‰ª∂Êï∞ÊçÆÂíå‰ΩçÁΩÆ - ÁÆÄËÄåË®Ä‰πã, Ëá™Â∑±ÁöÑ‰∫ãÊÉÖËá™Â∑±ÂÅö, Êää‰∏çÈúÄË¶ÅÊö¥Èú≤Âá∫ÂéªÁöÑÂ∞ÅË£ÖËµ∑Êù• ÁÆÄÂçïËØ¥‰∏Ä‰∏ãAPPÁöÑÂêØÂä®ËøáÁ®ã,‰ªémainÊñá‰ª∂ÂºÄÂßãËØ¥Ëµ∑Á®ãÂ∫èÂêØÂä®ÂàÜ‰∏∫‰∏§Á±ª:1.Êúâstoryboard 2.Ê≤°Êúâstoryboard ÊúâstoryboardÊÉÖÂÜµ‰∏ã: 1.mainÂáΩÊï∞ 2.UIApplicationMain * ÂàõÂª∫UIApplicationÂØπË±° * ÂàõÂª∫UIApplicationÁöÑdelegateÂØπË±° 3.Ê†πÊçÆInfo.plistËé∑ÂæóMain.storyboardÁöÑÊñá‰ª∂Âêç,Âä†ËΩΩMain.storyboard(Êúâstoryboard) * ÂàõÂª∫UIWindow * ÂàõÂª∫ÂíåËÆæÁΩÆUIWindowÁöÑrootViewController * ÊòæÁ§∫Á™óÂè£ Ê≤°ÊúâstoryboardÊÉÖÂÜµ‰∏ã: 1.mainÂáΩÊï∞ 2.UIApplicationMain * ÂàõÂª∫UIApplicationÂØπË±° * ÂàõÂª∫UIApplicationÁöÑdelegateÂØπË±° 3.delegateÂØπË±°ÂºÄÂßãÂ§ÑÁêÜ(ÁõëÂê¨)Á≥ªÁªü‰∫ã‰ª∂(Ê≤°Êúâstoryboard) * Á®ãÂ∫èÂêØÂä®ÂÆåÊØïÁöÑÊó∂ÂÄô, Â∞±‰ºöË∞ÉÁî®‰ª£ÁêÜÁöÑapplication:didFinishLaunchingWithOptions:ÊñπÊ≥ï * Âú®application:didFinishLaunchingWithOptions:‰∏≠ÂàõÂª∫UIWindow * ÂàõÂª∫ÂíåËÆæÁΩÆUIWindowÁöÑrootViewController * ÊòæÁ§∫Á™óÂè£ ÊÄé‰πàËß£ÂÜ≥ÁºìÂ≠òÊ±†Êª°ÁöÑÈóÆÈ¢ò(cell)iOS‰∏≠‰∏çÂ≠òÂú®ÁºìÂ≠òÊ±†Êª°ÁöÑÊÉÖÂÜµÔºåÂõ†‰∏∫ÈÄöÂ∏∏Êàë‰ª¨ios‰∏≠ÂºÄÂèëÔºåÂØπË±°ÈÉΩÊòØÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÊâç‰ºöÂàõÂª∫ÔºåÊúâÁßçÂ∏∏Áî®ÁöÑËØ¥ËØùÂè´ÂÅöÊáíÂä†ËΩΩÔºåËøòÊúâÂú®UITableView‰∏≠‰∏ÄËà¨Âè™‰ºöÂàõÂª∫ÂàöÂºÄÂßãÂá∫Áé∞Âú®Â±èÂπï‰∏≠ÁöÑcellÔºå‰πãÂêéÈÉΩÊòØ‰ªéÁºìÂ≠òÊ±†ÈáåÂèñÔºå‰∏ç‰ºöÂú®ÂàõÂª∫Êñ∞ÂØπË±°„ÄÇÁºìÂ≠òÊ±†ÈáåÊúÄÂ§ö‰πüÂ∞±‰∏Ä‰∏§‰∏™ÂØπË±°ÔºåÁºìÂ≠òÊ±†Êª°ÁöÑËøôÁßçÊÉÖÂÜµ‰∏ÄËà¨Âú®ÂºÄÂèëjava‰∏≠ÊØîËæÉÂ∏∏ËßÅÔºåjava‰∏≠‰∏ÄËà¨ÊääÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑÂØπË±°ÂÖàÈáäÊîæ„ÄÇ UIButton‰∏éUITableViewÁöÑÂ±ÇÁ∫ßÁªìÊûÑ ÁªßÊâøÁªìÊûÑÔºåÂ±û‰∫éÂÜÖÈÉ®ÁöÑÂ≠êÊéß‰ª∂ÁªìÊûÑ UIButton‰∏∫ÔºöUIButton &gt; UIControl &gt; UIView &gt; UIResponder &gt; NSObject UITableView‰∏∫ÔºöUITableView &gt; UIScrollView &gt; UIView &gt; UIResponder &gt; NSObject ËÆæÁΩÆscroll viewÁöÑcontensizeËÉΩÂú®ViewdidloadÈáåËÆæÁΩÆ‰πà,‰∏∫‰ªÄ‰πà ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂèØ‰ª•ËÆæÁΩÆÂú®viewDidLoad‰∏≠Ôºå‰ΩÜÂú®autolayout‰∏ãÔºåÁ≥ªÁªü‰ºöÂú®viewDidAppear‰πãÂâçÊ†πÊçÆsubviewÁöÑconstraintÈáçÊñ∞ËÆ°ÁÆóscrollviewÁöÑcontentsize„ÄÇ ËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÔºåÂú®viewdidloadÈáåÈù¢ÊâãÂä®ËÆæÁΩÆ‰∫ÜcontentsizeÊ≤°Áî®„ÄÇÂõ†‰∏∫Âú®ÂêéÈù¢Ôºå‰ºöÂÜçÈáçÊñ∞ËÆ°ÁÆó‰∏ÄÊ¨°ÔºåÂâçÈù¢ÊâãÂä®ËÆæÁΩÆÁöÑÂÄº‰ºöË¢´Ë¶ÜÁõñÊéâ„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÂ∞±ÊòØÔºö ÂéªÈô§autolayoutÈÄâÈ°πÔºåËá™Â∑±ÊâãÂä®ËÆæÁΩÆcontentsize Â¶ÇÊûúË¶Å‰ΩøÁî®autolayoutÔºåË¶Å‰πàËá™Â∑±ËÆæÁΩÆÂÆåsubviewÁöÑconstraintÔºåÁÑ∂ÂêéËÆ©Á≥ªÁªüËá™Âä®Ê†πÊçÆconstraintËÆ°ÁÆóÂá∫contentsize„ÄÇË¶Å‰πàÂ∞±Âú®viewDidAppearÈáåÈù¢Ëá™Â∑±ÊâãÂä®ËÆæÁΩÆcontentsize„ÄÇ ÁÆÄËø∞‰Ω†ÂØπUIView„ÄÅUIWindowÂíåCALayerÁöÑÁêÜËß£ UIView: Â±û‰∫éUIkit.frameworkÊ°ÜÊû∂,Ë¥üË¥£Ê∏≤ÊüìÁü©ÂΩ¢Âå∫ÂüüÁöÑÂÜÖÂÆπ,‰∏∫Áü©ÂΩ¢Âå∫ÂüüÊ∑ªÂä†Âä®Áîª,ÂìçÂ∫îÂå∫ÂüüÁöÑËß¶Êë∏‰∫ã‰ª∂,Â∏ÉÂ±ÄÂíåÁÆ°ÁêÜ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â≠êËßÜÂõæ UIWindow:Â±û‰∫éUIKit.frameworkÊ°ÜÊû∂,ÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑUIView,ÈÄöÂ∏∏Âú®‰∏Ä‰∏™Á®ãÂ∫è‰∏≠Âè™‰ºöÊúâ‰∏Ä‰∏™UIWindow,‰ΩÜÂèØ‰ª•ÊâãÂä®ÂàõÂª∫Â§ö‰∏™UIWindow,ÂêåÊó∂Âä†Âà∞Á®ãÂ∫èÈáåÈù¢„ÄÇUIWindowÂú®Á®ãÂ∫è‰∏≠‰∏ªË¶ÅËµ∑Âà∞‰∏â‰∏™‰ΩúÁî®: ‰Ωú‰∏∫ÂÆπÂô®,ÂåÖÂê´appÊâÄË¶ÅÊòæÁ§∫ÁöÑÊâÄÊúâËßÜÂõæ ‰º†ÈÄíËß¶Êë∏Ê∂àÊÅØÂà∞Á®ãÂ∫è‰∏≠viewÂíåÂÖ∂‰ªñÂØπË±° ‰∏éUIViewControllerÂçèÂêåÂ∑•‰Ωú,Êñπ‰æøÂÆåÊàêËÆæÂ§áÊñπÂêëÊóãËΩ¨ÁöÑÊîØÊåÅ CAlayer:Â±û‰∫éQuartzCore.framework,ÊòØÁî®Êù•ÁªòÂà∂ÂÜÖÂÆπÁöÑ,ÂØπÂÜÖÂÆπËøõË°åÂä®ÁîªÂ§ÑÁêÜ‰æùËµñ‰∏éUIViewÊù•ËøõË°åÊòæÁ§∫,‰∏çËÉΩÂ§ÑÁêÜÁî®Êà∑‰∫ã‰ª∂„ÄÇ UIViewÂíåCALayerÊòØÁõ∏‰∫í‰æùËµñÁöÑ,UIView‰æùËµñCALayerÊèê‰æõÂÜÖÂÆπ,CALayer‰æùËµñUIViewÁöÑÂÆπÂô®ÊòæÁ§∫ÁªòÂà∂ÂÜÖÂÆπ„ÄÇ (Ë°•ÂÖÖ)UIViewController:ÊØè‰∏™ËßÜÂõæÊéßÂà∂Âô®ÈÉΩÊúâ‰∏Ä‰∏™Ëá™Â∏¶ÁöÑËßÜÂõæ,Âπ∂‰∏îË¥üË¥£Ëøô‰∏™ËßÜÂõæÁõ∏ÂÖ≥ÁöÑ‰∏ÄÂàá‰∫ãÂä°„ÄÇÊñπ‰æøÁÆ°ÁêÜËßÜÂõæ‰∏≠ÁöÑÂ≠êËßÜÂõæ,Ë¥üË¥£model‰∏éviewÁöÑÈÄö‰ø°;Ê£ÄÊµãËÆæÂ§áÊóãËΩ¨‰ª•ÂèäÂÜÖÂ≠òË≠¶Âëä;ÊòØÊâÄÊúâËßÜÂõæÊéßÂà∂Á±ªÁöÑÁßØÁ¥Ø,ÂÆö‰πâ‰∫ÜÊéßÂà∂Âô®ÁöÑÂü∫Êú¨ÂäüËÉΩ„ÄÇ frameÂíåboundsÊúâ‰ªÄ‰πà‰∏çÂêåÔºü(Difference between frame and bounds?) frameÊåáÁöÑÊòØÔºöËØ•viewÂú®Áà∂viewÂùêÊ†áÁ≥ªÁªü‰∏≠ÁöÑ‰ΩçÁΩÆÂíåÂ§ßÂ∞èÔºàÂèÇÁÖßÁÇπÊòØÁà∂‰∫≤ÁöÑÂùêÊ†áÁ≥ªÁªüÔºâ boundsÊåáÁöÑÊòØÔºöËØ•viewÂú®Êú¨Ë∫´ÂùêÊ†áÁ≥ªÁªü‰∏≠ÁöÑ‰ΩçÁΩÆÂíåÂ§ßÂ∞èÔºàÂèÇÁÖßÁÇπÊòØÊú¨Ë∫´ÂùêÊ†áÁ≥ªÁªüÔºâ ÂÖ≥‰∫éÈ°µÈù¢Èó¥‰º†ÂÄºÁöÑÈóÆÈ¢ò?Â±ûÊÄß‰º†ÂÄºÔºöAÈ°µÈù¢ËÆæÁΩÆÂ±ûÊÄß NSString *paramStringÔºåÂú®Ë∑≥ËΩ¨BÈ°µÈù¢ÁöÑÊó∂ÂÄôÂàùÂßãÂåñparamString„ÄÇ //AÈ°µÈù¢.hÊñá‰ª∂ @property (nonatomic, copy)NSString *paramString; //AÈ°µÈù¢.mÊñá‰ª∂ NextViewController *nextVC = [[NextViewController alloc] init]; nextVC.paramString = @"ÂèÇÊï∞‰º†Ë¥®"; [self presentViewController:nextVC animated:YES completion:nil]; ÂßîÊâòdelegate‰º†ÂÄºÔºöÂú®BÈ°µÈù¢ÂÆö‰πâdelegateÔºåÂπ∂‰∏îËÆæÁΩÆdelegateÂ±ûÊÄßÔºåÂú®AÈ°µÈù¢ÂÆûÁé∞delegateÂçèËÆÆ ÈÄöÁü•notification‰º†ÂÄºÔºöÂú®BÈ°µÈù¢‰∏≠ÂèëÈÄÅÈÄöÁü•ÔºåÂú®AÈ°µÈù¢Ê≥®ÂÜåËßÇÂØüËÄÖÂπ∂‰∏îÂú®‰∏çÁî®ÁöÑÊó∂ÂÄôÁßªÈô§ËßÇÂØüËÄÖ„ÄÇ //BÈ°µÈù¢ÂèëÈÄÅÈÄöÁü• [[NSNotificationCenter defaultCenter] postNotificationName:@"ChangeNameNotification" object:self userInfo:@{@"name":self.nameTextField.text}]; [self dismissViewControllerAnimated:YES completion:nil]; //AÈ°µÈù¢Ê≥®ÂÜåËßÇÂØüËÄÖ [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(ChangeNameNotification:) name:@"ChangeNameNotification" object:nil]; } //ËßÇÂØüÂà∞ÈÄöÁü•Êó∂ÂÄôÁöÑÂ§ÑÁêÜÊñπÊ≥ï -(void)ChangeNameNotification:(NSNotification*)notification{ NSDictionary *nameDictionary = [notification userInfo]; self.nameLabel.text = [nameDictionary objectForKey:@"name"]; } //ÈÄöÁü•‰∏ç‰ΩøÁî®ÁöÑÊó∂ÂÄôÁßªÈô§ËßÇÂØüËÄÖ [[NSNotificationCenter defaultCenter] removeObserver:self]; block‰º†ÂÄºÔºöÂú®BÈ°µÈù¢ÂÆö‰πâ‰∏Ä‰∏™blockÁ±ªÂûãÁöÑÂèòÈáèÔºåÂú®BÈ°µÈù¢Ë∑≥ËΩ¨AÁöÑÊó∂ÂÄôË∞ÉÁî®Ëøô‰∏™block„ÄÇÂú®AÈ°µÈù¢Ë∑≥ËΩ¨Âà∞BÈ°µÈù¢ÁöÑÊó∂ÂÄôÂØπBÈ°µÈù¢ÁöÑblockËµãÂÄº„ÄÇ //BÈ°µÈù¢ÂÆö‰πâblockÔºåÂπ∂ËÆæÁΩÆblockÁ±ªÂûãÁöÑÂèòÈáè typedef void (^ablock)(NSString *str); @property (nonatomic, copy) ablock block; //BÈ°µÈù¢Ë∑≥ËΩ¨Âà∞AÈ°µÈù¢Ë∞ÉÁî®Ëøô‰∏™block self.block(self.nameTextField.text); [self dismissViewControllerAnimated:YES completion:nil]; //AÈ°µÈù¢Ë∑≥ËΩ¨Âà∞BÈ°µÈù¢ÁöÑÊó∂ÂÄôÂØπBÈ°µÈù¢ÁöÑblockËµãÂÄºÔºåËøôÊ†∑Âú®BÈ°µÈù¢Ë∑≥ËΩ¨ÁöÑÊó∂ÂÄôÂ∞±‰ºöÂõûË∞ÉËøô‰∏™blockÂáΩÊï∞ [self presentViewController:second animated:YES completion:nil]; second.block = ^(NSString *str){ self.nameLabel.text = str; }; kvo‰º†ÂÄºÔºöÂú®AÈ°µÈù¢ËÆæÁΩÆBÈ°µÈù¢ÁöÑÂèòÈáèsecondÔºåÂπ∂‰∏îÂØπËøô‰∏™ÂèòÈáèËøõË°åËßÇÂØü - (void)addObserver:(NSObject * _Nonnull)anObserver forKeyPath:(NSString * _Nonnull)keyPath options:(NSKeyValueObservingOptions)options context:(void * _Nullable)context Âπ∂Âú®AÈ°µÈù¢ÂÆûÁé∞ - (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)contextÊñπÊ≥ï„ÄÇ Âú®BÈ°µÈù¢ÂØπÂèòÈáèkeyPathËøõË°åËÆæÁΩÆÔºåÂú®AÈ°µÈù¢ÈÉΩ‰ºöËßÇÂØüÁöÑÂà∞„ÄÇ @property (nonatomic, strong) SecondViewController *second; //Âú®AËßÜÂõæË∑≥ËΩ¨Âà∞BËßÜÂõæÁöÑÂú∞ÊñπÊ∑ªÂä†Â¶Ç‰∏ã‰ª£Á†Å self.second = [[SecondViewController alloc] initWithNibName:@"SecondViewController" bundle:nil]; [self.second addObserver:self forKeyPath:@"userName" options:NSKeyValueObservingOptionNew context:nil]; [self presentViewController:self.second animated:YES completion:nil]; //ÂÆûÁé∞Ëøô‰∏™ËßÇÂØüÂØπË±°ÁöÑÊñπÊ≥ï -(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context //Âú®BÈ°µÈù¢ÂØπuserNameËøõË°åËÆæÁΩÆÔºåÂú®AÈ°µÈù¢ÈÉΩÂèØ‰ª•Èó¥Âê¨Âà∞ Âçï‰æãÊ®°Âºè‰º†ÂÄºÔºöÈÄöËøáÂÖ®Â±ÄÁöÑÊñπÂºè‰øùÂ≠ò ÂØπ‰∫éÈÄöÁü•‰ª£ÁêÜÈù¢ËØïÂ∏∏ÈóÆ, ‰ª£ÁêÜÂíåÈÄöÁü•ÂàÜÂà´Âú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ΩøÁî®? Âå∫Âà´? ÂêÑËá™‰ºòÁÇπ? ÂÖ≥‰∫éËßÜÂõæÁöÑÁîüÂëΩÂë®ÊúüÁöÑÈóÆÈ¢ò È¶ñÂÖàÂà§Êñ≠ÊéßÂà∂Âô®ÊòØÂê¶ÊúâËßÜÂõæÔºåÂ¶ÇÊûúÊ≤°ÊúâÂ∞±Ë∞ÉÁî®loadViewÊñπÊ≥ïÂàõÂª∫ÔºöÈÄöËøástoryboardÊàñËÄÖ‰ª£Á†ÅÔºõ ÈöèÂêéË∞ÉÁî®viewDidLoadÔºåÂèØ‰ª•ËøõË°å‰∏ã‰∏ÄÊ≠•ÁöÑÂàùÂßãÂåñÊìç‰ΩúÔºõÂè™‰ºöË¢´Ë∞ÉÁî®‰∏ÄÊ¨°Ôºõ Âú®ËßÜÂõæÊòæÁ§∫‰πãÂâçË∞ÉÁî®viewWillAppearÔºõËØ•ÂáΩÊï∞ÂèØ‰ª•Â§öÊ¨°Ë∞ÉÁî®Ôºõ ËßÜÂõæviewDidAppear Âú®ËßÜÂõæÊòæÁ§∫‰πãÂâçË∞ÉÁî®viewWillDisappearÔºõËØ•ÂáΩÊï∞ÂèØ‰ª•Â§öÊ¨°Ë∞ÉÁî®ÔºõÂ¶ÇÈúÄË¶ÅÔºâÔºõ Âú®Â∏ÉÂ±ÄÂèòÂåñÂâçÂêéÔºåË∞ÉÁî®viewWill/DidLayoutSubviewsÂ§ÑÁêÜÁõ∏ÂÖ≥‰ø°ÊÅØÔºõ ËßÜÂõæÁîüÂëΩÂë®ÊúüÂõæ ÂìçÂ∫îËÄÖÈìæÊù°? (What is responder chain?) ‰∫ã‰ª∂ÂìçÂ∫îÈìæ„ÄÇÂåÖÊã¨ÁÇπÂáª‰∫ã‰ª∂ÔºåÁîªÈù¢Âà∑Êñ∞‰∫ã‰ª∂Á≠â„ÄÇÂú®ËßÜÂõæÊ†àÂÜÖ‰ªé‰∏äËá≥‰∏ãÔºåÊàñËÄÖ‰ªé‰∏ã‰πã‰∏ä‰º†Êí≠. ÂèØ‰ª•ËØ¥ÁÇπ‰∫ã‰ª∂ÁöÑÂàÜÂèëÔºå‰º†ÈÄí‰ª•ÂèäÂ§ÑÁêÜ„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÂéªÁúã‰∏ãtouch‰∫ã‰ª∂ËøôÂùó„ÄÇ È¶ñÂÖàËß£ÈáäÂìçÂ∫îËÄÖÈìæÁöÑÊ¶ÇÂøµ UIResponderÁ±ªÔºåÊòØUIKIT‰∏≠‰∏Ä‰∏™Áî®‰∫éÂ§ÑÁêÜ‰∫ã‰ª∂ÂìçÂ∫îÁöÑÂü∫Á±ª„ÄÇÁ™óÂè£‰∏äÁöÑÊâÄÊúâ‰∫ã‰ª∂Ëß¶ÂèëÔºåÈÉΩÁî±ËØ•Á±ªÂìçÂ∫îÔºàÂç≥‰∫ã‰ª∂Â§ÑÁêÜÂÖ•Âè£Ôºâ„ÄÇÊâÄ‰ª•ÔºåÁ™óÂè£‰∏äÁöÑViewÂèäÊéßÂà∂Âô®ÈÉΩÊòØÊ¥æÁîü‰∫éËØ•Á±ªÁöÑÔºå‰æãÂ¶ÇUIView„ÄÅUIViewControllerÁ≠â„ÄÇ Ë∞ÉÁî®UIResponderÁ±ªÊèê‰æõÁöÑÊñπÊ≥ïÊàñÂ±ûÊÄßÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÊçïÊçâÂà∞Á™óÂè£‰∏äÁöÑÊâÄÊúâÂìçÂ∫î‰∫ã‰ª∂ÔºåÂπ∂ËøõË°åÂ§ÑÁêÜ„ÄÇ ÂìçÂ∫îËÄÖÈìæÊù°ÊòØÁî±Â§ö‰∏™ÂìçÂ∫îËÄÖÂØπË±°ËøûÊé•Ëµ∑Êù•ÁöÑÈìæÊù°ÔºåÂÖ∂‰∏≠ÂìçÂ∫îËÄÖÂØπË±°ÊòØËÉΩÂ§ÑÁêÜ‰∫ã‰ª∂ÁöÑÂØπË±°ÔºåÊâÄÊúâÁöÑViewÂíåViewControllerÈÉΩÊòØÂìçÂ∫îËÄÖÂØπË±°ÔºåÂà©Áî®ÂìçÂ∫îËÄÖÈìæÊù°ËÉΩËÆ©Â§ö‰∏™Êéß‰ª∂Â§ÑÁêÜÂêå‰∏Ä‰∏™Ëß¶Êë∏‰∫ã‰ª∂. ‰∫ã‰ª∂‰º†ÈÄíÊú∫Âà∂ image Â¶ÇÊûúÂΩìÂâçview‰∏çËÉΩÂ§ÑÁêÜÂΩìÂâç‰∫ã‰ª∂ÔºåÈÇ£‰πà‰∫ã‰ª∂Â∞Ü‰ºöÊ≤øÁùÄÂìçÂ∫îËÄÖÈìæ(Responder Chain)ËøõË°å‰º†ÈÄíÔºåÁü•ÈÅìÈÅáÂà∞ËÉΩÂ§ÑÁêÜËØ•‰∫ã‰ª∂ÁöÑÂìçÂ∫îËÄÖ(Responsder Object)„ÄÇ - Êé•Êî∂‰∫ã‰ª∂ÁöÑinitial viewÂ¶ÇÊûú‰∏çËÉΩÂ§ÑÁêÜËØ•‰∫ã‰ª∂Âπ∂‰∏îÂ•π‰∏çÊòØÈ°∂Â±ÇÁöÑViewÔºåÂàô‰∫ã‰ª∂‰ºöÂæÄÂÆÉÁöÑÁà∂ViewËøõË°å‰º†ÈÄí„ÄÇ - initial viewÁöÑÁà∂ViewËé∑Âèñ‰∫ã‰ª∂ÂêéÂ¶ÇÊûú‰ªç‰∏çËÉΩÂ§ÑÁêÜÔºåÂàôÁªßÁª≠ÂæÄ‰∏ä‰º†ÈÄíÔºåÂæ™ÁéØËøô‰∏™ËøáÁ®ã„ÄÇÂ¶ÇÊûúÈ°∂Â±ÇÁöÑViewËøòÊòØ‰∏çËÉΩÂ§ÑÁêÜËøô‰∏™‰∫ã‰ª∂ÁöÑËØùÔºåÂàô‰ºöÂ∞Ü‰∫ã‰ª∂‰º†ÈÄíÁªôÂÆÉ‰ª¨ÁöÑViewControllerÔºå - Â¶ÇÊûúViewController‰πü‰∏çËÉΩÂ§ÑÁêÜÔºåÂàô‰º†ÈÄíÁªôWindow(UIWindow)ÔºåÊ≠§Êó∂Window‰∏çËÉΩÂ§ÑÁêÜÁöÑËØùÂ∞±Â∞Ü‰∫ã‰ª∂‰º†ÈÄíUIApplicationÔºåÊúÄÂêéÂ¶ÇÊûúËøûApplication‰πü‰∏çËÉΩÂ§ÑÁêÜÔºåÂàôÂ∫üÂºÉËØ•‰∫ã‰ª∂ ViewControllerÁöÑloadView,viewDidLoad,viewDidUnloadÂàÜÂà´ÊòØÂú®‰ªÄ‰πàÊó∂ÂÄôË∞ÉÁî®ÁöÑÔºüÂú®Ëá™ÂÆö‰πâViewControllerÁöÑÊó∂ÂÄôËøôÂá†‰∏™ÂáΩÊï∞ÈáåÈù¢Â∫îËØ•ÂÅö‰ªÄ‰πàÂ∑•‰ΩúÔºü viewDidLoadÂú®view‰ªénibÊñá‰ª∂ÂàùÂßãÂåñÊó∂Ë∞ÉÁî®Ôºå loadViewÂú®controllerÁöÑview‰∏∫nilÊó∂Ë∞ÉÁî®„ÄÇ Ê≠§ÊñπÊ≥ïÂú®ÁºñÁ®ãÂÆûÁé∞viewÊó∂Ë∞ÉÁî®, viewÊéßÂà∂Âô®ÈªòËÆ§‰ºöÊ≥®ÂÜåmemory warning notification,ÂΩìviewcontrollerÁöÑ‰ªª‰ΩïviewÊ≤°ÊúâÁî®ÁöÑÊó∂ÂÄôÔºåviewDidUnload‰ºöË¢´Ë∞ÉÁî®ÔºåÂú®ËøôÈáåÂÆûÁé∞Â∞ÜretainÁöÑview release,Â¶ÇÊûúÊòØretainÁöÑIBOutlet viewÂ±ûÊÄßÂàô‰∏çË¶ÅÂú®ËøôÈáårelease,IBOutlet‰ºöË¥üË¥£release„ÄÇ UITableViewÁöÑÈáçÁî®Êú∫Âà∂?(ÊàñËÄÖÂ¶Ç‰ΩïÂú®‰∏Ä‰∏™view‰∏äÊòæÁ§∫Â§ö‰∏™tableView,tableViewË¶ÅÊ±Ç‰∏çÂêåÁöÑÊï∞ÊçÆÊ∫ê‰ª•Âèä‰∏çÂêåÁöÑÊ†∑Âºè (Ë¶ÅÊ±ÇËá™ÂÆö‰πâcell), Â¶Ç‰ΩïÁªÑÁªáÂêÑ‰∏™tableViewÁöÑdelegateÂíådataSource?ËØ∑ËØ¥ËØ¥ÂÆûÁé∞ÊÄùË∑Ø?) Êü•ÁúãUITableViewÂ§¥Êñá‰ª∂,‰ºöÊâæÂà∞NSMutableArray visiableCells,ÂíåNSMutableArray reusableTableCells‰∏§‰∏™ÁªìÊûÑ„ÄÇ visiableCellsÂÜÖ‰øùÂ≠òÂΩìÂâçÊòæÁ§∫ÁöÑcells,reusableTableCells‰øùÂ≠òÂèØÈáçÁî®ÁöÑcells„ÄÇ TableViewÊòæÁ§∫‰πãÂàù,reusableTableCells‰∏∫Á©∫,ÈÇ£‰πà [tableView dequeueReusableCellWithIdentifier:CellIdentifier]ËøîÂõûnil„ÄÇ ÂºÄÂßãÁöÑcellÈÉΩÊòØÈÄöËøá [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] Êù•ÂàõÂª∫,ËÄå‰∏îcellForRowAtIndexPathÂè™ÊòØË∞ÉÁî®ÊúÄÂ§ßÊòæÁ§∫cellÊï∞ÁöÑÊ¨°Êï∞„ÄÇ ÊØîÂ¶Ç:Êúâ100Êù°Êï∞ÊçÆ,iPhone‰∏ÄÂ±èÊúÄÂ§öÊòæÁ§∫10‰∏™cell„ÄÇ Á®ãÂ∫èÊúÄÂºÄÂßãÊòæÁ§∫TableViewÁöÑÊÉÖÂÜµÊòØ: Áî®[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier]ÂàõÂª∫10Ê¨°cell,Âπ∂ÁªôcellÊåáÂÆöÂêåÊ†∑ÁöÑÈáçÁî®Ê†áËØÜ(ÂΩìÁÑ∂,ÂèØ‰ª•‰∏∫‰∏çÂêåÊòæÁ§∫Á±ªÂûãÁöÑcellÊåáÂÆö‰∏çÂêåÁöÑÊ†áËØÜ)„ÄÇÂπ∂‰∏î10‰∏™cellÂÖ®ÈÉ®ÈÉΩÂä†ÂÖ•Âà∞visiableCellsÊï∞ÁªÑ,reusableTableCells‰∏∫Á©∫„ÄÇ Âêë‰∏ãÊãñÂä®tableView,ÂΩìcell1ÂÆåÂÖ®ÁßªÂá∫Â±èÂπï,Âπ∂‰∏îcell11(ÂÆÉ‰πüÊòØallocÂá∫Êù•ÁöÑ,ÂéüÂõ†Âêå‰∏ä)ÂÆåÂÖ®ÊòæÁ§∫Âá∫Êù•ÁöÑÊó∂ÂÄô„ÄÇcell11Âä†ÂÖ•Âà∞visiableCells,cell1ÁßªÂá∫visiableCells,cell1Âä†ÂÖ•Âà∞reusableTableCells„ÄÇ Êé•ÁùÄÂêë‰∏ãÊãñÂä®tableView,Âõ†‰∏∫reusableTableCells‰∏≠Â∑≤ÁªèÊúâÂÄº,ÊâÄ‰ª•,ÂΩìÈúÄË¶ÅÊòæÁ§∫Êñ∞ÁöÑcell, cellForRowAtIndexPathÂÜçÊ¨°Ë¢´Ë∞ÉÁî®ÁöÑÊó∂ÂÄô,[tableView dequeueReusableCellWithIdentifier:CellIdentifier],ËøîÂõûcell1„ÄÇ cell1Âä†ÂÖ•Âà∞visiableCells,cell1 ÁßªÂá∫reusableTableCells;cell2ÁßªÂá∫ visiableCells,cell2Âä†ÂÖ•Âà∞reusableTableCells„ÄÇ‰πãÂêéÂÜçÈúÄË¶ÅÊòæÁ§∫ÁöÑCellÂ∞±ÂèØ ‰ª•Ê≠£Â∏∏ÈáçÁî®‰∫Ü. Ê≥®ÊÑèÔºöÈÖçÁΩÆCellÁöÑÊó∂ÂÄô‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÔºåÂØπÂèñÂá∫ÁöÑÈáçÁî®ÁöÑcellÂÅöÈáçÊñ∞ËµãÂÄºÔºå‰∏çË¶ÅÈÅóÁïôËÄÅÊï∞ÊçÆ„ÄÇ Âú®‰∏Ä‰∏™tableView‰∏≠ÈúÄË¶ÅËá™ÂÆö‰πâÂ§öÁßçÊ†∑ÂºèÁöÑcell(‰∏§ÁßçÊàñ‰∏âÁßç),ÈÄöÂ∏∏‰Ω†Â¶Ç‰ΩïÂÆûÁé∞,ËØ¥ËØ¥ÊÄùË∑ØÂç≥ÂèØ? Âêå‰∏äÔºÅ UITableViewÁöÑÊÄßËÉΩ‰ºòÂåñ? ÊªëÂä®ÁöÑÊó∂ÂÄôÊúâÁßçÂç°ÁöÑÊÑüËßâÊòØ‰∏∫‰ªÄ‰πàÔºüÊÄé‰πàËß£ÂÜ≥Ôºü Âú®‰ΩøÁî®Á¨¨‰∏âÊñπÂ∫îÁî®Êó∂ÔºåÂç¥ÁªèÂ∏∏ÈÅáÂà∞ÊÄßËÉΩ‰∏äÁöÑÈóÆÈ¢òÔºåÊôÆÈÅçË°®Áé∞Âú®ÊªöÂä®Êó∂ÊØîËæÉÂç°ÔºåÁâπÂà´ÊòØcell‰∏≠ÂåÖÂê´ÂõæÁâáÁöÑÊÉÖÂÜµÊó∂„ÄÇ ÂÆûÈôÖ‰∏äÈíàÂØπÊÄßÂú∞‰ºòÂåñ‰∏Ä‰∏ãÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥tableViewÊªëÂä®ÁöÑÊó∂ÂÄôÂç°È°øÁöÑÈóÆÈ¢ò: ‰ΩøÁî®‰∏çÈÄèÊòéËßÜÂõæ„ÄÇ‰∏çÈÄèÊòéÁöÑËßÜÂõæÂèØ‰ª•ÊèêÈ´òÊ∏≤ÊüìÁöÑÈÄüÂ∫¶„ÄÇÂèØ‰ª•Â∞ÜcellÂèäÂÖ∂Â≠êËßÜÂõæÁöÑopaqueÂ±ûÊÄßËÆæ‰∏∫YESÔºàÈªòËÆ§ÂÄºÔºâ„ÄÇ ‰∏çË¶ÅÈáçÂ§çÂàõÂª∫‰∏çÂøÖË¶ÅÁöÑcell„ÄÇUITableViewÂè™ÈúÄË¶Å‰∏ÄÂ±èÂπïÁöÑUITableViewCellÂØπË±°Âç≥ÂèØ„ÄÇÂõ†Ê≠§Âú®cell‰∏çÂèØËßÅÊó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ÁºìÂ≠òËµ∑Êù•ÔºåËÄåÂú®ÈúÄË¶ÅÊó∂ÁªßÁª≠‰ΩøÁî®ÂÆÉÂç≥ÂèØ„ÄÇÊ≥®ÊÑèÔºöcellË¢´ÈáçÁî®Êó∂ÔºåÈúÄË¶ÅË∞ÉÁî®setNeedsDisplayInRect:ÊàñsetNeedsDisplayÊñπÊ≥ïÈáçÁªòcell„ÄÇ ÂáèÂ∞ëÂä®ÁîªÊïàÊûúÁöÑ‰ΩøÁî®ÔºåÊúÄÂ•Ω‰∏çË¶Å‰ΩøÁî®insertRowsAtIndexPaths:withRowAnimation:ÊñπÊ≥ïÔºåËÄåÊòØÁõ¥Êé•Ë∞ÉÁî®reloadDataÊñπÊ≥ï„ÄÇ ÂáèÂ∞ëËßÜÂõæÁöÑÊï∞ÁõÆ„ÄÇCellÂåÖÂê´‰∫ÜtextLabel„ÄÅdetailTextLabelÂíåimageViewÁ≠âviewÔºåËÄå‰Ω†ËøòÂèØ‰ª•Ëá™ÂÆö‰πâ‰∏Ä‰∫õËßÜÂõæÊîæÂú®ÂÆÉÁöÑcontentViewÈáåÔºåÂàõÂª∫ÂÆÉ‰ºöÊ∂àËÄóËæÉÂ§öËµÑÊ∫êÔºåÂπ∂‰∏î‰πüÂΩ±ÂìçÊ∏≤ÊüìÁöÑÊÄßËÉΩ„ÄÇ cellÂåÖÂê´ÂõæÁâáÔºå‰∏îÊï∞ÁõÆËæÉÂ§öÔºå‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑcellÈÄüÂ∫¶‰ºöÊØî‰ΩøÁî®ÈªòËÆ§ÁöÑË¶ÅÂø´„ÄÇÁªßÊâøUITableViewCellÔºåÈáçÂÜôdrawRectÊñπÊ≥ïÔºö- (void)drawRect:(CGRect)rect { if (image) { [image drawAtPoint:imagePoint]; self.image = nil; } else { [placeHolder drawAtPoint:imagePoint]; } [text drawInRect:textRect withFont:font lineBreakMode:UILineBreakModeTailTruncation]; } ‰∏çËøáËøôÊ†∑‰∏ÄÊù•Ôºå‰Ω†‰ºöÂèëÁé∞ÈÄâ‰∏≠‰∏ÄË°åÂêéÔºåËøô‰∏™cellÂ∞±ÂèòËìù‰∫ÜÔºåÂÖ∂‰∏≠ÁöÑÂÜÖÂÆπÂ∞±Ë¢´Êå°‰Ωè‰∫Ü„ÄÇÊúÄÁÆÄÂçïÁöÑÊñπÊ≥ïÂ∞±ÊòØÂ∞ÜcellÁöÑselectionStyleÂ±ûÊÄßËÆæ‰∏∫UITableViewCellSelectionStyleNoneÔºåËøôÊ†∑Â∞±‰∏ç‰ºöË¢´È´ò‰∫Æ‰∫Ü„ÄÇ -‰∏çÈúÄË¶Å‰∏éÁî®Êà∑‰∫§‰∫íÊó∂Ôºå‰ΩøÁî®CALayerÔºåÂ∞ÜÂÜÖÂÆπÁªòÂà∂Âà∞layer‰∏äÔºåÁÑ∂ÂêéÂØπcellÁöÑcontentView.layerË∞ÉÁî®addSublayer:ÊñπÊ≥ï„ÄÇËøô‰∏™‰æãÂ≠ê‰∏≠ÔºålayerÂπ∂‰∏ç‰ºöÊòæËëóÂΩ±ÂìçÊÄßËÉΩÔºå‰ΩÜÂ¶ÇÊûúlayerÈÄèÊòéÔºåÊàñËÄÖÊúâÂúÜËßí„ÄÅÂèòÂΩ¢Á≠âÊïàÊûúÔºåÂ∞±‰ºöÂΩ±ÂìçÂà∞ÁªòÂà∂ÈÄüÂ∫¶‰∫Ü„ÄÇËß£ÂÜ≥ÂäûÊ≥ïÂèØÂèÇËßÅÂêéÈù¢ÁöÑÈ¢ÑÊ∏≤ÊüìÂõæÂÉè„ÄÇ ‰∏çË¶ÅÂÅöÂ§ö‰ΩôÁöÑÁªòÂà∂Â∑•‰Ωú„ÄÇÂú®ÂÆûÁé∞drawRect:ÁöÑÊó∂ÂÄôÔºåÂÆÉÁöÑrectÂèÇÊï∞Â∞±ÊòØÈúÄË¶ÅÁªòÂà∂ÁöÑÂå∫ÂüüÔºåËøô‰∏™Âå∫Âüü‰πãÂ§ñÁöÑ‰∏çÈúÄË¶ÅËøõË°åÁªòÂà∂„ÄÇ È¢ÑÊ∏≤ÊüìÂõæÂÉè„ÄÇ‰Ω†‰ºöÂèëÁé∞Âç≥‰ΩøÂÅöÂà∞‰∫Ü‰∏äËø∞Âá†ÁÇπÔºåÂΩìÊñ∞ÁöÑÂõæÂÉèÂá∫Áé∞Êó∂Ôºå‰ªçÁÑ∂‰ºöÊúâÁü≠ÊöÇÁöÑÂÅúÈ°øÁé∞Ë±°„ÄÇËß£ÂÜ≥ÁöÑÂäûÊ≥ïÂ∞±ÊòØÂú®ÂõæÂΩ¢‰∏ä‰∏ãÊñá‰∏≠ÁîªÔºåÂØºÂá∫ÊàêUIImageÂØπË±°ÔºåÁÑ∂ÂêéÂÜçÁªòÂà∂Âà∞Â±èÂπï„ÄÇÔºàÂ§¥ÂÉèÂúÜËßíÔºåÊàñËÄÖÂÖ∂‰ªñÂèòÂΩ¢ÁöÑÊó∂ÂÄôÔºåÁî®ÂõæÂΩ¢‰∏ä‰∏ãÊñáËÉΩÊèêÈ´òÊÄßËÉΩ„ÄÇÔºâÂºÇÊ≠•ÁªòÂà∂ ‰∏çË¶ÅÈòªÂ°û‰∏ªÁ∫øÁ®ã„ÄÇtableviewÂú®Êõ¥Êñ∞Êï∞ÊçÆÊó∂ÔºåÊï¥‰∏™ÁïåÈù¢Âç°‰Ωè‰∏çÂä®ÔºåÂÆåÂÖ®‰∏çÂìçÂ∫îÁî®Êà∑ËØ∑Ê±Ç„ÄÇÂ∏∏ËßÅÁöÑÊòØÁΩëÁªúËØ∑Ê±ÇÔºåÁ≠âÂæÖÊó∂Èó¥ÈïøÂæÖÊï∞Áßí„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÔºö‰ΩøÁî®Â§öÁ∫øÁ®ãÔºåËÆ©Â≠êÁ∫øÁ®ãÂéªÊâßË°åËøô‰∫õÂáΩÊï∞ÊàñÊñπÊ≥ï„ÄÇ Ê≥®ÊÑèÔºöÂΩì‰∏ãËΩΩÁ∫øÁ®ãÊï∞Ë∂ÖËøá2Êó∂Ôºå‰ºöÊòæËëóÂΩ±Âìç‰∏ªÁ∫øÁ®ãÁöÑÊÄßËÉΩ„ÄÇÊâÄ‰ª•Âú®‰∏çÈúÄË¶ÅÂìçÂ∫îÁî®Êà∑ËØ∑Ê±ÇÊó∂Ôºå‰∏ãËΩΩÁ∫øÁ®ãÊï∞ÂèØ‰ª•Â¢ûÂä†Âà∞5Ôºå‰∏çÂª∫ËÆÆÂÜçÂä†‰∫ÜÔºå‰ª•Âä†Âø´‰∏ãËΩΩÈÄüÂ∫¶„ÄÇÂ¶ÇÊûúÁî®Êà∑Ê≠£Âú®‰∫§‰∫íÔºåÂ∫îÊääÁ∫øÁ®ãÊï∞ÈáèÊéßÂà∂Âú®2‰∏™‰ª•ÂÜÖ„ÄÇ ÊèêÂâçËÆ°ÁÆóÂπ∂ÁºìÂ≠òÂ•ΩÈ´òÂ∫¶ÔºåÂõ†‰∏∫heightforrowatindexpathË∞ÉÁî®ÈùûÂ∏∏È¢ëÁπÅ ÈÄâÊã©Ê≠£Á°ÆÁöÑÊï∞ÊçÆÁªìÊûÑÔºöÂ≠¶‰ºöÈÄâÊã©ÂØπ‰∏öÂä°Âú∫ÊôØÊúÄÂêàÈÄÇÁöÑÊï∞ÁªÑÁªìÊûÑÊòØÂÜôÂá∫È´òÊïà‰ª£Á†ÅÁöÑÂü∫Á°Ä„ÄÇÊØîÂ¶ÇÔºåÊï∞ÁªÑ: ÊúâÂ∫èÁöÑ‰∏ÄÁªÑÂÄº„ÄÇ‰ΩøÁî®Á¥¢ÂºïÊù•Êü•ËØ¢ÂæàÂø´Ôºå‰ΩøÁî®ÂÄºÊü•ËØ¢ÂæàÊÖ¢ÔºåÊèíÂÖ•/Âà†Èô§ÂæàÊÖ¢„ÄÇÂ≠óÂÖ∏: Â≠òÂÇ®ÈîÆÂÄºÂØπÔºåÁî®ÈîÆÊù•Êü•ÊâæÊØîËæÉÂø´„ÄÇÈõÜÂêà: Êó†Â∫èÁöÑ‰∏ÄÁªÑÂÄºÔºåÁî®ÂÄºÊù•Êü•ÊâæÂæàÂø´ÔºåÊèíÂÖ•/Âà†Èô§ÂæàÂø´„ÄÇ gzip/zipÂéãÁº©ÔºöÂΩì‰ªéÊúçÂä°Á´Ø‰∏ãËΩΩÁõ∏ÂÖ≥ÈôÑ‰ª∂Êó∂ÔºåÂèØ‰ª•ÈÄöËøágzip/zipÂéãÁº©ÂêéÂÜç‰∏ãËΩΩÔºå‰ΩøÂæóÂÜÖÂ≠òÊõ¥Â∞èÔºå‰∏ãËΩΩÈÄüÂ∫¶‰πüÊõ¥Âø´„ÄÇ tableviewÁöÑcellÈáåÂ¶Ç‰ΩïÂµåÂ•ócollection viewÔºüÊÄùË∑ØÂêåÁΩëÊòìÊñ∞ÈóªÁ±ª‰ºº,Áî®Ëá™ÂÆö‰πâÁöÑÁªßÊâøËá™UITableViewCellÁöÑÁ±ª,Âú®initWithFrameÁöÑÊûÑÈÄ†ÊñπÊ≥ï‰∏≠, ÂàùÂßãÂåñËá™ÂÆö‰πâÁöÑÁªßÊâøËá™UICollectionViewÁöÑÁ±ª ‰∏ãÊãâÂíå‰∏äÊãâÁöÑÂéüÁêÜ? ‰ª•tableViewÁöÑ‰∏äÊãâÂà∑Êñ∞‰∏∫‰æã: ‰∏∫‰∫ÜËøõË°åÊó†ÁºùÈòÖËØª, ÈÄöËøátableViewÁöÑ‰ª£ÁêÜÊñπÊ≥ï, willDisplayCellÂà§Êñ≠ÊòØÂê¶ÊòØÊúÄÂêé‰∏ÄË°å, Â¶ÇÊûúÊòØÊúÄÂêé‰∏ÄË°å, Âú®ÊòæÁ§∫ÊúÄÂêé‰∏ÄË°åÁöÑÂêåÊó∂, Âà§Êñ≠ÂΩìÂâçÊòØÂê¶Â≠òÂú®‰∏äÊãâÂà∑Êñ∞ Â¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∏äÊãâÂà∑Êñ∞, Â∞±ËøõË°åÂä†ËΩΩÊï∞ÊçÆ, ÂêØÂä®Â∞èËèäËä±ËΩ¨ÂïäËΩ¨„ÄÇ ‰ª•tableViewÁöÑ‰∏ãÊãâÂà∑Êñ∞‰∏∫‰æã: Âà§Êñ≠ÂΩìÂâçÁöÑ‰∏äÊãâÂà∑Êñ∞ËßÜÂõæÊòØÂê¶Âä®Áîª Â¶ÇÊûúÊ≤°ÊúâÂä®Áîª, Â∞±‰∏çÊòØ‰∏äÊãâÂà∑Êñ∞ ÁÑ∂Âêé‰∏ãÊãâÂà∑Êñ∞Âä†ËΩΩÊï∞ÊçÆ Âä†ËΩΩÂÆåÊØïÊï∞ÊçÆÂÖ≥Èó≠Âà∑Êñ∞ Â¶Ç‰ΩïÂÆûÁé∞cellÁöÑÂä®ÊÄÅÁöÑË°åÈ´òÔºü Â¶ÇÊûúÂ∏åÊúõÊØèÊù°Êï∞ÊçÆÊòæÁ§∫Ëá™Ë∫´ÁöÑË°åÈ´ò, ÂøÖÈ°ªËÆæÁΩÆ‰∏§‰∏™Â±ûÊÄß, 1.È¢Ñ‰º∞Ë°åÈ´ò, 2.Ëá™ÂÆö‰πâË°åÈ´ò ËÆæÁΩÆÈ¢Ñ‰º∞Ë°åÈ´ò tableView.estimatedRowHeight = 200 ËÆæÁΩÆÂÆö‰πâË°åÈ´ò tableView.rowHeight = UITableViewAutomaticDimension Â¶ÇÊûúË¶ÅËÆ©Ëá™ÂÆö‰πâË°åÈ´òÊúâÊïà, ÂøÖÈ°ªËÆ©ÂÆπÂô®ËßÜÂõæÊúâ‰∏Ä‰∏™Ëá™‰∏ãËÄå‰∏äÁöÑÁ∫¶Êùü Ë∞àË∞àwebView iOSÂºÄÂèë‰∏≠webviewÂíånative codeÁöÑÈÖçÂêà‰∏äÁöÑ‰∏Ä‰∫õÁªèÈ™åÂíåÊäÄÂ∑ß„ÄÇ webview‰∏éËøêÁª¥ÊàêÊú¨‰ΩéÔºåÊõ¥Êñ∞Âá†‰πé‰∏ç‰æùËµñAppÁöÑÁâàÊú¨Ôºõ‰ΩÜÂú®‰∫§‰∫íÂíåÊÄßËÉΩ‰∏ä‰∏éË∑ünative codeÊúâÂæàÂ§ßÂ∑ÆË∑ù„ÄÇ native code‰∏é‰πãÂØπÂ∫î„ÄÇ HTML5Á°ÆÂÆûÁªôwebÂ∏¶ÂÖ•‰∫Ü‰∏Ä‰∏™Êñ∞Êó∂‰ª£„ÄÇËøô‰∏™Êó∂‰ª£ÊòØ‰ªÄ‰πàÔºåweb app„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂè™ÊúâËÑ±Á¶ªnativeÁöÑËøô‰∏™ÂâçÊèêÔºåÂú®ÊµèËßàÂô®ÁöÑÁéØÂ¢É‰∏ãÔºåHTML5ÁöÑÊÑè‰πâÊâçËÉΩÊòæÁé∞ÔºåËÄåÊàë‰ª¨ËÆ®ËÆ∫iOS AppÁöÑÊó∂ÂÄôÔºåHTML5ÊòæÁÑ∂Ê≤°‰ªÄ‰πàÊÑè‰πâ„ÄÇ ‰∏çÁÆ°ÊòØÁî®webviewËøòÊòØnative codeÔºå‰∏§‰∏™ÂéüÂàôÔºö Áî®Êà∑‰ΩìÈ™å‰∏çÊâìÊäò ËøêÁª¥ÊàêÊú¨‰Ωé ‰∏∫‰ªÄ‰πà‰∏çÊèêÂºÄÂèëÊàêÊú¨„ÄÇÂõ†‰∏∫ÂÅöwebÂºÄÂèëÂíåiOSÂºÄÂèëÊ†πÊú¨Â∞±ÊòØ‰∏§Âõû‰∫ã„ÄÇÂΩìÁÑ∂ÔºåwebÂºÄÂèëÂèëÂ±ï‰∫ÜËøô‰πàÂ§öÂπ¥ÔºåÂØπ‰∫éÊüê‰∫õÂäüËÉΩÂÆûÁé∞ÊòØË¶ÅÊØînative appÂø´„ÄÇ‰ΩÜÂ§öÊï∞ÊÉÖÂÜµÔºåÂêå‰∏Ä‰∏™ÂäüËÉΩÔºåÂØπ‰∫éiOSÂºÄÂèëËÄÖÂíåwebÂºÄÂèëËÄÖÔºåÁî®ÂêÑËá™ÊìÖÈïøÁöÑÊñπÂºèÂºÄÂèëÊàêÊú¨ÈÉΩÊúÄ‰ΩéÔºåÊâÄ‰ª•ËØ¥Êüê‰∏™ÂäüËÉΩÂºÄÂèëÊàêÊú¨‰ΩéÔºåÂæÄÂæÄÊòØ‰∏Ä‰∏™‰º™ÂëΩÈ¢ò„ÄÇ ÂàöÂàöËØ¥‰∫ÜÔºåwebviewÁöÑ‰ºòÂäøÂú®‰∫éÊõ¥Êñ∞‰∏ç‰æùËµñÁâàÊú¨ÔºåÈÇ£‰πàÂú®‰∏ÄÊ¨æApp‰∏≠ÔºåÂè™Êúâ‰ºöÈ¢ëÁπÅÊõ¥Êñ∞ÁöÑÁïåÈù¢ËÄÉËôëwebviewÊâçÊúâÊÑè‰πâ„ÄÇÈÇ£‰πàÂì™‰∫õÁïåÈù¢‰ºöÈ¢ëÁπÅÊõ¥Êñ∞ÔºåËøôÂ∞±Ë¶ÅÂõ†AppËÄåÂºÇ‰∫Ü„ÄÇ È¶ñÈ°µ„ÄÇÈ¶ñÈ°µËµÑÊ∫êÂèØË∞ìÂøÖ‰∫â‰πãÂú∞ÔºåÂÜÖÂÆπ‰∏ÄÂ§©‰∏ÄÊç¢ÊòØÊ≠£Â∏∏Áé∞Ë±°Ôºå‰∏ÄÂ§©Âá†Êç¢‰πü‰∏çÁ®ÄÂ•á„ÄÇËÄåÂ¶ÇÊûú‰ªÖ‰ªÖÊòØÂÜÖÂÆπÁöÑÊõ¥Êç¢ÔºåÈùûË¶Å‰∏ä‰∏™webviewÂ∞±ÊòæÂæóÊúâ‰∫õÊøÄËøõ‰∫Ü„ÄÇËÄå‰∫ãÂÆû‰∏äÈ¶ñÈ°µÁöÑÂèòÂåñÂçÉÂ•áÁôæÊÄ™ÔºåÈÄ¢Âπ¥ËøáËäÇÂèò‰∏™ËÑ∏ÔºåÁâπÊÆäÊÉÖÂÜµÊåÇ‰∏™ÂÖ¨ÂëäÔºåÂÅ∂Â∞îËøòË¶ÅÁâπÊâπÂº∫Êé®‰∏ÄÊääÊüê‰∏™‰∏öÂä°ÔºåÁ≠âÁ≠â„ÄÇÊ≠§ÂâçÔºåÊàëÂú®ËÆæËÆ°AppÈ¶ñÈ°µÁöÑÊó∂ÂÄôÔºåÊääÈ¶ñÈ°µÈÖçÁΩÆËÆæËÆ°ÁöÑÈùûÂ∏∏Â§çÊùÇ„ÄÇAppÁ´ØË¶ÅÂ§ÑÁêÜnÁßçÊÉÖÂÜµÔºånÂêÑÂèÇÊï∞ÔºåserverÁ´ØË¶ÅËÆ∞‰ΩènÁßçËßÑÂàôÔºåÁõ¥Âà∞‰∏ÄÂ§©ÔºåÊàëÂ¥©Ê∫É‰∫ÜÔºåÊääÈ¶ñÈ°µÂÆåÂÖ®Êç¢ÊàêwebviewÔºåÊâçË±ÅÁÑ∂ÂºÄÊúó„ÄÇ Ê¥ªÂä®È°µ„ÄÇÂÅö‰∫íËÅîÁΩëÈÉΩÁü•ÈÅìÔºåÊ¥ªÂä®ÔºåÊòØ‰∏Ä‰∏™ÊúÄÂ∏∏ËßÅÁöÑËøêËê•ÊâãÊÆµ„ÄÇÁâπÁÇπÊòØÔºåÂë®ÊúüÁü≠ÔºåÂäüËÉΩÂ∞ëÔºå‰ΩÜÂü∫Êú¨‰∏çËÉΩÂ§çÁî®„ÄÇËøô‰∫õÁâπÁÇπÈÉΩÊ†áËØÜ‰∫ÜÊ¥ªÂä®‰∏çÈÄÇÂêàÂÅönativeÔºåË¶ÅÁî®webviewÂÆûÁé∞„ÄÇÂç≥‰ΩøÊúâ‰∫∫ÂëäËØâ‰Ω†ËØ¥ÔºåÊàëÁöÑÊ¥ªÂä®ÊòØ‰∏Ä‰∏™ÈïøÊúüÊ¥ªÂä®ËÄå‰∏îÂΩ¢Âºè‰∏çÂèòÔºå‰πü‰∏çË¶ÅÁõ∏‰ø°‰ªñ„ÄÇÂõ†‰∏∫Âú®Á¨¨‰∫åÊúüÔºåÁ¨¨‰∏âÊúüÔºåÁ¨¨ÂõõÊúü‰ªñ‰ºöÂàÜÂà´Âä†‰∏ä‰∏Ä‰∫õÈùûÂ∏∏ËØ°ÂºÇÔºåÂç¥ÊúâÂæàÂêàÁêÜÁöÑÂ∞èÂèòÊõ¥ÔºåËÄåËøô‰∫õÂèòÊõ¥ÊòØ‰Ω†Âú®ÈÇ£‰∏™ÁâàÊú¨Ê†πÊú¨Êó†Ê≥ïÂÆûÁé∞ÁöÑ„ÄÇ ËØïÊ∞¥ÁöÑÊñ∞ÂäüËÉΩ„ÄÇËøôÁßçÁïåÈù¢ÔºåÂæÄÂæÄËÆæËÆ°‰∏çÊàêÁÜüÔºåÈúÄË¶ÅÂú®ËøêË°åËøáÁ®ã‰∏≠‰∏çÊñ≠Êî∂ÈõÜÁî®Êà∑ÂèçÈ¶àÔºåÊõ¥Êñ∞ÂçáÁ∫ßÔºåÁîöËá≥ÂÜ≥ÂÆöÂéªÁïô„ÄÇÊâÄ‰ª•ÔºåÂè™ÊúâwebviewÊâçËÉΩhold‰ΩèÂ¶ÇÊ≠§‰∏çÁ®≥ÂÆöÁöÑÂäüËÉΩ„ÄÇÂàáËÆ∞Âú®‰∏Ä‰∏™ÂäüËÉΩËøòÊ≤°ÊúâÁ°ÆÂÆö‰πãÂâçÔºå‰∏çË¶ÅÂ§ßÂº†ÊóóÈºìÂçï‰ΩçÂºÄÂèënative codeÔºåË¶ÅÁü•ÈÅìÔºå‰Ω†ÂÜôÁöÑËøô‰∫õ‰ª£Á†ÅÔºå‰∏âÂ§©ÂêéÂ∞±Ë¶ÅÊîπ‰∏ÄÈÅçÔºåËÄå‰∏îË¶ÅÂèëÂ∏É‰∏äÁ∫ø„ÄÇ ÂØåÊñáÊú¨ÂÜÖÂÆπ„ÄÇËøô‰∏™‰∏çÁî®Â§öËØ¥‰∫ÜÂêßÔºåÊåâÁÖßHTMLÁöÑÂ∏∏Áî®Ê†áÁ≠æÂÅö‰∏Ä‰∏™webtextÂèØ‰∏çÊòØÂ∞èÂ∑•Á®ã„ÄÇËÄå‰∏îÂØåÊñáÊú¨ÁöÑÂèòÂåñÂ§™Â§ö‰∫ÜÔºå‰∏ÄÁÇπÊó†Ê≥ïÂåπÈÖçÔºåÈÉΩ‰ºöÂØºËá¥Êï¥‰∏™ÁïåÈù¢Â∑®‰∏ë„ÄÇ OKÔºå‰∏äËæπËØ¥‰∫ÜÊàëËÆ§‰∏∫ÊúÄËØ•‰ΩøÁî®webviewÁöÑ4‰∏™ÁïåÈù¢ÔºåÂàÜÂà´Â∏¶Êúâ‰∏çÂêåÁöÑÁâπÁÇπÔºå‰ΩÜwebviewÁöÑ‰∫§‰∫íÊòØ‰∏™Áü≠ÊùøÔºåÂõ†Ê≠§webviewÂú®‰∏Ä‰∏™App‰∏≠ÔºåÂè™ËÉΩ‰Ωú‰∏∫ÁïåÈù¢Ôºå‰∏çÂÖÅËÆ∏Âú®ÁïåÈù¢‰∏≠Âá∫Áé∞Âä®‰Ωú„ÄÇËÄå‰∏Ä‰∏™webviewÁöÑÁïåÈù¢Â¶Ç‰ΩïË∑ünative codeÁªìÂêàËµ∑Êù•Âë¢ÔºåÊàëÁöÑÁ≠îÊ°àÊòØÔºåË∂ÖÈìæÊé•„ÄÇÂú®webview‰∏äÁÇπÂáªË∂ÖÈìæÊé•Ôºå‰ºöË∞ÉÁî®webview delegateÁöÑshouldloadÊñπÊ≥ïÔºåËá™ËøôÈáåÊã¶Êà™ËØ∑Ê±ÇÔºåËøõË°åÂ§ÑÁêÜ„ÄÇÁî±‰∫éwebviewÁöÑÈìæÊé•ÈÉΩÊòØURLÔºåÂõ†Ê≠§ÊàëÂª∫ËÆÆÔºåÊääÊï¥‰∏™AppÁöÑÁïåÈù¢ÈÉΩÁî®URLÁÆ°ÁêÜËµ∑Êù•„ÄÇ ÈïøÁõ∏ÈóÆÈ¢òÔºåwebviewÂæàÈöæÈïøÊàênativeÁöÑview„ÄÇÊñπÊ°àÔºöÈïø‰∏çÊàê‰πüË¶ÅË£ÖÊàê„ÄÇÂú®‰∏Ä‰∫õÊÉÖÂÜµ‰∏ãÔºåÁ¶ÅÁî®webviewÊªöÂä®Ôºå‰ΩøÁî®ÊªöÂä®Ê°ÜÊû∂ÔºàiScroll‰∏çÈîôÔºâÂéªÂÆûÁé∞„ÄÇwebview‰∏ä‰∏ãÁïôÂá∫200pixelÁöÑÁ©∫ÁôΩËÉåÊôØÔºåy‰ªé-200ÂºÄÂßã„ÄÇÂê¶ÂàôÂ§ßÂÆ∂Áü•ÈÅìÔºåwebview‰∏ä‰∏ã‰ºöÊúâÈò¥ÂΩ±ÁöÑËÉåÊôØÔºå‰∏çËóèËµ∑Êù•‰ºöÂæà‰∏ë„ÄÇÁ≠âÁ≠âÔºåËøòÊúâÂæàÂ§öÂÖ∂‰ªñÁöÑÊñπÊ≥ïÂéª‰º™Ë£ÖwebviewÔºåÊòØË¶ÅËßÜÊÉÖÊôØËÄåÁî®„ÄÇ cell‰∏≠ÂµåÂ•ówebviewÔºåÂú®oc‰∏≠Ë∞ÉÁî®jsËé∑ÂèñwebÁöÑÈ´òÂ∫¶Ôºå CGFloat height = [[self.webView stringByEvaluatingJavaScriptFromString:@‚Äùdocument.body.offsetHeight‚Äù] floatValue];Âú®ÈÄöËøáwebViewDidFinishLoadÈáåÈù¢Êõ¥Êñ∞Ë°åÈ´ò„ÄÇ awakeFromNib‰∏éviewdidloadÂå∫Âà´ awakefromnibÔºöÂΩì.nibÊñá‰ª∂Ë¢´Âä†ËΩΩÁöÑÊó∂ÂÄôÔºå‰ºöÂèëÈÄÅ‰∏Ä‰∏™awakefromnibÊ∂àÊÅØÂà∞.nibÊñá‰ª∂‰∏≠ÁöÑÊØè‰∏™ÂØπË±°ÔºåÊØè‰∏™ÂØπË±°ÈÉΩÂèØ‰ª•ÂÆö‰πâËá™Â∑±ÁöÑawakefromnibÂáΩÊï∞Êù•ÂìçÂ∫îËøô‰∏™Ê∂àÊÅØÔºåÊâßË°åÂøÖË¶ÅÊìç‰Ωú„ÄÇ‰πüÂ∞±ÊòØËØ¥ ÈÄöËøá.nibÊñá‰ª∂ÂàõÂª∫viewÂØπË±°ÊâßË°åawakefromnib viewdidloadÔºöÂΩìviewÂØπË±°Ë¢´Âä†ËΩΩÂà∞ÂÜÖÂ≠òÂ∞±‰ºöÊâßË°åviewdidloadÔºå‰∏çÁÆ°ÊòØÈÄöËøánibËøòÊòØ‰ª£Á†ÅÂΩ¢ÂºèÔºåÂàõÂª∫ÂØπË±°Â∞±‰ºöÊâßË°åviewdidload layoutSubview‰ΩïÊó∂Ë∞ÉÁî®? ÂàùÂßãÂåñinitÊñπÊ≥ïÊó∂‰∏ç‰ºöËß¶Âèë ÊªöÂä®uiscrollviewËß¶Âèë ÊóãËΩ¨Â±èÂπïËß¶Âèë ÊîπÂèòviewÁöÑÂÄºËß¶ÂèëÔºåÂâçÊèêÊòØframeÊîπÂèò‰∫Ü ÊîπÂèòuiviewÁöÑÂ§ßÂ∞èËß¶Âèë viewcontrollerÁöÑdidreceivememorywaringÂú®‰ªÄ‰πàÊó∂ÂÄôË∞ÉÁî® ÈªòËÆ§Êìç‰ΩúÊòØ‰ªÄ‰πà Â∫îÁî®Á®ãÂ∫èÊî∂Âà∞Êù•Ëá™Á≥ªÁªüÁöÑÂÜÖÂ≠òË≠¶ÂëäÊó∂ÔºåË∞ÉÁî®didreceivememorywaringÊñπÊ≥ï ÈªòËÆ§ÂÅöÊ≥ïÔºöÊéßÂà∂Âô®‰∏äÁöÑview‰∏çÂÜçÁ™óÂè£‰∏äÊòæÁ§∫Êó∂ÔºåË∞ÉÁî®viewWillUnloadÔºåÁõ¥Êé•ÈîÄÊØÅviewÔºåÂπ∂Ë∞ÉÁî®viewdidunload UIWindowÂíåUIViewÂíå CALayer ÁöÑËÅîÁ≥ªÂíåÂå∫Âà´? UIViewÊòØËßÜÂõæÁöÑÂü∫Á±ªÔºåUIViewControllerÊòØËßÜÂõæÊéßÂà∂Âô®ÁöÑÂü∫Á±ªÔºåUIResponderÊòØË°®Á§∫‰∏Ä‰∏™ÂèØ‰ª•Âú®Â±èÂπï‰∏äÂìçÂ∫îËß¶Êë∏‰∫ã‰ª∂ÁöÑÂØπË±°Ôºõ UIwindowÊòØUIViewÁöÑÂ≠êÁ±ªÔºåUIWindowÁöÑ‰∏ªË¶Å‰ΩúÁî®Ôºö‰∏ÄÊòØÊèê‰æõ‰∏Ä‰∏™Âå∫ÂüüÊù•ÊòæÁ§∫UIViewÔºå‰∫åÊòØÂ∞Ü‰∫ã‰ª∂ÔºàeventÔºâÁöÑÂàÜÂèëÁªôUIViewÔºå‰∏Ä‰∏™Â∫îÁî®Âü∫Êú¨‰∏äÂè™Êúâ‰∏Ä‰∏™UIWindow. ÂõæÂ±Ç‰∏ç‰ºöÁõ¥Êé•Ê∏≤ÊüìÂà∞Â±èÂπï‰∏äÔºåUIViewÊòØiOSÁ≥ªÁªü‰∏≠ÁïåÈù¢ÂÖÉÁ¥†ÁöÑÂü∫Á°ÄÔºåÊâÄÊúâÁöÑÁïåÈù¢ÂÖÉÁ¥†ÈÉΩÊòØÁªßÊâøËá™ÂÆÉ„ÄÇÂÆÉÊú¨Ë∫´ÂÆåÂÖ®ÊòØÁî±CoreAnimationÊù•ÂÆûÁé∞ÁöÑ„ÄÇÂÆÉÁúüÊ≠£ÁöÑÁªòÂõæÈÉ®ÂàÜÔºåÊòØÁî±‰∏Ä‰∏™CALayerÁ±ªÊù•ÁÆ°ÁêÜ„ÄÇUIViewÊú¨Ë∫´Êõ¥ÂÉèÊòØ‰∏Ä‰∏™CALayerÁöÑÁÆ°ÁêÜÂô®„ÄÇ‰∏Ä‰∏™UIView‰∏äÂèØ‰ª•Êúân‰∏™CALayerÔºåÊØè‰∏™layerÊòæÁ§∫‰∏ÄÁßç‰∏úË•øÔºåÂ¢ûÂº∫UIViewÁöÑÂ±ïÁé∞ËÉΩÂäõ„ÄÇ ÈÉΩÂèØ‰ª•ÊòæÁ§∫Â±èÂπïÊïàÊûú Â¶ÇÊûúÈúÄË¶ÅÁî®Êà∑‰∫§‰∫íÂ∞±Ë¶ÅÁî®UIVIew,ÂÖ∂ÂèØÊé•Êî∂Ëß¶Êë∏‰∫ã‰ª∂(ÁªßÊâøUIResponder),ËÄåCALayer‰∏çËÉΩÊé•Êî∂Ëß¶Êë∏‰∫ã‰ª∂ Â¶ÇÊûúÊ≤°ÊúâÁî®Êà∑‰∫§‰∫íÂèØÈÄâÁî®CALayer,Âõ†‰∏∫ÂÖ∂ÊâÄÂú®Â∫ìËæÉÂ∞è,Âç†Áî®ÁöÑËµÑÊ∫êËæÉÂ∞ë UIScrollView contentsize ÂÜÖÂÆπËßÜÂõæÁöÑÂ∞∫ÂØ∏ contentoffset ÂÜÖÂÆπËßÜÂõæÂΩìÂâç‰ΩçÁΩÆÁõ∏ÂØπÊªöÂä®ËßÜÂõæframeÁöÑÂÅèÁßªÈáè contentinset ÂÜÖÂÆπËßÜÂõæÁõ∏ÂØπÊªöÂä®ËßÜÂõæframeÁöÑÂ±ïÁ§∫ÂéüÁÇπ Â¶Ç‰ΩïÂÆûÁé∞ÁÄëÂ∏ÉÊµÅ,ÊµÅÊ∞¥Â∏ÉÂ±Ä ‰ΩøÁî®UICollectionView ‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑFlowLayout ÈúÄË¶ÅÂú®layoutAttributesForElementsInRect‰∏≠ËÆæÁΩÆËá™ÂÆö‰πâÁöÑÂ∏ÉÂ±Ä(itemÁöÑframe) Âú® prepareLayout‰∏≠ËÆ°ÁÆóÂ∏ÉÂ±Ä ÈÅçÂéÜÊï∞ÊçÆÂÜÖÂÆπ,Ê†πÊçÆÁ¥¢ÂºïÂèñÂá∫ÂØπÂ∫îÁöÑattributes(‰ΩøÁî®layoutAttributesForCellWithIndexPath),Ê†πÊçÆ‰πùÂÆ´Ê†ºÁÆóÊ≥ïËÆæÁΩÆÂ∏ÉÂ±Ä ÁªÜËäÇ1: ÂÆûÊó∂Â∏ÉÂ±Ä,ÈáçÂÜôshouldInvalidateLayoutForBoundsChange(boundsÊîπÂèòÈáçÊñ∞Â∏ÉÂ±Ä,scrollviewÁöÑcontentoffset&gt;bounds) ÁªÜËäÇ2: ËÆ°ÁÆóËÆæÁΩÆitemsize(‰øùËØÅÂÜÖÂÆπÊòæÁ§∫ÂÆåÊï¥,uicollectionviewÁöÑcontent sizeÊòØÊ†πÊçÆitemizeËÆ°ÁÆóÁöÑ),Ê†πÊçÆÂàóÊúÄÂ§ßÈ´òÂ∫¶/ÂØπÂ∫îÂàóÊï∞ÈáèÊ±ÇÂá∫,ÊúÄÂ§ßÈ´òÂ∫¶Á¥ØÂä†ÂæóÂà∞ ÁªÜËäÇ3: ËøΩÂä†itemÂà∞ÊúÄÁü≠Âàó,ÈÅøÂÖçÂ∫ïÈÉ®ÂèÇÂ∑Æ‰∏çÈΩê. UIImageÊúâÂì™Âá†ÁßçÂä†ËΩΩÊñπÂºè ‰∫åËøõÂà∂ imageWithData Bundle imageWithName Êú¨Âú∞Ë∑ØÂæÑ imageWithContentOfFile ÊèèËø∞‰πùÂÆ´Ê†ºÁÆóÊ≥ï NSInteger col = x;//ÂÆö‰πâÂàóÊï∞ NSInteger index = self.shopsView.subviews.count;//Ëé∑Âèñ‰∏ãÊ†á CGFloat margin = (self.shopsView.frame.size.width - col*viewW) / (col - 1);//ÂÆö‰πâÈó¥Èöî CGFloat viewX = (index % col ) * (viewW + margin); CGFloat viewY = (index / col ) * (viewH + 10); ÂÆûÁé∞ÂõæÁâáËΩÆÊí≠Âõæ ScrollViewÂè™ÈúÄË¶ÅËÆæÁΩÆ‰∏â‰∏™ImageViewÂç≥ÂèØÔºåÂπ∂‰∏îÈªòËÆ§ÊòæÁ§∫‰∏≠Èó¥ÁöÑImageView Ê†πÊçÆScrollViewÁöÑÁßªÂä®ÊÉÖÂÜµÔºåËøÖÈÄüÂèòÂåñ‰∏â‰∏™ImageView‰∏≠ÂõæÁâáÊï∞ÊçÆ ImageViewÊõ¥Êñ∞ÂÆåÊØïÂêéÔºåÂÅ∑ÂÅ∑ÊääScrollViewÊãâÂõûÂà∞‰∏≠Èó¥ÁöÑImageView‰ΩçÁΩÆÔºåËøôÊ†∑ËßÜËßâÊïàÊûú‰∏äÂ∞±ÂÆûÁé∞‰∫ÜÊó†ÈôêÂæ™ÁéØÁöÑÊïàÊûú Â∫îÁî®ÁöÑÁîüÂëΩÂë®Êúü -(BOOL)application:(UIApplication )application willFinishLaunchingWithOptions:(NSDictionary )launchOptions ÂëäËØâ‰ª£ÁêÜËøõÁ®ãÂêØÂä®‰ΩÜËøòÊ≤°ËøõÂÖ•Áä∂ÊÄÅ‰øùÂ≠ò -(BOOL)application:(UIApplication )application didFinishLaunchingWithOptions:(NSDictionary )launchOptions ÂëäËØâ‰ª£ÁêÜÂêØÂä®Âü∫Êú¨ÂÆåÊàêÁ®ãÂ∫èÂáÜÂ§áÂºÄÂßãËøêË°å -(void)applicationWillResignActive:(UIApplication *)application ÂΩìÂ∫îÁî®Á®ãÂ∫èÂ∞ÜË¶ÅÂÖ•ÈùûÊ¥ªÂä®Áä∂ÊÄÅÊâßË°åÔºåÂú®Ê≠§ÊúüÈó¥ÔºåÂ∫îÁî®Á®ãÂ∫è‰∏çÊé•Êî∂Ê∂àÊÅØÊàñ‰∫ã‰ª∂ÔºåÊØîÂ¶ÇÊù•ÁîµËØù‰∫Ü -(void)applicationDidBecomeActive:(UIApplication *)application ÂΩìÂ∫îÁî®Á®ãÂ∫èÂÖ•Ê¥ªÂä®Áä∂ÊÄÅÊâßË°åÔºåËøô‰∏™ÂàöÂ•ΩË∑ü‰∏äÈù¢ÈÇ£‰∏™ÊñπÊ≥ïÁõ∏Âèç -(void)applicationDidEnterBackground:(UIApplication *)application ÂΩìÁ®ãÂ∫èË¢´Êé®ÈÄÅÂà∞ÂêéÂè∞ÁöÑÊó∂ÂÄôË∞ÉÁî®„ÄÇÊâÄ‰ª•Ë¶ÅËÆæÁΩÆÂêéÂè∞ÁªßÁª≠ËøêË°åÔºåÂàôÂú®Ëøô‰∏™ÂáΩÊï∞ÈáåÈù¢ËÆæÁΩÆÂç≥ÂèØ -(void)applicationWillEnterForeground:(UIApplication *)application ÂΩìÁ®ãÂ∫è‰ªéÂêéÂè∞Â∞ÜË¶ÅÈáçÊñ∞ÂõûÂà∞ÂâçÂè∞Êó∂ÂÄôË∞ÉÁî®ÔºåËøô‰∏™ÂàöÂ•ΩË∑ü‰∏äÈù¢ÁöÑÈÇ£‰∏™ÊñπÊ≥ïÁõ∏Âèç„ÄÇ -(void)applicationWillTerminate:(UIApplication *)application ÂΩìÁ®ãÂ∫èÂ∞ÜË¶ÅÈÄÄÂá∫ÊòØË¢´Ë∞ÉÁî®ÔºåÈÄöÂ∏∏ÊòØÁî®Êù•‰øùÂ≠òÊï∞ÊçÆÂíå‰∏Ä‰∫õÈÄÄÂá∫ÂâçÁöÑÊ∏ÖÁêÜÂ∑•‰Ωú„ÄÇ load initializeÊñπÊ≥ïÁöÑÂå∫Âà´ +(void)load; ÂΩìÁ±ªÂØπË±°Ë¢´ÂºïÂÖ•È°πÁõÆÊó∂, runtime ‰ºöÂêëÊØè‰∏Ä‰∏™Á±ªÂØπË±°ÂèëÈÄÅ load Ê∂àÊÅØ load ÊñπÊ≥ï‰ºöÂú®ÊØè‰∏Ä‰∏™Á±ªÁîöËá≥ÂàÜÁ±ªË¢´ÂºïÂÖ•Êó∂‰ªÖË∞ÉÁî®‰∏ÄÊ¨°,Ë∞ÉÁî®ÁöÑÈ°∫Â∫èÔºöÁà∂Á±ª‰ºòÂÖà‰∫éÂ≠êÁ±ª, Â≠êÁ±ª‰ºòÂÖà‰∫éÂàÜÁ±ª load ÊñπÊ≥ï‰∏ç‰ºöË¢´Á±ªËá™Âä®ÁªßÊâø +(void)initialize; ‰πüÊòØÂú®Á¨¨‰∏ÄÊ¨°‰ΩøÁî®Ëøô‰∏™Á±ªÁöÑÊó∂ÂÄô‰ºöË∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ï UIScrollView Â§ßÊ¶ÇÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºåÂÆÉÊòØÂ¶Ç‰ΩïÊçïÊçâ„ÄÅÂìçÂ∫îÊâãÂäøÁöÑÔºü ÊàëÂØπUIScrollViewÁöÑÁêÜËß£ÊòØframeÂ∞±ÊòØ‰ªñÁöÑcontentSize,boundsÂ∞±ÊòØ‰ªñÁöÑÂèØËßÜËåÉÂõ¥,ÈÄöËøáÊîπÂèòbounds‰ªéËÄåËææÂà∞ËÆ©Áî®Êà∑ËØØ‰ª•‰∏∫Âú®ÊªöÂä®,‰ª•‰∏ãÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑUIScrollViewÂÆûÁé∞ Á¨¨‰∫å‰∏™ÈóÆÈ¢ò‰∏™‰∫∫ÁêÜËß£ÊòØËß£ÂÜ≥ÊâãÂäøÂÜ≤Á™Å,ÂØπËá™Â∑±Ê∑ªÂä†ÁöÑÊâãÂäøËøõË°åÊçïËé∑ÂíåÂìçÂ∫î // ËÆ©UIScrollViewÈÅµÂÆàUIGestureRecognizerDelegateÂçèËÆÆ,ÂÆûÁé∞Ëøô‰∏™ÊñπÊ≥ï,Âú®ËøôÈáåÊñπÊ≥ïÈáåÂØπÊ∑ªÂä†ÁöÑÊâãÂäøËøõË°åÂ§ÑÁêÜÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥ÂÜ≤Á™Å (BOOL)gestureRecognizer:(UIGestureRecognizer )gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer )otherGestureRecognizer +[UIView animateWithDuration:animations:completion:] ÂÜÖÈÉ®Â§ßÊ¶ÇÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºüanimateWithDuration:ËøôÂ∞±Á≠â‰∫éÂàõÂª∫‰∏Ä‰∏™ÂÆöÊó∂Âô® animations:ËøôÊòØÂàõÂª∫ÂÆöÊó∂Âô®ÈúÄË¶ÅÂÆûÁé∞ÁöÑSEL completion:ÊòØÂÆöÊó∂Âô®ÁªìÊùü‰ª•ÂêéÁöÑ‰∏Ä‰∏™ÂõûË∞Éblock ‰ªÄ‰πàÊó∂ÂÄô‰ºöÂèëÁîü„ÄåÈöêÂºèÂä®Áîª„ÄçÔºü ÂΩìÊîπÂèòCALayerÁöÑ‰∏Ä‰∏™ÂèØÂÅöÂä®ÁîªÁöÑÂ±ûÊÄßÔºåÂÆÉÂπ∂‰∏çËÉΩÁ´ãÂàªÂú®Â±èÂπï‰∏ä‰ΩìÁé∞Âá∫Êù•.Áõ∏ÂèçÔºåÂÆÉÊòØ‰ªéÂÖàÂâçÁöÑÂÄºÂπ≥ÊªëËøáÊ∏°Âà∞Êñ∞ÁöÑÂÄº„ÄÇËøô‰∏ÄÂàáÈÉΩÊòØÈªòËÆ§ÁöÑË°å‰∏∫Ôºå‰Ω†‰∏çÈúÄË¶ÅÂÅöÈ¢ùÂ§ñÁöÑÊìç‰Ωú,ËøôÂ∞±ÊòØÈöêÂºèÂä®Áîª Â¶Ç‰ΩïÊää‰∏ÄÂº†Â§ßÂõæÁº©Â∞è‰∏∫1/4Â§ßÂ∞èÁöÑÁº©Áï•ÂõæÔºüimgData = UIImageJPEGRepresentation(image, 0.6f) ÂΩìTableViewÁöÑCellÊîπÂèòÊó∂ÔºåÂ¶Ç‰ΩïËÆ©Ëøô‰∫õÊîπÂèò‰ª•Âä®ÁîªÁöÑÂΩ¢ÂºèÂëàÁé∞Ôºü[tableView deselectRowAtIndexPath:indexPath animated:TRUE]; // ÈáçÁÇπÊòØËøô2Âè•‰ª£Á†ÅÂÆûÁé∞ÁöÑÂäüËÉΩ [tableView beginUpdates]; [tableView endUpdates]; ‰∏∫‰ªÄ‰πàÂΩì Core Animation ÂÆåÊàêÊó∂Ôºålayer Âèà‰ºöÊÅ¢Â§çÂà∞ÂéüÂÖàÁöÑÁä∂ÊÄÅÔºü Âõ†‰∏∫Ëøô‰∫õ‰∫ßÁîüÁöÑÂä®ÁîªÂè™ÊòØÂÅáË±°,Âπ∂Ê≤°ÊúâÂØπlayerËøõË°åÊîπÂèò.ÈÇ£‰πà‰∏∫‰ªÄ‰πà‰ºöËøôÊ†∑Âë¢,ËøôÈáåË¶ÅËÆ≤‰∏Ä‰∏ãÂõæÂ±ÇÊ†ëÈáåÁöÑÂëàÁé∞Ê†ë.ÂëàÁé∞Ê†ëÂÆûÈôÖ‰∏äÊòØÊ®°ÂûãÂõæÂ±ÇÁöÑÂ§çÂà∂,‰ΩÜÊòØÂÆÉÁöÑÂ±ûÊÄßÂÄºË°®Á§∫‰∫ÜÂΩìÂâçÂ§ñËßÇÊïàÊûú,Âä®ÁîªÁöÑËøáÁ®ãÂÆûÈôÖ‰∏äÂè™ÊòØ‰øÆÊîπ‰∫ÜÂëàÁé∞Ê†ë,Âπ∂Ê≤°ÊúâÂØπÂõæÂ±ÇÁöÑÂ±ûÊÄßËøõË°åÊîπÂèò,ÊâÄ‰ª•Âú®Âä®ÁîªÁªìÊùü‰ª•ÂêéÂõæÂ±Ç‰ºöÊÅ¢Â§çÂà∞ÂéüÂÖàÁä∂ÊÄÅ ËÆæËÆ°‰∏Ä‰∏™ËøõÂ∫¶Êù°„ÄÇ Ëá™ÂÆö‰πâ‰∏Ä‰∏™UIViewÁöÑÂ≠êÁ±ª //Êèê‰æõ‰∏Ä‰∏™ÊàêÂëòÂ±ûÊÄßÔºåÊé•Êî∂‰∏ãËΩΩËøõÂ∫¶ÂÄº @property (nonatomic, assign) CGFloat progress; ÈáçÂÜôÊàêÂëòÂ±ûÊÄßprogressÁöÑsetter //ÊØèÊ¨°ÊîπÂèòÊàêÂëòÂ±ûÊÄßprogressÁöÑÂÄºÔºåÂ∞±‰ºöË∞ÉÁî®ÂÆÉÁöÑsetter -(void)setProgress:(CGFloat)progress { _progress = progress; //ÂΩì‰∏ãËΩΩËøõÂ∫¶ÊîπÂèòÊó∂ÔºåÊâãÂä®Ë∞ÉÁî®ÈáçÁªòÊñπÊ≥ï [self setNeedsDisplay]; } ÈáçÂÜô -(void)drawRect:(CGRect)rectÔºàÊ†∏ÂøÉÔºâ -(void)drawRect:(CGRect)rect { //ËÆæÁΩÆÂúÜÂºßÁöÑÂçäÂæÑ CGFloat radius = rect.size.width * 0.5; //ËÆæÁΩÆÂúÜÂºßÁöÑÂúÜÂøÉ CGPoint center = CGPointMake(radius, radius); //ËÆæÁΩÆÂúÜÂºßÁöÑÂºÄÂßãÁöÑËßíÂ∫¶ÔºàÂºßÂ∫¶Âà∂Ôºâ CGFloat startAngle = - M_PI_2; //ËÆæÁΩÆÂúÜÂºßÁöÑÁªàÊ≠¢ËßíÂ∫¶ CGFloat endAngle = - M_PI_2 + 2 * M_PI * self.progress; //‰ΩøÁî®UIBezierPathÁ±ªÁªòÂà∂ÂúÜÂºß UIBezierPath *path = [UIBezierPath bezierPathWithArcCenter:center radius:radius - 5 startAngle:startAngle endAngle:endAngle clockwise:YES]; //Â∞ÜÁªòÂà∂ÁöÑÂúÜÂºßÊ∏≤ÊüìÂà∞ÂõæÂ±Ç‰∏äÔºàÂç≥ÊòæÁ§∫Âá∫Êù•Ôºâ [path stroke]; } Â¶Ç‰ΩïÊí≠Êîæ GIF ÂõæÁâáÔºåÊúâ‰ªÄ‰πà‰ºòÂåñÊñπÊ°à‰πàÔºü UIImageViewÁî®Êù•ÊòæÁ§∫ÂõæÁâáÔºå ‰ΩøÁî®UIImageView‰∏≠ÁöÑÂä®ÁîªÊï∞ÁªÑÊù•ÂÆûÁé∞ÂõæÁâáÁöÑÂä®ÁîªÊïàÊûú Áî®UIWebViewÊù•ÊòæÁ§∫Âä®ÊÄÅÂõæÁâá Á¨¨‰∏âÊñπÊòæÁ§∫Ê°ÜÊû∂ ÈÄöËøáUIImageViewÊòæÁ§∫Âä®ÁîªÊïàÊûúÔºåÂÆûÈôÖ‰∏äÊòØÊääÂä®ÊÄÅÁöÑÂõæÊãÜÊàê‰∫Ü‰∏ÄÁªÑÈùôÊÄÅÁöÑÂõæÔºåÊîæÂà∞Êï∞ÁªÑ‰∏≠ÔºåÊí≠ÊîæÁöÑÊó∂ÂÄô‰æùÊ¨°‰ªéÊï∞ÁªÑ‰∏≠ÂèñÂá∫„ÄÇÂ¶ÇÊûúÊí≠ÊîæÁöÑÂõæÁâáÊØîËæÉÂ∞ëÂç†ÂæóÂÜÖÂ≠òÊØîËæÉÂ∞èÊàñËÄÖÊØîËæÉÂ∏∏Áî®ÔºàÊØîÂ¶ÇÂ∑•ÂÖ∑Êù°‰∏ä‰∏ÄÁõ¥ÊòæÁ§∫ÁöÑÂä®ÊÄÅÂ∞èÂõæÊ†áÔºâÔºåÂèØ‰ª•ÈÄâÊã©Áî®imageNamedÔºöÊñπÂºèËé∑ÂèñÂõæÁâáÔºå‰ΩÜÊòØÈÄöËøáËøôÁßçÊñπÂºèÂä†Âà∞ÂÜÖÂ≠ò‰∏≠Ôºå‰ΩøÁî®ÁªìÊùüÔºå‰∏ç‰ºöËá™Â∑±ÈáäÊîæÔºåÂ§öÊ¨°Êí≠ÊîæÂä®Áîª‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊ∫¢Âá∫ÈóÆÈ¢ò„ÄÇÂõ†Ê≠§ÔºåÂØπ‰∫éÂ§ßÂõæÊàñÁªèÂ∏∏Êõ¥Êç¢ÁöÑÂõæÔºåÂú®ÂèñÂõæÁâáÁöÑÊó∂ÂÄôÂèØ‰ª•ÈÄâÊã©imageWithContentsOfFile:ÊñπÂºèËé∑ÂèñÂõæÁâáÔºå‰ºòÂåñÂÜÖÂ≠ò„ÄÇ ‰ΩøÁî®UIWebViewÊòæÁ§∫ÂõæÁâáÈúÄË¶ÅÊ≥®ÊÑèÊòæÁ§∫ÂõæÁâáÁöÑÂ∞∫ÂØ∏‰∏éUIWebViewÂ∞∫ÂØ∏ÁöÑËÆæÁΩÆÔºåÂ¶ÇÊûúÂè™ÊòØ‰∏∫‰∫ÜÊòæÁ§∫Âä®ÊÄÅÂõæÁâáÔºåÂèØ‰ª•Á¶ÅÊ≠¢UIWebViewÊªöÂä®„ÄÇÂú®ÊòæÁ§∫Âä®ÊÄÅÂõæÁâáÁöÑÊó∂ÂÄôÔºåÂç≥‰ΩøÊòØÂä®ÂõæÁöÑËÉåÊôØÂ§Ñ‰∏∫ÈÄèÊòéÔºåÈªòËÆ§ÊòæÁ§∫Âá∫Êù•ÊòØÁôΩËâ≤ËÉåÊôØÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÊâãÂä®ËÆæÁΩÆUIWebViewÁöÑÈÄèÊòéÊâçËÉΩËææÂà∞ÊòæÁ§∫Âä®ÂõæËÉåÊôØÈÄèÊòéÁöÑÊïàÊûú„ÄÇ ÊúâÂì™Âá†ÁßçÊñπÂºèÂèØ‰ª•ÂØπÂõæÁâáËøõË°åÁº©ÊîæÔºå‰ΩøÁî® CoreGraphics Áº©ÊîæÊó∂Êúâ‰ªÄ‰πàÊ≥®ÊÑè‰∫ãÈ°πÔºü UIImageViewÊï¥‰ΩìÊãâ‰º∏ UIImageÂ±ÄÈÉ®Êãâ‰º∏ UIImage‰øÆÊîπÂ§ßÂ∞è images.xcassetsÔºöÂ§ö‰∫è‰∫ÜXcode‰∏≠Asset CatalogÁöÑsliceÂíådiceÔºåÊàë‰ª¨‰∏çÈúÄË¶Å‰ª£Á†Å‰πüËÉΩÊãâ‰º∏ÂõæÁâá„ÄÇÈ¶ñÂÖàÂú®Xcode‰∏≠ÈÄâ‰∏≠ÂõæÁâáÔºåÁÑ∂ÂêéÁÇπÂáªÂè≥‰∏ãËßíÁöÑShow SlicingÔºö ÂõæÂΩ¢‰∏ä‰∏ãÊñáÁ≠âÊØî‰æãÁº©Êîæ XIB‰∏éStoryboardsÁöÑ‰ºòÁº∫ÁÇπ?- XIBÔºöÂú®ÁºñËØëÂâçÂ∞±Êèê‰æõ‰∫ÜÂèØËßÜÂåñÁïåÈù¢ÔºåÂèØ‰ª•Áõ¥Êé•ÊãñÊéß‰ª∂Ôºå‰πüÂèØ‰ª•Áõ¥Êé•ÁªôÊéß‰ª∂Ê∑ªÂä†Á∫¶ÊùüÔºåÊõ¥Áõ¥ËßÇ‰∏Ä‰∫õÔºåËÄå‰∏îÁ±ªÊñá‰ª∂‰∏≠Â∞±Â∞ë‰∫ÜÂàõÂª∫Êéß‰ª∂ÁöÑ‰ª£Á†ÅÔºåÁ°ÆÂÆûÁÆÄÂåñ‰∏çÂ∞ëÔºåÈÄöÂ∏∏ÊØè‰∏™XIBÂØπÂ∫î‰∏Ä‰∏™Á±ª„ÄÇ - StoryboardÔºöÂú®ÁºñËØëÂâçÊèê‰æõ‰∫ÜÂèØËßÜÂåñÁïåÈù¢ÔºåÂèØÊãñÊéß‰ª∂ÔºåÂèØÂä†Á∫¶ÊùüÔºåÂú®ÂºÄÂèëÊó∂ÊØîËæÉÁõ¥ËßÇÔºåËÄå‰∏î‰∏Ä‰∏™storyboardÂèØ‰ª•ÊúâÂæàÂ§öÁöÑÁïåÈù¢ÔºåÊØè‰∏™ÁïåÈù¢ÂØπÂ∫î‰∏Ä‰∏™Á±ªÊñá‰ª∂ÔºåÈÄöËøástorybardÔºåÂèØ‰ª•Áõ¥ËßÇÂú∞ÁúãÂá∫Êï¥‰∏™AppÁöÑÁªìÊûÑ„ÄÇ - XIBÔºöÈúÄÊ±ÇÂèòÂä®Êó∂ÔºåÈúÄË¶Å‰øÆÊîπXIBÂæàÂ§ßÔºåÊúâÊó∂ÂÄôÁîöËá≥ÈúÄË¶ÅÈáçÊñ∞Ê∑ªÂä†Á∫¶ÊùüÔºåÂØºËá¥ÂºÄÂèëÂë®ÊúüÂèòÈïø„ÄÇXIBËΩΩÂÖ•Áõ∏ÊØîÁ∫Ø‰ª£Á†ÅËá™ÁÑ∂Ë¶ÅÊÖ¢‰∏Ä‰∫õ„ÄÇÂØπ‰∫éÊØîËæÉÂ§çÊùÇÈÄªËæëÊéßÂà∂‰∏çÂêåÁä∂ÊÄÅ‰∏ãÊòæÁ§∫‰∏çÂêåÂÜÖÂÆπÊó∂Ôºå‰ΩøÁî®XIBÊòØÊØîËæÉÂõ∞ÈöæÁöÑ„ÄÇÂΩìÂ§ö‰∫∫Âõ¢ÈòüÊàñËÄÖÂ§öÂõ¢ÈòüÂºÄÂèëÊó∂ÔºåÂ¶ÇÊûúXIBÊñá‰ª∂Ë¢´ÂèëÂä®ÔºåÊûÅÊòìÂØºËá¥ÂÜ≤Á™ÅÔºåËÄå‰∏îËß£ÂÜ≥ÂÜ≤Á™ÅÁõ∏ÂØπË¶ÅÂõ∞ÈöæÂæàÂ§ö„ÄÇ - StoryboardÔºöÈúÄÊ±ÇÂèòÂä®Êó∂ÔºåÈúÄË¶Å‰øÆÊîπstoryboard‰∏äÂØπÂ∫îÁöÑÁïåÈù¢ÁöÑÁ∫¶ÊùüÔºå‰∏éXIB‰∏ÄÊ†∑ÂèØËÉΩË¶ÅÈáçÊñ∞Ê∑ªÂä†Á∫¶ÊùüÔºåÊàñËÄÖÊ∑ªÂä†Á∫¶Êùü‰ºöÈÄ†ÊàêÂ§ßÈáèÁöÑÂÜ≤Á™ÅÔºåÂ∞§ÂÖ∂ÊòØÂ§öÂõ¢ÈòüÂºÄÂèë„ÄÇÂØπ‰∫éÂ§çÊùÇÈÄªËæëÊéßÂà∂‰∏çÂêåÊòæÁ§∫ÂÜÖÂÆπÊó∂ÔºåÊØîËæÉÂõ∞Èöæ„ÄÇÂΩìÂ§ö‰∫∫Âõ¢ÈòüÊàñËÄÖÂ§öÂõ¢ÈòüÂºÄÂèëÊó∂ÔºåÂ§ßÂÆ∂‰ºöÂêåÊó∂‰øÆÊîπ‰∏Ä‰∏™storyboardÔºåÂØºËá¥Â§ßÈáèÂÜ≤Á™ÅÔºåËß£ÂÜ≥Ëµ∑Êù•Áõ∏ÂΩìÂõ∞Èöæ„ÄÇ ÊéßÂà∂Âô®ViewÁöÑÂä†ËΩΩËøáÁ®ãÔºüÂΩìÁ®ãÂ∫èËÆøÈóÆ‰∫ÜÊéßÂà∂Âô®ÁöÑViewÂ±ûÊÄßÊó∂‰ºöÂÖàÂà§Êñ≠ÊéßÂà∂Âô®ÁöÑViewÊòØÂê¶Â≠òÂú®ÔºåÂ¶ÇÊûúÂ≠òÂú®Â∞±Áõ¥Êé•ËøîÂõûÂ∑≤ÁªèÂ≠òÂú®ÁöÑViewÔºõ Â¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂ∞±‰ºöÂÖàË∞ÉÁî®loadViewËøô‰∏™ÊñπÊ≥ïÔºõÂ¶ÇÊûúÊéßÂà∂Âô®ÁöÑloadViewÊñπÊ≥ïÂÆûÁé∞‰∫ÜÔºåÂ∞±‰ºöÊåâÁÖßloadViewÊñπÊ≥ïÂä†ËΩΩËá™ÂÆö‰πâÁöÑViewÔºõ Â¶ÇÊûúÊéßÂà∂Âô®ÁöÑloadViewÊñπÊ≥ïÊ≤°ÊúâÂÆûÁé∞Â∞±‰ºöÂà§Êñ≠storyboardÊòØÂê¶Â≠òÂú®Ôºõ Â¶ÇÊûústoryboardÂ≠òÂú®Â∞±‰ºöÊåâÁÖßstoryboardÂä†ËΩΩÊéßÂà∂Âô®ÁöÑViewÔºõÂ¶ÇÊûústoryboard‰∏çÂ≠òÂú®ÔºåÂ∞±‰ºöÂàõÂª∫‰∏Ä‰∏™Á©∫ËßÜÂõæËøîÂõû„ÄÇ Â∫îÁî®Á®ãÂ∫èÁöÑÂêØÂä®ÊµÅÁ®ãÔºü1.ÊâßË°åMain 2.ÊâßË°åUIApplicationMainÂáΩÊï∞. 3.ÂàõÂª∫UIApplicationÂØπË±°,Âπ∂ËÆæÁΩÆUIApplicationMainÂØπË±°ÁöÑ‰ª£ÁêÜ. UIApplicationÁöÑÁ¨¨‰∏â‰∏™ÂèÇÊï∞Â∞±ÊòØUIApplicationÁöÑÂêçÁß∞,Â¶ÇÊûúÊåáÂÆö‰∏∫nil,ÂÆÉ‰ºöÈªòËÆ§‰∏∫UIApplication. UIApplicationÁöÑÁ¨¨Âõõ‰∏™ÂèÇÊï∞‰∏∫UIApplicationÁöÑ‰ª£ÁêÜ. 4.ÂºÄÂêØ‰∏Ä‰∏™‰∏ªËøêË°åÂæ™ÁéØ.‰øùËØÅÂ∫îÁî®Á®ãÂ∫è‰∏çÈÄÄÂá∫. 5.Âä†ËΩΩinfo.plist.Âä†ËΩΩÈÖçÁΩÆÊñá‰ª∂.Âà§Êñ≠‰∏Ä‰∏ãinfo.plistÊñá‰ª∂ÂΩì‰∏≠ÊúâÊ≤°ÊúâMain storyboard file base nameÈáåÈù¢ÊúâÊ≤°ÊúâÊåáÂÆöstoryboardÊñá‰ª∂,Â¶ÇÊûúÊúâÂ∞±ÂéªÂä†ËΩΩinfo.plistÊñá‰ª∂,Â¶ÇÊûúÊ≤°Êúâ,ÈÇ£‰πàÂ∫îÁî®Á®ãÂ∫èÂä†ËΩΩÂÆåÊØï. ‰∫ã‰ª∂‰º†ÈÄí‰∏éÂìçÂ∫îÁöÑÂÆåÊï¥ËøáÁ®ã?Âú®‰∫ßÁîü‰∏Ä‰∏™‰∫ã‰ª∂Êó∂,Á≥ªÁªü‰ºöÂ∞ÜËØ•‰∫ã‰ª∂Âä†ÂÖ•Âà∞‰∏Ä‰∏™Áî±UIApplicationÁÆ°ÁêÜÁöÑ‰∫ã‰ª∂ÈòüÂàó‰∏≠, UIApplication‰ºö‰ªé‰∫ã‰ª∂ÈòüÂàó‰∏≠ÂèñÂá∫ÊúÄÂâçÈù¢ÁöÑ‰∫ã‰ª∂,Â∞ÜÂÆÉ‰º†ÈÄíÁªôÂÖàÂèëÈÄÅ‰∫ã‰ª∂ÁªôÂ∫îÁî®Á®ãÂ∫èÁöÑ‰∏ªÁ™óÂè£. ‰∏ªÁ™óÂè£‰ºöË∞ÉÁî®hitTestÊñπÊ≥ïÂØªÊâæÊúÄÈÄÇÂêàÁöÑËßÜÂõæÊéß‰ª∂,ÊâæÂà∞ÂêéÂ∞±‰ºöË∞ÉÁî®ËßÜÂõæÊéß‰ª∂ÁöÑtouchesÊñπÊ≥ïÊù•ÂÅöÂÖ∑‰ΩìÁöÑ‰∫ãÊÉÖ. ÂΩìË∞ÉÁî®touchesÊñπÊ≥ï,ÂÆÉÁöÑÈªòËÆ§ÂÅöÊ≥ï, Â∞±‰ºöÂ∞Ü‰∫ã‰ª∂È°∫ÁùÄÂìçÂ∫îËÄÖÈìæÊù°ÂæÄ‰∏ä‰º†ÈÄíÔºå ‰º†ÈÄíÁªô‰∏ä‰∏Ä‰∏™ÂìçÂ∫îËÄÖ,Êé•ÁùÄÂ∞±‰ºöË∞ÉÁî®‰∏ä‰∏Ä‰∏™ÂìçÂ∫îËÄÖÁöÑtouchesÊñπÊ≥ï ‰∏ãÂàóÂõûË∞ÉÊú∫Âà∂ÁöÑÁêÜËß£‰∏çÊ≠£Á°ÆÁöÑÊòØA target-actionÔºöÂΩì‰∏§‰∏™ÂØπË±°‰πãÈó¥Êúâ‚ΩêËæÉÁ¥ßÂØÜÁöÑÂÖ≥Á≥ªÊó∂ÔºåÂ¶ÇËßÜÂõæÊéßÂà∂Âô®‰∏éÂÖ∂‰∏ãÁöÑÊüê‰∏™ËßÜÂõæ„ÄÇ B delegateÔºöÂΩìÊüê‰∏™ÂØπË±°Êî∂Âà∞Â§ö‰∏™‰∫ã‰ª∂ÔºåÂπ∂Ë¶ÅÊ±ÇÂêå‰∏Ä‰∏™ÂØπË±°Êù•Â§ÑÁêÜÊâÄÊúâ‰∫ã‰ª∂Êó∂„ÄÇÂßîÊâòÊú∫Âà∂ÂøÖÈ°ª‰æùËµñ‰∫éÊüê‰∏™ÂçèËÆÆÂÆö‰πâÁöÑ‚ΩÖÊ≥ïÊù•ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ C NSNotificationÔºöÂΩìÈúÄË¶ÅÂ§ö‰∏™ÂØπË±°Êàñ‰∏§‰∏™Êó†ÂÖ≥ÂØπË±°Â§ÑÁêÜÂêå‰∏Ä‰∏™‰∫ã‰ª∂Êó∂„ÄÇ D BlockÔºöÈÄÇ‚Ω§‰∫éÂõûË∞ÉÂè™Âèë‚Ω£Áîü‰∏ÄÊ¨°ÁöÑÁÆÄÂçï‰ªªÂä°„ÄÇ ÂèÇËÄÉÁ≠îÊ°àÔºöB ÁªôUIImageViewÊ∑ªÂä†ÂúÜËßí ÊúÄÁõ¥Êé•ÁöÑÊñπÊ≥ïÂ∞±ÊòØ‰ΩøÁî®Â¶Ç‰∏ãÂ±ûÊÄßËÆæÁΩÆÔºö imgView.layer.cornerRadius = 10; // Ëøô‰∏ÄË°å‰ª£Á†ÅÊòØÂæàÊ∂àËÄóÊÄßËÉΩÁöÑ imgView.clipsToBounds = YES; Â•ΩÂ§ÑÊòØ‰ΩøÁî®ÁÆÄÂçïÔºåÊìç‰ΩúÊñπ‰æø„ÄÇÂùèÂ§ÑÊòØÁ¶ªÂ±èÊ∏≤ÊüìÔºàoff-screen-renderingÔºâÈúÄË¶ÅÊ∂àËÄóÊÄßËÉΩ„ÄÇÂØπ‰∫éÂõæÁâáÊØîËæÉÂ§öÁöÑËßÜÂõæ‰∏äÔºå‰∏çÂª∫ËÆÆ‰ΩøÁî®ËøôÁßçÊñπÊ≥ïÊù•ËÆæÁΩÆÂúÜËßí„ÄÇÈÄöÂ∏∏Êù•ËØ¥ÔºåËÆ°ÁÆóÊú∫Á≥ªÁªü‰∏≠CPU„ÄÅGPU„ÄÅÊòæÁ§∫Âô®ÊòØÂçèÂêåÂ∑•‰ΩúÁöÑ„ÄÇCPUËÆ°ÁÆóÂ•ΩÊòæÁ§∫ÂÜÖÂÆπÊèê‰∫§Âà∞GPUÔºåGPUÊ∏≤ÊüìÂÆåÊàêÂêéÂ∞ÜÊ∏≤ÊüìÁªìÊûúÊîæÂÖ•Â∏ßÁºìÂÜ≤Âå∫„ÄÇ ÁÆÄÂçïÊù•ËØ¥ÔºåÁ¶ªÂ±èÊ∏≤ÊüìÔºåÂØºËá¥Êú¨ËØ•GPUÂπ≤ÁöÑÊ¥ªÔºåÁªìÊûú‰∫§Áªô‰∫ÜCPUÊù•Âπ≤ÔºåËÄåCPUÂèà‰∏çÊìÖÈïøGPUÂπ≤ÁöÑÊ¥ªÔºå‰∫éÊòØÊãñÊÖ¢‰∫ÜUIÂ±ÇÁöÑFPSÔºàÊï∞ÊçÆÂ∏ßÁéáÔºâÔºåÂπ∂‰∏îÁ¶ªÂ±èÈúÄË¶ÅÂàõÂª∫Êñ∞ÁöÑÁºìÂÜ≤Âå∫Âíå‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂõ†Ê≠§Ê∂àËÄóËæÉÂ§ßÁöÑÊÄßËÉΩ„ÄÇ ÁªôUIImageÊ∑ªÂä†ÁîüÊàêÂúÜËßíÂõæÁâáÁöÑÊâ©Â±ïAPIÔºö - (UIImage *)hyb_imageWithCornerRadius:(CGFloat)radius { CGRect rect = (CGRect){0.f, 0.f, self.size}; UIGraphicsBeginImageContextWithOptions(self.size, NO, UIScreen.mainScreen.scale); CGContextAddPath(UIGraphicsGetCurrentContext(), [UIBezierPath bezierPathWithRoundedRect:rect cornerRadius:radius].CGPath); CGContextClip(UIGraphicsGetCurrentContext()); [self drawInRect:rect]; UIImage *image = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); return image; } ÁÑ∂ÂêéË∞ÉÁî®Êó∂Â∞±Áõ¥Êé•‰º†‰∏Ä‰∏™ÂúÜËßíÊù•Â§ÑÁêÜÔºö imgView.image = [[UIImage imageNamed:@&quot;test&quot;] hyb_imageWithCornerRadius:4]; Ëøô‰πàÂÅöÂ∞±ÊòØon-screen-rendering‰∫ÜÔºåÈÄöËøáÊ®°ÊãüÂô®-&gt;debug-&gt;Color Off-screen-renderingÁúãÂà∞Ê≤°ÊúâÁ¶ªÂ±èÊ∏≤Êüì‰∫Ü!ÔºàÈªÑËâ≤ÁöÑÂ∞èÂúÜËßíÊ≤°ÊúâÊòæÁ§∫‰∫ÜÔºåËØ¥ÊòéËøô‰∏™‰∏çÊòØÁ¶ªÂ±èÊ∏≤Êüì‰∫ÜÔºâ Âú®Áîª‰πãÂâçÂÖàÈÄöËøáUIBezierPathÊ∑ªÂä†Ë£ÅÂâ™Ôºå‰ΩÜÊòØËøôÁßç‰∏çÂÆûÁî® - (void)drawRect:(CGRect)rect { CGRect bounds = self.bounds; [[UIBezierPath bezierPathWithRoundedRect:rect cornerRadius:8.0] addClip]; [self.image drawInRect:bounds]; } ÈÄöËøámaskÈÅÆÁΩ©ÂÆûÁé∞ ‰∏Ä‰∏™viewÂ∑≤ÁªèÂàùÂßãÂåñÂÆåÊØïÔºåview‰∏äÈù¢Ê∑ªÂä†‰∫Ün‰∏™buttonÔºàÂèØËÉΩ‰ΩøÁî®Âæ™ÁéØÂàõÂª∫ÔºâÔºåÈô§Áî®viewÁöÑtag‰πãÂ§ñÔºåËøòÂèØ‰ª•ÈááÁî®‰ªÄ‰πàÂäûÊ≥ïÊù•ÊâæÂà∞Ëá™Â∑±ÊÉ≥Ë¶ÅÁöÑbuttonÊù•‰øÆÊîπButtonÁöÑÂÄºËøô‰∏™ÈóÆÈ¢òÊúâÂæàÂ§öÁßçÊñπÂºèÔºåËÄå‰∏î‰∏çÂêåÁöÑ‰ΩøÁî®Âú∫ÊôØ‰πü‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇÊØîÂ¶ÇËØ¥Ôºö ‚Ä¢ Á¨¨‰∏ÄÁßçÔºöÂ¶ÇÊûúÊòØÁÇπÂáªÊüê‰∏™ÊåâÈíÆÂêéÔºåÊâç‰ºöÂà∑Êñ∞ÂÆÉÁöÑÂÄºÔºåÂÖ∂ÂÆÉ‰∏çÁî®‰øÆÊîπÔºåÈÇ£‰πà‰∏çÁî®ÂºïÁî®‰ªª‰ΩïÊåâÈíÆÔºåÁõ¥Êé•Âú®ÂõûË∞ÉÊó∂ÔºåÂ∞±Â∑≤ÁªèÂ∞ÜÊé•Êî∂ÂìçÂ∫îÁöÑÊåâÈíÆÁªô‰º†ËøáÊù•‰∫ÜÔºåÁõ¥Êé•ÈÄöËøáÂÆÉ‰øÆÊîπÂç≥ÂèØ„ÄÇ ‚Ä¢ Á¨¨‰∫åÁßçÔºöÁÇπÂáªÊüê‰∏™ÊåâÈíÆÂêéÔºåÊâÄÊúâ‰∏é‰πãÂêåÁ±ªÂûãÁöÑÊåâÈíÆÈÉΩË¶Å‰øÆÊîπÂÄºÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøáÂú®ÂàõÂª∫ÊåâÈíÆÊó∂Â∞ÜÊåâÈíÆÂ≠òÂÖ•Âà∞Êï∞ÁªÑ‰∏≠ÔºåÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÈÅçÂéÜÊü•Êâæ„ÄÇ ‰ΩøÁî®drawRectÊúâ‰ªÄ‰πàÂΩ±ÂìçÔºü drawRectÊñπÊ≥ï‰æùËµñCore GraphicsÊ°ÜÊû∂Êù•ËøõË°åËá™ÂÆö‰πâÁöÑÁªòÂà∂Ôºå‰ΩÜËøôÁßçÊñπÊ≥ï‰∏ªË¶ÅÁöÑÁº∫ÁÇπÂ∞±ÊòØÂÆÉÂ§ÑÁêÜtouch‰∫ã‰ª∂ÁöÑÊñπÂºèÔºöÊØèÊ¨°ÊåâÈíÆË¢´ÁÇπÂáªÂêéÔºåÈÉΩ‰ºöÁî®setNeddsDisplayËøõË°åÂº∫Âà∂ÈáçÁªòÔºõËÄå‰∏î‰∏çÊ≠¢‰∏ÄÊ¨°ÔºåÊØèÊ¨°ÂçïÁÇπ‰∫ã‰ª∂Ëß¶Âèë‰∏§Ê¨°ÊâßË°å„ÄÇËøôÊ†∑ÁöÑËØù‰ªéÊÄßËÉΩÁöÑËßíÂ∫¶Êù•ËØ¥ÔºåÂØπCPUÂíåÂÜÖÂ≠òÊù•ËØ¥ÈÉΩÊòØÊ¨†‰Ω≥ÁöÑ„ÄÇÁâπÂà´ÊòØÂ¶ÇÊûúÂú®Êàë‰ª¨ÁöÑÁïåÈù¢‰∏äÊúâÂ§ö‰∏™ËøôÊ†∑ÁöÑUIButtonÂÆû‰æã„ÄÇ viewWillLayoutSubView‰Ω†ÊÄªÊòØÁü•ÈÅìÁöÑ„ÄÇcontroller layoutËß¶ÂèëÁöÑÊó∂ÂÄôÔºåÂºÄÂèëËÄÖÊúâÊú∫‰ºöÂéªÈáçÊñ∞layoutËá™Â∑±ÁöÑÂêÑ‰∏™subview„ÄÇ Ê®™Á´ñÂ±èÂàáÊç¢ÁöÑÊó∂ÂÄôÔºåÁ≥ªÁªü‰ºöÂìçÂ∫î‰∏Ä‰∫õÂáΩÊï∞ÔºåÂÖ∂‰∏≠ viewWillLayoutSubviews Âíå viewDidLayoutSubviews„ÄÇ - (void)viewWillLayoutSubviews { [self _shouldRotateToOrientation:(UIDeviceOrientation)[UIApplication sharedApplication].statusBarOrientation]; } -(void)_shouldRotateToOrientation:(UIDeviceOrientation)orientation { if (orientation == UIDeviceOrientationPortrait ||orientation == UIDeviceOrientationPortraitUpsideDown) { // Á´ñÂ±è } else { // Ê®™Â±è } } ÈÄöËøá‰∏äËø∞‰∏Ä‰∏™ÂáΩÊï∞Â∞±Áü•ÈÅìÊ®™Á´ñÂ±èÂàáÊç¢ÁöÑÊé•Âè£‰∫Ü„ÄÇ Ê≥®ÊÑèÔºöviewWillLayoutSubviewsÂè™ËÉΩÁî®Âú®ViewControllerÈáåÈù¢ÔºåÂú®viewÈáåÈù¢Ê≤°ÊúâÂìçÂ∫î„ÄÇ ‰∏Ä‰∏™tableViewÊòØÂê¶ÂèØ‰ª•ÂÖ≥ËÅî‰∏§‰∏™‰∏çÂêåÁöÑÊï∞ÊçÆÊ∫êÔºü ÂΩìÁÑ∂ÊòØÂèØ‰ª•ÂÖ≥ËÅîÂ§ö‰∏™‰∏çÂêåÁöÑÊï∞ÊçÆÊ∫êÔºå‰ΩÜÊòØ‰∏çËÉΩÂêåÊó∂‰ΩøÁî®Â§ö‰∏™Êï∞ÊçÆÊ∫êËÄåÂ∑≤„ÄÇÊØîÂ¶ÇÔºå‰∏Ä‰∏™ÂàóË°®Êúâ‰∏§‰∏™Á≠õÈÄâÂäüËÉΩÔºå‰∏Ä‰∏™ÊòØÁ≠õÈÄâÂüéÂ∏ÇÔºå‰∏Ä‰∏™ÊòØÁ≠õÈÄâÊó∂Èó¥ÔºåÈÇ£‰πàËøô‰∏§‰∏™Â∞±ÊòØ‰∏§‰∏™Êï∞ÊçÆÊ∫ê‰∫Ü„ÄÇÂΩìÁ≠õÈÄâÂüéÂ∏ÇÊó∂ÔºåÂ∞±‰ºö‰ΩøÁî®ÂüéÂ∏ÇÊï∞ÊçÆÊ∫êÔºõÂΩìÁ≠õÈÄâÊó∂Èó¥Êó∂ÔºåÂ∞±‰ºö‰ΩøÁî®Êó∂Èó¥Êï∞ÊçÆÊ∫ê„ÄÇ Â¶Ç‰ΩïËá™Âä®ËÆ°ÁÆócellÁöÑÈ´òÂ∫¶Ôºü ÂÆûÁé∞ÂéüÁêÜÔºöÈÄöËøáÊï∞ÊçÆÊ®°ÂûãÁöÑid‰Ωú‰∏∫keyÔºå‰ª•Á°Æ‰øùÂîØ‰∏ÄÔºåÂ¶Ç‰ΩïÊâçËÉΩ‰øùËØÅÂ§çÁî®cellÊó∂‰∏ç‰ºöÂá∫Áé∞Ê∑∑‰π±„ÄÇÂú®ÈÖçÁΩÆÂÆåÊï∞ÊçÆÂêéÔºåÈÄöËøáÊõ¥Êñ∞Á∫¶ÊùüÔºåÂæóÂà∞ÊúÄÂêé‰∏Ä‰∏™Êéß‰ª∂ÁöÑframeÔºåÂ∞±Âè™ÂèØ‰ª•Âà§Êñ≠cellÂÆûÈôÖÈúÄË¶ÅÁöÑÈ´òÂ∫¶ÔºåÂπ∂‰∏îÁºìÂ≠ò‰∏ãÊù•Ôºå‰∏ãÊ¨°ÂÜçËé∑ÂèñÊó∂ÔºåÂà§Êñ≠ÊòØÂê¶Â≠òÂú®ÔºåËã•Â≠òÂú®ÂàôÁõ¥Êé•ËøîÂõû„ÄÇÂõ†Ê≠§ÔºåÂè™‰ºöËÆ°ÁÆó‰∏ÄÈÅç UITableViewÊòØÂ¶Ç‰ΩïËÆ°ÁÆóÂÜÖÂÆπÈ´òÂ∫¶ÁöÑÔºü‰∏∫‰ªÄ‰πàÂàùÂßãÂåñÊó∂ÈÖçÁΩÆÊï∞ÊçÆÊó∂ÔºåËé∑ÂèñË°åÈ´òÁöÑ‰ª£ÁêÜÊñπÊ≥ï‰ºöË∞ÉÁî®Êï∞ÊçÆÊù°Êï∞Ê¨°Ôºü UITableViewÊòØÁªßÊâø‰∫éUIScrollViewÁöÑÔºåÂõ†Ê≠§‰πüÊúâcontentSize„ÄÇË¶ÅÂæóÂà∞tableviewÁöÑcontentsizeÔºåÂ∞±ÈúÄË¶ÅÂæóÂà∞ÊâÄÊúâcellÁöÑÈ´òÂ∫¶Ôºå‰ªéËÄåËÆ°ÁÆóÂá∫ÊÄªÈ´òÂ∫¶ÔºåÊâçËÉΩÂæóÂà∞contentsize„ÄÇÂõ†Ê≠§ÔºåÂú®reloadDataÊó∂ÔºåÂ∞±‰ºöË∞ÉÁî®ËØ•‰ª£ÁêÜÊñπÊ≥ïÊï∞ÊçÆÊù°Êï∞Ê¨°„ÄÇ ‰∏Ä‰∏™tableViewÊòØÂê¶ÂèØ‰ª•ÂÖ≥ËÅî‰∏§‰∏™‰∏çÂêåÁöÑÊï∞ÊçÆÊ∫ê?‰Ω†‰ºöÊÄé‰πàÂ§ÑÁêÜ?Á≠îÔºöÈ¶ñÂÖàÊàë‰ª¨‰ªé‰ª£Á†ÅÊù•ÁúãÔºåÊï∞ÊçÆÊ∫êÂ¶Ç‰ΩïÂÖ≥ËÅî‰∏äÁöÑÔºåÂÖ∂ÂÆûÊòØÂú®Êï∞ÊçÆÊ∫êÂÖ≥ËÅîÁöÑ‰ª£ÁêÜÊñπÊ≥ïÈáåÂÆûÁé∞ÁöÑ„ÄÇ Âõ†Ê≠§Êàë‰ª¨Âπ∂‰∏çÂÖ≥ÂøÉÂ¶Ç‰ΩïÂéªÂÖ≥ËÅî‰ªñÔºå‰ªñÊÄé‰πàÂÖ≥ËÅî‰∏äÔºåÊñπÊ≥ïÂè™ÊòØËÆ©ÊàëËøîÂõûÊ†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅÂéªËÆæÁΩÆÂ¶ÇÁõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÊ∫ê„ÄÇ Âõ†Ê≠§ÔºåÊàëËßâÂæóÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™Êï∞ÊçÆÊ∫êÂïäÔºå‰ΩÜÊòØÊúâ‰∏™ÈóÆÈ¢òÊòØÔºå‰Ω†ËøôÊòØÊÉ≥Âπ≤ÂòõÂë¢?ÊÉ≥ËÆ©ÂàóË°®Â¶Ç‰ΩïÊòæÁ§∫Ôºå‰∏çÂêåÁöÑÊï∞ÊçÆÊ∫êÂàÜÂå∫ÂùóÊòæÁ§∫? ÁªôÂá∫ÂßîÊâòÊñπÊ≥ïÁöÑÂÆû‰æãÔºåÂπ∂‰∏îËØ¥Âá∫UITableVIewÁöÑData SourceÊñπÊ≥ïCocoaTouchÊ°ÜÊû∂‰∏≠Áî®Âà∞‰∫ÜÂ§ßÈáèÂßîÊâòÔºåÂÖ∂‰∏≠UITableViewDelegateÂ∞±ÊòØÂßîÊâòÊú∫Âà∂ÁöÑÂÖ∏ÂûãÂ∫îÁî®ÔºåÊòØ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑ‰ΩøÁî®ÂßîÊâòÊù•ÂÆûÁé∞ÈÄÇÈÖçÂô®Ê®°ÂºèÔºåÂÖ∂‰∏≠UITableViewDelegateÂçèËÆÆÊòØÁõÆÊ†áÔºåtableviewÊòØÈÄÇÈÖçÂô®ÔºåÂÆûÁé∞UITableViewDelegateÂçèËÆÆÔºåÂπ∂Â∞ÜËá™Ë∫´ËÆæÁΩÆ‰∏∫talbeviewÁöÑdelegateÁöÑÂØπË±°ÔºåÊòØË¢´ÈÄÇÈÖçÂô®Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãËØ•ÂØπË±°ÊòØUITableViewController„ÄÇ UITableVIewÁöÑData SourceÊñπÊ≥ïÊúâ- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section; - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath; cocoa touchÊ°ÜÊû∂Á≠îÔºöiPhone OS Â∫îÁî®Á®ãÂ∫èÁöÑÂü∫Á°Ä Cocoa Touch Ê°ÜÊû∂ÈáçÁî®‰∫ÜËÆ∏Â§ö Mac Á≥ªÁªüÁöÑÊàêÁÜüÊ®°ÂºèÔºå‰ΩÜÊòØÂÆÉÊõ¥Â§öÂú∞‰∏ìÊ≥®‰∫éËß¶Êë∏ÁöÑÊé•Âè£Âíå‰ºòÂåñ„ÄÇ UIKit ‰∏∫ÊÇ®Êèê‰æõ‰∫ÜÂú® iPhone OS ‰∏äÂÆûÁé∞ÂõæÂΩ¢Ôºå‰∫ã‰ª∂È©±Âä®Á®ãÂ∫èÁöÑÂü∫Êú¨Â∑•ÂÖ∑ÔºåÂÖ∂Âª∫Á´ãÂú®Âíå Mac OS X ‰∏≠‰∏ÄÊ†∑ÁöÑ Foundation Ê°ÜÊû∂‰∏äÔºåÂåÖÊã¨Êñá‰ª∂Â§ÑÁêÜÔºåÁΩëÁªúÔºåÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÁ≠â„ÄÇ Cocoa Touch ÂÖ∑ÊúâÂíå iPhone Áî®Êà∑Êé•Âè£‰∏ÄËá¥ÁöÑÁâπÊÆäËÆæËÆ°„ÄÇÊúâ‰∫Ü UIKitÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® iPhone OS ‰∏äÁöÑÁã¨ÁâπÁöÑÂõæÂΩ¢Êé•Âè£Êéß‰ª∂ÔºåÊåâÈíÆÔºå‰ª•ÂèäÂÖ®Â±èËßÜÂõæÁöÑÂäüËÉΩÔºåÊÇ®ËøòÂèØ‰ª•‰ΩøÁî®Âä†ÈÄü‰ª™ÂíåÂ§öÁÇπËß¶Êë∏ÊâãÂäøÊù•ÊéßÂà∂ÊÇ®ÁöÑÂ∫îÁî®„ÄÇ ÂêÑËâ≤‰ø±ÂÖ®ÁöÑÊ°ÜÊû∂ Èô§‰∫ÜUIKit Â§ñÔºåCocoa Touch ÂåÖÂê´‰∫ÜÂàõÂª∫‰∏ñÁïå‰∏ÄÊµÅ iPhone Â∫îÁî®Á®ãÂ∫èÈúÄË¶ÅÁöÑÊâÄÊúâÊ°ÜÊû∂Ôºå‰ªé‰∏âÁª¥ÂõæÂΩ¢ÔºåÂà∞‰∏ì‰∏öÈü≥ÊïàÔºåÁîöËá≥Êèê‰æõËÆæÂ§áËÆøÈóÆ API ‰ª•ÊéßÂà∂ÊëÑÂÉèÂ§¥ÔºåÊàñÈÄöËøá GPS Ëé∑Áü•ÂΩìÂâç‰ΩçÁΩÆ„ÄÇ Cocoa Touch Êó¢ÂåÖÂê´Âè™ÈúÄË¶ÅÂá†Ë°å‰ª£Á†ÅÂ∞±ÂèØ‰ª•ÂÆåÊàêÂÖ®ÈÉ®‰ªªÂä°ÁöÑÂº∫Â§ßÁöÑ Objective-C Ê°ÜÊû∂Ôºå‰πüÂú®ÈúÄË¶ÅÊó∂Êèê‰æõÂü∫Á°ÄÁöÑ C ËØ≠Ë®Ä API Êù•Áõ¥Êé•ËÆøÈóÆÁ≥ªÁªü„ÄÇËøô‰∫õÊ°ÜÊû∂ÂåÖÊã¨Ôºö Core AnimationÔºöÈÄöËøá Core AnimationÔºåÊÇ®Â∞±ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™Âü∫‰∫éÁªÑÂêàÁã¨Á´ãÂõæÂ±ÇÁöÑÁÆÄÂçïÁöÑÁºñÁ®ãÊ®°ÂûãÊù•ÂàõÂª∫‰∏∞ÂØåÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇ Core AudioÔºöCore Audio ÊòØÊí≠ÊîæÔºåÂ§ÑÁêÜÂíåÂΩïÂà∂Èü≥È¢ëÁöÑ‰∏ì‰∏öÊäÄÊúØÔºåËÉΩÂ§üËΩªÊùæ‰∏∫ÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÊ∑ªÂä†Âº∫Â§ßÁöÑÈü≥È¢ëÂäüËÉΩ„ÄÇ Core DataÔºöÊèê‰æõ‰∫Ü‰∏Ä‰∏™Èù¢ÂêëÂØπË±°ÁöÑÊï∞ÊçÆÁÆ°ÁêÜËß£ÂÜ≥ÊñπÊ°àÔºåÂÆÉÊòì‰∫é‰ΩøÁî®ÂíåÁêÜËß£ÔºåÁîöËá≥ÂèØÂ§ÑÁêÜ‰ªª‰ΩïÂ∫îÁî®ÊàñÂ§ßÊàñÂ∞èÁöÑÊï∞ÊçÆÊ®°Âûã„ÄÇ ÂäüËÉΩÂàóË°®ÔºöÊ°ÜÊû∂ÂàÜÁ±ª ‰∏ãÈù¢ÊòØ Cocoa Touch ‰∏≠‰∏ÄÂ∞èÈÉ®ÂàÜÂèØÁî®ÁöÑÊ°ÜÊû∂Ôºö Èü≥È¢ëÂíåËßÜÈ¢ëÔºöCore Audio ÔºåOpenAL ÔºåMedia Library ÔºåAV Foundation Êï∞ÊçÆÁÆ°ÁêÜ ÔºöCore Data ÔºåSQLite ÂõæÂΩ¢ÂíåÂä®Áîª ÔºöCore Animation ÔºåOpenGL ES ÔºåQuartz 2D ÁΩëÁªúÔºöBonjour ÔºåWebKit ÔºåBSD Sockets Áî®Êà∑Â∫îÁî®ÔºöAddress Book ÔºåCore Location ÔºåMap Kit ÔºåStore Kit xibÊñá‰ª∂ÁöÑÊûÑÊàêÂàÜ‰∏∫Âì™3‰∏™ÂõæÊ†áÔºüÈÉΩÂÖ∑Êúâ‰ªÄ‰πàÂäüËÉΩ„ÄÇFile‚Äôs Owner ÊòØÊâÄÊúâ nib Êñá‰ª∂‰∏≠ÁöÑÊØè‰∏™ÂõæÊ†áÔºåÂÆÉË°®Á§∫‰ªéÁ£ÅÁõòÂä†ËΩΩ nib Êñá‰ª∂ÁöÑÂØπË±°Ôºõ First Responder Â∞±ÊòØÁî®Êà∑ÂΩìÂâçÊ≠£Âú®‰∏é‰πã‰∫§‰∫íÁöÑÂØπË±°Ôºõ View ÊòæÁ§∫Áî®Êà∑ÁïåÈù¢ÔºõÂÆåÊàêÁî®Êà∑‰∫§‰∫íÔºõÊòØ UIView Á±ªÊàñÂÖ∂Â≠êÁ±ª„ÄÇ ÁÆÄËø∞Â∫îÁî®Á®ãÂ∫èÊåâHomeÈîÆËøõÂÖ•ÂêéÂè∞Êó∂ÁöÑÁîüÂëΩÂë®Êúü,Âíå‰ªéÂêéÂè∞ÂõûÂà∞ÂâçÂè∞Êó∂ÁöÑÁîüÂëΩÂë®Êúü? Â∫îÁî®Á®ãÂ∫è:-[AppDelegate application:willFinishLaunchingWithOptions:] -[AppDelegate application:didFinishLaunchingWithOptions:] -[AppDelegate applicationDidBecomeActive:] ÈÄÄÂà∞ÂêéÂè∞: -[AppDelegate applicationWillResignActive:] -[AppDelegate applicationDidEnterBackground:] ÂõûÂà∞ÂâçÂè∞: -[AppDelegate applicationWillEnterForeground:] -[AppDelegate applicationDidBecomeActive:] ViewController‰πãÈó¥Ôºå Âä†ËΩΩÈ°µÈù¢: -[mainViewController viewDidLoad] -[mainViewController viewWillAppear:] -[mainViewController viewWillLayoutSubviews] -[mainViewController viewDidLayoutSubviews] -[mainViewController viewDidAppear:] ÈÄÄÂá∫ÂΩìÂâçÈ°µÈù¢: -[mainViewController viewWillDisappear:] -[mainViewController viewDidDisappear:] ËøîÂõû‰πãÂâçÈ°µÈù¢: -[mainViewController viewWillAppear:] -[mainViewController viewWillLayoutSubviews] -[mainViewController viewDidLayoutSubviews] -[mainViewController viewDidAppear:] ÊòØÂê¶‰ΩøÁî®Core TextÊàñËÄÖCore ImageÁ≠âÔºüÂ¶ÇÊûú‰ΩøÁî®ËøáÔºåËØ∑Ë∞àË∞à‰Ω†‰ΩøÁî®Core TextÊàñËÄÖCore ImageÁöÑ‰ΩìÈ™å„ÄÇCoreText ‚Ä¢ ÈöèÊÑè‰øÆÊîπÊñáÊú¨ÁöÑÊ†∑Âºè ‚Ä¢ ÂõæÊñáÊ∑∑Êéí(Á∫ØCËØ≠Ë®Ä) ‚Ä¢ ÂõΩÂ§ñ:Niumb Core Image(Êª§ÈïúÂ§ÑÁêÜ) * ËÉΩË∞ÉËäÇÂõæÁâáÁöÑÂêÑÁßçÂ±ûÊÄß(ÂØπÊØîÂ∫¶, Ëâ≤Ê∏©, Ëâ≤Â∑ÆÁ≠â) ÂàÜÊûê‰∏Ä‰∏ã‰ΩøÁî®ÊâãÊú∫Ëé∑ÂèñÈ™åËØÅÁ†ÅÊ≥®ÂÜåË¥¶Âè∑ÁöÑÂÆûÁé∞ÈÄªËæë(Áªô‰∫Ü‰∏Ä‰∏™Á§∫‰æãÂõæ)ÔºåÂèëÈÄÅÂà∞ÊâãÊú∫ÁöÑÈ™åËØÅÁ†ÅË∂ÖËøá60ÁßíÈíüÂêéÈáçÊñ∞ÂèëÈÄÅ ÂÆö‰πâ‰∏Ä‰∏™labelÂ±ûÊÄßÔºåËµãÂÄº‰∏∫60ÁßíÔºåÂÜçÂÆö‰πâ‰∏Ä‰∏™count ËÆæÁΩÆ‰∏Ä‰∏™timer ÊØèÊ¨°ÂáèÂ∞ë‰∏ÄÁßí Êääcount‚Äì ÂÜçÊääcountÁöÑÂÄºÊãºÊé•Âà∞label‰∏ä ÂΩìcount == 0 ÁöÑÊó∂ÂÄô ÂÜçÊòæÁ§∫ÈáçÊñ∞ÂèëÈÄÅ ‰Ω†ÂÅöiphoneÂºÄÂèëÊó∂ÂÄô,ÊúâÂì™‰∫õ‰º†ÂÄºÊñπÂºè,viewÂíåview‰πãÈó¥ÊòØÂ¶Ç‰Ωï‰º†ÂÄºÁöÑ?block, target-action ,‰ª£ÁêÜ,Â±ûÊÄß ÊúâÂì™Âá†ÁßçÊâãÂäøÈÄöÁü•ÊñπÊ≥ï„ÄÅÂÜôÊ∏ÖÊ•öÊñπÊ≥ïÂêçÔºü-(void)touchesBegan:(NSSet)touchedwithEvent:(UIEvent)event; -(void)touchesMoved:(NSSet)touched withEvent:(UIEvent)event; -(void)touchesEnded:(NSSet)touchedwithEvent:(UIEvent)event; -(void)touchesCanceled:(NSSet)touchedwithEvent:(UIEvent)event;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò8--Swift]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%988-Swift%2F</url>
    <content type="text"><![CDATA[SwiftÂíåObjective-CÁöÑËÅîÁ≥ª Swift‰∏éObjective-CÂÖ±Áî®Âêå‰∏ÄÂ•óËøêË°åÊó∂ÁéØÂ¢É Êàë‰ª¨ÁºñÂÜôÁ®ãÂ∫èÔºåËÆ©Á®ãÂ∫èËøêË°åËµ∑Êù•ÔºåË¢´Êú∫Âô®ÊâßË°åÁöÑ‰ª£Á†ÅÂπ∂ÈùûÂÖ®ÈÉ®ÊòØÁî±Êàë‰ª¨Ëá™Â∑±Êù•ÁºñÂÜôÁöÑ„ÄÇÈúÄË¶ÅÂêåÊó∂ËøêË°åÂæàÂ§öÈ¢ÑÂÖàÂÜôÂ•ΩÁöÑÊîØÊåÅÊÄßÁöÑ‰ª£Á†ÅÔºåÊâçËÉΩËÆ©Êàë‰ª¨Ëá™Â∑±ÁöÑ‰ª£Á†ÅËøêË°åËµ∑Êù•„ÄÇÁ®ãÂ∫èÂπ∂ÈùûÂçïÁã¨Â≠òÂú®ÁöÑÔºåËøêË°åÊó∂Â§ÑÂú®‰∏ÄÂÆöÁöÑÁéØÂ¢ÉÂΩì‰∏≠„ÄÇÊàëÊÄªËÅîÊÉ≥Âà∞ÂæàÂ§öÂ∞èËöÇËöÅÂú®Ê≥•Âúü‰∏äÈù¢Áà¨ÔºåËÄåÊàëËá™Â∑±ÂÜôÁöÑÁ®ãÂ∫èÂè™ÊòØÂÖ∂‰∏≠ÁöÑ‰∏ÄÂè™„ÄÇ SwiftË∑üObjective-CÁºñËØëÂá∫ÁöÑÁ®ãÂ∫è‰ª£Á†ÅËøêË°åÂú®Âêå‰∏ÄÂ•óËøêË°åÁéØÂ¢É‰∏äÈù¢„ÄÇSwiftÁöÑÁ±ªÂûãÂèØ‰ª•Ê°•Êé•Âà∞Objective-CÁöÑÁ±ªÂûãÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇSwiftÁºñÂÜôÁöÑ‰ª£Á†ÅÂèØ‰ª•Ë∞ÉÁî®Objective-CÁºñÂÜôÁöÑ‰ª£Á†ÅÔºåÂèç‰πã‰πü‰∏ÄÊ†∑„ÄÇ Objective-C‰πãÂâçÁßØÁ¥Ø‰∏ãÊù•ÁöÑÂ§ßÈáèÁ±ªÂ∫ìÔºåÂÆûÁé∞‰∏çÁî®ÊîπÂÜôSwiftÂ∞±ÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®„ÄÇ Âêå‰∏Ä‰∏™Â∑•Á®ãÔºåÂèØ‰ª•ÂêåÊó∂‰ΩøÁî®SwiftÂíåObjective-C Objective-CÂú®‰∏ÄÁ´ØÔºåSwiftÂú®Âè¶‰∏ÄÁ´ØÔºå‰∏§Á´ØÁªè‰∏≠Èó¥Êñá‰ª∂ËøõË°åÊ°•Êé•„ÄÇÊ°•Êé•Êñá‰ª∂ÂåÖÂê´Objective-CÁöÑÂ§¥Êñá‰ª∂ÔºåÁºñËØëÊó∂Ëá™Âä®ËΩ¨ÊàêSwiftÂèØ‰ª•ËØÜÂà´ÁöÑÂΩ¢Âºè„ÄÇSwiftÂ∞±ÂèØ‰ª•‰ΩøÁî®Objective-CÁöÑÁ±ªÂíåÂÆÉÁöÑÂáΩÊï∞„ÄÇ Âú®SwiftÁöÑÁ±ª‰∏≠ÔºåÂä†‰∏ä@objcÔºàÁ±ªÂêçÔºâÁöÑÂ≠óÊ†∑ÔºåObjective-C‰πüÂèØ‰ª•‰ΩøÁî®SwiftÁºñÂÜôÁöÑÁ±ª„ÄÇ‰ΩÜSwiftË∑üC++ÁöÑÁõ∏‰∫íË∞ÉÁî®ÔºåÈúÄË¶ÅObjective-CÊù•Â∞ÅË£Ö„ÄÇ SwiftÈ™®Â≠êÈáåÂ§ßÂ§ö‰∏éObjective-C‰∏ÄÊ†∑ Objective-CÂá∫Áé∞ËøáÁöÑÁªùÂ§ßÂ§öÊï∞Ê¶ÇÂøµÔºåÊØîÂ¶ÇÂºïÁî®ËÆ∞Êï∞„ÄÅARC„ÄÅÂ±ûÊÄß„ÄÅÂçèËÆÆ„ÄÅÊé•Âè£„ÄÅÂàùÂßãÂåñ„ÄÅÊâ©Â±ïÁ±ª„ÄÅÂëΩÂêçÂèÇÊï∞„ÄÅÂåøÂêçÂáΩÊï∞Á≠âÔºåÂú®Swift‰∏≠ÁªßÁª≠ÊúâÊïàÔºàÂèØËÉΩÂè™ÊòØÊç¢‰∫Ü‰∏™ÊúØËØ≠Ôºâ„ÄÇÊàëËá™Â∑±Â∞ÜSwiftÁúãÊàêÊòØObjective-CÁöÑ‰∏ÄÂùóÂ§ßÂ§ßÁöÑËØ≠Ê≥ïÁ≥ñÔºåÂÖ∂‰ªñ‰∫∫ÂèØËÉΩÊúâ‰∏çÂêåÊÑüÂèó„ÄÇ SwiftÂ§ßÂ§öÊï∞Ê¶ÇÂøµ‰∏éObjective-C‰∏ÄÊ†∑Ôºå‰πüÊúâ‰∫õÊ¶ÇÂøµÂú®Objective-CÊâæ‰∏çÂà∞ÂØπÂ∫îÔºåÊØîÂ¶ÇÊ≥õÂûã„ÄÇSwift‰∏≠Â∞ÜÈÇ£ÁßçÊìç‰ΩúÂÜô‰∏ÄÊ¨°Â∞±ÂèØ‰ª•‰ΩúÁî®Â§ö‰∏™Á±ªÂûãÁöÑËØ≠Ê≥ïÂè´ÂÅöGenericsÔºàÊ≥õÂûãÔºâ„ÄÇ SwiftÊØîObjective-CÊúâ‰ªÄ‰πà‰ºòÂäøÔºü Swift ÂÆπÊòìÈòÖËØª ‰∏çÂÜçÈúÄË¶ÅË°åÂ∞æÁöÑÂàÜÂè∑Ôºå‰ª•Âèä if/else ËØ≠Âè•‰∏≠Âõ¥ÁªïÊù°‰ª∂Ë°®ËææÂºèÁöÑÊã¨Âºß„ÄÇÂè¶Â§ñÂ∞±ÊòØÊñπÊ≥ïÁöÑË∞ÉÁî®‰∏çÂÜç‰∫íÁõ∏ÂµåÂ•óÊàê‰∏≠Êã¨Âè∑[[[ ]]]„ÄÇSwift ‰∏≠ÁöÑÊñπÊ≥ïÂíåÂáΩÊï∞ÁöÑË∞ÉÁî®‰ΩøÁî®Ë°å‰∏öÂÜÖÊ†áÂáÜÁöÑÂú®‰∏ÄÂØπÊã¨ÂºßÂÜÖ‰ΩøÁî®ÈÄóÂè∑ÂàÜÈöîÁöÑÂèÇÊï∞ÂàóË°®„ÄÇËøôÊ†∑ÂÅöÁöÑÁªìÊûúÂ∞±ÊòØ‰∏ÄÁßçÂ∏¶ÊúâÁÆÄÂåñ‰∫ÜÂè•Ê≥ïÂíåËØ≠Ê≥ïÁöÑÊõ¥Âä†Âπ≤ÂáÄÊúâË°®Áé∞ÂäõÁöÑËØ≠Ë®Ä„ÄÇ Swift Êõ¥Êòì‰∫éÁª¥Êä§ Swift ‰∏¢Êéâ‰∫ÜÂØπÁùÄ‰∏§‰∏™Êñá‰ª∂ÁöÑË¶ÅÊ±Ç„ÄÇ XcodeÁºñËØëÂô®ÂèØ‰ª•Ëá™Âä®ËÆ°ÁÆóÂá∫‰ª•Êù•Âπ∂ÊâßË°åÂ¢ûÈáèÊûÑÂª∫„ÄÇÂ¶ÇÊ≠§ÔºåÂ∞ÜÂ§¥Êñá‰ª∂ ÂêåÂÆûÁé∞Êñá‰ª∂Áõ∏ÂàÜÁ¶ª„ÄÇÊää Objective-C Â§¥Êñá‰ª∂(.h) ÂíåÂÆûÁé∞Êñá‰ª∂ (.m) ÂêàÂπ∂Êàê‰∫Ü‰∏Ä‰∏™‰ª£Á†ÅÊñá‰ª∂ (.swift) Swift Êõ¥Âä†ÂÆâÂÖ® Swift‰ª£Á†Å‰∏≠ÁöÑÂèØÈÄâÁ±ªÂûã‰ΩøÂæó‰∏Ä‰∏™nilÂèØÈÄâÂÄºÁöÑÂèØËÉΩÊÄßÂèòÂæóÈùûÂ∏∏ÁöÑÊòéÁ°Æ, ËøôÊÑèÂë≥ÂÆÉËÉΩÂú®‰Ω†ÂÜô‰∏ã‰∏ÄÊÆµÁ≥üÁ≥ïÁöÑ‰ª£Á†ÅÊó∂‰ºöÁîüÊàê‰∏Ä‰∏™ÁºñËØëÂô®ÈîôËØØ. ËøôÂ∞±Âª∫Á´ã‰∫Ü‰∏ÄÁßçÁü≠Á®ãÂèçÈ¶àÁöÑÂæ™ÁéØÔºåÂèØ‰ª•ËÆ©Á®ãÂ∫èÂëòÂ∏¶ÁùÄÁõÆÊ†áÂéªÂÜô‰ª£Á†Å. ÈóÆÈ¢òÂú®‰ª£Á†ÅË¢´ÂÜôÂ∞±Êó∂Â∞±ÂèØ‰ª•Ë¢´‰øÆÂ§ç, ËøôÂ§ßÂ§ßËäÇÁúÅ‰∫Ü‰Ω†Ë¶ÅÂú®‰øÆÂ§çÊúâÂÖ≥Êù•Ëá™ Objective-C ÊåáÈíàÈÄªËæëÁöÑbugÊó∂ÈúÄË¶ÅËÄóË¥πÁöÑÊó∂Èó¥ÂíåÈáëÈí±. Swift ‰ª£Á†ÅÊõ¥Â∞ë Swift ÂáèÂ∞ë‰∫ÜÈáçÂ§çÊÄßËØ≠Âè•ÂíåÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÊâÄÈúÄË¶ÅÁöÑ‰ª£Á†ÅÈáè„ÄÇÂú® Objective-C ‰∏≠, ‰ΩøÁî®ÊñáÊú¨Â≠óÁ¨¶‰∏≤Â∞Ü‰∏§Âùó‰ø°ÊÅØÁªÑÂêàËµ∑Êù•ÁöÑÊìç‰ΩúÈùûÂ∏∏ÁπÅÁêê„ÄÇSwift ÈááÁî®ÂΩì‰ª£ÁºñÁ®ãËØ≠Ë®ÄÁöÑÁâπÊÄßÔºåÊØîÂ¶Ç‰ΩøÁî®‚Äú+‚ÄùÊìç‰ΩúÁ¨¶Â∞Ü‰∏§‰∏™Â≠óÁ¨¶‰∏≤Âä†Âà∞‰∏ÄËµ∑ Swift‰∏≠ÁöÑÁ±ªÂûãÁ≥ªÁªüÂáèÂ∞ë‰∫Ü‰ª£Á†ÅËØ≠Âè•ÁöÑÂ§çÊùÇÊÄß‚Äì‰Ωú‰∏∫ÁºñËØëÂô®ÂèØ‰ª•ÁêÜËß£ÁöÑÁ±ªÂûã„ÄÇÊØîÂ¶ÇÔºåObjective-CË¶ÅÊ±ÇÁ®ãÂ∫èÂëòËÆ∞‰ΩèÁâπÊÆäÂ≠óÁ¨¶Ê†áËÆ∞Ôºà%sÔºå%dÔºå%@ÔºâÂπ∂‰∏îÊèê‰æõ‰∫Ü‰∏Ä‰∏™Áî®ÈÄóÂè∑ÂàÜÈöîÁöÑÂèòÈáèÊù•‰ª£ÊõøÊØè‰∏™Ê†áËÆ∞„ÄÇSwiftÊîØÊåÅÂ≠óÁ¨¶‰∏≤ÊèíÂÖ•ÔºåËøôÂ∞±Ê∂àÈô§‰∫ÜÈúÄË¶ÅËÆ∞‰ΩèÁöÑÊ†áËÆ∞ÂíåÂÖÅËÆ∏Á®ãÂ∫èÂëòÁõ¥Êé•ÊèíÂÖ•ÂèòÈáèÂà∞Èù¢ÂêëÁî®Êà∑ÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ Swift ÈÄüÂ∫¶Êõ¥Âø´ Âà†Èô§ÈÅóÁïô‰∏ãÊù•ÁöÑCËØ≠Ë®ÄÁ∫¶ÂÆöÂ§ßÂ§ßÊèêÂçá‰∫ÜÂºïÊìéÁõñ‰πã‰∏ãSwiftÁöÑÊÄßËÉΩ, ËøõË°åËÆ°ÁÆóÂØÜÈõÜÂûã‰ªªÂä°ÁöÑÊÄßËÉΩ‰∏äÔºåSwiftÂ∑≤ÁªèÈÄºËøëC++ÁöÑË°®Áé∞, Â∞ÜËøëÊòØOCËøêË°åÈÄüÂ∫¶ÁöÑ1.4ÂÄç. ÊÄªÁªì: ‰ΩøÁî® SwiftÔºåÁ®ãÂ∫èÂëòÂè™Ë¶ÅÁª¥Êä§ÂéüÊù•‰∏ÄÂçäÈáèÁöÑ‰ª£Á†ÅÊñá‰ª∂ÔºåÊâãÂä®ÁöÑ‰ª£Á†ÅÂêåÊ≠•Â∑•‰Ωú‰∏∫Èõ∂ÔºåÊ†áÁÇπËæìÂÖ•Âá∫ÈîôÁöÑÊ¶ÇÁéá‰πüËøúËøú‰Ωé‰∫é‰ª•Ââç ‚Äì ËøôÊ†∑Â∞±ËÉΩËÖæÂá∫Êõ¥Â§öÁöÑÊó∂Èó¥ÂÜôÈ´òË¥®ÈáèÁöÑ‰ª£Á†Å„ÄÇÈÄöËøá‰ΩøÁî®ÂèØÈÄâÁ±ªÂûã ‚Äî‚Äî ‰∏ÄÁßçÈíàÂØπËøîÂõûÊàñ‰∏çËøîÂõûÂÄºÁöÑÁºñËØëÊó∂ÂÆâÂÖ®Êú∫Âà∂ÔºåËÄåËøîÂõûÂÄºÊòØÂêåÊ≠•Êìç‰Ωú„ÄÅÁΩëÁªúÂ§±ÊïàÊó∂Êó†ÊïàÁöÑÁî®Êà∑ËæìÂÖ•‰ª•ÂèäÊï∞ÊçÆÈ™åËØÅÈîôËØØÂèëÁîüÊó∂ÊôÆÈÅç‰ºöÈÅáÂà∞ÁöÑÈóÆÈ¢ò„ÄÇARC Âú® Swift ‰∏≠ÂØπËøáÁ®ãÂºè C È£éÊ†ºÁöÑ‰ª£Á†ÅÔºåËøòÊúâËãπÊûúÂÖ¨Âè∏ Cocoa Ê°ÜÊû∂‰ΩøÁî®ÁöÑÈù¢ÂêëÂØπË±°‰ª£Á†ÅÈÉΩËøõË°å‰∫ÜÁªü‰∏Ä„ÄÇ SwiftÁöÑÂÜÖÂ≠òÁÆ°ÁêÜÊòØÊÄéÊ†∑ÁöÑÔºü Swift ‰ΩøÁî®Ëá™Âä®ÂºïÁî®ËÆ°Êï∞ÔºàAutomatic Reference Counting, ARCÔºâÊù•ÁÆÄÂåñÂÜÖÂ≠òÁÆ°ÁêÜ, ËøôÁßçÂÜÖÂ≠òÁÆ°ÁêÜÊñπÂºèÁõ∏ÊØîGCËÄåË®ÄÔºåÂØπÁ®ãÂ∫èÂëòÁöÑË¶ÅÊ±ÇËæÉÈ´ò, Âπ∂‰∏îARCÊØîGCÊõ¥ÂÆπÊòìÂºïËµ∑ÁºñÁ®ãÈîôËØØÔºå‰ΩÜÂç¥ÊØîGCÂø´„ÄÇÂ∞§ÂÖ∂Âú®ÊÄßËÉΩÂæàÈáçË¶ÅÁöÑÂú∫Âêà„ÄÇ SwiftÊîØÊåÅÈù¢ÂêëËøáÁ®ãÁºñÁ®ãÂêóÔºü ÂÆÉÈááÁî®‰∫Ü Objective-C ÁöÑÂëΩÂêçÂèÇÊï∞‰ª•ÂèäÂä®ÊÄÅÂØπË±°Ê®°ÂûãÔºåÂèØ‰ª•Êó†ÁºùÂØπÊé•Âà∞Áé∞ÊúâÁöÑ Cocoa Ê°ÜÊû∂ÔºåÂπ∂‰∏îÂèØ‰ª•ÂÖºÂÆπ Objective-C ‰ª£Á†ÅÔºåÊîØÊåÅÈù¢ÂêëËøáÁ®ãÁºñÁ®ãÂíåÈù¢ÂêëÂØπË±°ÁºñÁ®ã„ÄÇ ‰∏æ‰æãËØ¥ÊòéSwiftÈáåÈù¢ÊúâÂì™‰∫õÊòØ Objective-C‰∏≠Ê≤°ÊúâÁöÑÔºü SwiftÂºïÂÖ•‰∫ÜÂú®Objective-C‰∏≠Ê≤°ÊúâÁöÑ‰∏Ä‰∫õÈ´òÁ∫ßÊï∞ÊçÆÁ±ªÂûãÔºå‰æãÂ¶ÇtuplesÔºàÂÖÉÁªÑÔºâÔºåÂèØ‰ª•‰Ωø‰Ω†ÂàõÂª∫Âíå‰º†ÈÄí‰∏ÄÁªÑÊï∞ÂÄº„ÄÇ SwiftËøòÂºïÂÖ•‰∫ÜÂèØÈÄâÈ°πÁ±ªÂûãÔºàOptionalsÔºâÔºåÁî®‰∫éÂ§ÑÁêÜÂèòÈáèÂÄº‰∏çÂ≠òÂú®ÁöÑÊÉÖÂÜµ„ÄÇÂèØÈÄâÈ°πÁöÑÊÑèÊÄùÊúâ‰∏§ÁßçÔºö‰∏ÄÊòØÂèòÈáèÊòØÂ≠òÂú®ÁöÑÔºå‰æãÂ¶ÇÁ≠â‰∫éXÔºå‰∫åÊòØÂèòÈáèÂÄºÊ†πÊú¨‰∏çÂ≠òÂú®„ÄÇOptionalsÁ±ª‰ºº‰∫éObjective-C‰∏≠ÊåáÂêënilÁöÑÊåáÈíàÔºå‰ΩÜÊòØÈÄÇÁî®‰∫éÊâÄÊúâÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåËÄåÈùû‰ªÖ‰ªÖÂ±ÄÈôê‰∫éÁ±ªÔºåOptionals Áõ∏ÊØî‰∫éObjective-C‰∏≠nilÊåáÈíàÊõ¥Âä†ÂÆâÂÖ®ÂíåÁÆÄÊòéÔºåÂπ∂‰∏î‰πüÊòØSwiftËØ∏Â§öÊúÄÂº∫Â§ßÂäüËÉΩÁöÑÊ†∏ÂøÉ„ÄÇ Swift ÊòØ‰∏ÄÈó®ÂÆâÂÖ®ËØ≠Ë®ÄÂêóÔºü SwiftÊòØ‰∏ÄÈó®Á±ªÂûãÂÆâÂÖ®ÁöÑËØ≠Ë®ÄÔºåOptionalsÂ∞±ÊòØ‰ª£Ë°®„ÄÇSwiftËÉΩÂ∏ÆÂä©‰Ω†Âú®Á±ªÂûãÂÆâÂÖ®ÁöÑÁéØÂ¢É‰∏ãÂ∑•‰ΩúÔºåÂ¶ÇÊûú‰Ω†ÁöÑ‰ª£Á†Å‰∏≠ÈúÄË¶Å‰ΩøÁî®StringÁ±ªÂûãÔºåSwiftÁöÑÂÆâÂÖ®Êú∫Âà∂ËÉΩÈòªÊ≠¢‰Ω†ÈîôËØØÁöÑÂ∞ÜIntÂÄº‰º†ÈÄíËøáÊù•ÔºåËøô‰Ωø‰Ω†Âú®ÂºÄÂèëÈò∂ÊÆµÂ∞±ËÉΩÂèäÊó∂ÂèëÁé∞Âπ∂‰øÆÊ≠£ÈóÆÈ¢ò„ÄÇ ‰∏∫‰ªÄ‰πàË¶ÅÂú®ÂèòÈáèÁ±ªÂûãÂêéÈù¢Âä†‰∏™ÈóÆÂè∑Ôºü Áî®Êù•Ê†áËÆ∞Ëøô‰∏™ÂèòÈáèÁöÑÂÄºÊòØÂèØÈÄâÁöÑÔºå‰∏ÄËà¨Áî®‚ÄúÔºÅ‚ÄùÂíå‚ÄúÔºü‚ÄùÂÆö‰πâÂèØÈÄâÂèòÈáèÁöÑÂå∫Âà´ÔºöÁî®‚ÄúÔºÅ‚ÄùÂÆöÁöÑÂèØÈÄâÂèòÈáèÂøÖÈ°ª‰øùËØÅËΩ¨Êç¢ËÉΩÂ§üÊàêÂäüÔºåÂê¶ÂàôÊä•ÈîôÔºå‰ΩÜÂÆö‰πâÁöÑÂèòÈáèÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Ôºå‰∏ç‰ºöÂ∞ÅË£ÖÂú®optionÈáåÔºõËÄåÁî®‚ÄúÔºü‚ÄùÂè∑ÂÆöÁöÑÂèØÈÄâÂèòÈáèÂç≥‰ΩøËΩ¨Êç¢‰∏çÊàêÂäüÊú¨Ë∫´‰πü‰∏ç‰ºöÂá∫ÈîôÔºåÂèòÈáèÂÄº‰∏∫nilÔºåÂ¶ÇÊûúËΩ¨Êç¢ÊàêÂäüÔºåË¶Å‰ΩøÁî®ËØ•ÂèòÈáèËøõË°åËÆ°ÁÆóÊó∂ÂèòÈáèÂêçÂêéÈúÄË¶ÅÂä†‚ÄúÔºÅ‚Äù ‰ªÄ‰πàÊòØÊ≥õÂûãÔºåÂÆÉ‰ª¨ÂèàËß£ÂÜ≥‰∫Ü‰ªÄ‰πàÈóÆÈ¢òÔºü Ê≥õÂûãÊòØÁî®Êù•‰Ωø‰ª£Á†ÅËÉΩÂÆâÂÖ®Â∑•‰Ωú„ÄÇÂú®Swift‰∏≠ÔºåÊ≥õÂûãÂèØ‰ª•Âú®ÂáΩÊï∞Êï∞ÊçÆÁ±ªÂûãÂíåÊôÆÈÄöÊï∞ÊçÆÁ±ªÂûã‰∏≠‰ΩøÁî®Ôºå‰æãÂ¶ÇÁ±ª„ÄÅÁªìÊûÑ‰ΩìÊàñÊûö‰∏æ„ÄÇ Ê≥õÂûãËß£ÂÜ≥‰∫Ü‰ª£Á†ÅÂ§çÁî®ÁöÑÈóÆÈ¢ò„ÄÇÊúâ‰∏ÄÁßçÂ∏∏ËßÅÁöÑÊÉÖÂÜµÔºå‰Ω†Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÈúÄË¶Å‰∏Ä‰∏™Á±ªÂûãÁöÑÂèÇÊï∞Ôºå‰Ω†‰∏∫‰∫ÜÈÄÇÂ∫îÂè¶‰∏ÄÁßçÁ±ªÂûãÁöÑÂèÇÊï∞ËøòÂæóÈáçÊñ∞ÂÜçÂÜô‰∏ÄÈÅçËøô‰∏™ÊñπÊ≥ï„ÄÇ ÊØîÂ¶ÇÔºåÂú®‰∏ãÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåÁ¨¨‰∫å‰∏™ÊñπÊ≥ïÊòØÁ¨¨‰∏Ä‰∏™ÊñπÊ≥ïÁöÑ‚ÄúÂÖãÈöÜ‰Ωì‚ÄùÔºö func areIntEqual(x: Int, _ y: Int) -> Bool { return x == y } func areStringsEqual(x: String, _ y: String) -> Bool { return x == y } areStringsEqual("ray", "ray") // true areIntEqual(1, 1) // true ‰∏Ä‰∏™Objective-CÂºÄÂèëËÄÖÂèØËÉΩ‰ºöÈááÁî®NSObjectÊù•Ëß£ÂÜ≥ÈóÆÈ¢òÔºö import Foundation func areTheyEqual(x: NSObject, _ y: NSObject) -> Bool { return x == y } areTheyEqual("ray", "ray") // true areTheyEqual(1, 1) // true ËøôÊÆµ‰ª£Á†ÅËÉΩËææÂà∞‰∫ÜÁõÆÁöÑÔºå‰ΩÜÊòØÁºñËØëÁöÑÊó∂ÂÄôÂπ∂‰∏çÂÆâÂÖ®„ÄÇÂÆÉÂÖÅËÆ∏‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Âíå‰∏Ä‰∏™Êï¥ÂûãÊï∞ÊçÆËøõË°åÊØîËæÉÔºö areTheyEqual(1, "ray") //Á®ãÂ∫èÂèØËÉΩ‰∏ç‰ºöÂ¥©Ê∫ÉÔºå‰ΩÜÊòØÂÖÅËÆ∏‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Âíå‰∏Ä‰∏™Êï¥ÂûãÊï∞ÊçÆËøõË°åÊØîËæÉÂèØËÉΩ‰∏ç‰ºöÂæóÂà∞ÊÉ≥Ë¶ÅÁöÑÁªìÊûú„ÄÇ ÈááÁî®Ê≥õÂûãÁöÑËØùÔºå‰Ω†ÂèØ‰ª•Â∞Ü‰∏äÈù¢‰∏§‰∏™ÊñπÊ≥ïÂêàÂπ∂‰∏∫‰∏Ä‰∏™ÔºåÂπ∂ÂêåÊó∂Ëøò‰øùËØÅ‰∫ÜÊï∞ÊçÆÁ±ªÂûãÂÆâÂÖ®„ÄÇËøôÊòØÂÆûÁé∞‰ª£Á†ÅÔºö func areTheyEqual&lt;T: Equatable>(x: T, _ y: T) -> Bool { return x == y } areTheyEqual("ray", "ray") areTheyEqual(1, 1)]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò7--Block]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%987-Block%2F</url>
    <content type="text"><![CDATA[BlockÂ∫ïÂ±ÇÂéüÁêÜÂÆûÁé∞ È¶ñÂÖàÊàë‰ª¨Êù•ÁúãÂõõ‰∏™ÂáΩÊï∞ void test1() { int a = 10; void (^block)() = ^{ NSLog(@"a is %d", a); }; a = 20; block(); // 10 } void test2() { __block int a = 10; void (^block)() = ^{ NSLog(@"a is %d", a); }; a = 20; block(); // 20 } void test3() { static int a = 10; void (^block)() = ^{ NSLog(@"a is %d", a); }; a = 20; block(); // 20 } int a = 10; void test4() { void (^block)() = ^{ NSLog(@"a is %d", a); }; a = 20; block();//20 } ÈÄ†ÊàêËøôÊ†∑ÁöÑÂéüÂõ†ÊòØÔºö‰º†ÂÄºÂíå‰º†ÂùÄ„ÄÇ‰∏∫‰ªÄ‰πàËØ¥‰ºöÊúâ‰º†ÂÄºÂíå‰º†ÂùÄÔºåÊää.mÁºñËØëÊàêc++‰ª£Á†Å„ÄÇÂæóÂà∞.cppÊñá‰ª∂ÔºåÊàë‰ª¨Êù•Âà∞Êñá‰ª∂ÁöÑÊúÄÂêéÔºåÁúãÂà∞Â¶Ç‰∏ã‰ª£Á†Å struct __test1_block_impl_0 { struct __block_impl impl; struct __test1_block_desc_0* Desc; int a; __test1_block_impl_0(void *fp,struct __test1_block_desc_0* Desc,int _a,int flag=0): a(_a){ impl.isa = &_NSConcreteStackBlock; impl.Flags = flags; impl.FuncPtr = fp; Desc = desc; } }; static void __test1_block_func_0(struct __test1_block_imp_0 *__cself) { int a = __cself->a; NSLog(a);//ËøôÈáåÂ∞±ÊòØÊâìÂç∞aÁöÑÂÄºÔºå‰ª£Á†ÅÂ§™ÈïøÔºåËÄå‰∏îÊ≤°ÊÑè‰πâÔºåÊàëÂ∞±‰∏çÊï≤Âá∫Êù•‰∫Ü„ÄÇ } void test1() { int a = 10; void (*block)() = (void (*)())&__test1_block_impl_0((void *))__test1_block_func_0,&__test1_block_desc_0_DATA,a); a = 20; ((void (*)(__block_impl *))((__block_ipml *)block)->FuncPtr)((_block_impl *)block); } int main(int argc, const char * argv[]) { /* @autoreleasepool */ { __AtAutoreleasePool __autoreleasepool; test1(); } return 0; } static struct IMAGE_INFO { unsigned version; unsigned flag; } _OBJC_IMAGE_INFO = { 0, 2 }; Êàë‰ª¨ÁúãÂà∞void test1()‰∏≠Ôºåvoid (*block)() Âè≥ËæπÊúÄÂêéÈù¢ ÔºåÊääa‰º†ËøõÂéª‰∫ÜÔºå‰πüÂ∞±ÊòØÊää10Ëøô‰∏™ÂÄº‰º†ËøõÂéª‰∫Ü. ËÄå‰∏îÂØπvoid (*block)()ÁÆÄÂåñÂàÜÊûêÔºåvoid (* block)() = &amp;__test1_block_impl_0(); ÊâÄ‰ª•blockÂ∞±ÊòØÊåáÂêëÁªìÊûÑ‰ΩìÁöÑÊåáÈíà„ÄÇ 10‰º†ÂÖ•blockÂêéÔºå‰ª£Á†ÅÊúÄ‰∏äÈù¢ÂàõÂª∫ÁöÑ__test1_block_impl_0ÁªìÊûÑ‰Ωì‰∏≠Ôºåa = 10Ôºõ ÂØπvoid test1()‰∏≠ÊúÄ‰∏ãÈù¢ÁöÑÂáΩÊï∞ËøõË°åÁÆÄÂåñÂàÜÊûêÔºåÂæóÂà∞(block)-&gt;FuncPtr)(block)ÔºåÊàë‰ª¨Âú®ÂõûÂà∞ÂàöÊâç__test1_block_impl_0Ëøô‰∏™ÁªìÊûÑ‰Ωì‰∏≠Ôºåimpl.FuncPtr = fp;ËÄåfpÂèàÊòØ‰º†ÂÖ•ÁªìÊûÑ‰ΩìÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåËÄåÂú®void (*block)()‰∏≠Ôºå‰º†ÂÖ•ÁªìÊûÑ‰ΩìÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫__test1_block_func_0Ôºå‰πüÂ∞±ÊòØËØ¥(block)-&gt;FuncPtr)(block) =„Äã__test1_block_func_0(block); ‰∏ä‰∏ÄÊ≠•Áõ∏ÂΩì‰∫éË∞ÉÁî®__test1_block_func_0ÔºàÔºâËøô‰∏™ÂáΩÊï∞ÔºåÊàë‰ª¨Êù•ÁúãËøô‰∏™ÂáΩÊï∞ÔºåÊúâËøôÊ†∑‰∏ÄÊÆµ‰ª£Á†ÅÔºöint a = __cself-&gt;a;ËÆøÈóÆblock‰∏≠ÁöÑaÂÄºÔºå‰º†ÈÄíÁªôaÔºõÊâÄ‰ª•ÊòØ10.ËøôÁßçÂ∞±ÊòØ‰º†ÂÄºÔºÅÔºÅÔºÅ ===== Êàë‰ª¨ÂÜçÊù•Áúãtest2( );Ê∑ªÂä†‰∫Ü__block‰ºöÂèëÈÄÅ‰ªÄ‰πàÂèòÂåñÂë¢ void test2() { __attribute__((_blocks__(byref))) __Block_byref_a_0 a = {(void*)0,(__Block_byref_a_0 *)&a,0,sizeof(__Block_byref_a_0),10}; void(*block)() = (void (*)())&__test2_block_impl_0((void *))__test2_block_func_0,&__test2_block_desc_0_DATA,(__Block_byref_a_0 *)&a,570425344); (a.__forwarding->a) = 20; ((void (*)(__block_impl *))((__block_ipml *)block)->FuncPtr)((_block_impl *)block); } int main(int argc, const char * argv[]) { /* @autoreleasepool */ { __AtAutoreleasePool __autoreleasepool; test2(); } return 0; } static struct IMAGE_INFO { unsigned version; unsigned flag; } _OBJC_IMAGE_INFO = { 0, 2 }; ‰ª£Á†ÅËôΩÁÑ∂ÂæàÂ§öÁúãÁùÄÂæàÂ§çÊùÇÔºå‰ΩÜÊòØÊàë‰ª¨Âè™ÈúÄË¶ÅÁúãÊàë‰ª¨ÊÉ≥Ë¶ÅÁü•ÈÅìÁöÑÔºåÁùÅÂ§ß‰Ω†ÁöÑÁúºÁùõÔºåÁúãÂà∞void(*block)()Ëøô‰∏™ÂáΩÊï∞ÁöÑÊúÄÂêéÈù¢ÔºåÊúâ‰∏™&amp;a,Â§©ÂïäÔºåËøôÈáå‰º†ÁöÑÊòØaÁöÑÂú∞ÂùÄ„ÄÇ‰ªétest2Âà∞test4ÔºåÈÉΩÊòØ‰º†ÂùÄÔºåÊâÄ‰ª•aÁöÑÂÄºÂèëÁîüÊîπÂèòÔºåblockÊâìÂç∞Âá∫Êù•ÁöÑÊòØaÁöÑÊúÄÁªàÂÄº„ÄÇ ÊÄªÁªìÔºöÂè™ÊúâÊôÆÈÄöÂ±ÄÈÉ®ÂèòÈáèÊòØ‰º†ÂÄºÔºåÂÖ∂‰ªñÊÉÖÂÜµÈÉΩÊòØ‰º†ÂùÄ„ÄÇ blockÁöÑÂÆö‰πâ// Êó†ÂèÇÊó†ËøîÂõû void(^block)(); // Êó†ÂèÇÊúâËøîÂõû int(^block1)(); // ÊúâÂèÇÊúâËøîÂõû int(^block1)(int number); ‰πüÂèØ‰ª•Áõ¥Êé•ÊâìÂÖ•inlineÊù•Ëá™Âä®ÁîüÊàêblockÊ†ºÂºè &lt;#returnType#&gt;(^&lt;#blockName#&gt;)(&lt;#parameterTypes#&gt;) = ^(&lt;#parameters#&gt;) { &lt;#statements#&gt; }; blockÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ Êó†ËÆ∫ÂΩìÂâçÁéØÂ¢ÉÊòØARCËøòÊòØMRC,Âè™Ë¶ÅblockÊ≤°ÊúâËÆøÈóÆÂ§ñÈÉ®ÂèòÈáè,blockÂßãÁªàÂú®ÂÖ®Â±ÄÂå∫ MRCÊÉÖÂÜµ‰∏ã blockÂ¶ÇÊûúËÆøÈóÆÂ§ñÈÉ®ÂèòÈáè,blockÂú®Ê†àÈáå ‰∏çËÉΩÂØπblock‰ΩøÁî®retain,Âê¶Âàô‰∏çËÉΩ‰øùÂ≠òÂú®Â†ÜÈáå Âè™Êúâ‰ΩøÁî®copy,ÊâçËÉΩÊîæÂà∞Â†ÜÈáå ARCÊÉÖÂÜµ‰∏ã blockÂ¶ÇÊûúËÆøÈóÆÂ§ñÈÉ®ÂèòÈáè,blockÂú®Â†ÜÈáå blockÂèØ‰ª•‰ΩøÁî®copyÂíåstrong,Âπ∂‰∏îblockÊòØ‰∏Ä‰∏™ÂØπË±° blockÁöÑÂæ™ÁéØÂºïÁî® Â¶ÇÊûúË¶ÅÂú®block‰∏≠Áõ¥Êé•‰ΩøÁî®Â§ñÈÉ®Âº∫ÊåáÈíà‰ºöÂèëÁîüÈîôËØØ,‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÂú®blockÂ§ñÈÉ®ÂÆûÁé∞ÂèØ‰ª•Ëß£ÂÜ≥ __weak typeof(self) weakSelf = self; ‰ΩÜÊòØÂ¶ÇÊûúÂú®blockÂÜÖÈÉ®‰ΩøÁî®Âª∂Êó∂Êìç‰ΩúËøò‰ΩøÁî®Âº±ÊåáÈíàÁöÑËØù‰ºöÂèñ‰∏çÂà∞ËØ•Âº±ÊåáÈíà,ÈúÄË¶ÅÂú®blockÂÜÖÈÉ®ÂÜçÂ∞ÜÂº±ÊåáÈíàÂº∫ÂºïÁî®‰∏Ä‰∏ã __strong typeof(self) strongSelf = weakSelf; ÊèèËø∞‰∏Ä‰∏™‰Ω†ÈÅáÂà∞ËøáÁöÑretain cycle‰æãÂ≠ê„ÄÇblock‰∏≠ÁöÑÂæ™ÁéØÂºïÁî®Ôºö‰∏Ä‰∏™viewController @property (nonatomic,strong)HttpRequestHandler * handler; @property (nonatomic,strong)NSData *data; _handler = [httpRequestHandler sharedManager]; [ downloadData:^(id responseData){ _data = responseData; }]; self Êã•Êúâ_handler, _handler Êã•Êúâblock, blockÊã•ÊúâselfÔºàÂõ†‰∏∫‰ΩøÁî®‰∫ÜselfÁöÑ_dataÂ±ûÊÄßÔºåblock‰ºöcopy ‰∏Ä‰ªΩselfÔºâ Ëß£ÂÜ≥ÊñπÊ≥ïÔºö __weak typedof(self)weakSelf = self [ downloadData:^(id responseData){ weakSelf.data = responseData; block‰∏≠ÁöÑweak selfÔºåÊòØ‰ªª‰ΩïÊó∂ÂÄôÈÉΩÈúÄË¶ÅÂä†ÁöÑ‰πàÔºü ‰∏çÊòØ‰ªÄ‰πà‰ªª‰ΩïÊó∂ÂÄôÈÉΩÈúÄË¶ÅÊ∑ªÂä†ÁöÑÔºå‰∏çËøá‰ªª‰ΩïÊó∂ÂÄôÈÉΩÊ∑ªÂä†‰ºº‰πéÊÄªÊòØÂ•ΩÁöÑ„ÄÇÂè™Ë¶ÅÂá∫Áé∞ÂÉèself-&gt;block-&gt;self.property/self-&gt;_ivarËøôÊ†∑ÁöÑÁªìÊûÑÈìæÊó∂ÔºåÊâç‰ºöÂá∫Áé∞Âæ™ÁéØÂºïÁî®ÈóÆÈ¢ò„ÄÇÂ•ΩÂ•ΩÂàÜÊûê‰∏Ä‰∏ãÔºåÂ∞±ÂèØ‰ª•Êé®Êñ≠Âá∫ÊòØÂê¶‰ºöÊúâÂæ™ÁéØÂºïÁî®ÈóÆÈ¢ò„ÄÇ ÈÄöËøáblockÊù•‰º†ÂÄº Âú®ÊéßÂà∂Âô®Èó¥‰º†ÂÄºÂèØ‰ª•‰ΩøÁî®‰ª£ÁêÜÊàñËÄÖblock,‰ΩøÁî®blockÁõ∏ÂØπÊù•ËØ¥ÁÆÄÊ¥Å Âú®Ââç‰∏Ä‰∏™ÊéßÂà∂Âô®ÁöÑtouchesBegan:ÊñπÊ≥ïÂÜÖÂÆûÁé∞Â¶Ç‰∏ã‰ª£Á†Å ModalViewController *modalVc = [[ModalViewController alloc] init]; modalVc.valueBlcok = ^(NSString *str){ NSLog(@"ViewControllerÊãøÂà∞%@",str); }; [self presentViewController:modalVc animated:YES completion:nil]; Âú®ModalViewControllerÊéßÂà∂Âô®ÁöÑ.hÊñá‰ª∂‰∏≠Â£∞Êòé‰∏Ä‰∏™blockÂ±ûÊÄß @property (nonatomic ,strong) void(^valueBlcok)(NSString *str); Âπ∂Âú®.mÊñá‰ª∂‰∏≠ÂÆûÁé∞ÊñπÊ≥ï - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event { // ‰º†ÂÄº:Ë∞ÉÁî®block if (_valueBlcok) { _valueBlcok(@"123"); } } ËøôÊ†∑Âú®ModalViewControllerÂõûÂà∞‰∏ä‰∏Ä‰∏™ÊéßÂà∂Âô®ÁöÑÊó∂ÂÄô,‰∏ä‰∏Ä‰∏™ÊéßÂà∂Âô®ÁöÑlabelÂ∞±ËÉΩÊòæÁ§∫ModalViewController‰º†ËøáÊù•ÁöÑÂ≠óÁ¨¶‰∏≤ block‰Ωú‰∏∫‰∏Ä‰∏™ÂèÇÊï∞‰ΩøÁî® Êñ∞Âª∫‰∏Ä‰∏™Á±ª,Âú®.hÊñá‰ª∂‰∏≠Â£∞Êòé‰∏Ä‰∏™ÊñπÊ≥ï- (void)calculator:(int(^)(int result))block; Âπ∂Âú®.mÊñá‰ª∂‰∏≠ÂÆûÁé∞ËØ•ÊñπÊ≥ï -(void)calculator:(int (^)(int))block { self.result = block(self.result); } Âú®ÂÖ∂‰ªñÁ±ª‰∏≠Ë∞ÉÁî®ËØ•ÊñπÊ≥ï CalculatorManager *mgr = [[CalculatorManager alloc] init]; [mgr calculator:^(int result){ result += 5; return result; }]; block‰Ωú‰∏∫ËøîÂõûÂÄº‰ΩøÁî® Âú®masonryÊ°ÜÊû∂‰∏≠Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ãÁî®Ê≥ïmake.top.equalTo(superview.mas_top).with.offset(padding.top); Ëøô‰∏™ÊñπÊ≥ïÂÆûÁé∞Â∞±ÊòØÂ∞Üblock‰Ωú‰∏∫ËøîÂõûÂÄºÊù•‰ΩøÁî® Êù•ÂàÜÊûê‰∏Ä‰∏ãËøôÊÆµ‰ª£Á†ÅÔºöÂÖ∂ÂÆûÂèØ‰ª•Â∞ÜËøôÊÆµ‰ª£Á†ÅÁúãÊàêmake.top,make.equalTo,make.with,make.offset,ÊâÄ‰ª•ÂèØ‰ª•ÂæóÂá∫‰∏Ä‰∏™ÁªìËÆ∫ÊòØmake.topËøîÂõû‰∫Ü‰∏Ä‰∏™make,ÊâçËÉΩÂÆûÁé∞make.top.equalTo ÈÇ£Êù•Ê®°‰ªø‰∏Ä‰∏ãËøôÁßçÂäüËÉΩÁöÑÂÆûÁé∞ Êñ∞Âª∫‰∏Ä‰∏™Á±ª,Âú®.hÊñá‰ª∂‰∏≠Â£∞Êòé‰∏Ä‰∏™ÊñπÊ≥ï- (CalculatorManager *(^)(int a))add; Âú®.mÊñá‰ª∂‰∏≠ÂÆûÁé∞ÊñπÊ≥ï`objc (CalculatorManager * (^)(int a))add { return ^(int a){ _result += a; return self; };}` ËøôÊ†∑Â∞±ÂèØ‰ª•Âú®Âà´ÁöÑÁ±ª‰∏≠ÂÆûÁé∞‰∏äÈù¢‰ª£Á†ÅÁöÑÁî®Ê≥ï mgr.add(1).add(2).add(3); blockÁöÑÂèòÈáè‰º†ÈÄí Â¶ÇÊûúblockËÆøÈóÆÁöÑÂ§ñÈÉ®ÂèòÈáèÊòØÂ±ÄÈÉ®ÂèòÈáè,ÈÇ£‰πàÂ∞±ÊòØÂÄº‰º†ÈÄí,Â§ñÁïåÊîπ‰∫Ü,‰∏ç‰ºöÂΩ±ÂìçÈáåÈù¢ Â¶ÇÊûúblockËÆøÈóÆÁöÑÂ§ñÈÉ®ÂèòÈáèÊòØ__blockÊàñËÄÖstatic‰øÆÈ•∞,ÊàñËÄÖÊòØÂÖ®Â±ÄÂèòÈáè,ÈÇ£‰πàÂ∞±ÊòØÊåáÈíà‰º†ÈÄí,blockÈáåÈù¢ÁöÑÂÄºÂíåÂ§ñÁïåÂêå‰∏Ä‰∏™ÂèòÈáè,Â§ñÁïåÊîπÂèò,ÈáåÈù¢‰πü‰ºöÊîπÂèò È™åËØÅ‰∏Ä‰∏ãÊòØ‰∏çÊòØËøôÊ†∑ ÈÄöËøáClangÊù•Â∞Ümain.mÊñá‰ª∂ÁºñËØë‰∏∫C++ Âú®ÁªàÁ´ØËæìÂÖ•Â¶Ç‰∏ãÂëΩ‰ª§clang -rewrite-objc main.m void(*block)() = ((void (*)())&amp;__main_block_impl_0((void *)__main_block_func_0, &amp;__main_block_desc_0_DATA, (__Block_byref_a_0 *)&amp;a, 570425344)); void(*block)() = ((void (*)())&amp;__main_block_impl_0((void *)__main_block_func_0, &amp;__main_block_desc_0_DATA, a)); ÂèØ‰ª•ÁúãÂà∞Âú®ÁºñËØëÂêéÁöÑ‰ª£Á†ÅÊúÄÂêéÂèØ‰ª•ÂèëÁé∞Ë¢´__block‰øÆÈ•∞ËøáÂæóÂèòÈáè‰ΩøÁî®ÁöÑÊòØ&amp;a,ËÄåÂ±ÄÈÉ®ÂèòÈáèÊòØa blockÁöÑÊ≥®ÊÑèÁÇπ Âú®blockÂÜÖÈÉ®‰ΩøÁî®Â§ñÈÉ®ÊåáÈíà‰∏î‰ºöÈÄ†ÊàêÂæ™ÁéØÂºïÁî®ÊÉÖÂÜµ‰∏ã,ÈúÄË¶ÅÁî®__weak‰øÆÈ•∞Â§ñÈÉ®ÊåáÈíà __weak typeof(self) weakSelf = self; Âú®blockÂÜÖÈÉ®Â¶ÇÊûúË∞ÉÁî®‰∫ÜÂª∂Êó∂ÂáΩÊï∞Ëøò‰ΩøÁî®Âº±ÊåáÈíà‰ºöÂèñ‰∏çÂà∞ËØ•ÊåáÈíà,Âõ†‰∏∫Â∑≤ÁªèË¢´ÈîÄÊØÅ‰∫Ü,ÈúÄË¶ÅÂú®blockÂÜÖÈÉ®ÂÜçÂ∞ÜÂº±ÊåáÈíàÈáçÊñ∞Âº∫ÂºïÁî®‰∏Ä‰∏ã __strong typeof(self) strongSelf = weakSelf; Â¶ÇÊûúÈúÄË¶ÅÂú®blockÂÜÖÈÉ®ÊîπÂèòÂ§ñÈÉ®ÂèòÈáèÁöÑËØù,ÈúÄË¶ÅÂú®Áî®__block‰øÆÈ•∞Â§ñÈÉ®ÂèòÈáè ‰ΩøÁî®blockÊúâ‰ªÄ‰πàÂ•ΩÂ§ÑÔºü‰ΩøÁî®NSTimerÂÜôÂá∫‰∏Ä‰∏™‰ΩøÁî®blockÊòæÁ§∫ÔºàÂú®UILabel‰∏äÔºâÁßíË°®ÁöÑ‰ª£Á†Å„ÄÇËØ¥Âà∞blockÁöÑÂ•ΩÂ§ÑÔºåÊúÄÁõ¥Êé•ÁöÑÂ∞±ÊòØ‰ª£Á†ÅÁ¥ßÂáëÔºå‰º†ÂÄº„ÄÅÂõûË∞ÉÈÉΩÂæàÊñπ‰æøÔºåÁúÅÂéª‰∫ÜÂÜô‰ª£ÁêÜÁöÑÂæàÂ§ö‰ª£Á†Å„ÄÇ ÂØπ‰∫éËøôÈáåÊ†πÊú¨Ê≤°ÊúâÂøÖË¶Å‰ΩøÁî®blockÊù•Âà∑Êñ∞UILabelÊòæÁ§∫ÔºåÂõ†‰∏∫ÈÉΩÊòØÁõ¥Êé•ËµãÂÄº„ÄÇÂΩìÁÑ∂ÔºåÁ¨îËÄÖËßâÂæóËøôÊòØÂú®ËÄÉÈ™åÂ∫îËÅòËÄÖÂ¶Ç‰ΩïÂ∞ÜNSTimerÂÜôÊàê‰∏Ä‰∏™ÈÄöÁî®Áî®ÁöÑBlockÁâàÊú¨„ÄÇ NSTimerÂ∞ÅË£ÖÊàêBlockÁâà: http://www.henishuo.com/nstimer-block/ ‰ΩøÁî®Ëµ∑Êù•ÂÉèËøôÊ†∑Ôºö NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:1.0 repeats:YES callback:^() { weakSelf.secondsLabel.text = ... } [[NSRunLoop currentRunLoop] addTimer:timer forMode:NSRunLoopCommonModes]; blockË∑üÂáΩÊï∞ÂæàÂÉèÔºö ÂèØ‰ª•‰øùÂ≠ò‰ª£Á†Å ÊúâËøîÂõûÂÄº ÊúâÂΩ¢ÂèÇ Ë∞ÉÁî®ÊñπÂºè‰∏ÄÊ†∑ ‰ΩøÁî®Á≥ªÁªüÁöÑÊüê‰∫õblock apiÔºàÂ¶ÇUIViewÁöÑblockÁâàÊú¨ÂÜôÂä®ÁîªÊó∂ÔºâÔºåÊòØÂê¶‰πüËÄÉËôëÂºïÁî®Âæ™ÁéØÈóÆÈ¢òÔºüÁ≥ªÁªüÁöÑÊüê‰∫õblock api‰∏≠ÔºåUIViewÁöÑblockÁâàÊú¨ÂÜôÂä®ÁîªÊó∂‰∏çÈúÄË¶ÅËÄÉËôëÔºå‰ΩÜ‰πüÊúâ‰∏Ä‰∫õapiÈúÄË¶ÅËÄÉËôë„ÄÇÊâÄË∞ì‚ÄúÂºïÁî®Âæ™ÁéØ‚ÄùÊòØÊåáÂèåÂêëÁöÑÂº∫ÂºïÁî®Ôºå ÊâÄ‰ª•ÈÇ£‰∫õ‚ÄúÂçïÂêëÁöÑÂº∫ÂºïÁî®‚ÄùÔºàblock Âº∫ÂºïÁî® self ÔºâÊ≤°ÊúâÈóÆÈ¢òÔºåÊØîÂ¶ÇËøô‰∫õÔºö [UIView animateWithDuration:duration animations:^{ [self.superview layoutIfNeeded]; }]; [[NSOperationQueue mainQueue] addOperationWithBlock:^{ self.someProperty = xyz; }]; [[NSNotificationCenter defaultCenter] addObserverForName:@&quot;someNotification&quot; object:nil queue:[NSOperationQueue mainQueue] usingBlock:^(NSNotification * notification) { self.someProperty = xyz; }]; Ëøô‰∫õÊÉÖÂÜµ‰∏çÈúÄË¶ÅËÄÉËôë‚ÄúÂºïÁî®Âæ™ÁéØ‚Äù„ÄÇ ‰ΩÜÂ¶ÇÊûú‰Ω†‰ΩøÁî®‰∏Ä‰∫õÂèÇÊï∞‰∏≠ÂèØËÉΩÂê´ÊúâÊàêÂëòÂèòÈáèÁöÑÁ≥ªÁªüapiÔºåÂ¶ÇGCD„ÄÅNSNotificationCenterÂ∞±Ë¶ÅÂ∞èÂøÉ‰∏ÄÁÇπ„ÄÇÊØîÂ¶ÇGCDÂÜÖÈÉ®Â¶ÇÊûúÂºïÁî®‰∫Ü selfÔºåËÄå‰∏îGCDÁöÑÂÖ∂‰ªñÂèÇÊï∞ÊòØÊàêÂëòÂèòÈáèÔºåÂàôË¶ÅËÄÉËôëÂà∞Âæ™ÁéØÂºïÁî®Ôºö __weak __typeof(self) weakSelf = self; dispatch_group_async(_operationsGroup, _operationsQueue, ^{ __typeof__(self) strongSelf = weakSelf; [strongSelf doSomething]; [strongSelf doSomethingElse]; }); Á±ª‰ººÁöÑÔºö __weak __typeof(self) weakSelf = self; _observer = [[NSNotificationCenter defaultCenter] addObserverForName:@&quot;testKey&quot; object:nil queue:nil usingBlock:^(NSNotification *note) { __typeof__(self) strongSelf = weakSelf; [strongSelf dismissModalViewControllerAnimated:YES]; }]; self ‚Äì&gt; _observer ‚Äì&gt; block ‚Äì&gt; self ÊòæÁÑ∂Ëøô‰πüÊòØ‰∏Ä‰∏™Âæ™ÁéØÂºïÁî®„ÄÇ Ë∞àË∞àÂØπBlock ÁöÑÁêÜËß£?Âπ∂ÂÜôÂá∫‰∏Ä‰∏™‰ΩøÁî®BlockÊâßË°åUIVewÂä®Áîª? BlockÊòØÂèØ‰ª•Ëé∑ÂèñÂÖ∂‰ªñÂáΩÊï∞Â±ÄÈÉ®ÂèòÈáèÁöÑÂåøÂêçÂáΩÊï∞ÔºåÂÖ∂‰∏ç‰ΩÜÊñπ‰æøÂºÄÂèëÔºåÂπ∂‰∏îÂèØ‰ª•Â§ßÂπÖÊèêÈ´òÂ∫îÁî®ÁöÑÊâßË°åÊïàÁéá(Â§öÊ†∏ÂøÉCPUÂèØÁõ¥Êé•Â§ÑÁêÜBlockÊåá‰ª§) [UIView transitionWithView:self.view duration:0.2 ptions:UIViewAnimationOptionTransitionFlipFromLeft animations:^{ [[blueViewController view] removeFromSuperview]; [[self view] insertSubview:yellowViewController.view atIndex:0]; } completion:NULL]; ÂÜôÂá∫‰∏äÈù¢‰ª£Á†ÅÁöÑBlockÁöÑÂÆö‰πâ„ÄÇ typedef void(^animations) (void); typedef void(^completion) (BOOL finished); ‰ªÄ‰πàÊòØblock ÂØπ‰∫éÈó≠ÂåÖ(block),ÊúâÂæàÂ§öÂÆö‰πâÔºåÂÖ∂‰∏≠Èó≠ÂåÖÂ∞±ÊòØËé∑ÂèñÂÖ∂ÂÆÉÂáΩÊï∞Â±ÄÈÉ®ÂèòÈáèÁöÑÂåøÂêçÂáΩÊï∞ÔºåËøô‰∏™ÂÆö‰πâÂç≥Êé•ËøëÊú¨Ë¥®ÂèàËæÉÂ•ΩÁêÜËß£„ÄÇ ÂØπ‰∫éÂàöÊé•Ëß¶BlockÁöÑÂêåÂ≠¶Ôºå‰ºöËßâÂæóÊúâ‰∫õÁªïÔºåÂõ†‰∏∫Êàë‰ª¨‰π†ÊÉØÂÜôËøôÊ†∑ÁöÑÁ®ãÂ∫èmain(){ funA();} funA(){funB();} funB(){‚Ä¶..}; Â∞±ÊòØÂáΩÊï∞mainË∞ÉÁî®ÂáΩÊï∞AÔºåÂáΩÊï∞AË∞ÉÁî®ÂáΩÊï∞B‚Ä¶ ÂáΩÊï∞‰ª¨‰æùÊ¨°È°∫Â∫èÊâßË°åÔºå‰ΩÜÁé∞ÂÆû‰∏≠‰∏çÂÖ®ÊòØËøôÊ†∑ÁöÑÔºå‰æãÂ¶ÇÈ°πÁõÆÁªèÁêÜMÔºåÊâã‰∏ãÊúâ3‰∏™Á®ãÂ∫èÂëòA„ÄÅB„ÄÅCÔºåÂΩì‰ªñÁªôÁ®ãÂ∫èÂëòAÂÆâÊéíÂÆûÁé∞ÂäüËÉΩF1Êó∂Ôºå‰ªñÂπ∂‰∏çÁ≠âÁùÄAÂÆåÊàê‰πãÂêéÔºåÂÜçÂéªÂÆâÊéíBÂéªÂÆûÁé∞F2ÔºåËÄåÊòØÂÆâÊéíÁªôAÂäüËÉΩF1ÔºåBÂäüËÉΩF2ÔºåCÂäüËÉΩF3ÔºåÁÑ∂ÂêéÂèØËÉΩÂéªÂÜôÊäÄÊúØÊñáÊ°£ÔºåËÄåÂΩìAÈÅáÂà∞ÈóÆÈ¢òÊó∂Ôºå‰ªñ‰ºöÊù•ÊâæÈ°πÁõÆÁªèÁêÜMÔºåÂΩìBÂÅöÂÆåÊó∂Ôºå‰ºöÈÄöÁü•MÔºåËøôÂ∞±ÊòØ‰∏Ä‰∏™ÂºÇÊ≠•ÊâßË°åÁöÑ‰æãÂ≠ê„ÄÇ Âú®ËøôÁßçÊÉÖÂΩ¢‰∏ãÔºåBlock‰æøÂèØÂ§ßÊòæË∫´ÊâãÔºåÂõ†‰∏∫Âú®È°πÁõÆÁªèÁêÜMÔºåÁªôAÂÆâÊéíÂ∑•‰ΩúÊó∂ÔºåÂêåÊó∂‰ºöÂëäËØâAËã•ÊûúÈÅáÂà∞Âõ∞ÈöæÔºåÂ¶Ç‰ΩïËÉΩÊâæÂà∞‰ªñÊä•ÂëäÈóÆÈ¢ò(‰æãÂ¶ÇÊâì‰ªñÊâãÊú∫Âè∑)ÔºåËøôÂ∞±ÊòØÈ°πÁõÆÁªèÁêÜMÁªôAÁöÑ‰∏Ä‰∏™ÂõûË∞ÉÊé•Âè£ÔºåË¶ÅÂõûÊéâÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇÊé•Âà∞ÁîµËØùÔºåÁôæÂ∫¶Êü•ËØ¢ÂêéÔºåËøîÂõûÁΩëÈ°µÂÜÖÂÆπÁªôAÔºåËøôÂ∞±ÊòØ‰∏Ä‰∏™BlockÔºåÂú®M‰∫§ÂæÖÂ∑•‰ΩúÊó∂ÔºåÂ∑≤ÁªèÂÆö‰πâÂ•ΩÔºåÂπ∂‰∏îÂèñÂæó‰∫ÜF1ÁöÑ‰ªªÂä°Âè∑(Â±ÄÈÉ®ÂèòÈáè)ÔºåÂç¥ÊòØÂú®ÂΩìAÈÅáÂà∞ÈóÆÈ¢òÊó∂ÔºåÊâçË∞ÉÁî®ÊâßË°åÔºåË∑®ÂáΩÊï∞Âú®È°πÁõÆÁªèÁêÜMÊü•ËØ¢ÁôæÂ∫¶ÔºåËé∑ÂæóÁªìÊûúÂêéÂõûË∞ÉËØ•block„ÄÇ block ÂÆûÁé∞ÂéüÁêÜ Objective-CÊòØÂØπCËØ≠Ë®ÄÁöÑÊâ©Â±ïÔºåblockÁöÑÂÆûÁé∞ÊòØÂü∫‰∫éÊåáÈíàÂíåÂáΩÊï∞ÊåáÈíà„ÄÇ ‰ªéËÆ°ÁÆóËØ≠Ë®ÄÁöÑÂèëÂ±ïÔºåÊúÄÊó©ÁöÑgotoÔºåÈ´òÁ∫ßËØ≠Ë®ÄÁöÑÊåáÈíàÔºåÂà∞Èù¢ÂêëÂØπË±°ËØ≠Ë®ÄÁöÑblockÔºå‰ªéÊú∫Âô®ÁöÑÊÄùÁª¥Ôºå‰∏ÄÊ≠•Ê≠•Êé•Ëøë‰∫∫ÁöÑÊÄùÁª¥Ôºå‰ª•Êñπ‰æøÂºÄÂèë‰∫∫ÂëòÊõ¥‰∏∫È´òÊïà„ÄÅÁõ¥Êé•ÁöÑÊèèËø∞Âá∫Áé∞ÂÆûÁöÑÈÄªËæë(ÈúÄÊ±Ç)„ÄÇ ‰ΩøÁî®ÂÆû‰æã:cocoaTouchÊ°ÜÊû∂‰∏ãÂä®ÁîªÊïàÊûúÁöÑBlockÁöÑË∞ÉÁî® ‰ΩøÁî®typedÂ£∞Êòéblock typedef void(^didFinishBlock) (NSObject *ob); ËøôÂ∞±Â£∞Êòé‰∫Ü‰∏Ä‰∏™didFinishBlockÁ±ªÂûãÁöÑblockÔºå ÁÑ∂Âêé‰æøÂèØÁî® @property (nonatomic,copy) didFinishBlock finishBlock; Â£∞Êòé‰∏Ä‰∏™blokcÂØπË±°ÔºåÊ≥®ÊÑèÂØπË±°Â±ûÊÄßËÆæÁΩÆ‰∏∫copyÔºåÊé•Âà∞block ÂèÇÊï∞Êó∂Ôºå‰æø‰ºöËá™Âä®Â§çÂà∂‰∏Ä‰ªΩ„ÄÇ __blockÊòØ‰∏ÄÁßçÁâπÊÆäÁ±ªÂûãÔºå ‰ΩøÁî®ËØ•ÂÖ≥ÈîÆÂ≠óÂ£∞ÊòéÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºåÂèØ‰ª•Ë¢´blockÊâÄÊîπÂèòÔºåÂπ∂‰∏îÂÖ∂Âú®ÂéüÂáΩÊï∞‰∏≠ÁöÑÂÄº‰ºöË¢´ÊîπÂèò„ÄÇ ÂÖ≥‰∫éblock Á≠î: Èù¢ËØïÊó∂ÔºåÈù¢ËØïÂÆò‰ºöÂÖàÈóÆ‰∏Ä‰∫õÔºåÊòØÂê¶‰∫ÜËß£blockÔºåÊòØÂê¶‰ΩøÁî®ËøáblockÔºåËøô‰∫õÈóÆÈ¢òÁõ∏ÂΩì‰∫éÂºÄÂú∫ÁôΩÔºåÂæÄÂæÄÊòØ‰∏ãÈù¢‰∏ÄÁ≥ªÂàóÈóÆÈ¢òÁöÑÂºÄÂßãÔºåÊâÄ‰ª•‰∏ÄÂÆöË¶ÅÂ¶ÇÂÆûÊ†πÊçÆËá™Â∑±ÁöÑÊÉÖÂÜµÂõûÁ≠î„ÄÇ 1). ‰ΩøÁî®blockÂíå‰ΩøÁî®delegateÂÆåÊàêÂßîÊâòÊ®°ÂºèÊúâ‰ªÄ‰πà‰ºòÁÇπ? È¶ñÂÖàË¶Å‰∫ÜËß£‰ªÄ‰πàÊòØÂßîÊâòÊ®°ÂºèÔºåÂßîÊâòÊ®°ÂºèÂú®iOS‰∏≠Â§ßÈáèÂ∫îÁî®ÔºåÂÖ∂Âú®ËÆæËÆ°Ê®°Âºè‰∏≠ÊòØÈÄÇÈÖçÂô®Ê®°Âºè‰∏≠ÁöÑÂØπË±°ÈÄÇÈÖçÂô®ÔºåObjective-C‰∏≠‰ΩøÁî®idÁ±ªÂûãÊåáÂêë‰∏ÄÂàáÂØπË±°Ôºå‰ΩøÂßîÊâòÊ®°ÂºèÊõ¥‰∏∫ÁÆÄÊ¥Å„ÄÇ‰∫ÜËß£ÂßîÊâòÊ®°ÂºèÁöÑÁªÜËäÇÔºö iOSËÆæËÆ°Ê®°Âºè‚Äî-ÂßîÊâòÊ®°Âºè ‰ΩøÁî®blockÂÆûÁé∞ÂßîÊâòÊ®°ÂºèÔºåÂÖ∂‰ºòÁÇπÊòØÂõûË∞ÉÁöÑblock‰ª£Á†ÅÂùóÂÆö‰πâÂú®ÂßîÊâòÂØπË±°ÂáΩÊï∞ÂÜÖÈÉ®Ôºå‰Ωø‰ª£Á†ÅÊõ¥‰∏∫Á¥ßÂáë; ÈÄÇÈÖçÂØπË±°‰∏çÂÜçÈúÄË¶ÅÂÆûÁé∞ÂÖ∑‰ΩìÊüê‰∏™protocolÔºå‰ª£Á†ÅÊõ¥‰∏∫ÁÆÄÊ¥Å„ÄÇ 2). Â§öÁ∫øÁ®ã‰∏éblock GCD‰∏éBlock ‰ΩøÁî® dispatch_async Á≥ªÂàóÊñπÊ≥ïÔºåÂèØ‰ª•‰ª•ÊåáÂÆöÁöÑÊñπÂºèÊâßË°åblock GCDÁºñÁ®ãÂÆû‰æã dispatch_asyncÁöÑÂÆåÊï¥ÂÆö‰πâ void dispatch_async( dispatch_queue_t queue, dispatch_block_t block); ÂäüËÉΩÔºöÂú®ÊåáÂÆöÁöÑÈòüÂàóÈáåÊèê‰∫§‰∏Ä‰∏™ÂºÇÊ≠•ÊâßË°åÁöÑblockÔºå‰∏çÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ã ÈÄöËøáqueueÊù•ÊéßÂà∂blockÊâßË°åÁöÑÁ∫øÁ®ã„ÄÇ‰∏ªÁ∫øÁ®ãÊâßË°åÂâçÊñáÂÆö‰πâÁöÑ finishBlockÂØπË±° dispatch_async(dispatch_get_main_queue(),^(void){finishBlock();}); Ëß£Èáä‰ª•‰∏ã‰ª£Á†ÅÁöÑÂÜÖÂ≠òÊ≥ÑÊºèÂéüÂõ†- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath { HJTestCell *cell = [tableView dequeueReusableCellWithIdentifier:@&quot;TestCell&quot; forIndexPath:indexPath]; [cell setTouchBlock:^(HJTestCell *cell) { [self refreshData]; }]; return cell; } ÂéüÂõ†Ôºö [cell setTouchBlock:^(HJTestCell *cell) { [self refreshData]; }]; ‰∫ßÁîüÂÜÖÂ≠òÊ≥ÑÈú≤ÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫Âæ™ÁéØÂºïÁî® Âú®ÁªôcellËÆæÁΩÆÁöÑTouchBlock‰∏≠Ôºå‰ΩøÁî®‰∫Ü__strong‰øÆÈ•∞ÁöÑselfÔºåÁî±‰∫éBlockÁöÑÂéüÁêÜÔºåÂΩìtouchBlock‰ªéÊ†àÂ§çÂà∂Âà∞Â†Ü‰∏≠Êó∂Ôºåself‰ºö‰∏ÄÂêåÂ§çÂà∂Âà∞Â†Ü‰∏≠Ôºåretain‰∏ÄÊ¨°ÔºåË¢´touchBlockÊåÅÊúâÔºåËÄåtouchBlockÂèàÊòØË¢´cellÊåÅÊúâÁöÑÔºåcellÂèàË¢´tableViewÊåÅÊúâÔºåtableViewÂèàË¢´selfÊåÅÊúâÔºåÂõ†Ê≠§ÂΩ¢Êàê‰∫ÜÂæ™ÁéØÂºïÁî®ÔºöselfÈó¥Êé•ÊåÅÊúâtouchBlockÔºåtouchBlockÊåÅÊúâself ‰∏ÄÊó¶‰∫ßÁîü‰∫ÜÂæ™ÁéØÂºïÁî®ÔºåÁî±‰∫é‰∏§‰∏™objectÈÉΩË¢´Âº∫ÂºïÁî®ÔºåÊâÄ‰ª•retainCountÂßãÁªà‰∏çËÉΩ‰∏∫0ÔºåÊó†ÂèëÈáäÊîæÔºå‰∫ßÁîüÂÜÖÂ≠òÊ≥ÑÊºè Ëß£ÂÜ≥ÂäûÊ≥ïÔºö ‰ΩøÁî®weakSelfËß£Èô§touchBlockÂØπselfÁöÑÂº∫ÂºïÁî® __weak __typeof__(self) weakSelf = self; [cell setTouchBlock:^(HJTestCell *cell) { [weakSelf refreshData]; }];]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò6--KVOÂíåKVC]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%986-KVO%E5%92%8CKVC%2F</url>
    <content type="text"><![CDATA[KVCÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÔºüÂΩì‰∏Ä‰∏™ÂØπË±°Ë∞ÉÁî®setValueÊñπÊ≥ïÊó∂ÔºåÊñπÊ≥ïÂÜÖÈÉ®‰ºöÂÅö‰ª•‰∏ãÊìç‰ΩúÔºö ‚ë†Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®Áõ∏Â∫îkeyÁöÑsetÊñπÊ≥ïÔºåÂ¶ÇÊûúÂ≠òÂú®ÔºåÂ∞±Ë∞ÉÁî®setÊñπÊ≥ï ‚ë°Â¶ÇÊûúsetÊñπÊ≥ï‰∏çÂ≠òÂú®ÔºåÂ∞±‰ºöÊü•Êâæ‰∏ékeyÁõ∏ÂêåÂêçÁß∞Âπ∂‰∏îÂ∏¶‰∏ãÂàíÁ∫øÁöÑÊàêÂëòÂ±ûÊÄßÔºåÂ¶ÇÊûúÊúâÔºåÂàôÁõ¥Êé•ÁªôÊàêÂëòÂ±ûÊÄßËµãÂÄº ‚ë¢Â¶ÇÊûúÊ≤°ÊúâÊâæÂà∞_key,Â∞±‰ºöÊü•ÊâæÁõ∏ÂêåÂêçÁß∞ÁöÑÂ±ûÊÄßkeyÔºåÂ¶ÇÊûúÊúâÂ∞±Áõ¥Êé•ËµãÂÄº ‚ë£Â¶ÇÊûúËøòÊ≤°ÊâæÂà∞ÔºåÂàôË∞ÉÁî®valueForUndefinedKey:ÂíåsetValue:forUndefinedKey:ÊñπÊ≥ï„ÄÇ Ëøô‰∫õÊñπÊ≥ïÁöÑÈªòËÆ§ÂÆûÁé∞ÈÉΩÊòØÊäõÂá∫ÂºÇÂ∏∏ÔºåÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÈáçÂÜôÂÆÉ‰ª¨„ÄÇ KVOÁöÑÂ∫ïÂ±ÇÂÆûÁé∞Ôºü kvoÂü∫‰∫éruntimeÊú∫Âà∂ÂÆûÁé∞„ÄÇ ‰ΩøÁî®‰∫Üisa Ê∑∑ÂÜôÔºàisa-swizzlingÔºâÔºåÂΩì‰∏Ä‰∏™ÂØπË±°(ÂÅáËÆæÊòØpersonÂØπË±°ÔºåpersonÁöÑÁ±ªÊòØMYPerson)ÁöÑÂ±ûÊÄßÂÄº(ÂÅáËÆæpersonÁöÑage)ÂèëÁîüÊîπÂèòÊó∂ÔºåÁ≥ªÁªü‰ºöËá™Âä®ÁîüÊàê‰∏Ä‰∏™Á±ªÔºåÁªßÊâøËá™MYPerson ÔºöNSKVONotifying_MYPersonÔºåÂú®Ëøô‰∏™Á±ªÁöÑsetAgeÊñπÊ≥ïÈáåÈù¢ÔºåË∞ÉÁî® [super setAge:age] [self willChangeValueForKey:@&quot;age&quot;] Âíå [self didChangeValueForKey:@&quot;age&quot;] ,ËÄåËøô‰∏§‰∏™ÊñπÊ≥ïÂÜÖÈÉ®‰ºö‰∏ªÂä®Ë∞ÉÁî®ÁõëÂê¨ËÄÖÂÜÖÈÉ®ÁöÑ- (void)observeValueForKeyPathËøô‰∏™ÊñπÊ≥ï„ÄÇ ÊÉ≥Ë¶ÅÁúãÂà∞NSKVONotifying_MYPersonÂæàÁÆÄÂçïÔºåÂú®self.person.age = 20; ËøôÈáåÊâìÊñ≠ÁÇπÔºåÂú®Ë∞ÉËØïÂå∫ÂüüÂ∞±ËÉΩÁúãÂà∞ _person-&gt;NSObject-&gt;isa=(Class)NSKVONotifying_MYPerson. ÂêåÊó∂Êàë‰ª¨Âú® self.person = [[MYPerson alloc]init]; ÂêéÈù¢ÊâìÊñ≠ÁÇπÔºåÁúãÂà∞ _person-&gt;NSObject-&gt;isa=(Class)MYPerson Áî±Ê≠§ÂèØËßÅÔºåÂú®Ê∑ªÂä†ÁõëÂê¨ËÄÖ‰πãÂêéÔºåpersonÁ±ªÂûãÂ∑≤ÁªèÁî±MYPersonË¢´ÊîπÂèòÊàêNSKVONotifying_MYPerson ‰ªÄ‰πàÊòØKVOÂíåKVC?Á≠îÔºöKVC:ÈîÆ ‚Äì ÂÄºÁºñÁ†Å ‰ΩøÁî®Â≠óÁ¨¶‰∏≤Áõ¥Êé•ËÆøÈóÆÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇ KVO:ÈîÆÂÄºËßÇÂØüÊú∫Âà∂ÔºåÂÆÉÊèê‰æõ‰∫ÜËßÇÂØüÊüê‰∏ÄÂ±ûÊÄßÂèòÂåñÁöÑÊñπÊ≥ï KVOÁöÑÁº∫Èô∑?KVOÊòØ‰∏Ä‰∏™ÂØπË±°ËÉΩÂ§üËßÇÂØüÂè¶Â§ñ‰∏Ä‰∏™ÂØπË±°ÁöÑÂ±ûÊÄßÁöÑÂÄºÔºåÂπ∂‰∏îËÉΩÂ§üÂèëÁé∞ÂÄºÁöÑÂèòÂåñ„ÄÇÂâçÈù¢‰∏§ÁßçÊ®°ÂºèÊõ¥Âä†ÈÄÇÂêà‰∏Ä‰∏™controller‰∏é‰ªª‰ΩïÂÖ∂‰ªñÁöÑÂØπË±°ËøõË°åÈÄö‰ø°ÔºåËÄåKVOÊõ¥Âä†ÈÄÇÂêà‰ªª‰ΩïÁ±ªÂûãÁöÑÂØπË±°‰æ¶Âê¨Âè¶Â§ñ‰∏Ä‰∏™‰ªªÊÑèÂØπË±°ÁöÑÊîπÂèòÔºàËøôÈáå‰πüÂèØ‰ª•ÊòØcontrollerÔºå‰ΩÜ‰∏ÄËà¨‰∏çÊòØcontrollerÔºâ„ÄÇËøôÊòØ‰∏Ä‰∏™ÂØπË±°‰∏éÂè¶Â§ñ‰∏Ä‰∏™ÂØπË±°‰øùÊåÅÂêåÊ≠•ÁöÑ‰∏ÄÁßçÊñπÊ≥ïÔºåÂç≥ÂΩìÂè¶Â§ñ‰∏ÄÁßçÂØπË±°ÁöÑÁä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÔºåËßÇÂØüÂØπË±°È©¨‰∏ä‰ΩúÂá∫ÂèçÂ∫î„ÄÇÂÆÉÂè™ËÉΩÁî®Êù•ÂØπÂ±ûÊÄß‰ΩúÂá∫ÂèçÂ∫îÔºåËÄå‰∏ç‰ºöÁî®Êù•ÂØπÊñπÊ≥ïÊàñËÄÖÂä®‰Ωú‰ΩúÂá∫ÂèçÂ∫î„ÄÇ ‰ºòÁÇπÔºö 1.ËÉΩÂ§üÊèê‰æõ‰∏ÄÁßçÁÆÄÂçïÁöÑÊñπÊ≥ïÂÆûÁé∞‰∏§‰∏™ÂØπË±°Èó¥ÁöÑÂêåÊ≠•„ÄÇ‰æãÂ¶ÇÔºömodelÂíåview‰πãÈó¥ÂêåÊ≠•Ôºõ 2.ËÉΩÂ§üÂØπÈùûÊàë‰ª¨ÂàõÂª∫ÁöÑÂØπË±°ÔºåÂç≥ÂÜÖÈÉ®ÂØπË±°ÁöÑÁä∂ÊÄÅÊîπÂèò‰ΩúÂá∫ÂìçÂ∫îÔºåËÄå‰∏î‰∏çÈúÄË¶ÅÊîπÂèòÂÜÖÈÉ®ÂØπË±°ÔºàSKDÂØπË±°ÔºâÁöÑÂÆûÁé∞Ôºõ 3.ËÉΩÂ§üÊèê‰æõËßÇÂØüÁöÑÂ±ûÊÄßÁöÑÊúÄÊñ∞ÂÄº‰ª•ÂèäÂÖàÂâçÂÄºÔºõ 4.Áî®key pathsÊù•ËßÇÂØüÂ±ûÊÄßÔºåÂõ†Ê≠§‰πüÂèØ‰ª•ËßÇÂØüÂµåÂ•óÂØπË±°Ôºõ 5.ÂÆåÊàê‰∫ÜÂØπËßÇÂØüÂØπË±°ÁöÑÊäΩË±°ÔºåÂõ†‰∏∫‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑ‰ª£Á†ÅÊù•ÂÖÅËÆ∏ËßÇÂØüÂÄºËÉΩÂ§üË¢´ËßÇÂØü Áº∫ÁÇπÔºö 1.Êàë‰ª¨ËßÇÂØüÁöÑÂ±ûÊÄßÂøÖÈ°ª‰ΩøÁî®stringsÊù•ÂÆö‰πâ„ÄÇÂõ†Ê≠§Âú®ÁºñËØëÂô®‰∏ç‰ºöÂá∫Áé∞Ë≠¶Âëä‰ª•ÂèäÊ£ÄÊü•Ôºõ 2.ÂØπÂ±ûÊÄßÈáçÊûÑÂ∞ÜÂØºËá¥Êàë‰ª¨ÁöÑËßÇÂØü‰ª£Á†Å‰∏çÂÜçÂèØÁî®Ôºõ 3.Â§çÊùÇÁöÑ‚ÄúIF‚ÄùËØ≠Âè•Ë¶ÅÊ±ÇÂØπË±°Ê≠£Âú®ËßÇÂØüÂ§ö‰∏™ÂÄº,ËøôÊòØÂõ†‰∏∫ÊâÄÊúâÁöÑËßÇÂØü‰ª£Á†ÅÈÄöËøá‰∏Ä‰∏™ÊñπÊ≥ïÊù•ÊåáÂêëÔºõ 4.ÂΩìÈáäÊîæËßÇÂØüËÄÖÊó∂ÈúÄË¶ÅÁßªÈô§ËßÇÂØüËÄÖ„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò5--ÂÜÖÂ≠òÁÆ°ÁêÜ]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%985-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[ARCÂ§ÑÁêÜÂéüÁêÜARCÊòØObjective-CÁºñËØëÂô®ÁöÑÁâπÊÄßÔºåËÄå‰∏çÊòØËøêË°åÊó∂ÁâπÊÄßÊàñËÄÖÂûÉÂúæÂõûÊî∂Êú∫Âà∂ÔºåARCÊâÄÂÅöÁöÑÂè™‰∏çËøáÊòØÂú®‰ª£Á†ÅÁºñËØëÊó∂‰∏∫‰Ω†Ëá™Âä®Âú®ÂêàÈÄÇÁöÑ‰ΩçÁΩÆÊèíÂÖ•releaseÊàñautoreleaseÔºåÂè™Ë¶ÅÊ≤°ÊúâÂº∫ÊåáÈíàÊåáÂêëÂØπË±°ÔºåÂØπË±°Â∞±‰ºöË¢´ÈáäÊîæ„ÄÇ ÂâçÁ´ØÁºñËØëÂô® ÂâçÁ´ØÁºñËØëÂô®‰ºö‰∏∫‚ÄúÊã•ÊúâÁöÑ‚ÄùÊØè‰∏Ä‰∏™ÂØπË±°ÊèíÂÖ•Áõ∏Â∫îÁöÑreleaseËØ≠Âè•„ÄÇÂ¶ÇÊûúÂØπË±°ÁöÑÊâÄÊúâÊùÉ‰øÆÈ•∞Á¨¶ÊòØ__strongÔºåÈÇ£‰πàÂÆÉÂ∞±ÊòØË¢´Êã•ÊúâÁöÑ„ÄÇÂ¶ÇÊûúÂú®Êüê‰∏™ÊñπÊ≥ïÂÜÖÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂØπË±°ÔºåÂâçÁ´ØÁºñËØëÂô®‰ºöÂú®ÊñπÊ≥ïÊú´Â∞æËá™Âä®ÊèíÂÖ•releaseËØ≠Âè•‰ª•ÈîÄÊØÅÂÆÉ„ÄÇËÄåÁ±ªÊã•ÊúâÁöÑÂØπË±°ÔºàÂÆû‰æãÂèòÈáè/Â±ûÊÄßÔºâ‰ºöÂú®deallocÊñπÊ≥ïÂÜÖË¢´ÈáäÊîæ„ÄÇ‰∫ãÂÆû‰∏äÔºå‰Ω†Âπ∂‰∏çÈúÄË¶ÅÂÜôdeallocÊñπÊ≥ïÊàñË∞ÉÁî®Áà∂Á±ªÁöÑdeallocÊñπÊ≥ïÔºåARC‰ºöËá™Âä®Â∏Æ‰Ω†ÂÆåÊàê‰∏ÄÂàá„ÄÇÊ≠§Â§ñÔºåÁî±ÁºñËØëÂô®ÁîüÊàêÁöÑ‰ª£Á†ÅÁîöËá≥‰ºöÊØî‰Ω†Ëá™Â∑±ÂÜôÁöÑreleaseËØ≠Âè•ÁöÑÊÄßËÉΩËøòË¶ÅÂ•ΩÔºåÂõ†‰∏∫ÁºñËæëÂô®ÂèØ‰ª•‰ΩúÂá∫‰∏Ä‰∫õÂÅáËÆæ„ÄÇÂú®ARC‰∏≠ÔºåÊ≤°ÊúâÁ±ªÂèØ‰ª•Ë¶ÜÁõñreleaseÊñπÊ≥ïÔºå‰πüÊ≤°ÊúâË∞ÉÁî®ÂÆÉÁöÑÂøÖË¶Å„ÄÇARC‰ºöÈÄöËøáÁõ¥Êé•‰ΩøÁî®objc_releaseÊù•‰ºòÂåñË∞ÉÁî®ËøáÁ®ã„ÄÇËÄåÂØπ‰∫éretain‰πüÊòØÂêåÊ†∑ÁöÑÊñπÊ≥ï„ÄÇARC‰ºöË∞ÉÁî®objc_retainÊù•Âèñ‰ª£‰øùÁïôÊ∂àÊÅØ„ÄÇ ARC‰ºòÂåñÂô® ËôΩÁÑ∂ÂâçÁ´ØÁºñËØëÂô®Âê¨Ëµ∑Êù•ÂæàÂéâÂÆ≥ÁöÑÊ†∑Â≠êÔºå‰ΩÜ‰ª£Á†Å‰∏≠ÊúâÊó∂‰ªç‰ºöÂá∫Áé∞Âá†‰∏™ÂØπretainÂíåreleaseÁöÑÈáçÂ§çË∞ÉÁî®„ÄÇARC‰ºòÂåñÂô®Ë¥üË¥£ÁßªÈô§Â§ö‰ΩôÁöÑretainÂíåreleaseËØ≠Âè•ÔºåÁ°Æ‰øùÁîüÊàêÁöÑ‰ª£Á†ÅËøêË°åÈÄüÂ∫¶È´ò‰∫éÊâãÂä®ÂºïÁî®ËÆ°Êï∞ÁöÑ‰ª£Á†Å„ÄÇ ‰∏ãÈù¢ÂÖ≥‰∫éObjective-CÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÊèèËø∞ÈîôËØØÁöÑÊòØA ÂΩì‰ΩøÁî®ARCÊù•ÁÆ°ÁêÜÂÜÖÂ≠òÊó∂Ôºå‰ª£Á†Å‰∏≠‰∏çÂèØ‰ª•Âá∫Áé∞autorelease B autoreleasepool Âú® drain ÁöÑÊó∂ÂÄô‰ºöÈáäÊîæÂú®ÂÖ∂‰∏≠ÂàÜÈÖçÁöÑÂØπË±° C ÂΩì‰ΩøÁî®ARCÊù•ÁÆ°ÁêÜÂÜÖÂ≠òÊó∂ÔºåÂú®Á∫øÁ®ã‰∏≠Â§ßÈáèÂàÜÈÖçÂØπË±°ËÄå‰∏çÁî®autoreleasepoolÂàôÂèØËÉΩ‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÈú≤ D Âú®‰ΩøÁî®ARCÁöÑÈ°πÁõÆ‰∏≠‰∏çËÉΩ‰ΩøÁî®NSZone ÂèÇËÄÉÁ≠îÊ°àÔºöA ÁêÜÁî±ÔºöARCÂè™ÊòØÂú®Â§ßÂ§öÊó∂ÂÄôÁºñËØëËá™Âä®‰∏∫Êàë‰ª¨Ê∑ªÂä†‰∏äÂÜÖÂ≠òÁÆ°ÁêÜÁöÑ‰ª£Á†ÅÔºåÂè™ÊòØÊàë‰ª¨ÁöÑÊ∫ê‰ª£Á†ÅÁúã‰∏çÂà∞ËÄåÂ∑≤Ôºå‰ΩÜÊòØÂú®ÁºñËØëÊó∂ÔºåÁºñËØëÂô®‰ºöÊ∑ªÂä†‰∏äÁõ∏ÂÖ≥ÂÜÖÂ≠òÁÆ°ÁêÜ‰ª£Á†Å„ÄÇÂØπ‰∫éËá™Âä®ÈáäÊîæÊ±†ÔºåÂú®drainÊó∂‰ºöÂ∞ÜËá™Âä®ÈáäÊîæÊ±†‰∏≠ÁöÑÊâÄÊúâÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞Âáè‰∏ÄÔºåËã•ÂºïÁî®ËÆ°Êï∞‰∏∫0ÔºåÂàô‰ºöËá™Âä®ÈáäÊîæÊéâÂÖ∂ÂÜÖÂ≠ò„ÄÇÂ¶ÇÊûúÂú®Á∫øÁ®ã‰∏≠ÈúÄË¶ÅÂ§ßÈáèÂàÜÈÖçÂÜÖÂ≠òÔºåÊàë‰ª¨ÁêÜÂ∫îÊ∑ªÂä†‰∏äËá™Âä®ÈáäÊîæÊ±†Ôºå‰ª•Èò≤ÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇÊØîÂ¶ÇÂú®forÂæ™ÁéØ‰∏≠Ë¶ÅÂàÜÈÖçÂ§ßÈáèÁöÑÂÜÖÂ≠òÂ§ÑÁêÜÊï∞ÊçÆÔºåÈÇ£‰πàÊàë‰ª¨Â∫îËØ•Âú®forÂæ™ÁéØÂÜÖÊ∑ªÂä†Ëá™Âä®ÈáäÊîæÊ±†ÔºåÂú®ÊØè‰∏™Âæ™ÁéØÂêéÂ∞±Â∞ÜÂÜÖÂ≠òÈáäÊîæÊéâÔºåÈò≤Ê≠¢ÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇÂú®ARCÈ°πÁõÆ‰∏≠ÔºåËá™ÁÑ∂‰∏çËÉΩÊâãÂä®‰ΩøÁî®NSZoneÔºå‰πü‰∏çËÉΩË∞ÉÁî®Áà∂Á±ªÁöÑdealloc„ÄÇ MRCÊñá‰ª∂Âú®ARCÂ∑•Á®ãÊ∑∑ÂêàÁºñËØëÊó∂ÔºåÈúÄË¶ÅÂú®Êñá‰ª∂ÁöÑCompiler Flags‰∏äÊ∑ªÂä†‰ªÄ‰πàÂèÇÊï∞A -shared B -fno-objc-arc C -fobjc-arc D -dynamic ÂèÇËÄÉÁ≠îÊ°àÔºöB ‰ªÄ‰πàÊÉÖÂÜµ‰ΩøÁî® weak ÂÖ≥ÈîÆÂ≠óÔºåÁõ∏ÊØî assign Êúâ‰ªÄ‰πà‰∏çÂêåÔºü ‰ªÄ‰πàÊÉÖÂÜµ‰ΩøÁî®weakÂÖ≥ÈîÆÂ≠ó? Âú® ARC ‰∏≠,Âú®ÊúâÂèØËÉΩÂá∫Áé∞Âæ™ÁéØÂºïÁî®ÁöÑÊó∂ÂÄô,ÂæÄÂæÄË¶ÅÈÄöËøáËÆ©ÂÖ∂‰∏≠‰∏ÄÁ´Ø‰ΩøÁî® weak Êù•Ëß£ÂÜ≥,ÊØîÂ¶Ç: delegate ‰ª£ÁêÜÂ±ûÊÄß Ëá™Ë∫´Â∑≤ÁªèÂØπÂÆÉËøõË°å‰∏ÄÊ¨°Âº∫ÂºïÁî®,Ê≤°ÊúâÂøÖË¶ÅÂÜçÂº∫ÂºïÁî®‰∏ÄÊ¨°,Ê≠§Êó∂‰πü‰ºö‰ΩøÁî® weak,Ëá™ÂÆö‰πâ IBOutlet Êéß‰ª∂Â±ûÊÄß‰∏ÄËà¨‰πü‰ΩøÁî® weakÔºõÂΩìÁÑ∂Ôºå‰πüÂèØ‰ª•‰ΩøÁî®strong„ÄÇ weak‰∏éassignÁöÑ‰∏çÂêå? weak Ê≠§ÁâπË¥®Ë°®ÊòéËØ•Â±ûÊÄßÂÆö‰πâ‰∫Ü‰∏ÄÁßç‚ÄúÈùûÊã•ÊúâÂÖ≥Á≥ª‚Äù (nonowning relationship)„ÄÇ‰∏∫ËøôÁßçÂ±ûÊÄßËÆæÁΩÆÊñ∞ÂÄºÊó∂ÔºåËÆæÁΩÆÊñπÊ≥ïÊó¢‰∏ç‰øùÁïôÊñ∞ÂÄºÔºå‰πü‰∏çÈáäÊîæÊóßÂÄº„ÄÇÊ≠§ÁâπË¥®ÂêåassignÁ±ª‰ººÔºå ÁÑ∂ËÄåÂú®Â±ûÊÄßÊâÄÊåáÁöÑÂØπË±°ÈÅ≠Âà∞ÊëßÊØÅÊó∂ÔºåÂ±ûÊÄßÂÄº‰πü‰ºöÊ∏ÖÁ©∫(nil out)„ÄÇ ËÄå assign ÁöÑ‚ÄúËÆæÁΩÆÊñπÊ≥ï‚ÄùÂè™‰ºöÊâßË°åÈíàÂØπ‚ÄúÁ∫ØÈáèÁ±ªÂûã‚Äù (scalar typeÔºå‰æãÂ¶Ç CGFloat Êàñ NSlnteger Á≠â)ÁöÑÁÆÄÂçïËµãÂÄºÊìç‰Ωú„ÄÇ assigin ÂèØ‰ª•Áî®Èùû OC ÂØπË±°,ËÄå weak ÂøÖÈ°ªÁî®‰∫é OC ÂØπË±° Ë∞ÉÁî®ÂØπË±°ÁöÑrelease ÊñπÊ≥ï‰ºöÈîÄÊØÅÂØπË±°ÂêóÔºü ‰∏ç‰ºöÔºåË∞ÉÁî®ÂØπË±°ÁöÑrelease ÊñπÊ≥ïÂè™ÊòØÂ∞ÜÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞Âô®-1ÔºåÂΩìÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞Âô®‰∏∫0ÁöÑÊó∂ÂÄô‰ºöË∞ÉÁî®‰∫ÜÂØπË±°ÁöÑdealloc ÊñπÊ≥ïÊâçËÉΩËøõË°åÈáäÊîæÂØπË±°ÁöÑÂÜÖÂ≠ò„ÄÇ Ëá™Âä®ÈáäÊîæÊ±†Â∏∏ËßÅÈù¢ËØï‰ª£Á†Åfor (int i = 0; i < someLargeNumber; ++i) { NSString *string = @"Abc"; string = [string lowercaseString]; string = [string stringByAppendingString:@"xyz"]; NSLog(@"%@",string); } ÈóÆÔºö‰ª•‰∏ä‰ª£Á†ÅÂ≠òÂú®‰ªÄ‰πàÊ†∑ÁöÑÈóÆÈ¢òÔºüÂ¶ÇÊûúÂæ™ÁéØÁöÑÊ¨°Êï∞ÈùûÂ∏∏Â§ßÊó∂ÔºåÂ∫îËØ•Â¶Ç‰Ωï‰øÆÊîπÔºü Â≠òÂú®ÈóÆÈ¢òÔºöÈóÆÈ¢òÂ§ÑÂú®ÊØèÊâßË°å‰∏ÄÊ¨°Âæ™ÁéØÔºåÂ∞±‰ºöÊúâ‰∏Ä‰∏™stringÂä†Âà∞ÂΩìÂâçrunloop‰∏≠ÁöÑËá™Âä®ÈáäÊîæÊ±†‰∏≠ÔºåÂè™ÊúâÂΩìËá™Âä®ÈáäÊîæÊ±†Ë¢´releaseÁöÑÊó∂ÂÄôÔºåËá™Âä®ÈáäÊîæÊ±†‰∏≠ÁöÑÊ†áÁ§∫‰∫ÜautoreleaseÁöÑËøô‰∫õÊï∞ÊçÆÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÊâçËÉΩË¢´ÈáäÊîæÊéâ„ÄÇÂÅáËÆæÔºåÂΩìsomeLargeNumberÂ§ßÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶Êó∂ÔºåÂÜÖÂ≠òÁ©∫Èó¥Â∞ÜË¢´ËÄóÂ∞ΩËÄåÊ≤°ÊúâË¢´ÈáäÊîæÊéâÔºåÊâÄ‰ª•Â∞±Âá∫Áé∞‰∫ÜÂÜÖÂ≠òÊ∫¢Âá∫ÁöÑÁé∞Ë±°„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ï1ÔºöÂ¶ÇÊûúiÊØîËæÉÂ§ßÔºåÂèØ‰ª•Áî®@autoreleasepool {}Ëß£ÂÜ≥ÔºåÊîæÂú®forÂæ™ÁéØÂ§ñÔºåÂæ™ÁéØÁªìÊùüÂêéÔºåÈîÄÊØÅÂàõÂª∫ÁöÑÂØπË±°ÔºåËß£ÂÜ≥Âç†ÊçÆÊ†àÂå∫ÂÜÖÂ≠òÁöÑÈóÆÈ¢ò Ëß£ÂÜ≥ÊñπÊ≥ï2ÔºöÂ¶ÇÊûúiÁé©ÂëΩÂ§ßÔºå‰∏ÄÊ¨°Âæ™ÁéØÈÉΩ‰ºöÈÄ†ÊàêËá™Âä®ÈáäÊîæÊ±†Ë¢´Â°´Êª°ÔºåËá™Âä®ÈáäÊîæÊ±†ÊîæÂú®forÂæ™ÁéØÂÜÖÔºåÊØèÊ¨°Âæ™ÁéØÈÉΩÂ∞Ü‰∏ä‰∏ÄÊ¨°ÂàõÂª∫ÁöÑÂØπË±°release ‰øÆÊîπ‰πãÂêé: for(int i = 0; i&lt;1000;i++) { NSAutoreleasePool * pool1 = [[NSAutoreleasePool alloc] init]; NSString *string = @&quot;Abc&quot;; string = [string lowercaseString]; string = [string stringByAppendingString:@&quot;xyz&quot;]; NSLog(@&quot;%@&quot;,string); //ÈáäÊîæÊ±† [pool1 drain]; } objective-CÂØπË±°ÁöÑÂÜÖÂ≠òÂ∏ÉÂ±ÄÊòØÊÄéÊ†∑ÁöÑÔºü Áî±‰∫éObjective-C‰∏≠Ê≤°ÊúâÂ§öÁªßÊâøÔºåÂõ†Ê≠§ÂÖ∂ÂÜÖÂ≠òÂ∏ÉÂ±ÄËøòÊòØÂæàÁÆÄÂçïÁöÑÔºåÂ∞±ÊòØÔºöÊúÄÂâçÈù¢Êúâ‰∏™isaÊåáÈíàÔºåÁÑ∂ÂêéÁà∂Á±ªÁöÑÂÆû‰æãÂèòÈáèÂ≠òÊîæÂú®Â≠êÁ±ªÁöÑÊàêÂëòÂèòÈáè‰πãÂâç Áúã‰∏ãÈù¢ÁöÑÁ®ãÂ∫è,Á¨¨‰∏Ä‰∏™NSLog‰ºöËæìÂá∫‰ªÄ‰πà?ËøôÊó∂strÁöÑretainCountÊòØÂ§öÂ∞ë?Á¨¨‰∫å‰∏™ÂíåÁ¨¨‰∏â‰∏™Âë¢? ‰∏∫‰ªÄ‰πà?NSMutableArray* ary = [[NSMutableArray array] retain]; NSString *str = [NSString stringWithFormat:@"test"]; [str retain]; [aryaddObject:str]; NSLog(@‚Äù%@%d‚Äù,str,[str retainCount]); [str retain]; [str release]; [str release]; NSLog(@‚Äù%@%d‚Äù,str,[str retainCount]); [aryremoveAllObjects] NSLog(@‚Äù%@%d‚Äù,str,[str retainCount]); strÁöÑretainCountÂàõÂª∫+1Ôºåretain+1ÔºåÂä†ÂÖ•Êï∞ÁªÑËá™Âä®+1 3 retain+1Ôºårelease-1Ôºårelease-1 2 Êï∞ÁªÑÂà†Èô§ÊâÄÊúâÂØπË±°ÔºåÊâÄÊúâÊï∞ÁªÑÂÜÖÁöÑÂØπË±°Ëá™Âä®-1 1 ÂõûÁ≠îpersonÁöÑretainCountÂÄº,Âπ∂Ëß£Èáä‰∏∫‰ªÄ‰πàPerson *per = [[Person alloc] init]; Ê≠§Êó∂person ÁöÑretainCountÁöÑÂÄºÊòØ1 self.person = per; Âú®self.person Êó∂,Â¶ÇÊûúÊòØassign,personÁöÑ retainCountÁöÑÂÄº‰∏çÂèò,‰ªç‰∏∫1 Ëã•ÊòØ:retain personÁöÑretainCountÁöÑÂÄºÂä†1,Âèò‰∏∫2 Ëã•ÊòØ:copy personÁöÑretainCountÂÄº‰∏çÂèò,‰ªç‰∏∫1 ‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÂú®Á®ãÂ∫è‰∏≠ÂàõÂª∫ÂÜÖÂ≠òÊ±†? Áî®Êà∑Ëá™Â∑±ÂàõÂª∫ÁöÑÊï∞ÊçÆÁ∫øÁ®ãÔºåÂàôÈúÄË¶ÅÂàõÂª∫ËØ•Á∫øÁ®ãÁöÑÂÜÖÂ≠òÊ±† Â¶ÇÊûúÊàë‰ª¨‰∏çÂàõÂª∫ÂÜÖÂ≠òÊ±†ÔºåÊòØÂê¶ÊúâÂÜÖÂ≠òÊ±†Êèê‰æõÁªôÊàë‰ª¨? ÁïåÈù¢Á∫øÁ®ãÁª¥Êä§ÁùÄËá™Â∑±ÁöÑÂÜÖÂ≠òÊ±†ÔºåÁî®Êà∑Ëá™Â∑±ÂàõÂª∫ÁöÑÊï∞ÊçÆÁ∫øÁ®ãÔºåÂàôÈúÄË¶ÅÂàõÂª∫ËØ•Á∫øÁ®ãÁöÑÂÜÖÂ≠òÊ±† ËãπÊûúÊòØÂ¶Ç‰ΩïÂÆûÁé∞autoreleasepoolÁöÑÔºüautoreleasepool‰ª•‰∏Ä‰∏™ÈòüÂàóÊï∞ÁªÑÁöÑÂΩ¢ÂºèÂÆûÁé∞,‰∏ªË¶ÅÈÄöËøá‰∏ãÂàó‰∏â‰∏™ÂáΩÊï∞ÂÆåÊàê. ‚Ä¢ objc_autoreleasepoolPush ‚Ä¢ objc_autoreleasepoolPop ‚Ä¢ objc_autorelease ÁúãÂáΩÊï∞ÂêçÂ∞±ÂèØ‰ª•Áü•ÈÅìÔºåÂØπautoreleaseÂàÜÂà´ÊâßË°åpush„ÄÅpopÊìç‰Ωú„ÄÇÈîÄÊØÅÂØπË±°Êó∂ÊâßË°åreleaseÊìç‰Ωú„ÄÇ objc‰ΩøÁî®‰ªÄ‰πàÊú∫Âà∂ÁÆ°ÁêÜÂØπË±°ÂÜÖÂ≠òÔºü ÈÄöËøáÂºïÁî®ËÆ°Êï∞Âô®(retainCount)ÁöÑÊú∫Âà∂Êù•ÂÜ≥ÂÆöÂØπË±°ÊòØÂê¶ÈúÄË¶ÅÈáäÊîæ„ÄÇ ÊØèÊ¨°runloopÂÆåÊàê‰∏Ä‰∏™Âæ™ÁéØÁöÑÊó∂ÂÄôÔºåÈÉΩ‰ºöÊ£ÄÊü•ÂØπË±°ÁöÑ retainCountÔºåÂ¶ÇÊûúretainCount‰∏∫0ÔºåËØ¥ÊòéËØ•ÂØπË±°Ê≤°ÊúâÂú∞ÊñπÈúÄË¶ÅÁªßÁª≠‰ΩøÁî®‰∫ÜÔºåÂèØ‰ª•ÈáäÊîæÊéâ‰∫Ü„ÄÇ ‰∏∫‰ªÄ‰πàË¶ÅËøõË°åÂÜÖÂ≠òÁÆ°ÁêÜ? Âõ†‰∏∫ÁßªÂä®ËÆæÂ§áÁöÑÂÜÖÂ≠òÊûÅÂÖ∂ÊúâÈôê,ÂΩì‰∏Ä‰∏™Á®ãÂ∫èÊâÄÂç†ÂÜÖÂ≠òËææÂà∞‰∏ÄÂÆöÂÄºÊó∂Ôºå Á≥ªÁªü‰ºöÂèëÂá∫ÂÜÖÂ≠òË≠¶Âëä. ÂΩìÁ®ãÂ∫èËææÂà∞Êõ¥Â§ßÁöÑÂÄºÊó∂, Á®ãÂ∫è‰ºöÈó™ÈÄÄ, ÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™å. ‰∏∫‰∫Ü‰øùËØÅÁ®ãÂ∫èÁöÑËøêË°åÊµÅÁïÖ, ÂøÖÈ°ªËøõË°åÂÜÖÂ≠òÁÆ°ÁêÜ ÂÜÖÂ≠òÁÆ°ÁêÜÁöÑËåÉÂõ¥? ÁÆ°ÁêÜÊâÄÊúâÁªßÊâøËá™NSObjectÁöÑÂØπË±°, ÂØπÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÊó†Êïà.ÊòØÂõ†‰∏∫ÂØπË±°ÂíåÂÖ∂‰ªñÊï∞ÊçÆÁ±ªÂûãÂú®Á≥ªÁªü‰∏≠Â≠òÂÇ®ÁöÑÁ©∫Èó¥‰∏ç‰∏ÄÊ†∑,ÂÖ∂‰ªñÂ±ÄÈÉ®ÂèòÈáè‰∏ªË¶ÅÂ≠òÂÇ®Âú®Ê†àÂå∫(Âõ†‰∏∫Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂç†Áî®ÁöÑÂ≠òÂÇ®Á©∫Èó¥ÊòØÂõ∫ÂÆöÁöÑ,‰∏ÄËà¨Â≠òÊîæ‰∫éÊ†àÂå∫),ËÄåÂØπË±°Â≠òÂÇ®‰∫éÂ†Ü‰∏≠,ÂΩì‰ª£Á†ÅÂùóÁªìÊùüÊó∂,Ëøô‰∏™‰ª£Á†ÅÂùóÊâÄÊ∂âÂèäÂà∞ÁöÑÊâÄÊúâÂ±ÄÈÉ®ÂèòÈáè‰ºöËá™Âä®ÂºπÊ†àÊ∏ÖÁ©∫,ÊåáÂêëÂØπË±°ÁöÑÊåáÈíà‰πü‰ºöË¢´ÂõûÊî∂,ËøôÊó∂ÂØπË±°Â∞±Ê≤°ÊúâÊåáÈíàÊåáÂêë,‰ΩÜ‰æùÁÑ∂Â≠òÂú®‰∫éÂ†ÜÂÜÖÂ≠ò‰∏≠,ÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÈú≤. objc‰ΩøÁî®‰ªÄ‰πàÊú∫Âà∂ÁÆ°ÁêÜÂØπË±°ÂÜÖÂ≠ò(ÊàñËÄÖÂÜÖÂ≠òÁÆ°ÁêÜÊñπÂºèÊúâÂì™‰∫õ)Ôºü(ÈáçÁÇπ) MRC(manual retain-release)ÊâãÂä®ÂÜÖÂ≠òÁÆ°ÁêÜ ARC(automatic reference counting)Ëá™Âä®ÂºïÁî®ËÆ°Êï∞ Garbage collection (ÂûÉÂúæÂõûÊî∂)„ÄÇ‰ΩÜÊòØiOS‰∏çÊîØÊåÅÂûÉÂúæÂõûÊî∂, ARC‰Ωú‰∏∫LLVM3.0ÁºñËØëÂô®ÁöÑ‰∏ÄÈ°πÁâπÊÄß, Âú®iOS5.0 (Xcode4) ÁâàÊú¨ÂêéÊé®Âá∫ÁöÑ„ÄÇ ARCÁöÑÂà§Êñ≠ÂáÜÂàô, Âè™Ë¶ÅÊ≤°ÊúâÂº∫ÊåáÈíàÊåáÂêëÂØπË±°, ÂØπË±°Â∞±‰ºöË¢´ÈáäÊîæ. iOSÊòØÂ¶Ç‰ΩïÁÆ°ÁêÜÂÜÖÂ≠òÁöÑÔºü Ëøô‰∏™ÈóÆÈ¢òÁöÑËØù‰∏ä‰∏Ä‰∏™ÈóÆÈ¢ò‰πüÊèêÂà∞Ëøá,ËÆ≤‰∏ãblockÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ,ARC‰∏ãÁöÑÈªÑÈáëÊ≥ïÂàôÂ∞±Ë°å„ÄÇ ËøôÈáåËØ¥‰∏ãswiftÈáåÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ: delgateÁÖßÊ†∑weak‰øÆÈ•∞,Èó≠ÂåÖÂâçÈù¢Áî®[weak self],swiftÈáåÁöÑÊñ∞‰∏úË•ø,unowned,‰∏æ‰æã,Â¶ÇÊûúselfÂú®Èó≠ÂåÖË¢´Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÂèØËÉΩ‰∏∫Á©∫,ÂàôÁî®weak,Âèç‰πã‰∫¶ÁÑ∂,Â¶ÇÊûú‰∏∫Á©∫Êó∂‰ΩøÁî®‰∫Üunowned,Á®ãÂ∫è‰ºöÂ¥©Ê∫É,Á±ª‰ººËÆøÈóÆ‰∫ÜÊÇ¨ÊåÇÊåáÈíà,Âú®oc‰∏≠Á±ª‰ºº‰∫éunsafe_unretained,Á±ª‰ººassign‰øÆÈ•∞‰∫ÜocÂØπË±°,ÂØπË±°Ë¢´ÈîÄÊØÅÂêé,Ë¢´unowned‰øÆÈ•∞ÁöÑÂØπË±°‰∏ç‰ºö‰∏∫Á©∫,‰ΩÜÊòØunownedËÆøÈóÆÈÄüÂ∫¶Êõ¥Âø´,Âõ†‰∏∫weakÈúÄË¶ÅunwarpÂêéÊâçËÉΩ‰ΩøÁî® ÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÂéüÂàô Âè™Ë¶ÅËøòÊúâ‰∫∫Âú®‰ΩøÁî®Ëøô‰∏™ÂØπË±°, ÈÇ£‰πàËøô‰∏™ÂØπË±°Â∞±‰∏ç‰ºöË¢´ÂõûÊî∂ Âè™Êúâ‰Ω†ÊÉ≥‰ΩøÁî®Ëøô‰∏™ÂØπË±°, ÈÇ£‰πàÂ∞±Â∫îËØ•ËÆ©Ëøô‰∏™ÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞Âô®Âä†1 ÂΩì‰Ω†‰∏çÊÉ≥‰ΩøÁî®Ëøô‰∏™ÂØπË±°Êó∂, Â∫îËØ•ËÆ©ÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞Âô®Âáè1 Ë∞ÅÂàõÂª∫, Â∞±Áî±Ë∞ÅÊù•release Â¶ÇÊûú‰Ω†ÈÄöËøáalloc, new, copy Êù•ÂàõÂª∫‰∏Ä‰∏™ÂØπË±°, ÂΩì‰Ω†‰∏çÊÉ≥Áî®Ëøô‰∏™ÂØπË±°ÁöÑÊó∂ÂÄôÂ∞±ÂøÖÈ°ªË∞ÉÁî®release ÊàñËÄÖautorelease ËÆ©ÂºïÁî®ËÆ°Êï∞Âô®Âáè1 ‰∏çÊòØ‰Ω†ÂàõÂª∫ÁöÑÂ∞±‰∏çÁî®‰Ω†Ë¥üË¥£ release Ë∞Åretain Ë∞Årelease Âè™Ë¶Å‰Ω†Ë∞ÉÁî®‰∫Üretain ,Êó†ËÆ∫Ëøô‰∏™ÂØπË±°Â¶Ç‰ΩïÁîüÊàê, ÈÉΩÈúÄË¶ÅË∞ÉÁî®release ÊÄªÁªì: ÊúâÂä†Â∞±Â∫îËØ•ÊúâÂáè, ÊõæËÆ©Êüê‰∏™ËÆ°Êï∞Âô®Âä†1, Â∞±Â∫îËØ•ËÆ©ÂÖ∂Âú®ÊúÄÂêéÂáè1 ÂÜÖÂ≠òÁÆ°ÁêÜÁ†îÁ©∂ÁöÑÂØπË±°: ÈáéÊåáÈíà:ÊåáÈíàÂèòÈáèÊ≤°ÊúâËøõË°åÂàùÂßãÂåñÊàñÊåáÂêëÁöÑÁ©∫Èó¥Â∑≤ÁªèË¢´ÈáäÊîæ„ÄÇ ‰ΩøÁî®ÈáéÊåáÈíàË∞ÉÁî®ÂØπË±°ÊñπÊ≥ïÔºå‰ºöÊä•ÂºÇÂ∏∏ÔºåÁ®ãÂ∫èÂ¥©Ê∫É„ÄÇ ÈÄöÂ∏∏ÂÜçË∞ÉÁî®ÂÆåreleaseÊñπÊ≥ïÂêéÔºåÊää‰øùÂ≠òÂØπË±°ÊåáÈíàÁöÑÂú∞ÂùÄÊ∏ÖÁ©∫ÔºåËµãÂÄº‰∏∫nilÔºåÊâæoc‰∏≠Ê≤°ÊúâÁ©∫ÊåáÈíàÂºÇÂ∏∏ÔºåÊâÄ‰ª•[nil retain]Ë∞ÉÁî®ÊñπÊ≥ï‰∏ç‰ºöÊúâÂºÇÂ∏∏„ÄÇ ÂÜÖÂ≠òÊ≥ÑÈú≤ Â¶Ç Person * person = [Person new]; (ÂØπË±°ÊèêÂâçËµãÂÄºnilÊàñËÄÖÊ∏ÖÁ©∫)Âú®Ê†àÂå∫ÁöÑpersonÂ∑≤ÁªèË¢´ÈáäÊîæ, ËÄåÂ†ÜÂå∫new‰∫ßÁîüÁöÑÂØπË±°ËøòÊ≤°ÊúâÈáäÊîæ, Â∞±‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÈú≤ Âú®MRCÊâãÂä®ÂºïÁî®ËÆ°Êï∞Âô®Ê®°Âºè‰∏ã, ÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÈú≤ÁöÑÊÉÖÂÜµ Ê≤°ÊúâÈÖçÂØπÈáäÊîæÔºå‰∏çÁ¨¶ÂêàÂÜÖÂ≠òÁÆ°ÁêÜÂéüÂàô ÂØπË±°ÊèêÂâçËµãÂÄºnilÊàñËÄÖÊ∏ÖÁ©∫ÔºåÂØºËá¥release‰∏çËµ∑‰ΩúÁî®„ÄÇ ÂÉµÂ∞∏ÂØπË±° : Â†Ü‰∏≠Â∑≤ÁªèË¢´ÈáäÊîæÁöÑÂØπË±°(retainCount = 0) Á©∫ÊåáÈíà : ÊåáÈíàËµãÂÄº‰∏∫Á©∫,nil Â¶Ç‰ΩïÂà§Êñ≠ÂØπË±°Â∑≤ÁªèË¢´ÈîÄÊØÅ ÈáçÂÜôdeallocÊñπÊ≥ïÔºåÂØπË±°ÈîÄÊØÅÊó∂Ôºå‰ºöË∞ÉÁî®ÔºåÈáçÂÜôÊó∂‰∏ÄÂÆöË¶Å[super dealloc] retainCount = 0Ôºå‰ΩøÁî®retainËÉΩÂê¶Â§çÊ¥ªÂØπË±° Â∑≤ÁªèË¢´ÈáäÊîæÁöÑÂØπË±°Êó†Ê≥ïÂ§çÊ¥ª ÂØπË±°‰∏éÂØπË±°‰πãÈó¥Â≠òÂú®ÁöÑÂÖ≥Á≥ª ÁªßÊâøÂÖ≥Á≥ª ÁªÑÂêàÂÖ≥Á≥ªÔºàÊòØ‰∏ÄÁßçÂº∫ÁÉàÁöÑÂåÖÂê´ÂÖ≥Á≥ªÔºâ ‰æùËµñÂÖ≥Á≥ª(ÂØπË±°‰Ωú‰∏∫ÊñπÊ≥ïÂèÇÊï∞‰º†ÈÄí) ÂØπË±°ÁöÑÁªÑÂêàÂÖ≥Á≥ª‰∏≠ÔºåÁ°Æ‰øùÊàêÂëòÂèòÈáè‰∏çË¢´ÊèêÂâçÈáäÊîæÔºü ÈáçÂÜôsetÊñπÊ≥ïÔºåÂú®setÊñπÊ≥ï‰∏≠ÔºåretainËØ•ÂØπË±°„ÄÇ ÊàêÂëòÂèòÈáèÁöÑÂØπË±°ÔºåÂú®Âì™ÈáåÈÖçÂØπÈáäÊîæÔºü dealloc‰∏≠ÈáäÊîæ ÂØπË±°ÁªÑÂêàÂÖ≥Á≥ª‰∏≠ÔºåÂÜÖÂ≠òÊ≥ÑÈú≤ÊúâÂì™Âá†ÁßçÊÉÖÂÜµÔºü setÊñπÊ≥ïÊ≤°ÊúâretainÂØπË±° Ê≤°ÊúâreleaseÊóßÂØπË±° Ê≤°ÊúâÂà§Êñ≠ÂêësetÊñπÊ≥ï‰∏≠‰º†ÂÖ•ÁöÑÊòØÂê¶‰∏∫Âêå‰∏Ä‰∏™ÂØπË±° Ê≠£Á°ÆÈáçÂÜôsetÊñπÊ≥ï Âà§Êñ≠ÊòØÂê¶‰∏∫Âêå‰∏ÄÂØπË±° releaseÊóßÂØπË±° retainÊñ∞ÂØπË±° ÂàÜÂà´ÊèèËø∞ÂÜÖÂ≠òÁÆ°ÁêÜË¶ÅÁÇπ„ÄÅautorelease„ÄÅrelease„ÄÅNSAutoreleasePool?Âπ∂ËØ¥ÊòéautoreleaseÊòØ‰ªÄ‰πàÊó∂ÂÄôË¢´releaseÁöÑ?ÁÆÄËø∞‰ªÄ‰πàÊó∂ÂÄôÁî±‰Ω†Ë¥üË¥£ÈáäÊîæÂØπË±°,‰ªÄ‰πàÊó∂ÂÄô‰∏çÁî±‰Ω†ÈáäÊîæ?[NSAutoreleasePool release]Âíå[NSAutoreleasePool drain]Êúâ‰ªÄ‰πàÂå∫Âà´? ÂÜÖÂ≠òÁÆ°ÁêÜË¶ÅÁÇπ:Objective-C ‰ΩøÁî®ÂºïÁî®ËÆ°Êï∞Êú∫Âà∂(retainCount)Êù•ÁÆ°ÁêÜÂÜÖÂ≠ò„ÄÇ ÂÜÖÂ≠òÊØèË¢´ÂºïÁî®‰∏ÄÊ¨°,ËØ•ÂÜÖÂ≠òÁöÑÂºïÁî®ËÆ°Êï∞+1,ÊØèË¢´ÈáäÊîæ‰∏ÄÊ¨°Âºï Áî®ËÆ°Êï∞-1„ÄÇ ÂΩìÂºïÁî®ËÆ°Êï∞ = 0 ÁöÑÊó∂ÂÄô,Ë∞ÉÁî®ËØ•ÂØπË±°ÁöÑ dealloc ÊñπÊ≥ï,Êù•ÂΩªÂ∫ï‰ªéÂÜÖÂ≠ò‰∏≠Âà†Èô§ËØ•ÂØπË±°„ÄÇ alloc,allocWithZone,new(Â∏¶ÂàùÂßãÂåñ)Êó∂:ËØ•ÂØπË±°ÂºïÁî®ËÆ°Êï∞ +1; retain:ÊâãÂä®‰∏∫ËØ•ÂØπË±°ÂºïÁî®ËÆ°Êï∞ +1; copy:ÂØπË±°ÂºïÁî®ËÆ°Êï∞ +1;//Ê≥®ÊÑècopyÁöÑOCÊï∞ÊçÆÁ±ªÂûãÊòØÂê¶ÊúâmutableÔºåÂ¶ÇÊúâ‰∏∫Ê∑±Êã∑Ë¥ùÔºåÊñ∞ÂØπË±°ËÆ°Êï∞‰∏∫1ÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºå‰∏∫ÊµÖÊã∑Ë¥ùÔºåËÆ°Êï∞+1 mutableCopy:ÁîüÊàê‰∏Ä‰∏™Êñ∞ÂØπË±°,Êñ∞ÂØπË±°ÂºïÁî®ËÆ°Êï∞‰∏∫ 1; release:ÊâãÂä®‰∏∫ËØ•ÂØπË±°ÂºïÁî®ËÆ°Êï∞ -1; autorelease:ÊääËØ•ÂØπË±°ÊîæÂÖ•Ëá™Âä®ÈáäÊîæÊ±†,ÂΩìËá™Âä®ÈáäÊîæÊ±†ÈáäÊîæÊó∂,ÂÖ∂ÂÜÖÁöÑÂØπË±°ÂºïÁî®ËÆ°Êï∞ -1„ÄÇ NSAutoreleasePool: NSAutoreleasePoolÊòØÈÄöËøáÊé•Êî∂ÂØπË±°ÂêëÂÆÉÂèëÈÄÅÁöÑautoreleaseÊ∂àÊÅØ,ËÆ∞ÂΩïËØ•ÂØπË±°ÁöÑreleaseÊ∂àÊÅØ,ÂΩìËá™Âä®ÈáäÊîæÊ±†Ë¢´ÈîÄÊØÅÊó∂,‰ºöËá™Âä®ÂêëÊ±†‰∏≠ÁöÑÂØπË±°ÂèëÈÄÅreleaseÊ∂àÊÅØ„ÄÇ autorelease ÊòØÂú®Ëá™Âä®ÈáäÊîæÊ±†Ë¢´ÈîÄÊØÅ,ÂêëÊ±†‰∏≠ÁöÑÂØπË±°ÂèëÈÄÅrelease Âè™ËÉΩÈáäÊîæËá™Â∑±Êã•ÊúâÁöÑÂØπË±°„ÄÇ Âå∫Âà´ÊòØ:Âú®ÂºïÁî®ËÆ°Êï∞ÁéØÂ¢É‰∏ã(Âú®‰∏ç‰ΩøÁî®ARCÊÉÖÂÜµ‰∏ã),‰∏§ËÄÖÂü∫Êú¨‰∏ÄÊ†∑,Âú®GC(ÂûÉÂúæÂõûÊî∂Âà∂)ÁéØÂ¢É‰∏ã,release ÊòØ‰∏Ä‰∏™no-op(Êó†ÊïàÊìç‰Ωú),ÊâÄ‰ª•Êó†ËÆ∫ÊòØ‰∏çÊòØGCÈÉΩ‰ΩøÁî®drain Èù¢ËØï‰∏≠ÂÜÖÂ≠òÁÆ°ÁêÜ,releaseÂíåautoreleaseÁöÑÂê´‰πâ?ËøôÈáåÂ∞§ÂÖ∂Ë¶ÅÂº∫Ë∞É‰∏ãautorelease,ÂÆÉÂºïÁî≥Âá∫Ëá™Âä®ÈáäÊîæÊ±†,‰πüËÉΩÂºïÁî≥Âá∫Run loop! Ëá™Âä®ÈáäÊîæÊ±†ÊòØ‰ªÄ‰πà,Â¶Ç‰ΩïÂ∑•‰Ωú ? ‰ªÄ‰πàÊòØËá™Âä®ÈáäÊîæÊ±†ÔºöÁî®Êù•Â≠òÂÇ®Â§ö‰∏™ÂØπË±°Á±ªÂûãÁöÑÊåáÈíàÂèòÈáè Ëá™Âä®ÈáäÊîæÊ±†ÂØπÊ±†ÂÜÖÂØπË±°ÁöÑ‰ΩúÁî®ÔºöÂ≠òÂÖ•Ê±†ÂÜÖÁöÑÂØπË±°ÔºåÂΩìËá™Âä®ÈáäÊîæÊ±†Ë¢´ÈîÄÊØÅÊó∂Ôºå‰ºöÂØπÊ±†ÂÜÖÂØπË±°ÂÖ®ÈÉ®ÂÅö‰∏ÄÊ¨°releaseÊìç‰Ωú ÂØπË±°Â¶Ç‰ΩïÂä†ÂÖ•Ê±†‰∏≠ÔºöË∞ÉÁî®ÂØπË±°ÁöÑautoreleaseÊñπÊ≥ï Ëá™Âä®ÈáäÊîæÊ±†ËÉΩÂµåÂ•ó‰ΩøÁî®ÂêóÔºöËÉΩ Ëá™Âä®ÈáäÊîæÊ±†‰ΩïÊó∂Ë¢´ÈîÄÊØÅ ÔºöÁÆÄÂçïÁöÑÁúãÔºåautoreleaseÁöÑ‚Äù}‚ÄùÊâßË°åÂÆå‰ª•Âêé„ÄÇËÄåÂÆûÈôÖÊÉÖÂÜµÊòØAutoreleaseÂØπË±°ÊòØÂú®ÂΩìÂâçÁöÑrunloopËø≠‰ª£ÁªìÊùüÊó∂ÈáäÊîæÁöÑÔºåËÄåÂÆÉËÉΩÂ§üÈáäÊîæÁöÑÂéüÂõ†ÊòØÁ≥ªÁªüÂú®ÊØè‰∏™runloopËø≠‰ª£‰∏≠ÈÉΩÂä†ÂÖ•‰∫ÜËá™Âä®ÈáäÊîæÊ±†PushÂíåPop Â§öÊ¨°Ë∞ÉÁî®ÂØπË±°ÁöÑautoreleaseÊñπÊ≥ï‰ºöÂØºËá¥ÔºöÈáéÊåáÈíàÂºÇÂ∏∏ Ëá™Âä®ÈáäÊîæÊ±†ÁöÑ‰ΩúÁî®ÔºöÂ∞ÜÂØπË±°‰∏éËá™Âä®ÈáäÊîæÊ±†Âª∫Á´ãÂÖ≥Á≥ªÔºåÊ±†Â≠êÂÜÖË∞ÉÁî®autoreleaseÔºåÂú®Ëá™Âä®ÈáäÊîæÊ±†ÈîÄÊØÅÊó∂ÈîÄÊØÅÂØπË±°ÔºåÂª∂ËøüreleaseÈîÄÊØÅÊó∂Èó¥ Ëá™Âä®ÈáäÊîæÊ±†‰ªÄ‰πàÊó∂ÂÄôÈáäÊîæÔºü ÈÄöËøáObserverÁõëÂê¨RunLoopÁöÑÁä∂ÊÄÅÔºå‰∏ÄÊó¶ÁõëÂê¨Âà∞RunLoopÂç≥Â∞ÜËøõÂÖ•Áù°Áú†Á≠âÂæÖÁä∂ÊÄÅÔºåÂ∞±ÈáäÊîæËá™Âä®ÈáäÊîæÊ±†ÔºàkCFRunLoopBeforeWaitingÔºâ iPhone OSÊúâÊ≤°ÊúâÂûÉÂúæÂõûÊî∂?autorelease ÂíåÂûÉÂúæÂõûÊî∂Âà∂(gc)Êúâ‰ªÄ‰πàÂÖ≥Á≥ª? iOS ‰∏≠Ê≤°ÊúâÂûÉÂúæÂõûÊî∂„ÄÇautoreleaseÂè™ÊòØÂª∂ËøüÈáäÊîæ,gcÊòØÊØèÈöî‰∏ÄÊÆµÊó∂Èó¥ËØ¢ÈóÆÁ®ãÂ∫è,ÁúãÊòØÂê¶ÊúâÊó†ÊåáÈíàÊåáÂêëÁöÑÂØπË±°,Ëã•Êúâ,Â∞±Â∞ÜÂÆÉÂõûÊî∂„ÄÇ‰ªñ‰ª¨‰∏§ËÄÖÊ≤°Êúâ‰ªÄ‰πàÂÖ≥Á≥ª„ÄÇ ARCÈóÆÈ¢ò ‰ªÄ‰πàÊòØarcÊú∫Âà∂ÔºöËá™Âä®ÂºïÁî®ËÆ°Êï∞. Á≥ªÁªüÂà§Êñ≠ÂØπË±°ÊòØÂê¶ÈîÄÊØÅÁöÑ‰æùÊçÆÔºöÊåáÂêëÂØπË±°ÁöÑÂº∫ÊåáÈíàÊòØÂê¶Ë¢´ÈîÄÊØÅ arcÁöÑÊú¨Ë¥®ÔºöÂØπretainCountËÆ°ÁÆóÔºåÂàõÂª∫+1 Ê∏ÖÁ©∫ÊåáÈíà - 1 ÊàñËÄÖÂà∞ËææautoreleasepoolÁöÑÂ§ßÊã¨Âè∑-1 arcÁõÆÁöÑÔºö‰∏çÈúÄË¶ÅÁ®ãÂ∫èÂëòÂÖ≥ÂøÉretainÂíåreleaseÊìç‰Ωú. Â¶Ç‰ΩïËß£ÂÜ≥arcÊú∫Âà∂‰∏ãÁ±ªÁöÑÁõ∏‰∫íÂºïÁî®Ôºö.hÊñá‰ª∂‰∏≠‰ΩøÁî®@classÂÖ≥ÈîÆÂ≠óÂ£∞Êòé‰∏Ä‰∏™Á±ªÔºå‰∏§Á´Ø‰∏çËÉΩÈÉΩÁî®Âº∫ÊåáÈíàÔºå‰∏ÄÁ´ØÁî®strong‰∏ÄÁ´ØÁî®weak ARCÈÄöËøá‰ªÄ‰πàÊñπÂºèÂ∏ÆÂä©ÂºÄÂèëËÄÖÁÆ°ÁêÜÂÜÖÂ≠òÔºüARCÁõ∏ÂØπ‰∫éMRCÔºå‰∏çÊòØÂú®ÁºñËØëÊó∂Ê∑ªÂä†retain/release/autoreleaseËøô‰πàÁÆÄÂçï„ÄÇÂ∫îËØ•ÊòØÁºñËØëÊúüÂíåËøêË°åÊúü‰∏§ÈÉ®ÂàÜÂÖ±ÂêåÂ∏ÆÂä©ÂºÄÂèëËÄÖÁÆ°ÁêÜÂÜÖÂ≠ò„ÄÇ Âú®ÁºñËØëÊúüÔºåARCÁî®ÁöÑÊòØÊõ¥Â∫ïÂ±ÇÁöÑCÊé•Âè£ÂÆûÁé∞ÁöÑretain/release/autoreleaseÔºåËøôÊ†∑ÂÅöÊÄßËÉΩÊõ¥Â•ΩÔºå‰πüÊòØ‰∏∫‰ªÄ‰πà‰∏çËÉΩÂú®ARCÁéØÂ¢É‰∏ãÊâãÂä®retain/release/autoreleaseÔºåÂêåÊó∂ÂØπÂêå‰∏Ä‰∏ä‰∏ãÊñáÁöÑÂêå‰∏ÄÂØπË±°ÁöÑÊàêÂØπretain/releaseÊìç‰ΩúËøõË°å‰ºòÂåñÔºàÂç≥ÂøΩÁï•Êéâ‰∏çÂøÖË¶ÅÁöÑÊìç‰ΩúÔºâ ARC‰πüÂåÖÂê´ËøêË°åÊúüÁªÑ‰ª∂ÔºåËøô‰∏™Âú∞ÊñπÂÅöÁöÑ‰ºòÂåñÊØîËæÉÂ§çÊùÇÔºå‰ΩÜ‰πü‰∏çËÉΩË¢´ÂøΩÁï•ÔºåÊâãÂä®ÂéªÂÅöÊú™ÂøÖ‰ºòÂåñÂæóÂ•ΩÔºåÂõ†Ê≠§Áõ¥Êé•‰∫§ÁªôÁºñËØëÂô®Êù•‰ºòÂåñÔºåÁõ∏‰ø°ËãπÊûúÂêßÔºÅ ÂºÄÂèëÈ°πÁõÆÊó∂‰Ω†ÊòØÊÄé‰πàÊ£ÄÊü•ÂÜÖÂ≠òÊ≥ÑÈú≤ ÈùôÊÄÅÂàÜÊûê analyze instrumentsÂ∑•ÂÖ∑ÈáåÈù¢Êúâ‰∏™leak ÂèØ‰ª•Âä®ÊÄÅÂàÜÊûê Â¶ÇÊûúÂú®block‰∏≠Â§öÊ¨°‰ΩøÁî® weakSelfÁöÑËØùÔºåÂèØ‰ª•Âú®block‰∏≠ÂÖà‰ΩøÁî®strongSelfÔºåÈò≤Ê≠¢blockÊâßË°åÊó∂weakSelfË¢´ÊÑèÂ§ñÈáäÊîæ ÂØπ‰∫éÈùûARCÔºåÂ∞Ü weak ÊîπÁî®‰∏∫ block Âç≥ÂèØ È∫ªÁÉ¶‰Ω†ËÆæËÆ°‰∏™ÁÆÄÂçïÁöÑÂõæÁâáÂÜÖÂ≠òÁºìÂ≠òÂô®ÔºàÁßªÈô§Á≠ñÁï•ÊòØ‰∏ÄÂÆöË¶ÅËØ¥ÁöÑÔºâ ÂÜÖÂ≠òÁºìÂ≠òÊòØ‰∏™ÈÄöÁî®ËØùÈ¢òÔºåÊØè‰∏™Âπ≥Âè∞ÈÉΩ‰ºöÊ∂âÂèäÂà∞„ÄÇcacheÁÆóÊ≥ï‰ºöÂΩ±ÂìçÂà∞Êï¥‰∏™appÁöÑË°®Áé∞„ÄÇÂÄôÈÄâ‰∫∫ÊúÄÂ•ΩËÉΩË∞à‰∏ãËá™Â∑±ÈÉΩ‰∫ÜËß£Âì™‰∫õcacheÁ≠ñÁï•ÂèäÂêÑËá™ÁöÑÁâπÁÇπ„ÄÇ Â∏∏ËßÅÁöÑÊúâFIFO,LRU,LFUÁ≠âÁ≠â„ÄÇÁî±‰∫éNSCacheÁöÑÁºìÂ≠òÁ≠ñÁï•‰∏çÈÄèÊòéÔºå‰∏Ä‰∫õappÂºÄÂèëËÄÖ‰ºöÈÄâÊã©Ëá™Â∑±ÂÅö‰∏ÄÂ•ócacheÊú∫Âà∂ÔºåÂÖ∂ÂÆûÂπ∂‰∏çÈöæ„ÄÇ FIFO : Êñ∞ËÆøÈóÆÁöÑÊï∞ÊçÆÊèíÂÖ•FIFOÈòüÂàóÂ∞æÈÉ®ÔºåÊï∞ÊçÆÂú®FIFOÈòüÂàó‰∏≠È°∫Â∫èÁßªÂä®ÔºõÊ∑òÊ±∞FIFOÈòüÂàóÂ§¥ÈÉ®ÁöÑÊï∞ÊçÆÔºõ LRU : Êñ∞Êï∞ÊçÆÊèíÂÖ•Âà∞ÈìæË°®Â§¥ÈÉ®ÔºõÊØèÂΩìÁºìÂ≠òÊï∞ÊçÆÂëΩ‰∏≠ÔºåÂàôÂ∞ÜÊï∞ÊçÆÁßªÂà∞ÈìæË°®Â§¥ÈÉ®ÔºõÂΩìÈìæË°®Êª°ÁöÑÊó∂ÂÄôÔºåÂ∞ÜÈìæË°®Â∞æÈÉ®ÁöÑÊï∞ÊçÆ‰∏¢ÂºÉÔºõ LFU : Êñ∞Âä†ÂÖ•Êï∞ÊçÆÊèíÂÖ•Âà∞ÈòüÂàóÂ∞æÈÉ®ÔºàÂõ†‰∏∫ÂºïÁî®ËÆ°Êï∞‰∏∫1ÔºâÔºõÈòüÂàó‰∏≠ÁöÑÊï∞ÊçÆË¢´ËÆøÈóÆÂêéÔºåÂºïÁî®ËÆ°Êï∞Â¢ûÂä†ÔºåÈòüÂàóÈáçÊñ∞ÊéíÂ∫èÔºõÂΩìÈúÄË¶ÅÊ∑òÊ±∞Êï∞ÊçÆÊó∂ÔºåÂ∞ÜÂ∑≤ÁªèÊéíÂ∫èÁöÑÂàóË°®ÊúÄÂêéÁöÑÊï∞ÊçÆÂùóÂà†Èô§Ôºõ Â∏∏ËßÅÁöÑÂá∫Áé∞ÂÜÖÂ≠òÂæ™ÁéØÂºïÁî®ÁöÑÂú∫ÊôØÊúâÂì™‰∫õÔºü ÂÆöÊó∂Âô®ÔºàNSTimerÔºâÔºö NSTimerÁªèÂ∏∏‰ºöË¢´‰Ωú‰∏∫Êüê‰∏™Á±ªÁöÑÊàêÂëòÂèòÈáèÔºåËÄåNSTimerÂàùÂßãÂåñÊó∂Ë¶ÅÊåáÂÆöself‰∏∫targetÔºåÂÆπÊòìÈÄ†ÊàêÂæ™ÁéØÂºïÁî®Ôºàself-&gt;timer-&gt;selfÔºâ„ÄÇ Âè¶Â§ñÔºåËã•timer‰∏ÄÁõ¥Â§Ñ‰∫évalidateÁöÑÁä∂ÊÄÅÔºåÂàôÂÖ∂ÂºïÁî®ËÆ°Êï∞Â∞ÜÂßãÁªàÂ§ß‰∫é0ÔºåÂõ†Ê≠§Âú®‰∏çÂÜç‰ΩøÁî®ÂÆöÊó∂Âô®‰ª•ÂêéÔºåÂ∫îËØ•ÂÖàË∞ÉÁî®invalidateÊñπÊ≥ï blockÁöÑ‰ΩøÁî®Ôºö blockÂú®copyÊó∂ÈÉΩ‰ºöÂØπblockÂÜÖÈÉ®Áî®Âà∞ÁöÑÂØπË±°ËøõË°åÂº∫ÂºïÁî®(ARC)ÊàñËÄÖretainCountÂ¢û1(ÈùûARC)„ÄÇÂú®ARC‰∏éÈùûARCÁéØÂ¢É‰∏ãÂØπblock‰ΩøÁî®‰∏çÂΩìÈÉΩ‰ºöÂºïËµ∑Âæ™ÁéØÂºïÁî®ÈóÆÈ¢òÔºå ‰∏ÄËà¨Ë°®Áé∞‰∏∫ÔºåÊüê‰∏™Á±ªÂ∞Üblock‰Ωú‰∏∫Ëá™Â∑±ÁöÑÂ±ûÊÄßÂèòÈáèÔºåÁÑ∂ÂêéËØ•Á±ªÂú®blockÁöÑÊñπÊ≥ï‰ΩìÈáåÈù¢Âèà‰ΩøÁî®‰∫ÜËØ•Á±ªÊú¨Ë∫´ÔºåÁÆÄÂçïËØ¥Â∞±ÊòØself.someBlock =Type var{[self dosomething];ÊàñËÄÖself.otherVar = XXX;ÊàñËÄÖ_otherVar = ‚Ä¶};Âá∫Áé∞Âæ™ÁéØÁöÑÂéüÂõ†ÊòØÔºöself-&gt;block-&gt;selfÊàñËÄÖself-&gt;block-&gt;_ivarÔºàÊàêÂëòÂèòÈáèÔºâ ‰ª£ÁêÜÔºàdelegateÔºâÔºö Âú®ÂßîÊâòÈóÆÈ¢ò‰∏äÂá∫Áé∞Âæ™ÁéØÂºïÁî®ÈóÆÈ¢òÂ∑≤ÁªèÊòØËÄÅÁîüÂ∏∏Ë∞à‰∫ÜÔºåËßÑÈÅøËØ•ÈóÆÈ¢òÁöÑÊùÄÊâãÈîè‰πüÊòØÁÆÄÂçïÂà∞Âì≠Ôºå‰∏ÄÂ≠óËØÄÔºöÂ£∞ÊòédelegateÊó∂ËØ∑Áî®assign(MRC)ÊàñËÄÖweak(ARC)ÔºåÂçÉ‰∏áÂà´ÊâãË¥±Áé©‰∏Ä‰∏ãretainÊàñËÄÖstrongÔºåÊØïÁ´üËøôÂü∫Êú¨ÈÄÉ‰∏çÊéâÂæ™ÁéØÂºïÁî®‰∫ÜÔºÅ ÂØπË±°Ê∑ªÂä†Âà∞ÈÄöÁü•‰∏≠ÂøÉ‰∏≠ÔºåÂΩìÈÄöÁü•‰∏≠ÂøÉÂèëÈÄöÁü•Êó∂ÔºåËøô‰∏™ÂØπË±°Âç¥Â∑≤ÁªèË¢´ÈáäÊîæ‰∫ÜÔºåÂèØËÉΩ‰ºöÂá∫Áé∞‰ªÄ‰πàÈóÆÈ¢òÔºü ÂÖ∂ÂÆûËøôÁßçÂè™ÊòØËÄÉÊü•ÂØπÈÄöÁü•ÁöÑÁÆÄÂçïÂ∫îÁî®„ÄÇÈÄöÁü•ÊòØÂ§öÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºå‰∏ªË¶Å‰ΩøÁî®Âú∫ÊôØÊòØË∑®Ê®°Âùó‰º†ÂÄº„ÄÇÂΩìÊüêÂØπË±°Âä†ÂÖ•Âà∞ÈÄöÁü•‰∏≠ÂøÉÂêéÔºåËã•Âú®ÂØπË±°Ë¢´ÈîÄÊØÅÂâç‰∏çÂ∞ÜËØ•ÂØπË±°‰ªéÈÄöÁü•‰∏≠ÂøÉ‰∏≠ÁßªÈô§ÔºåÂΩìÂèëÈÄÅÈÄöÁü•Êó∂ÔºåÂ∞±‰ºöÈÄ†ÊàêÂ¥©Ê∫É„ÄÇËøôÊòØÂæàÂ∏∏ËßÅÁöÑ„ÄÇÊâÄ‰ª•ÔºåÂú®Ê∑ªÂä†Âà∞ÈÄöÁü•‰∏≠ÂøÉÂêéÔºå‰∏ÄÂÆöË¶ÅÂú®ÈáäÊîæÂâçÁßªÈô§„ÄÇ ARC‰∏ã‰∏çÊòæÂºèÊåáÂÆö‰ªª‰ΩïÂ±ûÊÄßÂÖ≥ÈîÆÂ≠óÊó∂ÔºåÈªòËÆ§ÁöÑÂÖ≥ÈîÆÂ≠óÈÉΩÊúâÂì™‰∫õÔºü ÂØπ‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÈªòËÆ§ÂÖ≥ÈîÆÂ≠óÊòØÔºöatomic,readwrite,assign ÂØπ‰∫éÊôÆÈÄöÁöÑObjective-CÂØπË±°Ôºöatomic,readwrite,strong ÂÜô‰∏Ä‰∏™‰æøÂà©ÊûÑÈÄ†Âô®+ (id)Person { Person *person=[Person alloc]init]; return [person autorelease]; Â§áÊ≥®:ARCÊó∂‰∏çÁî® autorelease } ÂÜôÂá∫‰∏ãÈù¢Á®ãÂ∫èÊÆµÁöÑËæìÂá∫ÁªìÊûúNSDictionary *dict = [NSDictionary dictionaryWithObject:@"a string value" forKey:@"akey"]; NSLog(@"%@", [dict objectForKey:@"akey"]); [dict release]; ÊâìÂç∞ËæìÂá∫ a string value,ÁÑ∂ÂêéÂ¥©Ê∫É----ÂéüÂõ†:‰æøÂà©ÊûÑÈÄ†Âô®ÂàõÂª∫ÁöÑÂØπË±°,‰πãÂêéÁöÑrelease,‰ºöÈÄ†ÊàêËøáÂ∫¶ÈáäÊîæ ËØ∑ÂÜôÂá∫‰ª•‰∏ã‰ª£Á†ÅÁöÑÊâßË°åÁªìÊûúNSString * name = [ [ NSString alloc] init ]; name = @‚ÄùHabb‚Äù; [ name release]; ÊâìÂç∞ËæìÂá∫ÁªìÊûúÊòØ: Habb,Âú®[name release]ÂâçÂêéÊâìÂç∞ÂùáÊúâËæìÂá∫ÁªìÊûú ---‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÈú≤---ÂéüÂÖàÊåáÂêëÁöÑÂå∫ÂüüÂèòÊàê‰∫ÜÈáéÊåáÈíà,‰πãÂêéÁöÑÈáäÊîæ,‰∏çËÉΩÈáäÊîæ‰πãÂâçÂàõÂª∫ÁöÑÂå∫Âüü ÂÜôÂá∫ÊñπÊ≥ïËé∑ÂèñiOSÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºüiOSÊòØÂ¶Ç‰ΩïÁÆ°ÁêÜÂÜÖÂ≠òÁöÑÔºüÊàëÁõ∏‰ø°ÂæàÂ§ö‰∫∫ÁöÑÂõûÁ≠îÊòØÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÈªÑÈáëÊ≥ïÂàôÔºåÂÖ∂ÂÆûÂ¶ÇÊûúÊàëÊòØÈù¢ËØïÂÆòÔºåÊàëÊÉ≥Ë¶ÅÁöÑÁ≠îÊ°à‰∏çÊòØËøôÊ†∑ÁöÑ„ÄÇÊàëÂ∏åÊúõÁöÑÂõûÁ≠îÊòØÂ∑•‰Ωú‰∏≠Â¶Ç‰ΩïÂ§ÑÁêÜÂÜÖÂ≠òÁÆ°ÁêÜÁöÑ„ÄÇ ÂèÇËÄÉÁ≠îÊ°àÔºö BlockÂÜÖÂ≠òÁÆ°ÁêÜÔºöÁî±‰∫é‰ΩøÁî®blockÂæàÂÆπÊòìÈÄ†ÊàêÂæ™ÁéØÂºïÁî®ÔºåÂõ†Ê≠§‰∏ÄÂÆöË¶ÅÂ∞èÂøÉÂÜÖÂ≠òÁÆ°ÁêÜÈóÆÈ¢ò„ÄÇÊúÄÂ•ΩÂú®Âü∫Á±ªcontroller‰∏ãÈáçÂÜôdeallocÔºåÂä†‰∏ÄÂè•ÊâìÂç∞Êó•ÂøóÔºåË°®Á§∫Á±ªÂèØ‰ª•ÂæóÂà∞ÈáäÊîæ„ÄÇÂ¶ÇÊûúÂá∫Áé∞Êó†ÊâìÂç∞‰ø°ÊÅØÔºåËØ¥ÊòéËøô‰∏™Á±ª‰∏ÄÁõ¥Âæó‰∏çÂà∞ÈáäÊîæÔºåË°®ÊòéÂæàÊúâÂèØËÉΩÊòØ‰ΩøÁî®blockÁöÑÂú∞ÊñπÂá∫Áé∞Âæ™ÁéØÂºïÁî®‰∫Ü„ÄÇÂØπ‰∫éblock‰∏≠ÈúÄË¶ÅÂºïÁî®Â§ñÈÉ®controllerÁöÑÂ±ûÊÄßÊàñËÄÖÊàêÂëòÂèòÈáèÊó∂Ôºå‰∏ÄÂÆöË¶Å‰ΩøÁî®Âº±ÂºïÁî®ÔºåÁâπÂà´ÊòØÊàêÂëòÂèòÈáèÂÉè_testIdËøôÊ†∑ÁöÑÔºåÂæàÂ§ö‰∫∫ÈÉΩÊ≤°Êúâ‰ΩøÁî®Âº±ÂºïÁî®ÔºåÂØºËá¥ÂÜÖÂ≠òÂæó‰∏çÂà∞ÈáäÊîæ„ÄÇ ÂØπ‰∫éÊôÆÈÄöÊâÄÂàõÂª∫ÁöÑÂØπË±°ÔºåÂõ†‰∏∫Áé∞Âú®ÈÉΩÊòØARCÈ°πÁõÆÔºåÊâÄ‰ª•ËÆ∞‰ΩèÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÈªÑÈáëÊ≥ïÂàôÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥„ÄÇ ÂæàÂ§öÂÜÖÁΩÆÁöÑÁ±ªÔºåÂ¶ÇtableviewÁöÑdelegateÁöÑÂ±ûÊÄßÊòØassign‰∏çÊòØretainÔºü tableviewÁöÑ‰ª£ÁêÜ‰∏ÄËà¨ÈÉΩÊòØÂÆÉÊâÄÂ±ûÁöÑÊéßÂà∂Âô®ÔºåÊéßÂà∂Âô®‰ºöÂØπÂÆÉÂÜÖÈÉ®ÁöÑviewËøõË°å‰∏ÄÊ¨°retainÊìç‰ΩúÔºåËÄåtableviewÂØπ‰ª£ÁêÜÊéßÂà∂Âô®‰πüËøõË°å‰∏ÄÊ¨°retainÊìç‰ΩúÔºåÂ∞±‰ºöÂá∫Áé∞Âæ™ÁéØÂºïÁî®ÈóÆÈ¢ò„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò4--Objective-C]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%984-Objective-C%2F</url>
    <content type="text"><![CDATA[Èù¢ËØïÁ¨îËØïÈÉΩÊòØÂøÖËÄÉËØ≠Ê≥ïÁü•ËØÜÁöÑ„ÄÇËØ∑ËÆ§ÁúüÂ§ç‰π†ÂíåÊ∑±ÂÖ•Á†îÁ©∂OC„ÄÇ ÊñπÊ≥ïÂíåÈÄâÊã©Âô®Êúâ‰Ωï‰∏çÂêåÔºü(Difference between method and selector?) selectorÊòØ‰∏Ä‰∏™ÊñπÊ≥ïÁöÑÂêçÂ≠óÔºåmethodÊòØ‰∏Ä‰∏™ÁªÑÂêà‰ΩìÔºåÂåÖÂê´‰∫ÜÂêçÂ≠óÂíåÂÆûÁé∞. Core FoundationÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ Âá°ÊòØÂ∏¶ÊúâCreate„ÄÅCopy„ÄÅRetainÁ≠âÂ≠óÁúºÁöÑÂáΩÊï∞ÔºåÂàõÂª∫Âá∫Êù•ÁöÑÂØπË±°ÔºåÈÉΩÈúÄË¶ÅÂú®ÊúÄÂêéÂÅö‰∏ÄÊ¨°release ÊØîÂ¶ÇCFRunLoopObserverCreate releaseÂáΩÊï∞ÔºöCFRelease(ÂØπË±°); mallocÂíåNewÁöÑÂå∫Âà´ new ÊòØc++‰∏≠ÁöÑÊìç‰ΩúÁ¨¶ÔºåmallocÊòØc ‰∏≠ÁöÑ‰∏Ä‰∏™ÂáΩÊï∞ new ‰∏çÊ≠¢ÊòØÂàÜÈÖçÂÜÖÂ≠òÔºåËÄå‰∏î‰ºöË∞ÉÁî®Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÂêåÁêÜdelete‰ºöË∞ÉÁî®Á±ªÁöÑÊûêÊûÑÂáΩÊï∞ÔºåËÄåmallocÂàôÂè™ÂàÜÈÖçÂÜÖÂ≠òÔºå‰∏ç‰ºöËøõË°åÂàùÂßãÂåñÁ±ªÊàêÂëòÁöÑÂ∑•‰ΩúÔºåÂêåÊ†∑free‰πü‰∏ç‰ºöË∞ÉÁî®ÊûêÊûÑÂáΩÊï∞ ÂÜÖÂ≠òÊ≥ÑÊºèÂØπ‰∫émallocÊàñËÄÖnewÈÉΩÂèØ‰ª•Ê£ÄÊü•Âá∫Êù•ÁöÑÔºåÂå∫Âà´Âú®‰∫énewÂèØ‰ª•ÊåáÊòéÊòØÈÇ£‰∏™Êñá‰ª∂ÁöÑÈÇ£‰∏ÄË°åÔºå ËÄåmallocÊ≤°ÊúâËøô‰∫õ‰ø°ÊÅØ„ÄÇ new Âíå mallocÊïàÁéáÊØîËæÉ newÂèØ‰ª•ËÆ§‰∏∫ÊòØmallocÂä†ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÊâßË°å„ÄÇ newÂá∫Êù•ÁöÑÊåáÈíàÊòØÁõ¥Êé•Â∏¶Á±ªÂûã‰ø°ÊÅØÁöÑ„ÄÇ ‰Ω†ÊòØÂê¶Êé•Ëß¶ËøáOC‰∏≠ÁöÑÂèçÂ∞ÑÊú∫Âà∂ÔºüÁÆÄÂçïËÅä‰∏Ä‰∏ãÊ¶ÇÂøµÂíå‰ΩøÁî® classÂèçÂ∞Ñ ÈÄöËøáÁ±ªÂêçÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÂÆû‰æãÂåñÂØπË±° Class class NSClassFromString@(@"student"); Student *stu = [[class alloc ]init]; Â∞ÜÁ±ªÂêçÂèò‰∏∫Â≠óÁ¨¶‰∏≤ Class class =[Student class]; NSString *className = NSStringFromClass(class); SELÁöÑÂèçÂ∞Ñ ÈÄöËøáÊñπÊ≥ïÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÂÆû‰æãÂåñÊñπÊ≥ï SEL selector = NSSelectorFromClass(@"setName"); [stu performSelector:selector withObject:@"Mike"]; Â∞ÜÊñπÊ≥ïÂèòÊàêÂ≠óÁ¨¶‰∏≤ NSStringFomrSelector(@selector*(setName:)) ‰ªÄ‰πàÊòØSEL?Â¶Ç‰ΩïÂ£∞Êòé‰∏Ä‰∏™SEL?ÈÄöËøáÈÇ£‰∫õÊñπÊ≥ïËÉΩÂ§ü,Ë∞ÉÁî®SELÂåÖË£ÖËµ∑Êù•ÁöÑÊñπÊ≥ï? SELÂ∞±ÊòØÂØπÊñπÊ≥ïÁöÑ‰∏ÄÁßçÂåÖË£Ö„ÄÇÂåÖË£ÖÁöÑSELÁ±ªÂûãÊï∞ÊçÆÂÆÉÂØπÂ∫îÁõ∏Â∫îÁöÑÊñπÊ≥ïÂú∞ÂùÄÔºåÊâæÂà∞ÊñπÊ≥ïÂú∞ÂùÄÂ∞±ÂèØ‰ª•Ë∞ÉÁî®ÊñπÊ≥ï„ÄÇÂú®ÂÜÖÂ≠ò‰∏≠ÊØè‰∏™Á±ªÁöÑÊñπÊ≥ïÈÉΩÂ≠òÂÇ®Âú®Á±ªÂØπË±°‰∏≠ÔºåÊØè‰∏™ÊñπÊ≥ïÈÉΩÊúâ‰∏Ä‰∏™‰∏é‰πãÂØπÂ∫îÁöÑSELÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÊ†πÊçÆ‰∏Ä‰∏™SELÊï∞ÊçÆÂ∞±ÂèØ‰ª•ÊâæÂà∞ÂØπÂ∫îÁöÑÊñπÊ≥ïÂú∞ÂùÄÔºåËøõËÄåË∞ÉÁî®ÊñπÊ≥ï„ÄÇ SEL s1 = @selector(test1); // Â∞Ütest1ÊñπÊ≥ïÂåÖË£ÖÊàêSELÂØπË±° SEL s2 = NSSelectorFromString(@"test1"); // Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÊñπÊ≥ïËΩ¨Êç¢Êàê‰∏∫SELÂØπË±° Ë∞ÉÁî®ÊñπÊ≥ïÊúâ‰∏§ÁßçÊñπÂºèÔºö 1.Áõ¥Êé•ÈÄöËøáÊñπÊ≥ïÂêçÊù•Ë∞ÉÁî® [person text] 2.Èó¥Êé•ÁöÑÈÄöËøáSELÊï∞ÊçÆÊù•Ë∞ÉÁî® SEL aaa = @selector(text); [person performSelector:aaa]; ÂçèËÆÆ‰∏≠ÊòØ‰ªÄ‰πàÊÑèÊÄù?Â≠êÁ±ªÁªßÊâø‰∫ÜÁà∂Á±ª,ÈÇ£‰πàÂ≠êÁ±ª‰ºöÈÅµÂÆàÁà∂Á±ª‰∏≠ÈÅµÂÆàÁöÑÂçèËÆÆÂêó?ÂçèËÆÆ‰∏≠ËÉΩÂ§üÂÆö‰πâÊàêÂëòÂèòÈáè?Â¶Ç‰ΩïÁ∫¶Êùü‰∏Ä‰∏™ÂØπË±°Á±ªÂûãÁöÑÂèòÈáèË¶ÅÂ≠òÂÇ®ÁöÑÂú∞ÂùÄÊòØÈÅµÂÆà‰∏Ä‰∏™ÂçèËÆÆÂØπË±°? ÈÅµÂÆàNSObjectÂçèËÆÆ ‰ºö ËÉΩÔºå‰ΩÜÊòØÂè™Âú®Â§¥Êñá‰ª∂‰∏≠Â£∞ÊòéÔºåÁºñËØëÂô®ÊòØ‰∏ç‰ºöËá™Âä®ÁîüÊàêÂÆû‰æãÂèòÈáèÁöÑ„ÄÇÈúÄË¶ÅËá™Â∑±Â§ÑÁêÜgetterÂíåsetterÊñπÊ≥ï id NS/CF/CG/CA/UIËøô‰∫õÂâçÁºÄÂàÜÂà´ÊòØ‰ªÄ‰πàÂê´‰πâ ÂáΩÊï∞ÂΩíÂ±û‰∫éÂ±û‰∫écocoa FundationÊ°ÜÊû∂ ÂáΩÊï∞ÂΩíÂ±û‰∫éÂ±û‰∫écore FundationÊ°ÜÊû∂ ÂáΩÊï∞ÂΩíÂ±û‰∫éÂ±û‰∫éCoreGraphics.frameworksÊ°ÜÊû∂ ÂáΩÊï∞ÂΩíÂ±û‰∫éÂ±û‰∫éCoreAnimation.frameworksÊ°ÜÊû∂ ÂáΩÊï∞ÂΩíÂ±û‰∫éÂ±û‰∫éUIkitÊ°ÜÊû∂ Èù¢ÂêëÂØπË±°ÈÉΩÊúâÂì™‰∫õÁâπÂæÅ‰ª•Âèä‰Ω†ÂØπËøô‰∫õÁâπÂæÅÁöÑÁêÜËß£„ÄÇ ÁªßÊâøÔºöÁªßÊâøÊòØ‰ªéÂ∑≤ÊúâÁ±ªÂæóÂà∞ÁªßÊâø‰ø°ÊÅØÂàõÂª∫Êñ∞Á±ªÁöÑËøáÁ®ã„ÄÇÊèê‰æõÁªßÊâø‰ø°ÊÅØÁöÑÁ±ªË¢´Áß∞‰∏∫Áà∂Á±ªÔºàË∂ÖÁ±ª„ÄÅÂü∫Á±ªÔºâÔºõÂæóÂà∞ÁªßÊâø‰ø°ÊÅØÁöÑÁ±ªË¢´Áß∞‰∏∫Â≠êÁ±ªÔºàÊ¥æÁîüÁ±ªÔºâ„ÄÇ ÁªßÊâøËÆ©ÂèòÂåñ‰∏≠ÁöÑËΩØ‰ª∂Á≥ªÁªüÊúâ‰∫Ü‰∏ÄÂÆöÁöÑÂª∂Áª≠ÊÄßÔºåÂêåÊó∂ÁªßÊâø‰πüÊòØÂ∞ÅË£ÖÁ®ãÂ∫è‰∏≠ÂèØÂèòÂõ†Á¥†ÁöÑÈáçË¶ÅÊâãÊÆµ„ÄÇ Â∞ÅË£ÖÔºöÂ∞ÅË£ÖÊòØÊääÊï∞ÊçÆÂíåÊìç‰ΩúÊï∞ÊçÆÁöÑÊñπÊ≥ïÁªëÂÆöËµ∑Êù•ÔºåÂØπÊï∞ÊçÆÁöÑËÆøÈóÆÂè™ËÉΩÈÄöËøáÂ∑≤ÂÆö‰πâÁöÑÊé•Âè£„ÄÇÊàë‰ª¨Âú®Á±ª‰∏≠ÁºñÂÜôÁöÑÊñπÊ≥ïÂ∞±ÊòØÂØπÂÆûÁé∞ÁªÜËäÇÁöÑ‰∏ÄÁßçÂ∞ÅË£ÖÔºõÊàë‰ª¨ÁºñÂÜô‰∏Ä‰∏™Á±ªÂ∞±ÊòØÂØπÊï∞ÊçÆÂíåÊï∞ÊçÆÊìç‰ΩúÁöÑÂ∞ÅË£Ö„ÄÇÂèØ‰ª•ËØ¥ÔºåÂ∞ÅË£ÖÂ∞±ÊòØÈöêËóè‰∏ÄÂàáÂèØÈöêËóèÁöÑ‰∏úË•øÔºåÂè™ÂêëÂ§ñÁïåÊèê‰æõÊúÄÁÆÄÂçïÁöÑÁºñÁ®ãÊé•Âè£„ÄÇ Â§öÊÄÅÊÄß ÔºöÂ§öÊÄÅÊÄßÊòØÊåáÂÖÅËÆ∏‰∏çÂêåÂ≠êÁ±ªÂûãÁöÑÂØπË±°ÂØπÂêå‰∏ÄÊ∂àÊÅØ‰ΩúÂá∫‰∏çÂêåÁöÑÂìçÂ∫î„ÄÇÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØÁî®ÂêåÊ†∑ÁöÑÂØπË±°ÂºïÁî®Ë∞ÉÁî®ÂêåÊ†∑ÁöÑÊñπÊ≥ï‰ΩÜÊòØÂÅö‰∫Ü‰∏çÂêåÁöÑ‰∫ãÊÉÖ„ÄÇÂ§öÊÄÅÊÄßÂàÜ‰∏∫ÁºñËØëÊó∂ÁöÑÂ§öÊÄÅÊÄßÂíåËøêË°åÊó∂ÁöÑÂ§öÊÄÅÊÄß„ÄÇÊñπÊ≥ïÈáçËΩΩÔºàoverloadÔºâÂÆûÁé∞ÁöÑÊòØÁºñËØëÊó∂ÁöÑÂ§öÊÄÅÊÄßÔºà‰πüÁß∞‰∏∫ÂâçÁªëÂÆöÔºâÔºåËÄåÊñπÊ≥ïÈáçÂÜôÔºàoverrideÔºâÂÆûÁé∞ÁöÑÊòØËøêË°åÊó∂ÁöÑÂ§öÊÄÅÊÄßÔºà‰πüÁß∞‰∏∫ÂêéÁªëÂÆöÔºâ„ÄÇËøêË°åÊó∂ÁöÑÂ§öÊÄÅÊòØÈù¢ÂêëÂØπË±°ÊúÄÁ≤æÈ´ìÁöÑ‰∏úË•øÔºåË¶ÅÂÆûÁé∞Â§öÊÄÅÈúÄË¶ÅÂÅö‰∏§‰ª∂‰∫ãÔºö ÊñπÊ≥ïÈáçÂÜôÔºàÂ≠êÁ±ªÁªßÊâøÁà∂Á±ªÂπ∂ÈáçÂÜôÁà∂Á±ª‰∏≠Â∑≤ÊúâÁöÑÊàñÊäΩË±°ÁöÑÊñπÊ≥ïÔºâÔºõ ÂØπË±°ÈÄ†ÂûãÔºàÁî®Áà∂Á±ªÂûãÂºïÁî®ÂºïÁî®Â≠êÁ±ªÂûãÂØπË±°ÔºåËøôÊ†∑ÂêåÊ†∑ÁöÑÂºïÁî®Ë∞ÉÁî®ÂêåÊ†∑ÁöÑÊñπÊ≥ïÂ∞±‰ºöÊ†πÊçÆÂ≠êÁ±ªÂØπË±°ÁöÑ‰∏çÂêåËÄåË°®Áé∞Âá∫‰∏çÂêåÁöÑË°å‰∏∫Ôºâ„ÄÇ ÊäΩË±°ÔºöÊäΩË±°ÊòØÂ∞Ü‰∏ÄÁ±ªÂØπË±°ÁöÑÂÖ±ÂêåÁâπÂæÅÊÄªÁªìÂá∫Êù•ÊûÑÈÄ†Á±ªÁöÑËøáÁ®ãÔºåÂåÖÊã¨Êï∞ÊçÆÊäΩË±°ÂíåË°å‰∏∫ÊäΩË±°‰∏§ÊñπÈù¢„ÄÇÊäΩË±°Âè™ÂÖ≥Ê≥®ÂØπË±°ÊúâÂì™‰∫õÂ±ûÊÄßÂíåË°å‰∏∫ÔºåÂπ∂‰∏çÂÖ≥Ê≥®Ëøô‰∫õË°å‰∏∫ÁöÑÁªÜËäÇÊòØ‰ªÄ‰πà„ÄÇ Êàë‰ª¨ËØ¥ÁöÑObjective-CÊòØÂä®ÊÄÅËøêË°åÊó∂ËØ≠Ë®ÄÊòØ‰ªÄ‰πàÊÑèÊÄù? (When we call objective c is runtime language what does it mean?) ‰∏ªË¶ÅÊòØÂ∞ÜÊï∞ÊçÆÁ±ªÂûãÁöÑÁ°ÆÂÆöÁî±ÁºñËØëÊó∂,Êé®ËøüÂà∞‰∫ÜËøêË°åÊó∂„ÄÇËøô‰∏™ÈóÆÈ¢òÂÖ∂ÂÆûÊµÖÊ∂âÂèäÂà∞‰∏§‰∏™Ê¶ÇÂøµ,ËøêË°åÊó∂ÂíåÂ§öÊÄÅ„ÄÇ ÁÆÄÂçïÊù•ËØ¥, ËøêË°åÊó∂Êú∫Âà∂‰ΩøÊàë‰ª¨Áõ¥Âà∞ËøêË°åÊó∂ÊâçÂéªÂÜ≥ÂÆö‰∏Ä‰∏™ÂØπË±°ÁöÑÁ±ªÂà´,‰ª•ÂèäË∞ÉÁî®ËØ•Á±ªÂà´ÂØπË±°ÊåáÂÆöÊñπÊ≥ï„ÄÇ Â§öÊÄÅ:‰∏çÂêåÂØπË±°‰ª•Ëá™Â∑±ÁöÑÊñπÂºèÂìçÂ∫îÁõ∏ÂêåÁöÑÊ∂àÊÅØÁöÑËÉΩÂäõÂè´ÂÅöÂ§öÊÄÅ„ÄÇ ÊÑèÊÄùÂ∞±ÊòØÂÅáËÆæÁîüÁâ©Á±ª(life)ÈÉΩÊã•Êúâ‰∏Ä‰∏™Áõ∏ÂêåÁöÑÊñπÊ≥ï-eat;ÈÇ£‰∫∫Á±ªÂ±û‰∫éÁîüÁâ©,Áå™‰πüÂ±û‰∫éÁîüÁâ©,ÈÉΩÁªßÊâø‰∫ÜlifeÂêé,ÂÆûÁé∞ÂêÑËá™ÁöÑeat,‰ΩÜÊòØË∞ÉÁî®ÊòØÊàë‰ª¨Âè™ÈúÄË∞ÉÁî®ÂêÑËá™ÁöÑeatÊñπÊ≥ï„ÄÇ‰πüÂ∞±ÊòØ‰∏çÂêåÁöÑÂØπË±°‰ª•Ëá™Â∑±ÁöÑÊñπÂºèÂìçÂ∫î‰∫ÜÁõ∏ÂêåÁöÑÊ∂à ÊÅØ(ÂìçÂ∫î‰∫ÜeatËøô‰∏™ÈÄâÊã©Âô®)„ÄÇÂõ†Ê≠§‰πüÂèØ‰ª•ËØ¥,ËøêË°åÊó∂Êú∫Âà∂ÊòØÂ§öÊÄÅÁöÑÂü∫Á°Ä. readwrite, readonly, assign, retain, copy, nonatomicÂ±ûÊÄßÁöÑ‰ΩúÁî®? readwrite ÊòØÂèØËØªÂèØÂÜôÁâπÊÄß;ÈúÄË¶ÅÁîüÊàêgetterÊñπÊ≥ïÂíåsetterÊñπÊ≥ï; readonly ÊòØÂè™ËØªÁâπÊÄß Âè™‰ºöÁîüÊàêgetterÊñπÊ≥ï ‰∏ç‰ºöÁîüÊàêsetterÊñπÊ≥ï ,‰∏çÂ∏åÊúõÂ±ûÊÄßÂú®Á±ªÂ§ñÊîπÂèò; assign ÊòØËµãÂÄºÁâπÊÄß,setterÊñπÊ≥ïÂ∞Ü‰º†ÂÖ•ÂèÇÊï∞ËµãÂÄºÁªôÂÆû‰æãÂèòÈáè;‰ªÖËÆæÁΩÆÂèòÈáèÊó∂; assignÁî®‰∫éÁÆÄÂçïÊï∞ÊçÆÁ±ªÂûã,Â¶ÇNSInteger,double,bool; retain Ë°®Á§∫ÊåÅÊúâÁâπÊÄß,setterÊñπÊ≥ïÂ∞Ü‰º†ÂÖ•ÂèÇÊï∞ÂÖà‰øùÁïô,ÂÜçËµãÂÄº,‰º†ÂÖ•ÂèÇÊï∞ÁöÑÂºïÁî®ËÆ°Êï∞retaincount‰ºö+1; copy Ë°®Á§∫ËµãÂÄºÁâπÊÄß,setterÊñπÊ≥ïÂ∞Ü‰º†ÂÖ•ÂØπË±°Â§çÂà∂‰∏Ä‰ªΩ;ÈúÄË¶ÅÂÆåÂÖ®‰∏Ä‰ªΩÊñ∞ÁöÑÂèòÈáèÊó∂; nonatomic ÈùûÂéüÂ≠êÊìç‰Ωú,ÂÜ≥ÂÆöÁºñËØëÂô®ÁîüÊàêÁöÑsetter getterÊòØÂê¶ÊòØÂéüÂ≠êÊìç‰Ωú; atomic Ë°®Á§∫Â§öÁ∫øÁ®ãÂÆâÂÖ®,‰∏ÄËà¨‰ΩøÁî® nonatomic„ÄÇ ÁÆÄËø∞NotificationCenter„ÄÅKVC„ÄÅKVO„ÄÅDelegate?Âπ∂ËØ¥ÊòéÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂå∫Âà´?(ÈáçÁÇπ) KVOÔºàKey-Value- ObservingÔºâÔºö‰∏ÄÂØπÂ§ö, ËßÇÂØüËÄÖÊ®°Âºè,ÈîÆÂÄºËßÇÂØüÊú∫Âà∂ÔºåÂÆÉÊèê‰æõ‰∫ÜËßÇÂØüÊüê‰∏ÄÂ±ûÊÄßÂèòÂåñÁöÑÊñπÊ≥ïÔºåÊûÅÂ§ßÁÆÄÂåñ‰∫Ü‰ª£Á†Å„ÄÇ KVC (Key-Value-Coding)ÔºöÊòØÈîÆÂÄºÁºñÁ†Å, ‰∏Ä‰∏™ÂØπË±°Âú®Ë∞ÉÁî®setValueÁöÑÊó∂ÂÄôÔºå Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®Áõ∏Â∫îkeyÁöÑsetÊñπÊ≥ïÔºåÂ≠òÂú®Â∞±Ë∞ÉÁî®setÊñπÊ≥ï„ÄÇ setÊñπÊ≥ï‰∏çÂ≠òÂú®ÔºåÂ∞±Êü•Êâæ_keyÁöÑÊàêÂëòÂèòÈáèÊòØÂê¶Â≠òÂú®ÔºåÂ≠òÂú®Â∞±Áõ¥Êé•ËµãÂÄº„ÄÇ Â¶ÇÊûú_keyÊ≤°ÊâæÂà∞ÔºåÂ∞±Êü•ÊâæÁõ∏ÂêåÂêçÁß∞ÁöÑkeyÔºåÂ≠òÂú®Â∞±ËµãÂÄº„ÄÇ Â¶ÇÊûúÊ≤°ÊúâÂ∞±Ë∞ÉÁî®valueForUndefinedkeyÂíåsetValueÔºöforUndefinedKey„ÄÇ Delegate: ÈÄöÂ∏∏ÂèëÈÄÅËÄÖÂíåÊé•Êî∂ËÄÖÁöÑÂÖ≥Á≥ªÊòØÁõ¥Êé•ÁöÑ‰∏ÄÂØπ‰∏ÄÁöÑÂÖ≥Á≥ª„ÄÇ ‰ª£ÁêÜÁöÑÁõÆÁöÑÊòØÊîπÂèòÊàñ‰º†ÈÄíÊéßÂà∂Èìæ„ÄÇÂÖÅËÆ∏‰∏Ä‰∏™Á±ªÂú®Êüê‰∫õÁâπÂÆöÊó∂ÂàªÈÄöÁü•Âà∞ÂÖ∂‰ªñÁ±ªÔºåËÄå‰∏çÈúÄË¶ÅËé∑ÂèñÂà∞ÈÇ£‰∫õÁ±ªÁöÑÊåáÈíà„ÄÇ ÂèØ‰ª•ÂáèÂ∞ëÊ°ÜÊû∂Â§çÊùÇÂ∫¶„ÄÇÊ∂àÊÅØÁöÑÂèëÈÄÅËÄÖ(sender)ÂëäÁü•Êé•Êî∂ËÄÖ(receiver)Êüê‰∏™‰∫ã‰ª∂Â∞ÜË¶ÅÂèëÁîüÔºådelegateÂêåÊÑèÁÑ∂ÁÑ∂ÂêéÂèëÈÄÅËÄÖÂìçÂ∫î‰∫ã‰ª∂ÔºådelegateÊú∫Âà∂‰ΩøÂæóÊé•Êî∂ËÄÖÂèØ‰ª•ÊîπÂèòÂèëÈÄÅËÄÖÁöÑË°å‰∏∫„ÄÇ Notification: ËßÇÂØüËÄÖÊ®°Âºè, ÈÄöÂ∏∏ÂèëÈÄÅËÄÖÂíåÊé•Êî∂ËÄÖÁöÑÂÖ≥Á≥ªÊòØÈó¥Êé•ÁöÑÂ§öÂØπÂ§öÂÖ≥Á≥ª„ÄÇ Ê∂àÊÅØÁöÑÂèëÈÄÅËÄÖÂëäÁü•Êé•Êî∂ËÄÖ‰∫ã‰ª∂Â∑≤ÁªèÂèëÁîüÊàñËÄÖÂ∞ÜË¶ÅÂèëÈÄÅÔºå‰ªÖÊ≠§ËÄåÂ∑≤ÔºåÊé•Êî∂ËÄÖÂπ∂‰∏çËÉΩÂèçËøáÊù•ÂΩ±ÂìçÂèëÈÄÅËÄÖÁöÑË°å‰∏∫„ÄÇ Âå∫Âà´ ÊïàÁéáËÇØÂÆöÊòØdelegateÊØîNSNotificationÈ´ò„ÄÇ delegateÊñπÊ≥ïÊØînotificationÊõ¥Âä†Áõ¥Êé•ÔºåÈúÄË¶ÅÂÖ≥Ê≥®ËøîÂõûÂÄºÔºåÊâÄ‰ª•delegateÊñπÊ≥ïÂæÄÂæÄÂåÖÂê´shouldËøô‰∏™Âæà‰º†Á•ûÁöÑËØç„ÄÇÁõ∏ÂèçÁöÑÔºånotificationÊúÄÂ§ßÁöÑÁâπËâ≤Â∞±ÊòØ‰∏çÂÖ≥ÂøÉÁªìÊûú„ÄÇÊâÄ‰ª•notificationÂæÄÂæÄÁî®didËøô‰∏™ËØçÊ±á„ÄÇ ‰∏§‰∏™Ê®°Âùó‰πãÈó¥ËÅîÁ≥ª‰∏çÊòØÂæàÁ¥ßÂØÜÔºåÂ∞±Áî®notification‰º†ÂÄºÔºå‰æãÂ¶ÇÂ§öÁ∫øÁ®ã‰πãÈó¥‰º†ÂÄºÁî®notificaiton„ÄÇ delegateÂè™ÊòØ‰∏ÄÁßçËæÉ‰∏∫ÁÆÄÂçïÁöÑÂõûË∞ÉÔºå‰∏î‰∏ªË¶ÅÁî®Âú®‰∏Ä‰∏™Ê®°Âùó‰∏≠Ôºå‰æãÂ¶ÇÂ∫ïÂ±ÇÂäüËÉΩÂÆåÊàê‰∫ÜÔºåÈúÄË¶ÅÊää‰∏Ä‰∫õÂÄº‰º†Âà∞‰∏äÂ±ÇÂéªÔºåÂ∞±‰∫ãÂÖàÊää‰∏äÂ±ÇÁöÑÂáΩÊï∞ÈÄöËøádelegate‰º†Âà∞Â∫ïÂ±ÇÔºåÁÑ∂ÂêéÂú®Â∫ïÂ±ÇcallËøô‰∏™delegateÔºåÂÆÉ‰ª¨ÈÉΩÂú®‰∏Ä‰∏™Ê®°Âùó‰∏≠ÔºåÂÆåÊàê‰∏Ä‰∏™ÂäüËÉΩÔºå‰æãÂ¶ÇËØ¥ NavgationController ‰ªé B ÁïåÈù¢Âà∞A ÁÇπËøîÂõûÊåâÈíÆ (Ë∞ÉÁî®popViewControllerÊñπÊ≥ï) ÂèØ‰ª•Áî®delegateÊØîËæÉÂ•Ω„ÄÇ ÊáíÂä†ËΩΩ(What is lazy loading ?) Â∞±ÊòØÊáíÂä†ËΩΩ,Âè™Âú®Áî®Âà∞ÁöÑÊó∂ÂÄôÊâçÂéªÂàùÂßãÂåñ„ÄÇ‰πüÂèØ‰ª•ÁêÜËß£ÊàêÂª∂Êó∂Âä†ËΩΩ„ÄÇÊàëËßâÂæóÊúÄÂ•Ω‰πüÊúÄÁÆÄÂçïÁöÑ‰∏Ä‰∏™ÂàóÂ≠êÂ∞±ÊòØtableView‰∏≠ÂõæÁâáÁöÑÂä†ËΩΩÊòæÁ§∫‰∫Ü, ‰∏Ä‰∏™Âª∂Êó∂Âä†ËΩΩ, ÈÅøÂÖçÂÜÖÂ≠òËøáÈ´ò,‰∏Ä‰∏™ÂºÇÊ≠•Âä†ËΩΩ,ÈÅøÂÖçÁ∫øÁ®ãÂ†µÂ°ûÊèêÈ´òÁî®Êà∑‰ΩìÈ™å OCÊúâÂ§öÁªßÊâøÂêó?Ê≤°ÊúâÁöÑËØùÂèØ‰ª•Áî®‰ªÄ‰πàÊñπÊ≥ïÊõø‰ª£? Â§öÁªßÊâøÂç≥‰∏Ä‰∏™Â≠êÁ±ªÂèØ‰ª•ÊúâÂ§ö‰∏™Áà∂Á±ª,ÂÆÉÁªßÊâø‰∫ÜÂ§ö‰∏™Áà∂Á±ªÁöÑÁâπÊÄß„ÄÇ Object-cÁöÑÁ±ªÊ≤°ÊúâÂ§öÁªßÊâø,Âè™ÊîØÊåÅÂçïÁªßÊâø,Â¶ÇÊûúË¶ÅÂÆûÁé∞Â§öÁªßÊâøÁöÑËØù,ÂèØ‰ª•ÈÄöËøáÁ±ªÂà´ÂíåÂçèËÆÆÁöÑÊñπÂºèÊù•ÂÆûÁé∞„ÄÇ protocolÔºàÂçèËÆÆÔºâÂèØ‰ª•ÂÆûÁé∞Â§ö‰∏™Êé•Âè£,ÈÄöËøáÂÆûÁé∞Â§ö‰∏™Êé•Âè£ÂèØ‰ª•ÂÆåÊàêÂ§öÁªßÊâø; CategoryÔºàÁ±ªÂà´Ôºâ‰∏ÄËà¨‰ΩøÁî®ÂàÜÁ±ª,Áî®CategoryÂéªÈáçÂÜôÁ±ªÁöÑÊñπÊ≥ï,‰ªÖÂØπÊú¨CategoryÊúâÊïà,‰∏ç‰ºöÂΩ±ÂìçÂà∞ÂÖ∂‰ªñÁ±ª‰∏éÂéüÊúâÁ±ªÁöÑÂÖ≥Á≥ª„ÄÇ ÂàÜÂà´ÊèèËø∞Á±ªÂà´(categories)ÂíåÂª∂Â±ï(extensions)ÊòØ‰ªÄ‰πà?‰ª•Âèä‰∏§ËÄÖÁöÑÂå∫Âà´?ÁªßÊâøÂíåÁ±ªÂà´Âú®ÂÆûÁé∞‰∏≠Êúâ‰ΩïÂå∫Âà´?‰∏∫‰ªÄ‰πàCategoryÂè™ËÉΩ‰∏∫ÂØπË±°Ê∑ªÂä†ÊñπÊ≥ï,Âç¥‰∏çËÉΩÊ∑ªÂä†ÊàêÂëòÂèòÈáè? Á±ªÂà´: Âú®Ê≤°ÊúâÂéüÁ±ª.mÊñá‰ª∂ÁöÑÂü∫Á°Ä‰∏ä,ÁªôËØ•Á±ªÊ∑ªÂä†ÊñπÊ≥ï; Âª∂Â±ï:‰∏ÄÁßçÁâπÊÆäÂΩ¢ÂºèÁöÑÁ±ªÂà´,‰∏ªË¶ÅÂú®‰∏Ä‰∏™Á±ªÁöÑ.mÊñá‰ª∂ÈáåÂ£∞ÊòéÂíåÂÆûÁé∞Âª∂Â±ïÁöÑ‰ΩúÁî®,Â∞±ÊòØÁªôÊüêÁ±ªÊ∑ªÂä†ÁßÅÊúâÊñπÊ≥ïÊàñÊòØÁßÅÊúâÂèòÈáè„ÄÇ ‰∏§‰∏™ÁöÑÂå∫Âà´: Âª∂Â±ïÂèØ‰ª•Ê∑ªÂä†Â±ûÊÄßÂπ∂‰∏îÂÆÉÊ∑ªÂä†ÁöÑÊñπÊ≥ïÊòØÂøÖÈ°ªË¶ÅÂÆûÁé∞ÁöÑ„ÄÇÂª∂Â±ïÂèØ‰ª•ËÆ§‰∏∫ÊòØ‰∏Ä‰∏™ÁßÅÊúâÁöÑÁ±ªÁõÆ„ÄÇ Á±ªÂà´ÂèØ‰ª•Âú®‰∏çÁü•ÈÅì,‰∏çÊîπÂèòÂéüÊù•‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÂæÄÈáåÈù¢Ê∑ªÂä†Êñ∞ÁöÑÊñπÊ≥ï,Âè™ËÉΩÊ∑ªÂä†,‰∏çËÉΩÂà†Èô§‰øÆÊîπ„ÄÇ Âπ∂‰∏îÂ¶ÇÊûúÁ±ªÂà´ÂíåÂéüÊù•Á±ª‰∏≠ÁöÑÊñπÊ≥ï‰∫ßÁîüÂêçÁß∞ÂÜ≤Á™Å,ÂàôÁ±ªÂà´Â∞ÜË¶ÜÁõñÂéüÊù•ÁöÑÊñπÊ≥ï,Âõ†‰∏∫Á±ªÂà´ÂÖ∑ÊúâÊõ¥È´òÁöÑ‰ºòÂÖàÁ∫ß„ÄÇ ÁªßÊâøÂèØ‰ª•Â¢ûÂä†Ôºå‰øÆÊîπÂà†Èô§ÊñπÊ≥ïÔºåÊ∑ªÂä†Â±ûÊÄß„ÄÇ CategoryÂè™ËÉΩ‰∏∫ÂØπË±°Ê∑ªÂä†ÊñπÊ≥ï,Âç¥‰∏çËÉΩÊ∑ªÂä†ÊàêÂëòÂèòÈáèÁöÑÂéüÂõ†:Â¶ÇÊûúÂèØ‰ª•Ê∑ªÂä†ÊàêÂëòÂèòÈáè,Ê∑ªÂä†ÁöÑÊàêÂëòÂèòÈáèÊ≤°ÊúâÂäûÊ≥ïÂàùÂßãÂåñ Objective-CÊúâÁßÅÊúâÊñπÊ≥ï‰πà?ÁßÅÊúâÂèòÈáèÂë¢?Â¶ÇÂ§öÊ≤°ÊúâÁöÑËØù,ÊúâÊ≤°Êúâ‰ªÄ‰πà‰ª£ÊõøÁöÑÊñπÊ≥ï? objective-cÁ±ªÈáåÈù¢ÁöÑÊñπÊ≥ïÂè™Êúâ‰∏§Áßç,ÈùôÊÄÅÊñπÊ≥ïÂíåÂÆû‰æãÊñπÊ≥ï.‰ΩÜÊòØÂèØ‰ª•ÈÄöËøáÊääÊñπÊ≥ïÁöÑÂ£∞ÊòéÂíåÂÆö‰πâÈÉΩÊîæÂú®.mÊñá‰ª∂‰∏≠Êù•ÂÆûÁé∞‰∏Ä‰∏™Ë°®Èù¢‰∏äÁöÑÁßÅÊúâÊñπÊ≥ï„ÄÇÊúâÁßÅÊúâÂèòÈáè,ÂèØ‰ª•ÈÄöËøá@privateÊù•‰øÆÈ•∞,ÊàñËÄÖÊääÂ£∞ÊòéÊîæÂà∞.mÊñá‰ª∂‰∏≠„ÄÇÂú®Objective‚ÄêC‰∏≠,ÊâÄÊúâÂÆû‰æãÂèòÈáèÈªòËÆ§ÈÉΩÊòØÁßÅÊúâÁöÑ, ÊâÄÊúâÂÆû‰æãÊñπÊ≥ïÈªòËÆ§ÈÉΩÊòØÂÖ¨ÊúâÁöÑ #include‰∏é#importÁöÑÂå∫Âà´? #import‰∏é @classÁöÑÂå∫Âà´? #importÊåá‰ª§ÊòØObject-CÈíàÂØπ#includeÁöÑÊîπËøõÁâàÊú¨Ôºå#importÁ°Æ‰øùÂºïÁî®ÁöÑÊñá‰ª∂Âè™‰ºöË¢´ÂºïÁî®‰∏ÄÊ¨°ÔºåËøôÊ†∑‰Ω†Â∞±‰∏ç‰ºöÈô∑ÂÖ•ÈÄíÂΩíÂåÖÂê´ÁöÑÈóÆÈ¢ò‰∏≠„ÄÇ # impor‰∏é@class‰∫åËÄÖÁöÑÂå∫Âà´Âú®‰∫éÔºö #import‰ºöÈìæÂÖ•ËØ•Â§¥Êñá‰ª∂ÁöÑÂÖ®ÈÉ®‰ø°ÊÅØÔºåÂåÖÊã¨ÂÆû‰æãÂèòÈáèÂíåÊñπÊ≥ïÁ≠âÔºõËÄå@classÂè™ÊòØÂëäËØâÁºñËØëÂô®ÔºåÂÖ∂ÂêéÈù¢Â£∞ÊòéÁöÑÂêçÁß∞ÊòØÁ±ªÁöÑÂêçÁß∞ÔºåËá≥‰∫éËøô‰∫õÁ±ªÊòØÂ¶Ç‰ΩïÂÆö‰πâÁöÑÔºåÊöÇÊó∂‰∏çÁî®ËÄÉËôë„ÄÇ Âú®Â§¥Êñá‰ª∂‰∏≠‰∏ÄËà¨‰ΩøÁî®@classÊù•Â£∞ÊòéËøô‰∏™ÂêçÁß∞ÊòØÁ±ªÁöÑÂêçÁß∞,‰∏çÈúÄË¶ÅÁü•ÈÅìÂÖ∂ÂÜÖÈÉ®ÁöÑÂÆû‰ΩìÂèòÈáèÂíåÊñπÊ≥ï. ËÄåÂú®ÂÆûÁé∞Á±ªÈáåÈù¢ÔºåÂõ†‰∏∫‰ºöÁî®Âà∞Ëøô‰∏™ÂºïÁî®Á±ªÁöÑÂÜÖÈÉ®ÁöÑÂÆû‰ΩìÂèòÈáèÂíåÊñπÊ≥ïÔºåÊâÄ‰ª•ÈúÄË¶Å‰ΩøÁî®#importÊù•ÂåÖÂê´Ëøô‰∏™Ë¢´ÂºïÁî®Á±ªÁöÑÂ§¥Êñá‰ª∂„ÄÇ Âú®ÁºñËØëÊïàÁéáÊñπÈù¢ÔºåÂ¶ÇÊûú‰Ω†Êúâ100‰∏™Â§¥Êñá‰ª∂ÈÉΩ#import‰∫ÜÂêå‰∏Ä‰∏™Â§¥Êñá‰ª∂ÔºåÊàñËÄÖËøô‰∫õÊñá‰ª∂ÊòØ‰æùÊ¨°ÂºïÁî®ÁöÑÔºåÂ¶ÇA‚Äì&gt;B, B‚Äì&gt;C, C‚Äì&gt;DËøôÊ†∑ÁöÑÂºïÁî®ÂÖ≥Á≥ª„ÄÇÂΩìÊúÄÂºÄÂßãÁöÑÈÇ£‰∏™Â§¥Êñá‰ª∂ÊúâÂèòÂåñÁöÑËØùÔºåÂêéÈù¢ÊâÄÊúâÂºïÁî®ÂÆÉÁöÑÁ±ªÈÉΩÈúÄË¶ÅÈáçÊñ∞ÁºñËØëÔºåÂ¶ÇÊûú‰Ω†ÁöÑÁ±ªÊúâÂæàÂ§öÁöÑËØùÔºåËøôÂ∞ÜËÄóË¥πÂ§ßÈáèÁöÑÊó∂Èó¥„ÄÇËÄåÊòØÁî®@classÂàô‰∏ç‰ºö„ÄÇ Â¶ÇÊûúÊúâÂæ™ÁéØ‰æùËµñÂÖ≥Á≥ªÔºåÂ¶Ç:A‚Äì&gt;B, B‚Äì&gt;AËøôÊ†∑ÁöÑÁõ∏‰∫í‰æùËµñÂÖ≥Á≥ªÔºåÂ¶ÇÊûú‰ΩøÁî®#importÊù•Áõ∏‰∫íÂåÖÂê´ÔºåÈÇ£‰πàÂ∞±‰ºöÂá∫Áé∞ÁºñËØëÈîôËØØÔºåÂ¶ÇÊûú‰ΩøÁî®@classÂú®‰∏§‰∏™Á±ªÁöÑÂ§¥Êñá‰ª∂‰∏≠Áõ∏‰∫íÂ£∞ÊòéÔºåÂàô‰∏ç‰ºöÊúâÁºñËØëÈîôËØØÂá∫Áé∞„ÄÇ ÊµÖÂ§çÂà∂(Êã∑Ë¥ù)ÂíåÊ∑±Â§çÂà∂ÁöÑÂå∫Âà´? (Difference between shallow copy and deep copy?) ÊµÖÂ§çÂà∂(copy)ÔºöÂè™Â§çÂà∂ÊåáÂêëÂØπË±°ÁöÑÊåáÈíàÔºåËÄå‰∏çÂ§çÂà∂ÂºïÁî®ÂØπË±°Êú¨Ë∫´„ÄÇ Ê∑±Â§çÂà∂(mutableCopy)ÔºöÂ§çÂà∂ÂºïÁî®ÂØπË±°Êú¨Ë∫´„ÄÇÊ∑±Â§çÂà∂Â∞±Â•ΩÁêÜËß£‰∫Ü,ÂÜÖÂ≠ò‰∏≠Â≠òÂú®‰∫Ü‰∏§‰ªΩÁã¨Á´ãÂØπË±°Êú¨Ë∫´, ÂΩì‰øÆÊîπAÊó∂,A_copy‰∏çÂèò„ÄÇ Á±ªÂèòÈáèÁöÑ@protected,@private,@public,@packageÂ£∞ÊòéÂêÑÊúâ‰ªÄ‰πàÂê´‰πâ?ÂèòÈáèÁöÑ‰ΩúÁî®Âüü‰∏çÂêå„ÄÇ @protected ËØ•Á±ªÂíåÂ≠êÁ±ª‰∏≠ËÆøÈóÆÔºåÊòØÈªòËÆ§ÁöÑ; @private Âè™ËÉΩÂú®Êú¨Á±ª‰∏≠ËÆøÈóÆ; @public ‰ªª‰ΩïÂú∞ÊñπÈÉΩËÉΩËÆøÈóÆ; @package Êú¨ÂåÖÂÜÖ‰ΩøÁî®ÔºåË∑®ÂåÖ‰∏çÂèØ‰ª• Objective-C‰∏éC„ÄÅC+++‰πãÈó¥ÁöÑËÅîÁ≥ªÂíåÂå∫Âà´Ôºü Objective-CÂíåC++ÈÉΩÊòØCÁöÑÈù¢ÂêëÂØπË±°ÁöÑË∂ÖÈõÜ„ÄÇ Object‰∏éC++ÁöÑÂå∫Âà´‰∏ªË¶ÅÁÇπÔºöObjective-CÊòØÂÆåÂÖ®Âä®ÊÄÅÁöÑÔºåÊîØÊåÅÂú®ËøêË°åÊó∂Âä®ÊÄÅÁ±ªÂûãÂÜ≥ËÆÆ(dynamic typing)ÔºåÂä®ÊÄÅÁªëÂÆö(dynamic binding)‰ª•ÂèäÂä®ÊÄÅË£ÖËΩΩ(dynamic loading)ÔºõËÄåC++ÊòØÈÉ®ÂàÜÂä®ÊÄÅÁöÑÔºåÁºñËØëÊó∂ÈùôÊÄÅÁªëÂÆöÔºåÈÄöËøáÂµåÂÖ•Á±ª(Â§öÈáçÁªßÊâø)ÂíåËôöÂáΩÊï∞(ËôöË°®)Êù•Ê®°ÊãüÂÆûÁé∞„ÄÇ Objective-C Âú®ËØ≠Ë®ÄÂ±ÇÊ¨°‰∏äÊîØÊåÅÂä®ÊÄÅÊ∂àÊÅØËΩ¨ÂèëÔºåÂÖ∂Ê∂àÊÅØÂèëÈÄÅËØ≠Ê≥ï‰∏∫ [object function]Ôºõ ËÄå‰∏îC++ ‰∏∫ object-&gt;function()„ÄÇ ‰∏§ËÄÖÁöÑËØ≠‰πâ‰πü‰∏çÂêåÔºåÂú® Objective-C ÈáåÊòØËØ¥ÂèëÈÄÅÊ∂àÊÅØÂà∞‰∏Ä‰∏™ÂØπË±°‰∏äÔºåËá≥‰∫éËøô‰∏™ÂØπË±°ËÉΩ‰∏çËÉΩÂìçÂ∫îÊ∂àÊÅØ‰ª•ÂèäÊòØÂìçÂ∫îËøòÊòØËΩ¨ÂèëÊ∂àÊÅØÈÉΩ‰∏ç‰ºö crashÔºõ ËÄåÂú® C++ ÈáåÊòØËØ¥ÂØπË±°ËøõË°å‰∫ÜÊüê‰∏™Êìç‰ΩúÔºåÂ¶ÇÊûúÂØπË±°Ê≤°ÊúâËøô‰∏™Êìç‰ΩúÁöÑËØùÔºåË¶Å‰πàÁºñËØë‰ºöÊä•Èîô(ÈùôÊÄÅÁªëÂÆö)ÔºåË¶Å‰πàÁ®ãÂ∫è‰ºö crash ÊéâÁöÑ(Âä®ÊÄÅÁªëÂÆö)„ÄÇ ÁõÆÊ†á-Âä®‰ΩúÊú∫Âà∂ ÁõÆÊ†áÊòØÂä®‰ΩúÊ∂àÊÅØÁöÑÊé•Êî∂ËÄÖ„ÄÇ‰∏Ä‰∏™Êéß‰ª∂ÔºåÊàñËÄÖÊõ¥‰∏∫Â∏∏ËßÅÁöÑÊòØÂÆÉÁöÑÂçïÂÖÉÔºå‰ª•ÊèíÂ∫ßÂèòÈáèÁöÑÂΩ¢Âºè‰øùÊúâÂÖ∂Âä®‰ΩúÊ∂àÊÅØÁöÑÁõÆÊ†á„ÄÇ Âä®‰ΩúÊòØÊéß‰ª∂ÂèëÈÄÅÁªôÁõÆÊ†áÁöÑÊ∂àÊÅØÔºåÊàñËÄÖ‰ªéÁõÆÊ†áÁöÑËßíÂ∫¶ÁúãÔºåÂÆÉÊòØÁõÆÊ†á‰∏∫‰∫ÜÂìçÂ∫îÂä®‰ΩúËÄåÂÆûÁé∞ÁöÑÊñπÊ≥ï. Á®ãÂ∫èÈúÄË¶ÅÊüê‰∫õÊú∫Âà∂Êù•ËøõË°å‰∫ã‰ª∂ÂíåÊåá‰ª§ÁöÑÁøªËØë„ÄÇËøô‰∏™Êú∫Âà∂Â∞±ÊòØÁõÆÊ†á-Âä®‰ΩúÊú∫Âà∂„ÄÇ Objective-C‰ºòÁÇπÂíåÁº∫ÁÇπ ‰ºòÁÇπ:1.Cateogies 2.Posing 3.Âä®ÊÄÅËØÜÂà´ 4.ÊåáÊ†áËÆ°ÁÆó 5.ÂºπÊÄßËÆØÊÅØ‰º†ÈÄí 6.‰∏çÊòØ‰∏Ä‰∏™ËøáÂ∫¶Â§çÊùÇÁöÑCË°çÁîüËØ≠Ë®Ä 7.Objective-C‰∏éC++ÂèØÊ∑∑ÂêàÁºñÁ®ã Áº∫ÁÇπ:1.‰∏çÊîØÊåÅÂëΩÂêçÁ©∫Èñì 2.‰∏çÊîØÊåÅËøêÁÆóÁ¨¶ÈáçËΩΩ 3.‰∏çÊîØÊåÅÂ§öÈáçÁªßÊâø 4.‰ΩøÁî®Âä®ÊÄÅËøêË°åÊó∂Á±ªÂûã,ÊâÄÊúâÁöÑÊñπÊ≥ïÈÉΩÊòØÂáΩÊï∞Ë∞ÉÁî®,ÊâÄ‰ª•ÂæàÂ§öÁºñËØëÊó∂‰ºòÂåñÊñπÊ≥ïÈÉΩÁî®‰∏çÂà∞„ÄÇ(Â¶ÇÂÜÖËÅîÂáΩÊï∞Á≠â),ÊÄßËÉΩ‰ΩéÂä£„ÄÇ CËØ≠Ë®ÄÁöÑÂáΩÊï∞Ë∞ÉÁî®ÂíåocÁöÑÊ∂àÊÅØÊú∫Âà∂Êúâ‰ªÄ‰πàÂå∫Âà´? ÂØπ‰∫éCËØ≠Ë®ÄÔºåÂáΩÊï∞ÁöÑË∞ÉÁî®Âú®ÁºñËØëÁöÑÊó∂ÂÄô‰ºöÂÜ≥ÂÆöË∞ÉÁî®Âì™‰∏™ÂáΩÊï∞„ÄÇÁºñËØëÂÆåÊàê‰πãÂêéÁõ¥Êé•È°∫Â∫èÊâßË°å„ÄÇ OCÁöÑÂáΩÊï∞Ë∞ÉÁî®Êàê‰∏∫Ê∂àÊÅØÂèëÈÄÅ„ÄÇÂ±û‰∫éÂä®ÊÄÅË∞ÉÁî®ËøáÁ®ã„ÄÇÂú®ÁºñËØëÁöÑÊó∂ÂÄôÂπ∂‰∏çËÉΩÂÜ≥ÂÆöÁúüÊ≠£Ë∞ÉÁî®Âì™‰∏™ÂáΩÊï∞Ôºà‰∫ãÂÆûËØÅÊòéÔºåÂú®ÁºñËØëÈò∂ÊÆµÔºåOCÂèØ‰ª•Ë∞ÉÁî®‰ªª‰ΩïÂáΩÊï∞ÔºåÂç≥‰ΩøËøô‰∏™ÂáΩÊï∞Âπ∂Êú™ÂÆûÁé∞ÔºåÂè™Ë¶ÅÁî≥ÊòéËøáÂ∞±‰∏ç‰ºöÊä•Èîô„ÄÇËÄåCËØ≠Ë®ÄÂú®ÁºñËØëÈò∂ÊÆµÂ∞±‰ºöÊä•ÈîôÔºâ„ÄÇÂè™ÊúâÂú®ÁúüÊ≠£ËøêË°åÁöÑÊó∂ÂÄôÊâç‰ºöÊ†πÊçÆÂáΩÊï∞ÁöÑÂêçÁß∞ÊâæÂà∞ÂØπÂ∫îÁöÑÂáΩÊï∞Êù•Ë∞ÉÁî®„ÄÇ ‰ªÄ‰πàÊòØË∞ìËØçË∞ìËØçÂ∞±ÊòØÈÄöËøáNSPredicateÁªôÂÆöÁöÑÈÄªËæëÊù°‰ª∂‰Ωú‰∏∫Á∫¶ÊùüÊù°‰ª∂ÔºåÂÆåÊàêÂØπÊï∞ÊçÆÁöÑÁ≠õÈÄâ„ÄÇ ÂÆö‰πâË∞ìËØçÂØπË±°ÔºåË∞ìËØçÂØπË±°‰∏≠ÂåÖÂê´‰∫ÜËøáÊª§Êù°‰ª∂ NSPredicate *predicate = [NSPredicate predicateWithFormat:@"age40"]; array = [persons filteredArrayUsingPredicate:predicate]; ÂåÖÂê´ËØ≠Âè•ÁöÑ‰ΩøÁî® predicate = [NSPredicate predicateWithFormat:@"[self.name](https://link.jianshu.com?t=http://self.name) IN {'1','2','4'} || self.age IN{30,40}"]; ÊåáÂÆöÂ≠óÁ¨¶ÂºÄÂ§¥ÂíåÊåáÂÆöÂ≠óÁ¨¶ÁªìÂ∞æÔºåÊòØÂê¶ÂåÖÂê´ÊåáÂÆöÂ≠óÁ¨¶ name‰ª•aÂºÄÂ§¥ÁöÑ predicate = [NSPredicate predicateWithFormat:@"name BEGINSWITH 'a'"]; name‰ª•baÁªìÂ∞æÁöÑ predicate = [NSPredicate predicateWithFormat:@"name ENDSWITH 'ba'"]; name‰∏≠ÂåÖÂê´Â≠óÁ¨¶aÁöÑ predicate = [NSPredicate predicateWithFormat:@"name CONTAINS 'a'"]; likeËøõË°åÂåπÈÖçÂ§ö‰∏™Â≠óÁ¨¶ name‰∏≠Âè™Ë¶ÅÊúâsÂ≠óÁ¨¶Â∞±Êª°Ë∂≥Êù°‰ª∂ predicate = [NSPredicate predicateWithFormat:@"name like '*s*'"]; ?‰ª£Ë°®‰∏Ä‰∏™Â≠óÁ¨¶Ôºå‰∏ãÈù¢ÁöÑÊü•ËØ¢Êù°‰ª∂ÊòØÔºöname‰∏≠Á¨¨‰∫å‰∏™Â≠óÁ¨¶ÊòØsÁöÑ predicate = [NSPredicate predicateWithFormat:@"name like '?s'"]; C‰∏éOCÊ∑∑Áî®Â§ÑÁêÜ.mÂèØ‰ª•ËØÜÂà´cÂíåocÔºå.mmÂèØ‰ª•ËØÜÂà´c c++ oc ‰ΩÜÊòØcppÂè™ËÉΩÁî®c/c++ atomicÂíånonatomicÁöÑÂå∫Âà´ atomicÊèê‰æõÂ§öÁ∫øÁ®ãÂÆâÂÖ®ÔºåÈò≤Ê≠¢ËØªÂÜôÊú™ÂÆåÊàêÁöÑÊó∂ÂÄôË¢´Âè¶Â§ñ‰∏Ä‰∏™Á∫øÁ®ãËØªÂÜôÔºåÈÄ†ÊàêÊï∞ÊçÆÈîôËØØ„ÄÇ nonatomicÂú®Ëá™Â∑±ÁÆ°ÁêÜÂÜÖÂ≠òÁöÑÁéØÂ¢É‰∏≠ÔºåËß£ÊûêÁöÑËÆøÈóÆÂô®‰øùÁïôÂπ∂Ëá™Âä®ÈáäÊîæËøîÂõûÂÄºÔºåËã•ÊåáÂÆö‰∫ÜnonatomicÔºåÈÇ£‰πàËÆøÈóÆÂô®Âè™ÊòØÁÆÄÂçïÁöÑËøîÂõûËøô‰∏™ÂÄº„ÄÇ Â∏∏ËßÅÁöÑocÊï∞ÊçÆÁ±ªÂûãÂì™‰∫õÔºåÂíåcÁöÑÂü∫Êú¨Á±ªÂûãÊúâÂï•Âå∫Âà´ Â∏∏ËßÅÁöÑÔºöNSInteger CGFloat NSString NSNumber NSArray NSDate NSIntegerÊ†πÊçÆ32ÊàñËÄÖ64‰ΩçÁ≥ªÁªüÂÜ≥ÂÆöÊú¨Ë∫´ÊòØintËøòÊòØlong CGFloatÊ†πÊçÆ32ÊàñËÄÖ64‰ΩçÁ≥ªÁªüÂÜ≥ÂÆöÊú¨Ë∫´ÊòØfloatËøòÊòØdouble NSString NSNumber NSArray NSDateÈÉΩÊòØÊåáÈíàÁ±ªÂûãÁöÑÂØπË±°ÔºåÂú®Â†Ü‰∏≠ÂàÜÈÖçÂÜÖÂ≠òÔºåcËØ≠Ë®Ä‰∏≠ÁöÑchar int Á≠âÈÉΩÊòØÂú®Ê†à‰∏≠ÂàÜÈÖçÁ©∫Èó¥ idÂíånil‰ª£Ë°®‰ªÄ‰πà idÁ±ªÂûãÁöÑÊåáÈíàÂèØ‰ª•ÊåáÂêë‰ªª‰ΩïOCÂØπË±° nil‰ª£Ë°®Á©∫ÂÄºÔºàÁ©∫ÊåáÈíàÁöÑÂÄºÔºå0Ôºâ nilÂíåNULLÁöÑÂå∫Âà´Ôºü ‰ªéocÁöÑÂÆòÊñπËØ≠Ê≥ï‰∏äÁúãÔºånilË°®Á§∫ÂØπË±°ÁöÑÊåáÈíà Âç≥ÂØπË±°ÁöÑÂºïÁî®‰∏∫Á©∫ nullË°®Á§∫ÊåáÂêëÂü∫Á°ÄÊï∞ÊçÆÁ±ªÂûãÂèòÈáè Âç≥cËØ≠Ë®ÄÂèòÈáèÁöÑÊåáÈíà‰∏∫Á©∫ Âú®Èùûarc‰∏≠ ‰∏§‰∏™Á©∫ÂèØ‰ª•‰∫íÊç¢Ôºå‰ΩÜÊòØÂú®arc‰∏≠ ÊôÆÈÄöÊåáÈíàÂíåÂØπË±°ÂºïÁî®Ë¢´‰∏•Ê†ºÈôêÂà∂Ôºå‰∏çËÉΩ‰∫íÊç¢ nil„ÄÅNil„ÄÅNULLÂíåNSNullÂå∫Âà´ nilÂíåCËØ≠Ë®ÄÁöÑNULLÁõ∏ÂêåÔºåÂú®objc/objc.h‰∏≠ÂÆö‰πâ„ÄÇnilË°®Á§∫Objective-CÂØπË±°ÁöÑÂÄº‰∏∫Á©∫„ÄÇÂú®CËØ≠Ë®Ä‰∏≠ÔºåÊåáÈíàÁöÑÁ©∫ÂÄºÁî®NULLË°®Á§∫„ÄÇÂú®Objective-C‰∏≠ÔºånilÂØπË±°Ë∞ÉÁî®‰ªª‰ΩïÊñπÊ≥ïË°®Á§∫‰ªÄ‰πà‰πü‰∏çÊâßË°åÔºå‰πü‰∏ç‰ºöÂ¥©Ê∫É„ÄÇ Nil:ÈÇ£‰πàÂØπ‰∫éÊàë‰ª¨Objective-CÂºÄÂèëÊù•ËØ¥ÔºåNil‰πüÂ∞±‰ª£Ë°®((void *)0)„ÄÇ‰ΩÜÊòØÂÆÉÊòØÁî®‰∫é‰ª£Ë°®Á©∫Á±ªÁöÑ. ÊØîÂ¶ÇÔºöClass myClass = Nil; NULL: Âú®CËØ≠Ë®Ä‰∏≠ÔºåNULLÊòØÊó†Á±ªÂûãÁöÑÔºåÂè™ÊòØ‰∏Ä‰∏™ÂÆèÔºåÂÆÉ‰ª£Ë°®Á©∫. ËøôÂ∞±ÊòØÂú®C/C++‰∏≠ÁöÑÁ©∫ÊåáÈíà„ÄÇÂØπ‰∫éÊàë‰ª¨Objective-CÂºÄÂèëÊù•ËØ¥ÔºåNULLÂ∞±Ë°®Á§∫((void*)0). NSNull:NSNullÊòØÁªßÊâø‰∫éNSObjectÁöÑÁ±ªÂûã„ÄÇÂÆÉÊòØÂæàÁâπÊÆäÁöÑÁ±ªÔºåÂÆÉË°®Á§∫ÊòØÁ©∫Ôºå‰ªÄ‰πà‰πü‰∏çÂ≠òÂÇ®Ôºå‰ΩÜÊòØÂÆÉÂç¥ÊòØÂØπË±°ÔºåÂè™ÊòØ‰∏Ä‰∏™Âç†‰ΩçÂØπË±°„ÄÇ‰ΩøÁî®Âú∫ÊôØÂ∞±‰∏ç‰∏ÄÊ†∑‰∫ÜÔºåÊØîÂ¶ÇËØ¥ÊúçÂä°Á´ØÊé•Âè£‰∏≠ËÆ©Êàë‰ª¨Âú®ÂÄº‰∏∫Á©∫Êó∂Ôºå‰º†Á©∫„ÄÇNSDictionry *parameters = @{@‚Äùarg1‚Äù : @‚Äùvalue1‚Äù,@‚Äùarg2‚Äù : arg2.isEmpty ? [NSNull null] : arg2}; NULL„ÄÅnil„ÄÅNilËøô‰∏âËÄÖÂØπ‰∫éObjective-C‰∏≠ÂÄºÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÉΩÊòØ(void *)0ÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πàË¶ÅÂå∫ÂàÜÂë¢ÔºüÂèà‰∏éNSNull‰πãÈó¥Êúâ‰ªÄ‰πàÂå∫Âà´Ôºö NULLÊòØÂÆèÔºåÊòØÂØπ‰∫éCËØ≠Ë®ÄÊåáÈíàËÄå‰ΩøÁî®ÁöÑÔºåË°®Á§∫Á©∫ÊåáÈíà nilÊòØÂÆèÔºåÊòØÂØπ‰∫éObjective-C‰∏≠ÁöÑÂØπË±°ËÄå‰ΩøÁî®ÁöÑÔºåË°®Á§∫ÂØπË±°‰∏∫Á©∫ NilÊòØÂÆèÔºåÊòØÂØπ‰∫éObjective-C‰∏≠ÁöÑÁ±ªËÄå‰ΩøÁî®ÁöÑÔºåË°®Á§∫Á±ªÊåáÂêëÁ©∫ NSNullÊòØÁ±ªÁ±ªÂûãÔºåÊòØÁî®‰∫éË°®Á§∫Á©∫ÁöÑÂç†‰ΩçÂØπË±°Ôºå‰∏éJSÊàñËÄÖÊúçÂä°Á´ØÁöÑnullÁ±ª‰ººÁöÑÂê´ÊÑè Âêë‰∏Ä‰∏™nilÂØπË±°ÂèëÈÄÅÊ∂àÊÅØ‰ºöÂèëÁîü‰ªÄ‰πàÔºü ÂêënilÂèëÈÄÅÊ∂àÊÅØÊòØÂÆåÂÖ®ÊúâÊïàÁöÑ‚Äî‚ÄîÂè™ÊòØÂú®ËøêË°åÊó∂‰∏ç‰ºöÊúâ‰ªª‰Ωï‰ΩúÁî®„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™ÊñπÊ≥ïËøîÂõûÂÄºÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÈÇ£‰πàÂèëÈÄÅÁªônilÁöÑÊ∂àÊÅØÂ∞ÜËøîÂõû0(nil) Â¶ÇÊûúÊñπÊ≥ïËøîÂõûÂÄº‰∏∫ÊåáÈíàÁ±ªÂûãÔºåÂÖ∂ÊåáÈíàÂ§ßÂ∞è‰∏∫Â∞è‰∫éÊàñËÄÖÁ≠â‰∫ésizeof(void*)ÔºåfloatÔºådoubleÔºålong double ÊàñËÄÖlong longÁöÑÊï¥ÂûãÊ†áÈáèÔºåÂèëÈÄÅÁªônilÁöÑÊ∂àÊÅØÂ∞ÜËøîÂõû0„ÄÇ -Â¶ÇÊûúÊñπÊ≥ïËøîÂõûÂÄº‰∏∫ÁªìÊûÑ‰ΩìÔºåÊ≠£Â¶ÇÂú®„ÄäMac OS X ABI ÂáΩÊï∞Ë∞ÉÁî®ÊåáÂçó„ÄãÔºåÂèëÈÄÅÁªônilÁöÑÊ∂àÊÅØÂ∞ÜËøîÂõû0„ÄÇÁªìÊûÑ‰Ωì‰∏≠ÂêÑ‰∏™Â≠óÊÆµÁöÑÂÄºÂ∞ÜÈÉΩÊòØ0„ÄÇÂÖ∂‰ªñÁöÑÁªìÊûÑ‰ΩìÊï∞ÊçÆÁ±ªÂûãÂ∞Ü‰∏çÊòØÁî®0Â°´ÂÖÖÁöÑ„ÄÇ Â¶ÇÊûúÊñπÊ≥ïÁöÑËøîÂõûÂÄº‰∏çÊòØ‰∏äËø∞ÊèêÂà∞ÁöÑÂá†ÁßçÊÉÖÂÜµÔºåÈÇ£‰πàÂèëÈÄÅÁªônilÁöÑÊ∂àÊÅØÁöÑËøîÂõûÂÄºÂ∞ÜÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇ self.Âíåself-&gt;ÁöÑÂå∫Âà´ self.ÊòØË∞ÉÁî®getÊàñËÄÖsetÊñπÊ≥ï selfÊòØÂΩìÂâçÊú¨Ë∫´ÔºåÊòØ‰∏Ä‰∏™ÊåáÂêëÂΩìÂâçÂØπË±°ÁöÑÊåáÈíà self-&gt;ÊòØÁõ¥Êé•ËÆøÈóÆÊàêÂëòÂèòÈáè Á±ªÊñπÊ≥ïÂíåÂÆû‰æãÊñπÊ≥ïÁöÑÊú¨Ë¥®Âå∫Âà´ÂíåËÅîÁ≥ª Á±ªÊñπÊ≥ï ÂÆû‰æãÊñπÊ≥ï Â±û‰∫éÁ±ªÂØπË±° Â±û‰∫éÂÆû‰æãÂØπË±° Âè™ËÉΩÁ±ªÂØπË±°Ë∞ÉÁî® ÂÆû‰æãÂØπË±°Ë∞ÉÁî® selfÊòØÁ±ªÂØπË±° selfÊòØÂÆû‰æãÂØπË±° Á±ªÊñπÊ≥ïÂèØ‰ª•Ë∞ÉÁî®ÂÖ∂‰ªñÁ±ªÊñπÊ≥ï ÂÆû‰æãÊñπÊ≥ïÂèØ‰ª•Ë∞ÉÁî®ÂÆû‰æãÊñπÊ≥ï Á±ªÊñπÊ≥ï‰∏çËÉΩËÆøÈóÆÊàêÂëòÂèòÈáè ÂÆû‰æãÊñπÊ≥ïÂèØ‰ª•ËÆøÈóÆÊàêÂëòÂèòÈáè Á±ªÊñπÊ≥ï‰∏çËÉΩÁõ¥Êé•Ë∞ÉÁî®ÂØπË±°ÊñπÊ≥ï ÂÆû‰æãÊñπÊ≥ïÂèØ‰ª•Ë∞ÉÁî®Á±ªÊñπÊ≥ï _block/weak‰øÆÈ•∞Á¨¶Âå∫Âà´ _blockÂú®arcÂíåmrcÁéØÂ¢É‰∏ãÈÉΩËÉΩÁî®ÔºåÂèØ‰ª•‰øÆÈ•∞ÂØπË±°Ôºå‰πüËÉΩ‰øÆÈ•∞Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã _weakÂè™ËÉΩÂú®arcÁéØÂ¢É‰∏ã‰ΩøÁî®ÔºåÂè™ËÉΩ‰øÆÈ•∞ÂØπË±°(NSString)Ôºå‰∏çËÉΩ‰øÆÈ•∞Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã(int) _blockÂØπË±°ÂèØ‰ª•Âú®block‰∏≠ÈáçÊñ∞ËµãÂÄºÔºå_weak‰∏çË°å„ÄÇ ÂÜô‰∏Ä‰∏™NSStringÁ±ªÁöÑÂÆûÁé∞NSString *str = [[NSString alloc] initWithCString: nullTerminatedCString encoding:encoding]; ‰∏∫‰ªÄ‰πàÊ†áÂáÜÂ§¥Êñá‰ª∂ÈÉΩÊúâÁ±ª‰ºº‰ª•‰∏ãÁöÑÁªìÊûÑÔºü# ifndef __INCvxWorksh # define __INCvxWorksh # ifdef __cplusplus extern "C" { # endif # ifdef __cplusplus } # endif # endif ÊòæÁÑ∂ÔºåÂ§¥Êñá‰ª∂‰∏≠ÁöÑÁºñËØëÂÆè #ifndef __INCvxWorksh„ÄÅ#define __INCvxWorksh„ÄÅ#endif ÁöÑ‰ΩúÁî®ÊòØÈò≤Ê≠¢ËØ•Â§¥Êñá‰ª∂Ë¢´ÈáçÂ§çÂºïÁî® initÂíåinitwithobjectÂå∫Âà´ÔºàËØ≠Ê≥ïÔºâÔºü ÂêéËÄÖÁªôÂ±ûÊÄßËµãÂÄº @propertyÁöÑÊú¨Ë¥®ÊòØ‰ªÄ‰πàÔºüivar„ÄÅgetter„ÄÅsetterÊòØÂ¶Ç‰ΩïÁîüÊàêÂπ∂Ê∑ªÂä†Âà∞Ëøô‰∏™Á±ª‰∏≠ÁöÑÔºü@propertyÁöÑÊú¨Ë¥®Ôºö @property = ivarÔºàÂÆû‰æãÂèòÈáèÔºâ + getterÔºàÂèñÊñπÊ≥ïÔºâ + setterÔºàÂ≠òÊñπÊ≥ïÔºâ ‚ÄúÂ±ûÊÄß‚Äù (property)Êúâ‰∏§Â§ßÊ¶ÇÂøµÔºöivarÔºàÂÆû‰æãÂèòÈáèÔºâ„ÄÅÂ≠òÂèñÊñπÊ≥ïÔºàaccess method Ôºù getter + setterÔºâ ivar„ÄÅgetter„ÄÅsetterÂ¶Ç‰ΩïÁîüÊàêÂπ∂Ê∑ªÂä†Âà∞Á±ª‰∏≠Ôºö ËøôÊòØÁºñËØëÂô®Ëá™Âä®ÂêàÊàêÁöÑÔºåÈÄöËøá@synthesizeÂÖ≥ÈîÆÂ≠óÊåáÂÆöÔºåËã•‰∏çÊåáÂÆöÔºåÈªòËÆ§‰∏∫@synthesize propertyName = _propertyName;Ëã•ÊâãÂä®ÂÆûÁé∞‰∫Ügetter/setterÊñπÊ≥ïÔºåÂàô‰∏ç‰ºöËá™Âä®ÂêàÊàê„ÄÇ Áé∞Âú®ÁºñËØëÂô®Â∑≤ÁªèÈªòËÆ§‰∏∫Êàë‰ª¨Ê∑ªÂä†@synthesize propertyName = _propertyName;Âõ†Ê≠§‰∏çÂÜçÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†‰∫ÜÔºåÈô§Èùû‰Ω†ÁúüÁöÑË¶ÅÊîπÊàêÂëòÂèòÈáèÂêç„ÄÇ ÁîüÊàêgetterÊñπÊ≥ïÊó∂Ôºå‰ºöÂà§Êñ≠ÂΩìÂâçÂ±ûÊÄßÂêçÊòØÂê¶Êúâ_ÔºåÊØîÂ¶ÇÂ£∞ÊòéÂ±ûÊÄß‰∏∫@property (nonatomic, copy) NSString *_name;ÈÇ£‰πàÊâÄÁîüÊàêÁöÑÊàêÂëòÂèòÈáèÂêçÂ∞±‰ºöÂèòÊàê__nameÔºåÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅÊâãÂä®ÁîüÊàêgetterÊñπÊ≥ïÔºåÂ∞±Ë¶ÅÂà§Êñ≠ÊòØÂê¶‰ª•_ÂºÄÂ§¥‰∫Ü„ÄÇ ‰∏çËøáÔºåÂëΩÂêçÈÉΩË¶ÅÊúâËßÑËåÉÔºåÊòØ‰∏çÂÖÅËÆ∏Â£∞ÊòéÂ±ûÊÄßÊòØ‰ΩøÁî®_ÂºÄÂ§¥ÁöÑÔºå‰∏çËßÑËåÉÁöÑÂëΩÂêçÔºåÂú®‰ΩøÁî®runtimeÊó∂Ôºå‰ºöÂ∏¶Êù•ÂæàÂ§öÁöÑ‰∏çÊñπ‰æøÁöÑ„ÄÇ Ëøô‰∏™ÂÜôÊ≥ï‰ºöÂá∫‰ªÄ‰πàÈóÆÈ¢òÔºö@property (copy) NSMutableArray *array; Ê≤°ÊúâÊåáÊòé‰∏∫nonatomicÔºåÂõ†Ê≠§Â∞±ÊòØatomicÂéüÂ≠êÊìç‰ΩúÔºå‰ºöÂΩ±ÂìçÊÄßËÉΩ„ÄÇËØ•Â±ûÊÄß‰ΩøÁî®‰∫ÜÂêåÊ≠•ÈîÅÔºå‰ºöÂú®ÂàõÂª∫Êó∂ÁîüÊàê‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑ‰ª£Á†ÅÁî®‰∫éÂ∏ÆÂä©ÁºñÂÜôÂ§öÁ∫øÁ®ãÁ®ãÂ∫èÔºåËøô‰ºöÂ∏¶Êù•ÊÄßËÉΩÈóÆÈ¢òÔºåÈÄöËøáÂ£∞ÊòénonatomicÂèØ‰ª•ËäÇÁúÅËøô‰∫õËôΩÁÑ∂ÂæàÂ∞è‰ΩÜÊòØ‰∏çÂøÖË¶ÅÈ¢ùÂ§ñÂºÄÈîÄ„ÄÇÂú®Êàë‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÂá†‰πéÈÉΩÊòØ‰ΩøÁî®nonatomicÊù•Â£∞ÊòéÁöÑÔºåÂõ†‰∏∫‰ΩøÁî®atomicÂπ∂‰∏çËÉΩ‰øùËØÅÁªùÂØπÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÔºåÂØπ‰∫éË¶ÅÁªùÂØπ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÊìç‰ΩúÔºåËøòÈúÄË¶Å‰ΩøÁî®Êõ¥È´òÁ∫ßÁöÑÊñπÂºèÊù•Â§ÑÁêÜÔºåÊØîÂ¶ÇNSSpinLock„ÄÅ@syncronizedÁ≠â Âõ†‰∏∫‰ΩøÁî®ÁöÑÊòØcopyÔºåÊâÄÂæóÂà∞ÁöÑÂÆûÈôÖÊòØNSArrayÁ±ªÂûãÔºåÂÆÉÊòØ‰∏çÂèØÂèòÁöÑÔºåËã•Âú®‰ΩøÁî®‰∏≠‰ΩøÁî®‰∫ÜÂ¢û„ÄÅÂà†„ÄÅÊîπÊìç‰ΩúÔºåÂàô‰ºöcrash @protocolÂíåcategory‰∏≠Â¶Ç‰Ωï‰ΩøÁî® @property‚Ä¢ Âú®protocol‰∏≠‰ΩøÁî®@propertyÂè™‰ºöÁîüÊàêsetterÂíågetterÊñπÊ≥ïÂ£∞ÊòéÔºåÊàë‰ª¨‰ΩøÁî®Â±ûÊÄßÁöÑÁõÆÁöÑÊòØÂ∏åÊúõÈÅµÂÆàÊàëÂçèËÆÆÁöÑÂØπË±°ËÉΩÂÆûÁé∞ËØ•Â±ûÊÄß‚Ä¢ category‰ΩøÁî®@property‰πüÊòØÂè™‰ºöÁîüÊàêsetterÂíågetterÊñπÊ≥ïÁöÑÂ£∞ÊòéÔºåÂ¶ÇÊûúÊàë‰ª¨ÁúüÁöÑÈúÄË¶ÅÁªôcategoryÂ¢ûÂä†Â±ûÊÄßÁöÑÂÆûÁé∞ÔºåÈúÄË¶ÅÂÄüÂä©‰∫éËøêË°åÊó∂ÁöÑ‰∏§‰∏™ÂáΩÊï∞Ôºö‚Ä¢ objc_setAssociatedObject‚Ä¢ objc_getAssociatedObject @property‰∏≠ÊúâÂì™‰∫õÂ±ûÊÄßÂÖ≥ÈîÆÂ≠óÔºü1.ÂéüÂ≠êÊÄß ÔºàatomicÔºånonatomicÔºâ2.ËØªÂÜôÔºàreadwrite, readonlyÔºâ3.ÂÜÖÂ≠òÁÆ°ÁêÜÔºàassign, strong, weak, unsafe_unretained,copyÔºâ4.getter„ÄÅsetter isaÊåáÈíàÈóÆÈ¢ò isaÔºöÊòØ‰∏Ä‰∏™Class Á±ªÂûãÁöÑÊåáÈíà. ÊØè‰∏™ÂÆû‰æãÂØπË±°Êúâ‰∏™isaÁöÑÊåáÈíà,‰ªñÊåáÂêëÂØπË±°ÁöÑÁ±ªÔºåËÄåClassÈáå‰πüÊúâ‰∏™isaÁöÑÊåáÈíà, ÊåáÂêëmeteClass(ÂÖÉÁ±ª)„ÄÇÂÖÉÁ±ª‰øùÂ≠ò‰∫ÜÁ±ªÊñπÊ≥ïÁöÑÂàóË°®„ÄÇÂΩìÁ±ªÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂ÔºåÂÖà‰ºö‰ªéÊú¨Ë∫´Êü•ÊâæÁ±ªÊñπÊ≥ïÁöÑÂÆûÁé∞ÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂÖÉÁ±ª‰ºöÂêë‰ªñÁà∂Á±ªÊü•ÊâæËØ•ÊñπÊ≥ï„ÄÇÂêåÊó∂Ê≥®ÊÑèÁöÑÊòØÔºöÂÖÉÁ±ªÔºàmeteClassÔºâ‰πüÊòØÁ±ªÔºåÂÆÉ‰πüÊòØÂØπË±°„ÄÇÂÖÉÁ±ª‰πüÊúâisaÊåáÈíà,ÂÆÉÁöÑisaÊåáÈíàÊúÄÁªàÊåáÂêëÁöÑÊòØ‰∏Ä‰∏™Ê†πÂÖÉÁ±ª(root meteClass).Ê†πÂÖÉÁ±ªÁöÑisaÊåáÈíàÊåáÂêëÊú¨Ë∫´ÔºåËøôÊ†∑ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™Â∞ÅÈó≠ÁöÑÂÜÖÂæ™ÁéØ„ÄÇ Â¶Ç‰ΩïËÆøÈóÆÂπ∂‰øÆÊîπ‰∏Ä‰∏™Á±ªÁöÑÁßÅÊúâÂ±ûÊÄßÔºü ‰∏ÄÁßçÊòØÈÄöËøáKVCËé∑Âèñ ÈÄöËøáruntimeËÆøÈóÆÂπ∂‰øÆÊîπÁßÅÊúâÂ±ûÊÄß Â¶Ç‰Ωï‰∏∫ Class ÂÆö‰πâ‰∏Ä‰∏™ÂØπÂ§ñÂè™ËØªÂØπÂÜÖÂèØËØªÂÜôÁöÑÂ±ûÊÄß?Âú®Â§¥Êñá‰ª∂‰∏≠Â∞ÜÂ±ûÊÄßÂÆö‰πâ‰∏∫readonly,Âú®.mÊñá‰ª∂‰∏≠Â∞ÜÂ±ûÊÄßÈáçÊñ∞ÂÆö‰πâ‰∏∫readwrite Objective-C ‰∏≠Ôºåmeta-class ÊåáÁöÑÊòØ‰ªÄ‰πàÔºümeta-class ÊòØ Class ÂØπË±°ÁöÑÁ±ª,‰∏∫Ëøô‰∏™ClassÁ±ªÂ≠òÂÇ®Á±ªÊñπÊ≥ï,ÂΩì‰∏Ä‰∏™Á±ªÂèëÈÄÅÊ∂àÊÅØÊó∂,Â∞±ÂéªËøô‰∏™Á±ªÂØπÂ∫îÁöÑmeta-class‰∏≠Êü•ÊâæÈÇ£‰∏™Ê∂àÊÅØ,ÊØè‰∏™ClassÈÉΩÊúâ‰∏çÂêåÁöÑmeta-class,ÊâÄÊúâÁöÑmeta-classÈÉΩ‰ΩøÁî®Âü∫Á±ªÁöÑmeta-class(ÂÅáÂ¶ÇÁ±ªÁªßÊâøNSObject,ÈÇ£‰πà‰ªñÊâÄÂØπÂ∫îÁöÑmeta-class‰πüÊòØNSObject)‰Ωú‰∏∫‰ªñ‰ª¨ÁöÑÁ±ª Objective-C ÁöÑclassÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºüSelectorÊòØÂ¶Ç‰ΩïË¢´ËΩ¨Âåñ‰∏∫ C ËØ≠Ë®ÄÁöÑÂáΩÊï∞Ë∞ÉÁî®ÁöÑÔºü ÂΩì‰∏Ä‰∏™Á±ªË¢´Ê≠£Á°ÆÁöÑÁºñËØëËøáÂêéÔºåÂú®Ëøô‰∏™ÁºñËØëÊàêÂäüÁöÑÁ±ªÈáåÈù¢ÔºåÂ≠òÂú®‰∏Ä‰∏™ÂèòÈáèÁî®‰∫é‰øùÂ≠òËøô‰∏™Á±ªÁöÑ‰ø°ÊÅØ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá[NSClassFromString]Êàñ[obj class]„ÄÇËøôÊ†∑ÁöÑÊú∫Âà∂ÂÖÅËÆ∏Êàë‰ª¨Âú®Á®ãÂ∫èÊâßË°åÁöÑËøáÁ®ãÂΩì‰∏≠ÔºåÂèØ‰ª•ClassÊù•ÂæóÂà∞ÂØπË±°ÁöÑÁ±ªÔºå‰πüÂèØ‰ª•Âú®Á®ãÂ∫èÊâßË°åÁöÑÈò∂ÊÆµÂä®ÊÄÅÁöÑÁîüÊàê‰∏Ä‰∏™Âú®ÁºñËØëÈò∂ÊÆµÊó†Ê≥ïÁ°ÆÂÆöÁöÑ‰∏Ä‰∏™ÂØπË±°„ÄÇ ÔºàisaÊåáÈíàÔºâ @selector()Âü∫Êú¨ÂèØ‰ª•Á≠âÂêåCËØ≠Ë®ÄÁöÑ‰∏≠ÂáΩÊï∞ÊåáÈíà,Âè™‰∏çËøáCËØ≠Ë®Ä‰∏≠ÔºåÂèØ‰ª•ÊääÂáΩÊï∞ÂêçÁõ¥Êé•ËµãÁªô‰∏Ä‰∏™ÂáΩÊï∞ÊåáÈíàÔºåËÄåObject-CÁöÑÁ±ª‰∏çËÉΩÁõ¥Êé•Â∫îÁî®ÂáΩÊï∞ÊåáÈíàÔºåËøôÊ†∑Âè™ËÉΩÂÅö‰∏Ä‰∏™@selectorËØ≠Ê≥ïÊù•Âèñ. @interface foo -(int)add:int val; @end SEL class_func ; //ÂÆö‰πâ‰∏Ä‰∏™Á±ªÊñπÊ≥ïÊåáÈíà class_func = @selector(add:int); @selectorÊòØÊü•ÊâæÂΩìÂâçÁ±ªÁöÑÊñπÊ≥ïÔºåËÄå[object @selector(ÊñπÊ≥ïÂêç:ÊñπÊ≥ïÂèÇÊï∞..) ] ;ÊòØÂèñobjectÂØπÂ∫îÁ±ªÁöÑÁõ∏Â∫îÊñπÊ≥ï. Êü•ÊâæÁ±ªÊñπÊ≥ïÊó∂ÔºåÈô§‰∫ÜÊñπÊ≥ïÂêç,ÊñπÊ≥ïÂèÇÊï∞‰πüÊü•ËØ¢Êù°‰ª∂‰πã‰∏Ä. ÂèØ‰ª•Áî®Â≠óÁ¨¶‰∏≤Êù•ÊâæÊñπÊ≥ï SEL ÂèòÈáèÂêç = NSSelectorFromString(ÊñπÊ≥ïÂêçÂ≠óÁöÑÂ≠óÁ¨¶‰∏≤); ÂèØ‰ª•ËøêË°å‰∏≠Áî®SELÂèòÈáèÂèçÂêëÊü•Âá∫ÊñπÊ≥ïÂêçÂ≠óÂ≠óÁ¨¶‰∏≤„ÄÇNSString *ÂèòÈáèÂêç = NSStringFromSelector(SELÂèÇÊï∞); ÂèñÂà∞selectorÁöÑÂÄº‰ª•ÂêéÔºåÊâßË°åseletor„ÄÇ SELÂèòÈáèÁöÑÊâßË°å.Áî®performSelecorÊñπÊ≥ïÊù•ÊâßË°å. [ÂØπË±° performSelector:SELÂèòÈáè withObject:ÂèÇÊï∞1 withObject:ÂèÇÊï∞2]; ÂØπ‰∫éËØ≠Âè•NSString *obj = [[NSData alloc] init]; ÔºåÁºñËØëÊó∂ÂíåËøêË°åÊó∂objÂàÜÂà´ÊòØ‰ªÄ‰πàÁ±ªÂûãÔºü ÁºñËØëÊó∂ÊòØNSStringÁ±ªÂûã ÔºåËøêË°åÊó∂ÊòØNSDataÁ±ªÂûã. @synthesizeÂíå@dynamicÂàÜÂà´Êúâ‰ªÄ‰πà‰ΩúÁî®ÔºüÁ≠î: @propertyÊúâ‰∏§‰∏™ÂØπÂ∫îÁöÑËØçÔºå‰∏Ä‰∏™ÊòØ @synthesizeÔºå‰∏Ä‰∏™ÊòØ @dynamic„ÄÇÂ¶ÇÊûú @synthesizeÂíå @dynamicÈÉΩÊ≤°ÂÜôÔºåÈÇ£‰πàÈªòËÆ§ÁöÑÂ∞±ÊòØ@syntheszie var = _var; @synthesize ÁöÑËØ≠‰πâÊòØÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÊâãÂä®ÂÆûÁé∞ setter ÊñπÊ≥ïÂíå getter ÊñπÊ≥ïÔºåÈÇ£‰πàÁºñËØëÂô®‰ºöËá™Âä®‰∏∫‰Ω†Âä†‰∏äËøô‰∏§‰∏™ÊñπÊ≥ï„ÄÇ @dynamic ÂëäËØâÁºñËØëÂô®ÔºöÂ±ûÊÄßÁöÑ setter ‰∏é getter ÊñπÊ≥ïÁî±Áî®Êà∑Ëá™Â∑±ÂÆûÁé∞Ôºå‰∏çËá™Âä®ÁîüÊàê„ÄÇÔºàÂΩìÁÑ∂ÂØπ‰∫é readonly ÁöÑÂ±ûÊÄßÂè™ÈúÄÊèê‰æõ getter Âç≥ÂèØÔºâ„ÄÇÂÅáÂ¶Ç‰∏Ä‰∏™Â±ûÊÄßË¢´Â£∞Êòé‰∏∫ @dynamic varÔºåÁÑ∂Âêé‰Ω†Ê≤°ÊúâÊèê‰æõ @setterÊñπÊ≥ïÂíå @getter ÊñπÊ≥ïÔºåÁºñËØëÁöÑÊó∂ÂÄôÊ≤°ÈóÆÈ¢òÔºå‰ΩÜÊòØÂΩìÁ®ãÂ∫èËøêË°åÂà∞ instance.var = someVarÔºåÁî±‰∫éÁº∫ setter ÊñπÊ≥ï‰ºöÂØºËá¥Á®ãÂ∫èÂ¥©Ê∫ÉÔºõÊàñËÄÖÂΩìËøêË°åÂà∞ someVar = var Êó∂ÔºåÁî±‰∫éÁº∫ getter ÊñπÊ≥ïÂêåÊ†∑‰ºöÂØºËá¥Â¥©Ê∫É„ÄÇÁºñËØëÊó∂Ê≤°ÈóÆÈ¢òÔºåËøêË°åÊó∂ÊâçÊâßË°åÁõ∏Â∫îÁöÑÊñπÊ≥ïÔºåËøôÂ∞±ÊòØÊâÄË∞ìÁöÑÂä®ÊÄÅÁªëÂÆö„ÄÇ NSString ÁöÑÊó∂ÂÄôÁî®copyÂíåstrongÁöÑÂå∫Âà´ÔºüOC‰∏≠NSString‰∏∫‰∏çÂèØÂèòÂ≠óÁ¨¶‰∏≤ÁöÑÊó∂ÂÄôÔºåÁî®copyÂíåstrongÈÉΩÊòØÂè™ÂàÜÈÖç‰∏ÄÊ¨°ÂÜÖÂ≠òÔºå‰ΩÜÊòØÂ¶ÇÊûúÁî®copyÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂÖàÂà§Êñ≠Â≠óÁ¨¶‰∏≤ÊòØÂê¶ÊòØ‰∏çÂèØÂèòÂ≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÊòØ‰∏çÂèØÂèòÂ≠óÁ¨¶‰∏≤ÔºåÂ∞±‰∏çÂÜçÂàÜÈÖçÁ©∫Èó¥ÔºåÂ¶ÇÊûúÊòØÂèØÂèòÂ≠óÁ¨¶‰∏≤ÊâçÂàÜÈÖçÁ©∫Èó¥„ÄÇÂ¶ÇÊûúÁ®ãÂ∫è‰∏≠Áî®Âà∞NSStringÁöÑÂú∞ÊñπÁâπÂà´Â§öÔºåÊØè‰∏ÄÊ¨°ÈÉΩË¶ÅÂÖàËøõË°åÂà§Êñ≠Â∞±‰ºöËÄóË¥πÊÄßËÉΩÔºåÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™åÔºåÁî®strongÂ∞±‰∏ç‰ºöÂÜçËøõË°åÂà§Êñ≠ÔºåÊâÄ‰ª•Ôºå‰∏çÂèØÂèòÂ≠óÁ¨¶‰∏≤ÂèØ‰ª•Áõ¥Êé•Áî®strong„ÄÇ NSArray„ÄÅNSSet„ÄÅNSDictionary‰∏éNSMutableArray„ÄÅNSMutableSet„ÄÅNSMutableDictionaryÁöÑÁâπÊÄßÂíå‰ΩúÁî®ÔºàÈÅáÂà∞copy‰øÆÈ•∞‰∫ßÁîüÁöÑÂèòÂåñÔºâ ÁâπÊÄßÔºö NSArrayË°®Á§∫‰∏çÂèØÂèòÊï∞ÁªÑÔºåÊòØÊúâÂ∫èÂÖÉÁ¥†ÈõÜÔºåÂè™ËÉΩÂ≠òÂÇ®ÂØπË±°Á±ªÂûãÔºåÂèØÈÄöËøáÁ¥¢ÂºïÁõ¥Êé•ËÆøÈóÆÂÖÉÁ¥†ÔºåËÄå‰∏îÂÖÉÁ¥†Á±ªÂûãÂèØ‰ª•‰∏ç‰∏ÄÊ†∑Ôºå‰ΩÜÊòØ‰∏çËÉΩËøõË°åÂ¢û„ÄÅÂà†„ÄÅÊîπÊìç‰ΩúÔºõNSMutableArrayÊòØÂèØÂèòÊï∞ÁªÑÔºåËÉΩËøõË°åÂ¢û„ÄÅÂà†„ÄÅÊîπÊìç‰Ωú„ÄÇÈÄöËøáÁ¥¢ÂºïÊü•ËØ¢ÂÄºÂæàÂø´Ôºå‰ΩÜÊòØÊèíÂÖ•„ÄÅÂà†Èô§Á≠âÊïàÁéáÂæà‰Ωé„ÄÇ NSSetË°®Á§∫‰∏çÂèØÂèòÈõÜÂêàÔºåÂÖ∑ÊúâÁ°ÆÂÆöÊÄß„ÄÅ‰∫íÂºÇÊÄß„ÄÅÊó†Â∫èÊÄßÁöÑÁâπÁÇπÔºåÂè™ËÉΩËÆøÈóÆËÄå‰∏çËÉΩ‰øÆÊîπÈõÜÂêàÔºõNSMutableSetË°®Á§∫ÂèØÂèòÈõÜÂêàÔºåÂèØ‰ª•ÂØπÈõÜÂêàËøõË°åÂ¢û„ÄÅÂà†„ÄÅÊîπÊìç‰Ωú„ÄÇÈõÜÂêàÈÄöËøáÂÄºÊü•ËØ¢ÂæàÂø´ÔºåÊèíÂÖ•„ÄÅÂà†Èô§Êìç‰ΩúÊûÅÂø´„ÄÇ NSDictionaryË°®Á§∫‰∏çÂèØÂèòÂ≠óÂÖ∏ÔºåÂÖ∑ÊúâÊó†Â∫èÊÄßÁöÑÁâπÁÇπÔºåÊØè‰∏™keyÂØπÂ∫îÁöÑÂÄºÊòØÂîØ‰∏ÄÁöÑÔºåÂèØÈÄöËøákeyÁõ¥Êé•Ëé∑ÂèñÂÄºÔºõNSMutableDictionaryË°®Á§∫ÂèØÂèòÂ≠óÂÖ∏ÔºåËÉΩÂØπÂ≠óÂÖ∏ËøõË°åÂ¢û„ÄÅÂà†„ÄÅÊîπÊìç‰Ωú„ÄÇÈÄöËøákeyÊü•ËØ¢ÂÄº„ÄÅÊèíÂÖ•„ÄÅÂà†Èô§ÂÄºÈÉΩÂæàÂø´„ÄÇ ‰ΩúÁî®Ôºö Êï∞ÁªÑÁî®‰∫éÂ§ÑÁêÜ‰∏ÄÁªÑÊúâÂ∫èÁöÑÊï∞ÊçÆÈõÜÔºåÊØîÂ¶ÇÂ∏∏Áî®ÁöÑÂàóË°®ÁöÑdataSourceË¶ÅÊ±ÇÊúâÂ∫èÔºåÂèØÈÄöËøáÁ¥¢ÂºïÁõ¥Êé•ËÆøÈóÆÔºåÊïàÁéáÈ´ò„ÄÇ ÈõÜÂêàË¶ÅÊ±ÇÂÖ∑ÊúâÁ°ÆÂÆöÊÄß„ÄÅ‰∫íÂºÇÊÄß„ÄÅÊó†Â∫èÊÄßÔºåÂú®iOSÂºÄÂèë‰∏≠ÊòØÊØîËæÉÂ∞ë‰ΩøÁî®Âà∞ÁöÑÔºåÁ¨îËÄÖ‰πü‰∏çÊ∏ÖÊ•öÂ¶Ç‰ΩïËØ¥ÊòéÂÖ∂‰ΩúÁî® Â≠óÂÖ∏ÊòØÈîÆÂÄºÂØπÊï∞ÊçÆÈõÜÔºåÊìç‰ΩúÂ≠óÂÖ∏ÊïàÁéáÊûÅÈ´òÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫Â∏∏ÈáèÔºå‰ΩÜÊòØÂÄºÊòØÊó†Â∫èÁöÑ„ÄÇÂú®ios‰∏≠ÔºåÂ∏∏ËßÅÁöÑJSONËΩ¨Â≠óÂÖ∏ÔºåÂ≠óÂÖ∏ËΩ¨Ê®°ÂûãÂ∞±ÊòØÂÖ∂‰∏≠‰∏ÄÁßçÂ∫îÁî®„ÄÇ ËØ∑ÊääÂ≠óÁ¨¶‰∏≤2015-04-10Ê†ºÂºèÂåñÊó•ÊúüËΩ¨‰∏∫NSDateÁ±ªÂûãNSString *timeStr = @"2015-04-10"; NSDateFormatter *formatter = [[NSDateFormatter alloc] init]; formatter.dateFormat = @"yyyy-MM-dd"; formatter.timeZone = [NSTimeZone defaultTimeZone]; NSDate *date = [formatter dateFromString:timeStr]; // 2015-04-09 16:00:00 +0000 NSLog(@"%@", date); Âú®‰∏Ä‰∏™ÂØπË±°ÁöÑÊñπÊ≥ïÈáåÔºö[self.name=@object] Âíåname=@objectÊúâ‰ªÄ‰πà‰∏çÂêå ËøôÊòØËÄÅÁîüÂ∏∏Ë∞àÁöÑËØùÈ¢ò‰∫ÜÔºåÂÆûË¥®‰∏äÂ∞±ÊòØÈóÆsetterÊñπÊ≥ïËµãÂÄº‰∏éÊàêÂëòÂèòÈáèËµãÂÄºÊúâ‰ªÄ‰πà‰∏çÂêå„ÄÇÈÄöËøáÁÇπËØ≠Ê≥ïself.nameÂÆûË¥®‰∏äÂ∞±ÊòØ [self setName:@object];„ÄÇËÄånameËøôÈáåÊòØÊàêÂëòÂèòÈáèÔºåÁõ¥Êé•ËµãÂÄº„ÄÇ ‰∏ÄËà¨Êù•ËØ¥ÔºåÂú®ÂØπË±°ÁöÑÊñπÊ≥ïÈáåÊàêÂëòÂèòÈáèÂíåÊñπÊ≥ïÈÉΩÊòØÂèØ‰ª•ËÆøÈóÆÁöÑÔºåÊàë‰ª¨ÈÄöÂ∏∏‰ºöÈáçÂÜôSetterÊñπÊ≥ïÊù•ÊâßË°åÊüê‰∫õÈ¢ùÂ§ñÁöÑÂ∑•‰Ωú„ÄÇÊØîÂ¶ÇËØ¥ÔºåÂ§ñÈÉ®‰º†‰∏Ä‰∏™Ê®°ÂûãËøáÊù•ÔºåÈÇ£‰πàÊàë‰ºöÁõ¥Êé•ÈáçÂÜôSetterÊñπÊ≥ïÔºåÂΩìÊ®°Âûã‰º†ËøáÊù•Êó∂Ôºå‰πüÂ∞±ÊòØÊÑèÂë≥ÁùÄÊï∞ÊçÆÂèëÁîü‰∫ÜÂèòÂåñÔºåÈÇ£‰πàËßÜÂõæ‰πüÈúÄË¶ÅÊõ¥Êñ∞ÊòæÁ§∫ÔºåÂàôÂú®ËµãÂÄºÊñ∞Ê®°ÂûãÁöÑÂêåÊó∂‰πüÂéªÂà∑Êñ∞UI„ÄÇËøôÊ†∑‰πü‰∏çÁî®ÂÜçÈ¢ùÂ§ñÊèê‰æõÂÖ∂‰ªñÊñπÊ≥ï‰∫Ü„ÄÇ ÊÄéÊ†∑‰ΩøÁî®performSelector‰º†ÂÖ•3‰∏™‰ª•‰∏äÂèÇÊï∞ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™‰∏∫ÁªìÊûÑ‰Ωì- (id)performSelector:(SEL)aSelector; - (id)performSelector:(SEL)aSelector withObject:(id)object; - (id)performSelector:(SEL)aSelector withObject:(id)object1 withObject:(id)object2; Âõ†‰∏∫Á≥ªÁªüÊèê‰æõÁöÑperformSelectorÁöÑapi‰∏≠ÔºåÂπ∂Ê≤°ÊúâÊèê‰æõ‰∏â‰∏™ÂèÇÊï∞„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨Âè™ËÉΩ‰º†Êï∞ÁªÑÊàñËÄÖÂ≠óÂÖ∏Ôºå‰ΩÜÊòØÊï∞ÁªÑÊàñËÄÖÂ≠óÂÖ∏Âè™ÊúâÂ≠òÂÖ•ÂØπË±°Á±ªÂûãÔºåËÄåÁªìÊûÑ‰ΩìÂπ∂‰∏çÊòØÂØπË±°Á±ªÂûãÔºåÈÇ£‰πàÊÄé‰πàÂäûÂë¢Ôºü Ê≤°ÊúâÂäûÊ≥ïÔºåÊàë‰ª¨Âè™ËÉΩÈÄöËøáÂØπË±°ÊîæÂÖ•ÁªìÊûÑ‰Ωú‰∏∫Â±ûÊÄßÊù•‰º†ËøáÂéª‰∫ÜÔºö ypedef struct HYBStruct { int a; int b; } *my_struct; @interface HYBObject : NSObject @property (nonatomic, assign) my_struct arg3; @property (nonatomic, copy) NSString *arg1; @property (nonatomic, copy) NSString *arg2; @end @implementation HYBObject // Âú®Â†Ü‰∏äÂàÜÈÖçÁöÑÂÜÖÂ≠òÔºåÊàë‰ª¨Ë¶ÅÊâãÂä®ÈáäÊîæÊéâ - (void)dealloc { free(self.arg3); } @end ÊµãËØïÔºö my_struct str = (my_struct)(malloc(sizeof(my_struct))); str->a = 1; str->b = 2; HYBObject *obj = [[HYBObject alloc] init]; obj.arg1 = @"arg1"; obj.arg2 = @"arg2"; obj.arg3 = str; [self performSelector:@selector(call:) withObject:obj]; // Âú®ÂõûË∞ÉÊó∂ÂæóÂà∞Ê≠£Á°ÆÁöÑÊï∞ÊçÆÁöÑ - (void)call:(HYBObject *)obj { NSLog(@"%d %d", obj.arg3->a, obj.arg3->b); } objc‰∏≠Âêë‰∏Ä‰∏™ÂØπË±°ÂèëÈÄÅÊ∂àÊÅØ[obj foo]Âíåobjc_msgSend()ÂáΩÊï∞‰πãÈó¥Êúâ‰ªÄ‰πàÂÖ≥Á≥ªÔºüÂÆûÈôÖ‰∏äÔºåÁºñËØëÂô®Âú®ÁºñËØëÊó∂‰ºöËΩ¨Êç¢Êàêobjc_msgSendÔºåÂ§ßÊ¶Ç‰ºöÂÉèËøôÊ†∑Ôºö ((void (*)(id, SEL))(void)objc_msgSend)((id)obj, sel_registerName("foo")); ‰πüÂ∞±ÊòØËØ¥Ôºå[obj foo];Âú®objcÂä®ÊÄÅÁºñËØëÊó∂Ôºå‰ºöË¢´ËΩ¨Êç¢‰∏∫Ôºöobjc_msgSend(obj, @selector(foo));ËøôÊ†∑ÁöÑÂΩ¢ÂºèÔºå‰ΩÜÊòØÈúÄË¶ÅÊ†πÊçÆÂÖ∑‰ΩìÁöÑÂèÇÊï∞Á±ªÂûãÂèäËøîÂõûÂÄºÁ±ªÂûãËøõË°åÁõ∏Â∫îÁöÑÁ±ªÂûãËΩ¨Êç¢„ÄÇ ‰∏ãÈù¢ÁöÑ‰ª£Á†ÅËæìÂá∫‰ªÄ‰πàÔºü@implementation Son : Father - (id)init { self = [super init]; if (self) { NSLog(@"%@", NSStringFromClass([self class])); NSLog(@"%@", NSStringFromClass([super class])); } return self; } @end // ËæìÂá∫ NSStringFromClass([self class]) = Son NSStringFromClass([super class]) = Son Ëøô‰∏™È¢òÁõÆ‰∏ªË¶ÅÊòØËÄÉÂØüÂÖ≥‰∫éObjective-C‰∏≠ÂØπselfÂíåsuperÁöÑÁêÜËß£„ÄÇÊàë‰ª¨ÈÉΩÁü•ÈÅìÔºöselfÊòØÁ±ªÁöÑÈöêËóèÂèÇÊï∞ÔºåÊåáÂêëÂΩìÂâçË∞ÉÁî®ÊñπÊ≥ïÁöÑËøô‰∏™Á±ªÁöÑÂÆû‰æã„ÄÇÈÇ£superÂë¢ÔºüÂæàÂ§ö‰∫∫‰ºöÊÉ≥ÂΩìÁÑ∂ÁöÑËÆ§‰∏∫‚ÄúsuperÂíåselfÁ±ª‰ººÔºåÂ∫îËØ•ÊòØÊåáÂêëÁà∂Á±ªÁöÑÊåáÈíàÂêßÔºÅ‚Äù„ÄÇËøôÊòØÂæàÊôÆÈÅçÁöÑ‰∏Ä‰∏™ËØØÂå∫„ÄÇÂÖ∂ÂÆû superÊòØ‰∏Ä‰∏™ Magic KeywordÔºåÂÆÉÊú¨Ë¥®ÊòØ‰∏Ä‰∏™ÁºñËØëÂô®Ê†áÁ§∫Á¨¶ÔºåÂíåself ÊòØÊåáÂêëÁöÑÂêå‰∏Ä‰∏™Ê∂àÊÅØÊé•ÂèóËÄÖÔºÅ‰ªñ‰ª¨‰∏§‰∏™ÁöÑ‰∏çÂêåÁÇπÂú®‰∫éÔºösuper‰ºöÂëäËØâÁºñËØëÂô®ÔºåË∞ÉÁî®class Ëøô‰∏™ÊñπÊ≥ïÊó∂ÔºåË¶ÅÂéªÁà∂Á±ªÁöÑÊñπÊ≥ïÔºåËÄå‰∏çÊòØÊú¨Á±ªÈáåÁöÑ„ÄÇ ‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏çÁÆ°Ë∞ÉÁî®[self class]ËøòÊòØ[super class]ÔºåÊé•ÂèóÊ∂àÊÅØÁöÑÂØπË±°ÈÉΩÊòØÂΩìÂâç Son Ôºäxxx Ëøô‰∏™ÂØπË±°„ÄÇÂΩì‰ΩøÁî®selfË∞ÉÁî®ÊñπÊ≥ïÊó∂Ôºå‰ºö‰ªéÂΩìÂâçÁ±ªÁöÑÊñπÊ≥ïÂàóË°®‰∏≠ÂºÄÂßãÊâæÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂ∞±‰ªéÁà∂Á±ª‰∏≠ÂÜçÊâæÔºõËÄåÂΩì‰ΩøÁî®superÊó∂ÔºåÂàô‰ªéÁà∂Á±ªÁöÑÊñπÊ≥ïÂàóË°®‰∏≠ÂºÄÂßãÊâæ„ÄÇÁÑ∂ÂêéË∞ÉÁî®Áà∂Á±ªÁöÑËøô‰∏™ÊñπÊ≥ï„ÄÇ Ëã•‰∏Ä‰∏™Á±ªÊúâÂÆû‰æãÂèòÈáèNSString *_fooÔºåË∞ÉÁî®setValue:forKey:Êó∂ÔºåÂèØ‰ª•‰ª•fooËøòÊòØ_foo‰Ωú‰∏∫keyÔºü ‰∏§ËÄÖÈÉΩÂèØ‰ª•„ÄÇ ‰ªÄ‰πàÊó∂ÂÄô‰ΩøÁî®NSMutableArrayÔºå‰ªÄ‰πàÊó∂ÂÄô‰ΩøÁî®NSArray? ÂΩìÊï∞ÁªÑÂú®Á®ãÂ∫èËøêË°åÊó∂ÔºåÈúÄË¶Å‰∏çÊñ≠ÂèòÂåñÁöÑÔºå‰ΩøÁî®NSMutableArrayÔºåÂΩìÊï∞ÁªÑÂú®ÂàùÂßãÂåñÂêéÔºå‰æø‰∏çÂÜçÊîπÂèòÁöÑÔºå‰ΩøÁî®NSArray„ÄÇÈúÄË¶ÅÊåáÂá∫ÁöÑÊòØÔºå‰ΩøÁî®NSArrayÂè™Ë°®ÊòéÁöÑÊòØËØ•Êï∞ÁªÑÂú®ËøêË°åÊó∂‰∏çÂèëÁîüÊîπÂèòÔºåÂç≥‰∏çËÉΩÂæÄNSAarryÁöÑÊï∞ÁªÑÈáåÊñ∞Â¢ûÂíåÂà†Èô§ÂÖÉÁ¥†Ôºå‰ΩÜ‰∏çË°®ÊòéÂÖ∂Êï∞ÁªÑÂÖßÁöÑÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ‰∏çËÉΩÂèëÁîüÊîπÂèò„ÄÇNSArrayÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåNSMutableArray‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂ§öÁ∫øÁ®ã‰ΩøÁî®Âà∞NSMutableArrayÈúÄË¶ÅÊ≥®ÊÑè„ÄÇ Á±ªNSObjectÁöÑÈÇ£‰∫õÊñπÊ≥ïÁªèÂ∏∏Ë¢´‰ΩøÁî®? NSObjectÊòØObjetive-CÁöÑÂü∫Á±ªÔºåÂÖ∂Áî±NSObjectÁ±ªÂèä‰∏ÄÁ≥ªÂàóÂçèËÆÆÊûÑÊàê„ÄÇ ÂÖ∂‰∏≠Á±ªÊñπÊ≥ïalloc„ÄÅclass„ÄÅ description ÂØπË±°ÊñπÊ≥ïinit„ÄÅdealloc„ÄÅ‚Äì performSelector:withObject:afterDelay:Á≠âÁªèÂ∏∏Ë¢´‰ΩøÁî® ‰ªÄ‰πàÊòØÁÆÄ‰æøÊûÑÈÄ†ÊñπÊ≥ï? ÁÆÄ‰æøÊûÑÈÄ†ÊñπÊ≥ï‰∏ÄËà¨Áî±CocoaTouchÊ°ÜÊû∂Êèê‰æõÔºåÂ¶ÇNSNumberÁöÑ`objc numberWithBool: numberWithChar: numberWithDouble: numberWithFloat: numberWithInt:` Foundation‰∏ãÂ§ßÈÉ®ÂàÜÁ±ªÂùáÊúâÁÆÄ‰æøÊûÑÈÄ†ÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁÆÄ‰æøÊûÑÈÄ†ÊñπÊ≥ïÔºåËé∑ÂæóÁ≥ªÁªüÁªôÊàë‰ª¨ÂàõÂª∫Â•ΩÁöÑÂØπË±°ÔºåÂπ∂‰∏î‰∏çÈúÄË¶ÅÊâãÂä®ÈáäÊîæ„ÄÇ ‰ªÄ‰πàÊòØÊûÑÈÄ†ÊñπÊ≥ïÔºå‰ΩøÁî®ÊûÑÈÄ†ÊñπÊ≥ïÊúâ‰ªÄ‰πàÊ≥®ÊÑèÁÇπ„ÄÇ‰ªÄ‰πàÊòØÊûÑÈÄ†ÊñπÊ≥ïÔºöÊûÑÈÄ†ÊñπÊ≥ïÊòØÂØπË±°ÂàùÂßãÂåñÂπ∂‰∏Ä‰∏™ÂÆû‰æãÁöÑÊñπÊ≥ï„ÄÇ ÊûÑÈÄ†ÊñπÊ≥ïÊúâ‰ªÄ‰πàÁî®Ôºö ‰∏ÄËà¨Âú®ÊûÑÈÄ†ÊñπÊ≥ïÈáå ÂØπÁ±ªËøõË°å‰∏Ä‰∫õÂàùÂßãÂåñÊìç‰Ωú Ê≥®ÊÑèÁÇπÔºöÊñπÊ≥ïÂºÄÂ§¥ÂøÖÈ°ª‰ª•initÂºÄÂ§¥ÔºåÊé•‰∏ãÊù•ÂêçÁß∞Ë¶ÅÂ§ßÂÜô ‰æãÂ¶Ç initWithName ÔºåinitLayout ÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÈúÄË¶ÅÁªèËøáÈÇ£‰∏â‰∏™Ê≠•È™§Ôºü ÂºÄËæüÂÜÖÂ≠òÁ©∫Èó¥ ÂàùÂßãÂåñÂèÇÊï∞ ËøîÂõûÂÜÖÂ≠òÂú∞ÂùÄÂÄº GetÊñπÊ≥ïÁöÑ‰ΩúÁî®ÊòØ‰ªÄ‰πàÔºüGetÊñπÊ≥ïÁöÑ‰ΩúÁî®Ôºö‰∏∫Ë∞ÉÁî®ËÄÖËøîÂõûÂØπË±°ÂÜÖÈÉ®ÁöÑÊàêÂëòÂèòÈáè SetÊñπÊ≥ïÁöÑ‰ΩúÁî®ÊòØ‰ªÄ‰πàÔºüSetÊñπÊ≥ïÁöÑÂ•ΩÂ§ÑÔºü SetÊñπÊ≥ïÁöÑ‰ΩúÁî®Ôºö‰∏∫Â§ñÁïåÊèê‰æõ‰∏Ä‰∏™ËÆæÁΩÆÊàêÂëòÂèòÈáèÂÄºÁöÑÊñπÊ≥ï„ÄÇ SetÊñπÊ≥ïÁöÑÂ•ΩÂ§ÑÔºö ‰∏çËÆ©Êï∞ÊçÆÊö¥Èú≤Âú®Â§ñÔºå‰øùËØÅ‰∫ÜÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄß ÂØπËÆæÁΩÆÁöÑÊï∞ÊçÆËøõË°åËøáÊª§ ÁªìÊûÑ‰ΩìÂΩì‰∏≠ËÉΩÂÆö‰πâocÂØπË±°ÂêóÔºü‰∏çËÉΩ, Âõ†‰∏∫ÁªìÊûÑ‰ΩìÂΩì‰∏≠Âè™ËÉΩÊòØÁ±ªÂûãÁöÑÂ£∞Êòé‰∏çËÉΩËøõË°åÂàÜÈÖçÁ©∫Èó¥ ÁÇπËØ≠Ê≥ïÊú¨Ë¥®ÊòØ‰ªÄ‰πà,ÂÜô‰∏Ä‰∏™ÁÇπËØ≠Ê≥ïÁöÑ‰æãÂ≠ê,Âπ∂ÂÜô‰∏äÊ≥®Èáä ÁÇπËØ≠Ê≥ïÁöÑÊú¨Ë¥®ÊòØÊñπÊ≥ïÁöÑË∞ÉÁî®ÔºåËÄå‰∏çÊòØËÆøÈóÆÊàêÂëòÂèòÈáèÔºåÂΩì‰ΩøÁî®ÁÇπËØ≠Ê≥ïÊó∂ÔºåÁºñËØëÂô®‰ºöËá™Âä®Â±ïÂºÄÊàêÁõ∏Â∫îÁöÑÊñπÊ≥ï„ÄÇÂàáËÆ∞ÁÇπËØ≠Ê≥ïÁöÑÊú¨Ë¥®ÊòØËΩ¨Êç¢ÊàêÁõ∏Â∫îÁöÑsetÂíågetÊñπÊ≥ïÔºåÂ¶ÇÊûúÊ≤°ÊúâsetÂíågetÊñπÊ≥ïÔºåÂàô‰∏çËÉΩ‰ΩøÁî®ÁÇπËØ≠Ê≥ï„ÄÇ ‰æãÂ¶ÇÊúâ‰∏Ä‰∏™PersonÁ±ª ÈÄöËøá@propertyÂÆö‰πâ‰∫ÜnameÂíåageÂ±ûÊÄß,ÂÜçÊèê‰æõ‰∫Ü‰∏Ä‰∏™runÊñπÊ≥ï„ÄÇ Person *person = [Person new]; person.name=@‚Äùsk666‚Äù;//Ë∞ÉÁî®‰∫ÜpersonÁöÑsetNameÊñπÊ≥ï int age = person.age; // Ë∞ÉÁî®‰∫ÜpersonÁöÑageÊñπÊ≥ï person.run //Ë∞ÉÁî®‰∫ÜpersonÁöÑrunÊñπÊ≥ï idÁ±ªÂûãÊòØ‰ªÄ‰πàÔºåinstancetypeÊòØ‰ªÄ‰πàÔºåÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü idÁ±ªÂûãÔºö‰∏áËÉΩÊåáÈíàÔºåËÉΩ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊñπÊ≥ïÁöÑËøîÂõûÁ±ªÂûã„ÄÇ instancetypeÔºöÂè™ËÉΩ‰Ωú‰∏∫ÊñπÊ≥ïÁöÑËåÉÂõ¥Á±ªÂûãÔºåÂπ∂‰∏îËøîÂõûÁöÑÁ±ªÂûãÊòØÂΩìÂâçÂÆö‰πâÁ±ªÁöÑÁ±ªÁ±ªÂûã„ÄÇ ÊàêÂëòÂèòÈáèÂêçÁöÑÂëΩÂêç‰ª•‰∏ãÂàíÁ∫øÂºÄÂ§¥ÁöÑÂ•ΩÂ§ÑÔºü ‰∏égetÊñπÊ≥ïÁöÑÊñπÊ≥ïÂêçÂå∫ÂàÜÂºÄÊù•Ôºõ ÂèØ‰ª•Âíå‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÂ±ÄÈÉ®ÂèòÈáèÂå∫ÂàÜÂºÄÊù•Ôºå‰∏ãÂàíÁ∫øÂºÄÂ§¥ÁöÑÂèòÈáèÔºåÈÄöÂ∏∏ÈÉΩÊòØÁ±ªÁöÑÊàêÂëòÂèòÈáè„ÄÇ ËøôÊÆµ‰ª£Á†ÅÊúâ‰ªÄ‰πàÈóÆÈ¢òÂêó:@implementation Person - (void)setAge:(int)newAge { self.age = newAge; } @end ‰ºöÊ≠ªÂæ™ÁéØ,‰ºöÈáçÂ§çË∞ÉÁî®Ëá™Â∑±!self.age Êîπ‰∏∫_ageÂç≥ÂèØ; Âπ∂‰∏î‰π¶ÂÜô‰∏çËßÑËåÉ:setterÊñπÊ≥ï‰∏≠ÁöÑnewAgeÂ∫îËØ•‰∏∫age Êà™ÂèñÂ≠óÁ¨¶‰∏≤‚Äù20 | http://www.baidu.com‚Äù ‰∏≠, ‚Äù|‚ÄùÂ≠óÁ¨¶ÂâçÈù¢ÂíåÂêéÈù¢ÁöÑÊï∞ÊçÆ,ÂàÜÂà´ËæìÂá∫ÂÆÉ‰ª¨„ÄÇNSString * str = @"20 | http://www.baidu.com"; NSArray *array = [str componentsSeparatedByString:@"|"]; //ËøôÊòØÂàÜÂà´ËæìÂá∫ÁöÑÊà™ÂèñÂêéÁöÑÂ≠óÁ¨¶‰∏≤ for (int i = 0; i]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò3--CËØ≠Ë®Ä]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%983-C%E8%AF%AD%E8%A8%80%2F</url>
    <content type="text"><![CDATA[CËØ≠Ë®ÄÔºåÂºÄÂèëÁöÑÂü∫Á°ÄÂäüÂ∫ïÔºåiOSÂæàÂ§öÈ´òÁ∫ßÂ∫îÁî®ÈÉΩË¶ÅÂíåCËØ≠Ë®ÄÊâì‰∫§ÈÅìÔºåÊâÄ‰ª•ÔºåCËØ≠Ë®ÄÂú®iOSÂºÄÂèë‰∏≠ÁöÑÈáçË¶ÅÊÄßÔºå‰Ω†ÊáÇÁöÑ„ÄÇÈáåÈù¢ÁöÑ‰∏Ä‰∫õÈóÆÈ¢òÂèØËÉΩÂπ∂‰∏çÊòØCËØ≠Ë®ÄÈóÆÈ¢òÔºå‰ΩÜÊòØÂ±û‰∫éËÆ°ÁÆóÊú∫ÁöÑ‰∏Ä‰∫õÂéüÁêÜÊÄßÁöÑÁü•ËØÜÁÇπÔºåÊâÄ‰ª•ÊàëÂ∞±‰∏çÂÜçÂè¶Â§ñÂÜô‰∏ÄÁØáÊñáÁ´†‰∫ÜÔºåÁõ¥Êé•ÂÜôÂú®ËøôÈáå„ÄÇ ÂΩì‰Ω†ÂÜô‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊó∂‰ºöÂèëÁîü‰ªÄ‰πà‰∫ãÔºü least = MIN(*p++, b); ÁªìÊûúÊòØÔºö((p++) &lt;= (b) ? (p++) : (*p++)) Ëøô‰∏™Ë°®ËææÂºè‰ºö‰∫ßÁîüÂâØ‰ΩúÁî®ÔºåÊåáÈíàp‰ºö‰Ωú‰∏âÊ¨°++Ëá™Â¢ûÊìç‰Ωú„ÄÇ Áî®È¢ÑÂ§ÑÁêÜÊåá‰ª§#defineÂ£∞Êòé‰∏Ä‰∏™Â∏∏Êï∞ÔºåÁî®‰ª•Ë°®Êòé1Âπ¥‰∏≠ÊúâÂ§öÂ∞ëÁßíÔºàÂøΩÁï•Èó∞Âπ¥ÈóÆÈ¢òÔºâ#define SECONDS_PER_YEAR (60 * 60 * 24 * 365)UL(ULÊó†Á¨¶Âè∑ÈïøÊï¥ÂΩ¢) ÂÜô‰∏Ä‰∏™‚ÄùÊ†áÂáÜ‚ÄùÂÆèMIN ÔºåËøô‰∏™ÂÆèËæìÂÖ•‰∏§‰∏™ÂèÇÊï∞Âπ∂ËøîÂõûËæÉÂ∞èÁöÑ‰∏Ä‰∏™„ÄÇ#define MIN(A,B) ÔºàÔºàAÔºâ &lt;= (B) ? (A) : (B)) ÂÜô‰∏Ä‰∏™Ê†áÂáÜÂÆèMaxÔºåÂπ∂ÁªôÂá∫‰ª•‰∏ã‰ª£Á†ÅÁöÑËæìÂá∫int array[5] = {1, 2, 3, 4, 5}; int *p = &amp;array[0]; int max = Max(*p++, 1); printf("%d %d", max, *p); ÂèÇËÄÉÁ≠îÊ°àÔºö 1Ôºå2 #define Max(X, Y) ((X) > (Y) ? (X) : (Y)) ÂΩìÁúãÂà∞ÂÆèÊó∂ÔºåÂ∞±‰ºöÊÉ≥Âà∞ÂÆèÂÆö‰πâÊâÄÂ∏¶Êù•ÁöÑÂâØ‰ΩúÁî®„ÄÇÂØπ‰∫é++„ÄÅ‚ÄìÔºåÂú®ÂÆèÂΩì‰∏≠‰ΩøÁî®ÊòØÊúÄÂÆπÊòì‰∫ßÁîüÂâØ‰ΩúÁî®ÁöÑÔºåÂõ†Ê≠§Ë¶ÅÊÖéÁî®„ÄÇ ÂàÜÊûêÔºö pÊåáÈíàÊåáÂêë‰∫ÜÊï∞ÁªÑarrayÁöÑÈ¶ñÂú∞ÂùÄÔºå‰πüÂ∞±ÊòØÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂØπÂ∫îÁöÑÂú∞ÂùÄÔºåÂÖ∂ÂÄº‰∏∫1. ÂÆèÂÆö‰πâÊó∂‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèÊØè‰∏™Âú∞ÊñπË¶ÅÂä†‰∏äÂúÜÊã¨Âè∑ *p++Áõ∏ÂΩì‰∫é*p, p++,ÊâÄ‰ª•Max(*p++, 1)Áõ∏ÂΩì‰∫éÔºö (*p++) > (1) ? (*p++) : (1) => (1) > (1) ? (*p++) : (1) => Á¨¨‰∏Ä‰∏™*p++ÁöÑÁªìÊûúÊòØÔºåpÊâÄÊåáÂêëÁöÑÂÄºÂèòÊàê‰∫Ü2Ôºå‰ΩÜÊòØ1 > 1‰∏∫ÂÄ§ÔºåÊâÄ‰ª•ÊúÄÁªàmaxÁöÑÂÄºÂ∞±ÊòØ1„ÄÇËÄåÂêéÈù¢ÁöÑ(*p++)‰πüÂ∞±‰∏ç‰ºöÊâßË°åÔºåÂõ†Ê≠§pÊâÄÊåáÂêëÁöÑÂú∞ÂùÄÂØπÂ∫îÁöÑÂÄºÂ∞±ÊòØ2ÔºåËÄå‰∏çÊòØ3. Êâ©Â±ïÔºöÂ¶ÇÊûú‰∏äÈù¢ÁöÑ*p++ÊîπÊàê*(++p)Â¶Ç‰ΩïÔºü (*++p) > (1) ? (*++p) : (1) => (2) > (1) ? (*++p) : (1) => max = *++p; => *p = 3Ôºåmax = 3; defineÂÆö‰πâÁöÑÂÆèÂíåconstÂÆö‰πâÁöÑÂ∏∏ÈáèÊúâ‰ªÄ‰πàÂå∫Âà´ÔºüŒª #defineÂÆö‰πâÂÆèÁöÑÊåá‰ª§ÔºåÁ®ãÂ∫èÂú®È¢ÑÂ§ÑÁêÜÈò∂ÊÆµÂ∞ÜÁî®#defineÊâÄÂÆö‰πâÁöÑÂÜÖÂÆπÂè™ÊòØËøõË°å‰∫ÜÊõøÊç¢„ÄÇÂõ†Ê≠§Á®ãÂ∫èËøêË°åÊó∂ÔºåÂ∏∏ÈáèË°®‰∏≠Âπ∂Ê≤°ÊúâÁî®#defineÊâÄÂÆö‰πâÁöÑÂÆèÔºåÁ≥ªÁªüÂπ∂‰∏ç‰∏∫ÂÆÉÂàÜÈÖçÂÜÖÂ≠òÔºåËÄå‰∏îÂú®ÁºñËØëÊó∂‰∏ç‰ºöÊ£ÄÊü•Êï∞ÊçÆÁ±ªÂûãÔºåÂá∫ÈîôÁöÑÊ¶ÇÁéáË¶ÅÂ§ß‰∏Ä‰∫õ„ÄÇ Œª constÂÆö‰πâÁöÑÂ∏∏ÈáèÔºåÂú®Á®ãÂ∫èËøêË°åÊó∂ÊòØÂ≠òÊîæÂú®Â∏∏ÈáèË°®‰∏≠ÔºåÁ≥ªÁªü‰ºö‰∏∫ÂÆÉÂàÜÈÖçÂÜÖÂ≠òÔºåËÄå‰∏îÂú®ÁºñËØëÊó∂‰ºöËøõË°åÁ±ªÂûãÊ£ÄÊü•„ÄÇ #defineÂÆö‰πâË°®ËææÂºèÊó∂Ë¶ÅÊ≥®ÊÑè‚ÄúËæπÁºòÊïàÂ∫î‚ÄùÔºå‰æãÂ¶ÇÂ¶Ç‰∏ãÂÆö‰πâÔºö #define N 2 + 3 // Êàë‰ª¨È¢ÑÊÉ≥ÁöÑNÂÄºÊòØ5ÔºåÊàë‰ª¨ËøôÊ†∑‰ΩøÁî®N int a = N / 2; // Êàë‰ª¨È¢ÑÊÉ≥ÁöÑaÁöÑÂÄºÊòØ2.5ÔºåÂèØÂÆûÈôÖ‰∏äaÁöÑÂÄºÊòØ3.5 ÂÖ≥ÈîÆÂ≠óvolatileÊúâ‰ªÄ‰πàÂê´ÊÑè?Âπ∂ÁªôÂá∫‰∏â‰∏™‰∏çÂêåÁöÑ‰æãÂ≠ê ‰ºòÂåñÂô®Âú®Áî®Âà∞Ëøô‰∏™ÂèòÈáèÊó∂ÂøÖÈ°ªÊØèÊ¨°ÈÉΩÂ∞èÂøÉÂú∞ÈáçÊñ∞ËØªÂèñËøô‰∏™ÂèòÈáèÁöÑÂÄºÔºåËÄå‰∏çÊòØ‰ΩøÁî®‰øùÂ≠òÂú®ÂØÑÂ≠òÂô®ÈáåÁöÑÂ§á‰ªΩ„ÄÇ‰∏ãÈù¢ÊòØvolatileÂèòÈáèÁöÑÂá†‰∏™‰æãÂ≠êÔºö Âπ∂Ë°åËÆæÂ§áÁöÑÁ°¨‰ª∂ÂØÑÂ≠òÂô®ÔºàÂ¶ÇÔºöÁä∂ÊÄÅÂØÑÂ≠òÂô®Ôºâ ‰∏Ä‰∏™‰∏≠Êñ≠ÊúçÂä°Â≠êÁ®ãÂ∫è‰∏≠‰ºöËÆøÈóÆÂà∞ÁöÑÈùûËá™Âä®ÂèòÈáè(Non-automatic variables) Â§öÁ∫øÁ®ãÂ∫îÁî®‰∏≠Ë¢´Âá†‰∏™‰ªªÂä°ÂÖ±‰∫´ÁöÑÂèòÈáè ÂÆåÊàêÂ≠óÁ¨¶‰∏≤Êã∑Ë¥ùÂèØ‰ª•‰ΩøÁî®sprintf„ÄÅstrcpy„ÄÅ‰ª•ÂèämemcpyÂáΩÊï∞ÔºåËØ∑ÈóÆËøô‰∫õÂáΩÊï∞Êúâ‰ªÄ‰πàÂå∫Âà´?‰Ω†ÂñúÊ¨¢Âì™‰∏Ä‰∏™Ôºü‰∏∫‰ªÄ‰πàÔºüËøô‰∫õÂáΩÊï∞ÁöÑÂå∫Âà´Âú®‰∫éÂÆûÁé∞ÂäüËÉΩ‰ª•ÂèäÊìç‰ΩúÂØπË±°‰∏çÂêå„ÄÇ strcpyÔºöÂáΩÊï∞Êìç‰ΩúÁöÑÂØπË±°ÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂÆåÊàê‰ªéÊ∫êÂ≠óÁ¨¶‰∏≤Âà∞ÁõÆÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑÊã∑Ë¥ùÂäüËÉΩ„ÄÇ sprintfÔºöËøô‰∏™ÂáΩÊï∞‰∏ªË¶ÅÁî®Êù•ÂÆûÁé∞ÔºàÂ≠óÁ¨¶‰∏≤ÊàñÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºâÂêëÂ≠óÁ¨¶‰∏≤ÁöÑËΩ¨Êç¢ÂäüËÉΩ„ÄÇÂ¶ÇÊûúÊ∫êÂØπË±°ÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂπ∂‰∏îÊåáÂÆö%sÊ†ºÂºèÁ¨¶Ôºå‰πüÂèØÂÆûÁé∞Â≠óÁ¨¶‰∏≤Êã∑Ë¥ùÂäüËÉΩ„ÄÇ memcpyÔºöÂáΩÊï∞È°æÂêçÊÄù‰πâÂ∞±ÊòØÂÜÖÂ≠òÊã∑Ë¥ùÔºåÂÆûÁé∞Â∞Ü‰∏Ä‰∏™ÂÜÖÂ≠òÂùóÁöÑÂÜÖÂÆπÂ§çÂà∂Âà∞Âè¶‰∏Ä‰∏™ÂÜÖÂ≠òÂùóËøô‰∏ÄÂäüËÉΩ„ÄÇÂÜÖÂ≠òÂùóÁî±ÂÖ∂È¶ñÂú∞ÂùÄ‰ª•ÂèäÈïøÂ∫¶Á°ÆÂÆö„ÄÇÂõ†Ê≠§Ôºåmemcpy ÁöÑÊìç‰ΩúÂØπË±°ÈÄÇÁî®‰∫é‰ªªÊÑèÊï∞ÊçÆÁ±ªÂûãÔºåÂè™Ë¶ÅËÉΩÁªôÂá∫ÂØπË±°ÁöÑËµ∑ÂßãÂú∞ÂùÄÂíåÂÜÖÂ≠òÈïøÂ∫¶‰ø°ÊÅØ„ÄÅÂπ∂‰∏îÂØπË±°ÂÖ∑ÊúâÂèØÊìç‰ΩúÊÄßÂç≥ÂèØ„ÄÇÈâ¥‰∫émemcpyÂáΩÊï∞Á≠âÈïøÊã∑Ë¥ùÁöÑÁâπÁÇπ‰ª•ÂèäÊï∞ÊçÆÁ±ªÂûã‰ª£Ë°®ÁöÑÁâ©ÁêÜÊÑè‰πâÔºåmemcpyÂáΩÊï∞ÈÄöÂ∏∏Èôê‰∫éÂêåÁßçÁ±ªÂûãÊï∞ÊçÆÊàñÂØπË±°‰πãÈó¥ÁöÑÊã∑Ë¥ùÔºåÂÖ∂‰∏≠ÂΩìÁÑ∂‰πüÂåÖÊã¨Â≠óÁ¨¶‰∏≤Êã∑Ë¥ù‰ª•ÂèäÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÊã∑Ë¥ù„ÄÇ ÂØπ‰∫éÂ≠óÁ¨¶‰∏≤Êã∑Ë¥ùÊù•ËØ¥ÔºåÁî®‰∏äËø∞‰∏â‰∏™ÂáΩÊï∞ÈÉΩÂèØ‰ª•ÂÆûÁé∞Ôºå‰ΩÜÊòØÂÖ∂ÂÆûÁé∞ÁöÑÊïàÁéáÂíå‰ΩøÁî®ÁöÑÊñπ‰æøÁ®ãÂ∫¶‰∏çÂêåÔºö strcpy Êó†ÁñëÊòØÊúÄÂêàÈÄÇÁöÑÈÄâÊã©ÔºöÊïàÁéáÈ´ò‰∏îË∞ÉÁî®Êñπ‰æø„ÄÇ snprintf Ë¶ÅÈ¢ùÂ§ñÊåáÂÆöÊ†ºÂºèÁ¨¶Âπ∂‰∏îËøõË°åÊ†ºÂºèËΩ¨ÂåñÔºåÈ∫ªÁÉ¶‰∏îÊïàÁéá‰∏çÈ´ò„ÄÇ memcpy ËôΩÁÑ∂È´òÊïàÔºå‰ΩÜÊòØÈúÄË¶ÅÈ¢ùÂ§ñÊèê‰æõÊã∑Ë¥ùÁöÑÂÜÖÂ≠òÈïøÂ∫¶Ëøô‰∏ÄÂèÇÊï∞ÔºåÊòìÈîô‰∏î‰ΩøÁî®‰∏ç‰æøÔºõÂπ∂‰∏îÂ¶ÇÊûúÈïøÂ∫¶ÊåáÂÆöËøáÂ§ßÁöÑËØùÔºàÊúÄ‰ºòÈïøÂ∫¶ÊòØÊ∫êÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶ + 1ÔºâÔºåËøò‰ºöÂ∏¶Êù•ÊÄßËÉΩÁöÑ‰∏ãÈôç„ÄÇÂÖ∂ÂÆû strcpy ÂáΩÊï∞‰∏ÄËà¨ÊòØÂú®ÂÜÖÈÉ®Ë∞ÉÁî® memcpyÂáΩÊï∞ÊàñËÄÖÁî®Ê±áÁºñÁõ¥Êé•ÂÆûÁé∞ÁöÑÔºå‰ª•ËææÂà∞È´òÊïàÁöÑÁõÆÁöÑ„ÄÇÂõ†Ê≠§Ôºå‰ΩøÁî® memcpy Âíå strcpy Êã∑Ë¥ùÂ≠óÁ¨¶‰∏≤Âú®ÊÄßËÉΩ‰∏äÂ∫îËØ•Ê≤°Êúâ‰ªÄ‰πàÂ§ßÁöÑÂ∑ÆÂà´„ÄÇ ÂØπ‰∫éÈùûÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÊï∞ÊçÆÁöÑÂ§çÂà∂Êù•ËØ¥ÔºåstrcpyÂíåsnprintf‰∏ÄËà¨Â∞±Êó†ËÉΩ‰∏∫Âäõ‰∫ÜÔºåÂèØÊòØÂØπmemcpyÂç¥Ê≤°Êúâ‰ªÄ‰πàÂΩ±Âìç„ÄÇ‰ΩÜÊòØÔºåÂØπ‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÊù•ËØ¥ÔºåÂ∞ΩÁÆ°ÂèØ‰ª•Áî® memcpy ËøõË°åÊã∑Ë¥ùÔºåÁî±‰∫éÊúâËµãÂÄºËøêÁÆóÁ¨¶ÂèØ‰ª•Êñπ‰æø‰∏îÈ´òÊïàÂú∞ËøõË°åÂêåÁßçÊàñÂÖºÂÆπÁ±ªÂûãÁöÑÊï∞ÊçÆ‰πãÈó¥ÁöÑÊã∑Ë¥ùÔºåÊâÄ‰ª•ËøôÁßçÊÉÖÂÜµ‰∏ãmemcpyÂá†‰πé‰∏çË¢´‰ΩøÁî®„ÄÇmemcpyÁöÑÈïøÂ§ÑÊòØÁî®Êù•ÂÆûÁé∞ÔºàÈÄöÂ∏∏ÊòØÂÜÖÈÉ®ÂÆûÁé∞Â±ÖÂ§öÔºâÂØπÁªìÊûÑÊàñËÄÖÊï∞ÁªÑÁöÑÊã∑Ë¥ùÔºåÂÖ∂ÁõÆÁöÑÊòØÊàñËÄÖÈ´òÊïàÔºåÊàñËÄÖ‰ΩøÁî®Êñπ‰æøÔºåÁîöÊàñ‰∏§ËÄÖÂÖºÊúâ„ÄÇ sprintf,strcpy,memcpy‰ΩøÁî®‰∏äÊúâ‰ªÄ‰πàË¶ÅÊ≥®ÊÑèÁöÑÂú∞Êñπ strcpyÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Êã∑Ë¥ùÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑÂáΩÊï∞ÂéüÂûã‰∏∫strcpy(char dst, const char src); Â∞ÜsrcÂºÄÂßãÁöÑ‰∏ÄÊÆµÂ≠óÁ¨¶‰∏≤Êã∑Ë¥ùÂà∞dstÂºÄÂßãÁöÑÂÜÖÂ≠ò‰∏≠ÂéªÔºåÁªìÊùüÁöÑÊ†áÂøóÁ¨¶Âè∑‰∏∫ ‚Äò\0‚ÄôÔºåÁî±‰∫éÊã∑Ë¥ùÁöÑÈïøÂ∫¶‰∏çÊòØÁî±Êàë‰ª¨Ëá™Â∑±ÊéßÂà∂ÁöÑÔºåÊâÄ‰ª•Ëøô‰∏™Â≠óÁ¨¶‰∏≤Êã∑Ë¥ùÂæàÂÆπÊòìÂá∫Èîô„ÄÇ ÂÖ∑Â§áÂ≠óÁ¨¶‰∏≤Êã∑Ë¥ùÂäüËÉΩÁöÑÂáΩÊï∞ÊúâmemcpyÔºåËøôÊòØ‰∏Ä‰∏™ÂÜÖÂ≠òÊã∑Ë¥ùÂáΩÊï∞ÔºåÂÆÉÁöÑÂáΩÊï∞ÂéüÂûã‰∏∫memcpy(char dst, const char src, unsigned int len);Â∞ÜÈïøÂ∫¶‰∏∫lenÁöÑ‰∏ÄÊÆµÂÜÖÂ≠òÔºå‰ªésrcÊã∑Ë¥ùÂà∞dst‰∏≠ÂéªÔºåËøô‰∏™ÂáΩÊï∞ÁöÑÈïøÂ∫¶ÂèØÊéß„ÄÇ‰ΩÜÊòØ‰ºöÊúâÂÜÖÂ≠òËØªÂÜôÈîôËØØ„ÄÇ(ÊØîÂ¶ÇlenÁöÑÈïøÂ∫¶Â§ß‰∫éË¶ÅÊã∑Ë¥ùÁöÑÁ©∫Èó¥ÊàñÁõÆÁöÑÁ©∫Èó¥) sprintfÊòØÊ†ºÂºèÂåñÂáΩÊï∞„ÄÇÂ∞Ü‰∏ÄÊÆµÊï∞ÊçÆÈÄöËøáÁâπÂÆöÁöÑÊ†ºÂºèÔºåÊ†ºÂºèÂåñÂà∞‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÁºìÂÜ≤Âå∫‰∏≠Âéª„ÄÇsprintfÊ†ºÂºèÂåñÁöÑÂáΩÊï∞ÁöÑÈïøÂ∫¶‰∏çÂèØÊéßÔºåÊúâÂèØËÉΩÊ†ºÂºèÂåñÂêéÁöÑÂ≠óÁ¨¶‰∏≤‰ºöË∂ÖÂá∫ÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞èÔºåÈÄ†ÊàêÊ∫¢Âá∫„ÄÇ staticÂÖ≥ÈîÆÂ≠óÁöÑ‰ΩúÁî® ÈöêËóè„ÄÇÁºñËØëÂ§ö‰∏™Êñá‰ª∂Êó∂ÔºåÊâÄÊúâÊú™Âä†staticÂâçÁºÄÁöÑÂÖ®Â±ÄÂèòÈáèÂíåÂáΩÊï∞ÈÉΩÂÖ®Â±ÄÂèØËßÅ„ÄÇ ‰øùÊåÅÂèòÈáèÂÜÖÂÆπÁöÑÊåÅ‰πÖ„ÄÇÂÖ®Â±ÄÂèòÈáèÂíåstaticÂèòÈáèÈÉΩÂ≠òÂÇ®Âú®ÈùôÊÄÅÂ≠òÂÇ®Âå∫ÔºåÁ®ãÂ∫èÂºÄÂßãËøêË°åÂ∞±ÂàùÂßãÂåñÔºåÂè™ÂàùÂßãÂåñ‰∏ÄÊ¨°„ÄÇstaticÊéßÂà∂‰∫ÜÂèòÈáèÁöÑ‰ΩúÁî®ËåÉÂõ¥„ÄÇ ÈªòËÆ§ÂàùÂßãÂåñ‰∏∫0.Âú®ÈùôÊÄÅÊï∞ÊçÆÂå∫ÔºåÂÜÖÂ≠ò‰∏≠ÁöÑÊâÄÊúâÂ≠óËäÇÈÉΩÊòØ0x00ÔºåÂÖ®Â±ÄÂèòÈáèÂíåstaticÂèòÈáèÈÉΩÊòØÈªòËÆ§ÂàùÂßãÂåñ‰∏∫0. staticÂÖ≥ÈîÆÂ≠óÂå∫Âà´Ôºö staticÂÖ®Â±ÄÂèòÈáè‰∏éÊôÆÈÄöÁöÑÂÖ®Â±ÄÂèòÈáèÊúâ‰ªÄ‰πàÂå∫Âà´ÔºöstaticÂÖ®Â±ÄÂèòÈáèÂè™Âàù‰ΩøÂåñ‰∏ÄÊ¨°ÔºåÈò≤Ê≠¢Âú®ÂÖ∂‰ªñÊñá‰ª∂ÂçïÂÖÉ‰∏≠Ë¢´ÂºïÁî®; staticÂ±ÄÈÉ®ÂèòÈáèÂíåÊôÆÈÄöÂ±ÄÈÉ®ÂèòÈáèÊúâ‰ªÄ‰πàÂå∫Âà´ÔºöstaticÂ±ÄÈÉ®ÂèòÈáèÂè™Ë¢´ÂàùÂßãÂåñ‰∏ÄÊ¨°Ôºå‰∏ã‰∏ÄÊ¨°‰æùÊçÆ‰∏ä‰∏ÄÊ¨°ÁªìÊûúÂÄºÔºõ staticÂáΩÊï∞‰∏éÊôÆÈÄöÂáΩÊï∞Êúâ‰ªÄ‰πàÂå∫Âà´ÔºöstaticÂáΩÊï∞Âú®ÂÜÖÂ≠ò‰∏≠Âè™Êúâ‰∏Ä‰ªΩÔºåÊôÆÈÄöÂáΩÊï∞Âú®ÊØè‰∏™Ë¢´Ë∞ÉÁî®‰∏≠Áª¥ÊåÅ‰∏Ä‰ªΩÊã∑Ë¥ù ÂÖ≥ÈîÆÂ≠óconst const int a;int const a; ‰ΩúÁî®ÊòØ‰∏ÄÊ†∑Ôºöa ÊòØ‰∏Ä‰∏™Â∏∏Êï¥ÂûãÊï∞ const int a;int const a; a ÊòØ‰∏Ä‰∏™ÊåáÂêëÂ∏∏Êï¥ÂûãÊï∞ÁöÑÊåáÈíà(Êï¥ÂûãÊï∞ÊòØ‰∏çÂèØ‰øÆÊîπÁöÑÔºå‰ΩÜÊåáÈíàÂèØ‰ª•) int * const a;a ÊòØ‰∏Ä‰∏™ÊåáÂêëÊï¥ÂûãÊï∞ÁöÑÂ∏∏ÊåáÈíà(ÊåáÈíàÊåáÂêëÁöÑÊï¥ÂûãÊï∞ÊòØÂèØ‰ª•‰øÆÊîπÁöÑÔºå‰ΩÜÊåáÈíàÊòØ‰∏çÂèØ‰øÆÊîπÁöÑ) int const * const a;a ÊòØ‰∏Ä‰∏™ÊåáÂêëÂ∏∏Êï¥ÂûãÊï∞ÁöÑÂ∏∏ÊåáÈíà(ÊåáÈíàÊåáÂêëÁöÑÊï¥ÂûãÊï∞ÊòØ‰∏çÂèØ‰øÆÊîπÁöÑÔºåÂêåÊó∂ÊåáÈíà‰πüÊòØ‰∏çÂèØ‰øÆÊîπÁöÑ) Â†ÜÊ†à ÁÆ°ÁêÜÊñπÂºèÔºöÂØπ‰∫éÊ†àÊù•ËÆ≤ÔºåÊòØÁî±ÁºñËØëÂô®Ëá™Âä®ÁÆ°ÁêÜÔºåÊó†ÈúÄÊàë‰ª¨ÊâãÂ∑•ÊéßÂà∂ÔºõÂØπ‰∫éÂ†ÜÊù•ËØ¥ÔºåÈáäÊîæÂ∑•‰ΩúÁî±Á®ãÂ∫èÂëòÊéßÂà∂ÔºåÂÆπÊòì‰∫ßÁîüÂÜÖÂ≠òÊ≥ÑÈú≤ (memory leak)„ÄÇ Áî≥ËØ∑Â§ßÂ∞èÔºö Ê†àÔºöÂú®Windows‰∏ã,Ê†àÊòØÂêë‰ΩéÂú∞ÂùÄÊâ©Â±ïÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÊòØ‰∏ÄÂùóËøûÁª≠ÁöÑÂÜÖÂ≠òÁöÑÂå∫Âüü„ÄÇËøôÂè•ËØùÁöÑÊÑèÊÄùÊòØÊ†àÈ°∂ÁöÑÂú∞ÂùÄÂíåÊ†àÁöÑÊúÄÂ§ßÂÆπÈáèÊòØÁ≥ªÁªüÈ¢ÑÂÖàËßÑÂÆöÂ•ΩÁöÑÔºåÂú®Windows‰∏ãÔºåÊ†àÁöÑÂ§ßÂ∞èÊòØ2MÔºà‰πüÊúâÁöÑËØ¥ÊòØ1MÔºåÊÄª‰πãÊòØ‰∏Ä‰∏™ÁºñËØëÊó∂Â∞±Á°ÆÂÆöÁöÑÂ∏∏Êï∞ÔºâÔºåÂ¶ÇÊûúÁî≥ËØ∑ÁöÑÁ©∫Èó¥Ë∂ÖËøáÊ†àÁöÑÂâ©‰ΩôÁ©∫Èó¥Êó∂ÔºåÂ∞ÜÊèêÁ§∫ overflow„ÄÇÂõ†Ê≠§ÔºåËÉΩ‰ªéÊ†àËé∑ÂæóÁöÑÁ©∫Èó¥ËæÉÂ∞è„ÄÇ Â†ÜÔºöÂ†ÜÊòØÂêëÈ´òÂú∞ÂùÄÊâ©Â±ïÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÊòØ‰∏çËøûÁª≠ÁöÑÂÜÖÂ≠òÂå∫Âüü„ÄÇËøôÊòØÁî±‰∫éÁ≥ªÁªüÊòØÁî®ÈìæË°®Êù•Â≠òÂÇ®ÁöÑÁ©∫Èó≤ÂÜÖÂ≠òÂú∞ÂùÄÁöÑÔºåËá™ÁÑ∂ÊòØ‰∏çËøûÁª≠ÁöÑÔºåËÄåÈìæË°®ÁöÑÈÅçÂéÜÊñπÂêëÊòØÁî±‰ΩéÂú∞ÂùÄÂêëÈ´òÂú∞ÂùÄ„ÄÇÂ†ÜÁöÑÂ§ßÂ∞èÂèóÈôê‰∫éËÆ°ÁÆóÊú∫Á≥ªÁªü‰∏≠ÊúâÊïàÁöÑËôöÊãüÂÜÖÂ≠ò„ÄÇÁî±Ê≠§ÂèØËßÅÔºåÂ†ÜËé∑ÂæóÁöÑÁ©∫Èó¥ÊØîËæÉÁÅµÊ¥ªÔºå‰πüÊØîËæÉÂ§ß„ÄÇ Á¢éÁâáÈóÆÈ¢òÔºö ÂØπ‰∫éÂ†ÜÊù•ËÆ≤ÔºåÈ¢ëÁπÅÁöÑnew/deleteÂäøÂøÖ‰ºöÈÄ†ÊàêÂÜÖÂ≠òÁ©∫Èó¥ÁöÑ‰∏çËøûÁª≠Ôºå‰ªéËÄåÈÄ†ÊàêÂ§ßÈáèÁöÑÁ¢éÁâáÔºå‰ΩøÁ®ãÂ∫èÊïàÁéáÈôç‰Ωé„ÄÇÂØπ‰∫éÊ†àÊù•ËÆ≤ÔºåÂàô‰∏ç‰ºöÂ≠òÂú®Ëøô‰∏™ ÈóÆÈ¢òÔºåÂõ†‰∏∫Ê†àÊòØÂÖàËøõÂêéÂá∫ÁöÑÈòüÂàóÔºå‰ªñ‰ª¨ÊòØÂ¶ÇÊ≠§ÁöÑ‰∏Ä‰∏ÄÂØπÂ∫îÔºå‰ª•Ëá≥‰∫éÊ∞∏ËøúÈÉΩ‰∏çÂèØËÉΩÊúâ‰∏Ä‰∏™ÂÜÖÂ≠òÂùó‰ªéÊ†à‰∏≠Èó¥ÂºπÂá∫ ÂàÜÈÖçÊñπÂºèÔºö Â†ÜÈÉΩÊòØÂä®ÊÄÅÂàÜÈÖçÁöÑÔºåÊ≤°ÊúâÈùôÊÄÅÂàÜÈÖçÁöÑÂ†Ü„ÄÇÊ†àÊúâ2ÁßçÂàÜÈÖçÊñπÂºèÔºöÈùôÊÄÅÂàÜÈÖçÂíåÂä®ÊÄÅÂàÜÈÖç„ÄÇÈùôÊÄÅÂàÜÈÖçÊòØÁºñËØëÂô®ÂÆåÊàêÁöÑÔºåÊØîÂ¶ÇÂ±ÄÈÉ®ÂèòÈáèÁöÑÂàÜÈÖç„ÄÇÂä®ÊÄÅÂàÜÈÖçÁî± allocÂáΩÊï∞ËøõË°åÂàÜÈÖçÔºå‰ΩÜÊòØÊ†àÁöÑÂä®ÊÄÅÂàÜÈÖçÂíåÂ†ÜÊòØ‰∏çÂêåÁöÑÔºå‰ªñÁöÑÂä®ÊÄÅÂàÜÈÖçÊòØÁî±ÁºñËØëÂô®ËøõË°åÈáäÊîæÔºåÊó†ÈúÄÊàë‰ª¨ÊâãÂ∑•ÂÆûÁé∞„ÄÇ ÂàÜÈÖçÊïàÁéáÔºö Ê†àÊòØÊú∫Âô®Á≥ªÁªüÊèê‰æõÁöÑÊï∞ÊçÆÁªìÊûÑÔºåËÆ°ÁÆóÊú∫‰ºöÂú®Â∫ïÂ±ÇÂØπÊ†àÊèê‰æõÊîØÊåÅÔºöÂàÜÈÖç‰∏ìÈó®ÁöÑÂØÑÂ≠òÂô®Â≠òÊîæÊ†àÁöÑÂú∞ÂùÄÔºåÂéãÊ†àÂá∫Ê†àÈÉΩÊúâ‰∏ìÈó®ÁöÑÊåá‰ª§ÊâßË°åÔºåËøôÂ∞±ÂÜ≥ÂÆö‰∫ÜÊ†àÁöÑ ÊïàÁéáÊØîËæÉÈ´ò„ÄÇÂ†ÜÂàôÊòØC/C++ÂáΩÊï∞Â∫ìÊèê‰æõÁöÑÔºåÂÆÉÁöÑÊú∫Âà∂ÊòØÂæàÂ§çÊùÇÁöÑ Êï∞ÁªÑÂíåÊåáÈíàÁöÑÂå∫Âà´ Êï∞ÁªÑÂèØ‰ª•Áî≥ËØ∑Âú®Ê†àÂå∫ÂíåÊï∞ÊçÆÂå∫ÔºõÊåáÈíàÂèØ‰ª•ÊåáÂêë‰ªªÊÑèÁ±ªÂûãÁöÑÂÜÖÂ≠òÂùó sizeof‰ΩúÁî®‰∫éÊï∞ÁªÑÊó∂ÔºåÂæóÂà∞ÁöÑÊòØÊï∞ÁªÑÊâÄÂç†ÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÔºõ‰ΩúÁî®‰∫éÊåáÈíàÊó∂ÔºåÂæóÂà∞ÁöÑÈÉΩÊòØ4‰∏™Â≠óËäÇÁöÑÂ§ßÂ∞è Êï∞ÁªÑÂêçË°®Á§∫Êï∞ÁªÑÈ¶ñÂú∞ÂùÄÔºåÊòØÂ∏∏ÈáèÊåáÈíàÔºå‰∏çÂèØ‰øÆÊîπÊåáÂêë„ÄÇÊØîÂ¶Ç‰∏çÂèØ‰ª•Â∞ÜÔºãÔºã‰ΩúÁî®‰∫éÊï∞ÁªÑÂêç‰∏äÔºõÊôÆÈÄöÊåáÈíàÁöÑÂÄºÂèØ‰ª•ÊîπÂèòÔºåÊØîÂ¶ÇÂèØÂ∞ÜÔºãÔºã‰ΩúÁî®‰∫éÊåáÈíà‰∏ä Áî®Â≠óÁ¨¶‰∏≤ÂàùÂßãÂåñÂ≠óÁ¨¶Êï∞ÁªÑÊòØÂ∞ÜÂ≠óÁ¨¶‰∏≤ÁöÑÂÜÖÂÆπÊã∑Ë¥ùÂà∞Â≠óÁ¨¶Êï∞ÁªÑ‰∏≠ÔºõÁî®Â≠óÁ¨¶‰∏≤ÂàùÂßãÂåñÂ≠óÁ¨¶ÊåáÈíàÊòØÂ∞ÜÂ≠óÁ¨¶‰∏≤ÁöÑÈ¶ñÂú∞ÂùÄËµãÁªôÊåáÈíàÔºå‰πüÂ∞±ÊòØÊåáÈíàÊåáÂêë‰∫ÜËØ•Â≠óÁ¨¶‰∏≤ ÂºïÁî®ÂíåÊåáÈíàÁöÑÂå∫Âà´ ÊåáÈíàÊåáÂêë‰∏ÄÂùóÂÜÖÂ≠òÔºåÂÜÖÂÆπÂ≠òÂÇ®ÊâÄÊåáÂÜÖÂ≠òÁöÑÂú∞ÂùÄ„ÄÇ ÂºïÁî®ÊòØÊüêÂùóÂÜÖÂ≠òÁöÑÂà´Âêç„ÄÇ ÂºïÁî®‰ΩøÁî®Êó∂‰∏çÈúÄË¶ÅËß£ÂºïÁî®Ôºà*ÔºâËÄåÊåáÈíàÈúÄË¶Å ÂºïÁî®Âè™Âú®ÂÆö‰πâÊó∂Ë¢´ÂàùÂßãÂåñÔºå‰πãÂêé‰∏çÂèØÂèòÔºåÊåáÈíàÂèØÂèò„ÄÇ ÂºïÁî®Ê≤°Êúâconst ÂºïÁî®‰∏çËÉΩ‰∏∫Á©∫ sizeofÂºïÁî®ÂæóÂà∞ÁöÑÊòØÊâÄÊåáÂêëÂèòÈáèÔºàÂØπË±°ÔºâÁöÑÂ§ßÂ∞èÔºåsizeofÊåáÈíàÊòØÊåáÈíàÊú¨Ë∫´ÁöÑÂ§ßÂ∞è„ÄÇ ÊåáÈíàÂíåÂºïÁî®ÁöÑËá™Â¢û(++)ËøêÁÆóÊÑè‰πâ‰∏ç‰∏ÄÊ†∑ÔºöÂºïÁî®++‰∏∫ÂºïÁî®ÂØπË±°Ëá™Â∑±++ÔºåÊåáÈíà++ÊòØÊåáÂêëÂØπË±°ÂêéÈù¢ÁöÑÂÜÖÂ≠ò Á®ãÂ∫èÈúÄË¶Å‰∏∫ÊåáÈíàÂàÜÈÖçÂÜÖÂ≠òÂå∫ÂüüÔºåÂºïÁî®‰∏çÈúÄË¶Å„ÄÇ Áî®ÂèòÈáèaÁªôÂá∫‰∏ãÈù¢ÁöÑÂÆö‰πâ ‰∏Ä‰∏™Êï¥ÂûãÊï∞ÔºàAn integerÔºâ ‰∏Ä‰∏™ÊåáÂêëÊï¥ÂûãÊï∞ÁöÑÊåáÈíàÔºà A pointer to an integerÔºâ ‰∏Ä‰∏™ÊåáÂêëÊåáÈíàÁöÑÁöÑÊåáÈíàÔºåÂÆÉÊåáÂêëÁöÑÊåáÈíàÊòØÊåáÂêë‰∏Ä‰∏™Êï¥ÂûãÊï∞Ôºà A pointer to a pointer to an integeÔºâr ‰∏Ä‰∏™Êúâ10‰∏™Êï¥ÂûãÊï∞ÁöÑÊï∞ÁªÑÔºà An array of 10 integersÔºâ ‰∏Ä‰∏™Êúâ10‰∏™ÊåáÈíàÁöÑÊï∞ÁªÑÔºåËØ•ÊåáÈíàÊòØÊåáÂêë‰∏Ä‰∏™Êï¥ÂûãÊï∞ÁöÑ„ÄÇÔºàAn array of 10 pointers to integersÔºâ ‰∏Ä‰∏™ÊåáÂêëÊúâ10‰∏™Êï¥ÂûãÊï∞Êï∞ÁªÑÁöÑÊåáÈíàÔºà A pointer to an array of 10 integersÔºâ ‰∏Ä‰∏™ÊåáÂêëÂáΩÊï∞ÁöÑÊåáÈíàÔºåËØ•ÂáΩÊï∞Êúâ‰∏Ä‰∏™Êï¥ÂûãÂèÇÊï∞Âπ∂ËøîÂõû‰∏Ä‰∏™Êï¥ÂûãÊï∞ÔºàA pointer to a function that takes an integer as an argument and returns an integerÔºâ ‰∏Ä‰∏™Êúâ10‰∏™ÊåáÈíàÁöÑÊï∞ÁªÑÔºåËØ•ÊåáÈíàÊåáÂêë‰∏Ä‰∏™ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êúâ‰∏Ä‰∏™Êï¥ÂûãÂèÇÊï∞Âπ∂ËøîÂõû‰∏Ä‰∏™Êï¥ÂûãÊï∞Ôºà An array of ten pointers to functions t hat take an integer argument and return an integer Ôºâ Á≠îÊ°àÊòØÔºö int a; // An integer int *a; // A pointer to an integer int **a; // A pointer to a pointer to an integer int a[10]; // An array of 10 integers int *a[10]; // An array of 10 pointers to integers int (*a)[10]; // A pointer to an array of 10 integers int (*a)(int); // A pointer to a function a that takes an integer argument and returns an integer int (*a[10])(int); // An array of 10 pointers to functions that take an integer argument and return an integer ËØ∑ÂÜôÂá∫‰ª•‰∏ã‰ª£Á†ÅËæìÂá∫int a[5] = {1, 2, 3, 4, 5}; int *ptr = (int *)(&amp;a + 1); printf("%d, %d", *(a + 1), *(ptr + 1)); ÂèÇËÄÉÁ≠îÊ°àÔºö 2, ÈöèÊú∫ÂÄº ËøôÁßçÁ±ªÂûãÈ¢òÂ•ΩÂÉèÊå∫Â∏∏ËßÅÁöÑ„ÄÇËÄÉÁöÑÂ∞±ÊòØCËØ≠Ë®Ä‰∏äÁöÑÊåáÈíàÁöÑÁêÜËß£ÂíåÊï∞ÁªÑÁöÑÁêÜËß£„ÄÇ ÂàÜÊûêÔºö a‰ª£Ë°®Êúâ5‰∏™ÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÁöÑÈ¶ñÂú∞ÂùÄÔºåa[5]ÁöÑÂÖÉÁ¥†ÂàÜÂà´ÊòØ1Ôºå2Ôºå3Ôºå4Ôºå5„ÄÇÊé•‰∏ãÊù•Ôºåa + 1Ë°®Á§∫Êï∞ÊçÆÈ¶ñÂú∞ÂùÄÂä†1ÔºåÈÇ£‰πàÂ∞±ÊòØa[1]Ôºå‰πüÂ∞±ÊòØÂØπÂ∫î‰∫éÂÄº‰∏∫2.‰ΩÜÊòØÔºåËøôÈáåÊòØ&amp;a + 1ÔºåÂõ†‰∏∫a‰ª£Ë°®ÁöÑÊòØÊï¥‰∏™Êï∞ÁªÑÔºåÂÆÉÁöÑÁ©∫Èó¥Â§ßÂ∞è‰∏∫5 * sizeof(int)ÔºåÂõ†Ê≠§&amp;a + 1Â∞±ÊòØa+5„ÄÇaÊòØ‰∏™Â∏∏ÈáèÊåáÈíàÔºåÊåáÂêëÂΩìÂâçÊï∞ÁªÑÁöÑÈ¶ñÂú∞ÂùÄÔºåÊåáÈíà+1Â∞±ÊòØÁßªÂä®sizeof(int)‰∏™Â≠óËäÇ„ÄÇ Âõ†Ê≠§ÔºåptrÊòØÊåáÂêëint *Á±ªÂûãÁöÑÊåáÈíàÔºåËÄåptrÊåáÂêëÁöÑÂ∞±ÊòØa + 5ÔºåÈÇ£‰πàptr + 1‰πüÁõ∏ÂΩì‰∫éa + 6ÔºåÊâÄ‰ª•ÊúÄÂêéÁöÑ*(ptr + 1)Â∞±ÊòØ‰∏Ä‰∏™ÈöèÊú∫ÂÄº‰∫Ü„ÄÇËÄå*(ptr ‚Äì 1)Â∞±Áõ∏ÂΩì‰∫éa + 4ÔºåÂØπÂ∫îÁöÑÂÄºÂ∞±ÊòØ5„ÄÇ ÁÆÄËø∞ÂÜÖÂ≠òÂàÜÂå∫ÊÉÖÂÜµ ‰ª£Á†ÅÂå∫ÔºöÂ≠òÊîæÂáΩÊï∞‰∫åËøõÂà∂‰ª£Á†Å Êï∞ÊçÆÂå∫ÔºöÁ≥ªÁªüËøêË°åÊó∂Áî≥ËØ∑ÂÜÖÂ≠òÂπ∂ÂàùÂßãÂåñÔºåÁ≥ªÁªüÈÄÄÂá∫Êó∂Áî±Á≥ªÁªüÈáäÊîæÔºåÂ≠òÊîæÂÖ®Â±ÄÂèòÈáè„ÄÅÈùôÊÄÅÂèòÈáè„ÄÅÂ∏∏Èáè Â†ÜÂå∫ÔºöÈÄöËøámallocÁ≠âÂáΩÊï∞ÊàñnewÁ≠âÊìç‰ΩúÁ¨¶Âä®ÊÄÅÁî≥ËØ∑ÂæóÂà∞ÔºåÈúÄÁ®ãÂ∫èÂëòÊâãÂä®Áî≥ËØ∑ÂíåÈáäÊîæ Ê†àÂå∫ÔºöÂáΩÊï∞Ê®°ÂùóÂÜÖÁî≥ËØ∑ÔºåÂáΩÊï∞ÁªìÊùüÊó∂Áî±Á≥ªÁªüËá™Âä®ÈáäÊîæÔºåÂ≠òÊîæÂ±ÄÈÉ®ÂèòÈáè„ÄÅÂáΩÊï∞ÂèÇÊï∞ Áî®NSLogÂáΩÊï∞ËæìÂá∫‰∏Ä‰∏™ÊµÆÁÇπÁ±ªÂûãÔºåÁªìÊûúÂõõËàç‰∫îÂÖ•ÔºåÂπ∂‰øùÁïô‰∏Ä‰ΩçÂ∞èÊï∞float money = 1.011; NSLog(@"%.1f", money);]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò2--UNIXÂ∏∏Áî®ÂëΩ‰ª§]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%982-UNIX%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[ÂÅöÂºÄÂèëËØ¥Áî®‰∏çÂà∞ÂëΩ‰ª§Ë°åÔºåÈÇ£ËÇØÂÆöÊòØ‰∏çÂèØËÉΩÁöÑ„ÄÇÊâÄ‰ª•ËÆ∞‰ΩèÂá†‰∏™Â∏∏Áî®ÁöÑÂëΩ‰ª§ËøòÊòØÂæàÊúâÁî®„ÄÇ cd ÊîπÂèòÂ∑•‰ΩúÁõÆÂΩï pwd ËæìÂá∫ÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩïÁöÑÁªùÂØπË∑ØÂæÑ Âú®UNIX‰∏≠Ë¶ÅÊâßË°å‰ªÄ‰πàÂëΩ‰ª§Ôºå‰∏ÄÂÆöË¶ÅÁü•ÈÅìËá™Â∑±ÂΩìÂâçÊâÄÂú®ÁöÑÂ∑•‰ΩúÁõÆÂΩï ls Êü•ÁúãÊñá‰ª∂ $ ls ÊòæÁ§∫Êñá‰ª∂ $ ls -a ÊòæÁ§∫ÊâÄÊúâÊñá‰ª∂ $ ls -l ÂàóË°®ÊòæÁ§∫Êñá‰ª∂ $ ls -la ÂàóË°®ÊòæÁ§∫ÊâÄÊúâÊñá‰ª∂ touch Áî®‰∫éÊõ¥ÊîπÊñá‰ª∂ËÆøÈóÆÂíå‰øÆÊîπÊó∂Èó¥ÁöÑÊ†áÂáÜUNIXÁ®ãÂ∫èÔºå‰πüË¢´Áî®‰∫éÂàõÂª∫Êñ∞Êñá‰ª∂ $ touch test.txt Ê≥®ÊÑèÔºötouch‰∏ç‰øÆÊîπtest.txtÂÜÖÂÆπÔºåÂè™Êõ¥ÊîπÂÆÉÁöÑËÆøÈóÆ„ÄÅ‰øÆÊîπÊó∂Èó¥ÔºåÂ¶ÇÊûútest.txt‰∏çÂ≠òÂú®ÔºåÂÆÉ‰ºöË¢´ÂàõÂª∫ cat ËøûÁª≠Êü•ÁúãÊñá‰ª∂ÂÜÖÂÆπ more ÂàÜÈ°µÊü•ÁúãÊñá‰ª∂ÂÜÖÂÆπ ÊèêÁ§∫Ôºö 1&gt; ÂëΩ‰ª§ÂíåÂèÇÊï∞‰πãÈó¥ÈúÄË¶ÅÊ∑ªÂä†Á©∫Ê†º 2&gt; Â¶ÇÊûúË¶Å‰ΩøÁî®ÂΩìÂâçÁõÆÂΩï‰∏≠ÁöÑÊñá‰ª∂ÂêçÔºåËæìÂÖ•Âà∞‰∏ÄÂçäÊó∂ÔºåÊåâTABÈîÆËÉΩÂ§üË°•ÂÖ®]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSÈù¢ËØïÈ¢ò1--ÁâàÊú¨ÊéßÂà∂]]></title>
    <url>%2F2018%2F09%2F12%2FiOS%E9%9D%A2%E8%AF%95%E9%A2%981-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%2F</url>
    <content type="text"><![CDATA[Èù¢ËØïËøáÁ®ã‰∏≠ÔºåÂèØËÉΩ‰ºöÈóÆÂèä‰∏Ä‰∫õÂÖ≥‰∫éÁâàÊú¨ÊéßÂà∂ÁöÑÈóÆÈ¢òÔºåÁêÜËß£‰∏ãSVNÂíåGitÁöÑÂéüÁêÜÔºåËÆ∞‰ΩèÂ∏∏Áî®ÂëΩ‰ª§Âç≥ÂèØ„ÄÇ SVN SVN ÊòØÈõÜ‰∏≠ÂºèÊ∫ê‰ª£Á†ÅÁÆ°ÁêÜÂ∑•ÂÖ∑ Ê¶ÇÂøµÔºö 1&gt; Repository ‰ª£Á†Å‰ªìÂ∫ìÔºå‰øùÂ≠ò‰ª£Á†ÅÁöÑ‰ªìÂ∫ì 2&gt; Server ÊúçÂä°Âô®Ôºå‰øùÂ≠òÊâÄÊúâÁâàÊú¨ÁöÑ‰ª£Á†Å‰ªìÂ∫ì 3&gt; Client ÂÆ¢Êà∑Á´ØÔºåÂè™‰øùÂ≠òÂΩìÂâçÁî®Êà∑ÁöÑ‰ª£Á†Å‰ªìÂ∫ì 4&gt; Áî®Êà∑Âêç&amp;ÂØÜÁ†Å ËÆøÈóÆ‰ª£Á†Å‰ªìÂ∫ìÈúÄË¶Å‰ΩøÁî®Ëá™Â∑±ÁöÑ&quot;Áî®Êà∑ÂêçÂíåÂØÜÁ†Å&quot;Ôºå‰ªéËÄåÂèØ‰ª•Âå∫ÂàÜÂá∫‰∏çÂêåÁöÑ‰∫∫ÂØπ‰ª£Á†ÅÂÅöÁöÑ‰øÆÊîπ Êìç‰ΩúÔºö 1&gt; checkout Â∞ÜÊúçÂä°Âô®‰∏äÊúÄÊñ∞ÁöÑ‰ª£Á†Å‰ªìÂ∫ì‰∏ãËΩΩÂà∞Êú¨Âú∞Ôºå&quot;Âè™ÈúÄË¶ÅÂÅö‰∏ÄÊ¨°&quot; 2&gt; update ‰ªéÊúçÂä°Âô®‰∏äÂ∞ÜÂÖ∂‰ªñ‰∫∫ÊâÄÂÅöÁöÑ‰øÆÊîπ‰∏ãËΩΩÂà∞Êú¨Âú∞Ôºå&quot;ÊØèÂ§©‰∏äÁè≠ÂøÖÈ°ªË¶ÅÂÅöÁöÑ‰∫ãÊÉÖ&quot; 3&gt; commit Â∞ÜÂ∑•‰ΩúÊèê‰∫§Âà∞ÊúçÂä°Âô®Ôºå&quot;ÊØèÂ§©‰∏ãÁè≠‰πãÂâçËá≥Â∞ëÂÅö‰∏ÄÊ¨°&quot; SVNÊúçÂä°Âô®ÂÆâË£Ö(Áï•) SVNÂ∏∏Áî®ÂëΩ‰ª§ ÂàáÊç¢Â∑•‰ΩúÁõÆÂΩï $ cd Â∑•‰ΩúÁõÆÂΩï checkoutÊúçÂä°Âô®‰∏äÁöÑ‰ª£Á†Å‰ªìÂ∫ì $ svn co http://xxx/svn/xxxx --username=manager --password=manager ÊèêÁ§∫Ôºöcheckout(co)‰πãÂêéÔºåÂëΩ‰ª§Ë°å‰ºöËÆ∞ÂΩïÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÂêéÁª≠Êìç‰Ωú‰∏çÁî®ÂÜçÂè¶Ë°åÊåáÂÆö Êü•ÁúãÊú¨Âú∞‰ª£Á†ÅÂ∫ìÁä∂ÊÄÅ $ svn st ÈîôËØØÊèêÁ§∫Ôºö&quot;is not a working copy&quot;ÔºåÂøÖÈ°ªÂú®svnÁöÑÂ∑•‰ΩúÁõÆÂΩï‰∏ãÊâçËÉΩÊ≠£Á°Æ‰ΩøÁî®svnÁöÑÂëΩ‰ª§ Êü•ÁúãsvnÊó•Âøó $ svn log Êü•ÁúãÊüê‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊó•Âøó $ svn log filename Êü•ÁúãÊüê‰∏Ä‰∏™Êñá‰ª∂Êüê‰∏™ÁâàÊú¨ÁöÑÊó•Âøó $ svn log filename@1 ÂàõÂª∫Êñá‰ª∂ $ touch main.c ÊâìÂºÄÂπ∂ÁºñÂÜôÊñá‰ª∂ÂÜÖÂÆπ $ open main.c Êü•ÁúãÂ∑•‰ΩúÁõÆÂΩïÁä∂ÊÄÅ $ svn st Â∞ÜÊñá‰ª∂Ê∑ªÂä†Âà∞Êú¨Âú∞ÁâàÊú¨Â∫ì‰∏≠ $ svn add main.c/main.* Â∞ÜÊñá‰ª∂Êèê‰∫§Âà∞ÊúçÂä°Âô®ÁöÑÁâàÊú¨Â∫ì‰∏≠ $ svn ci -m &quot;Â§áÊ≥®‰ø°ÊÅØ&quot; Ê≥®ÊÑèÔºö‰∏ÄÂÆöË¶ÅÂÖªÊàêÂÜôÊ≥®ÈáäÁöÑËâØÂ•Ω‰π†ÊÉØ Âà†Èô§Êñá‰ª∂ $ svn rm Person.h Êèê‰∫§Âà†Èô§ $ svn ci -m &quot;Âà†Èô§‰∫ÜÊñá‰ª∂&quot; Ê≥®ÊÑèÔºö‰∏çË¶Å‰ΩøÁî®Êñá‰ª∂ÁÆ°ÁêÜÂô®Áõ¥Êé•Âà†Èô§Êñá‰ª∂ Êí§ÈîÄ‰øÆÊîπ $ svn revert Person.m ÊÅ¢Â§çÂà∞‰πãÂâçÁöÑÊüê‰∏™ÁâàÊú¨ $ svn update -r 5 ÂÜ≤Á™ÅËß£ÂÜ≥ (p) postpone ÂØπÊØî (mc) mine-conflict ‰ΩøÁî®ÊàëÁöÑ (tc) theirs-conflict ‰ΩøÁî®ÂØπÊñπÁöÑ svn st ÊòæÁ§∫ÁöÑÊñá‰ª∂Áä∂ÊÄÅ &#39; &#39; Ê≤°Êúâ‰øÆÊîπ &#39;A&#39; Ë¢´Ê∑ªÂä†Âà∞Êú¨Âú∞‰ª£Á†Å‰ªìÂ∫ì &#39;C&#39; ÂÜ≤Á™Å &#39;D&#39; Ë¢´Âà†Èô§ &#39;I&#39; Ë¢´ÂøΩÁï• &#39;M&#39; Ë¢´‰øÆÊîπ &#39;R&#39; Ë¢´ÊõøÊç¢ &#39;X&#39; Â§ñÈÉ®ÂÆö‰πâÂàõÂª∫ÁöÑÁâàÊú¨ÁõÆÂΩï &#39;?&#39; Êñá‰ª∂Ê≤°ÊúâË¢´Ê∑ªÂä†Âà∞Êú¨Âú∞ÁâàÊú¨Â∫ìÂÜÖ &#39;!&#39; Êñá‰ª∂‰∏¢Â§±ÊàñËÄÖ‰∏çÂÆåÊï¥Ôºà‰∏çÊòØÈÄöËøásvnÂëΩ‰ª§Âà†Èô§ÁöÑÊñá‰ª∂Ôºâ &#39;~&#39; ÂèóÊéßÊñá‰ª∂Ë¢´ÂÖ∂‰ªñÊñá‰ª∂ÈòªÈöî Git gitÊòØ‰∏ÄÊ¨æÂºÄÊ∫êÁöÑÂàÜÂ∏ÉÂºèÁâàÊú¨ÊéßÂà∂Â∑•ÂÖ∑ $ git help Êü•ÁúãgitÊâÄÊúâÂëΩ‰ª§ÁöÑÂ∏ÆÂä© $ git help Â≠êÂëΩ‰ª§ Ë¶ÅÈÄÄÂá∫Â∏ÆÂä©‰ø°ÊÅØÔºåÊåâ&quot;q&quot; ÁøªÁúã‰∏ãÈ°µÔºåÊåâ&quot;Á©∫Ê†º&quot; ÁøªÁúã‰∏äÈ°µÔºåÊåâ&quot;CTRL+B&quot; Ë¶ÅÊêúÁ¥¢Áõ∏ÂÖ≥ÊñáÂ≠óÔºåÊåâ&quot;/&quot;ÁÑ∂ÂêéËæìÂÖ•&quot;Áõ∏ÂÖ≥ÊñáÂ≠ó&quot; ÂàõÂª∫‰ª£Á†Å‰ªìÂ∫ì $ git init ÈÖçÁΩÆÁî®Êà∑ÂêçÂíåÈÇÆÁÆ± $ git config user.name manager $ git config user.email manager@gmail.com ‰ª•‰∏ä‰∏§‰∏™ÂëΩ‰ª§‰ºöÂ∞ÜÁî®Êà∑‰ø°ÊÅØ‰øùÂ≠òÂú®ÂΩìÂâç‰ª£Á†Å‰ªìÂ∫ì‰∏≠ Â¶ÇÊûúË¶Å‰∏ÄÊ¨°ÊÄßÈÖçÁΩÆÂÆåÊàêÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏ãÂëΩ‰ª§ $ git config --global user.name manager $ git config --global user.email manager@gmail.com ‰ª•‰∏ä‰∏§‰∏™ÂëΩ‰ª§‰ºöÂ∞ÜÁî®Êà∑‰ø°ÊÅØ‰øùÂ≠òÂú®Áî®Êà∑ÁõÆÂΩï‰∏ãÁöÑ .gitconfig Êñá‰ª∂‰∏≠ Êü•ÁúãÂΩìÂâçÊâÄÊúâÈÖçÁΩÆ $ git config -l ÂàõÂª∫‰ª£Á†ÅÔºåÂºÄÂßãÂºÄÂèë $ touch main.c $ open main.c Â∞Ü‰ª£Á†ÅÊ∑ªÂä†Âà∞‰ª£Á†ÅÂ∫ì Êü•ÁúãÂΩìÂâç‰ª£Á†ÅÂ∫ìÁä∂ÊÄÅ $ git status Â∞ÜÊñá‰ª∂Ê∑ªÂä†Âà∞‰ª£Á†ÅÂ∫ì $ git add main.c Â∞Ü‰øÆÊîπÊèê‰∫§Âà∞‰ª£Á†ÅÂ∫ì $ git commit -m &quot;Ê∑ªÂä†‰∫Ümain.c&quot; Âú®Ê≠§‰∏ÄÂÆöË¶Å‰ΩøÁî® -m ÂèÇÊï∞ÊåáÂÆö‰øÆÊîπÁöÑÂ§áÊ≥®‰ø°ÊÅØ Âê¶Âàô‰ºöËøõÂÖ• vim ÁºñËæëÂô®ÔºåÂ¶ÇÊûúÂØπvim‰∏çÁÜüÊÇâÔºå‰ºöÊòØÂæàÁ≥üÁ≥ïÁöÑ‰∫ãÊÉÖ Â∞ÜÂΩìÂâçÊñá‰ª∂Â§π‰∏ãÁöÑÊâÄÊúâÊñ∞Âª∫Êàñ‰øÆÊîπÁöÑÊñá‰ª∂‰∏ÄÊ¨°ÊÄßÊ∑ªÂä†Âà∞‰ª£Á†ÅÂ∫ì $ git add . Ê∑ªÂä†Â§ö‰∏™Êñá‰ª∂ $ touch Person.h Person.m $ git add . $ git commit -m &quot;Ê∑ªÂä†‰∫ÜPersonÁ±ª&quot; $ open Person.h $ git add . $ git commit -m &quot;Â¢ûÂä†PersonÁ±ªÂ±ûÊÄß&quot; Ê≥®ÊÑè ‰ΩøÁî®gitÊó∂ÔºåÊØè‰∏ÄÊ¨°‰øÆÊîπÈÉΩÈúÄË¶ÅÊ∑ªÂä†ÂÜçÊèê‰∫§ÔºåËøô‰∏ÄÁÇπÊòØ‰∏ésvn‰∏ç‰∏ÄÊ†∑ÁöÑ Êü•ÁúãÊâÄÊúâÁâàÊú¨Â∫ìÊó•Âøó $ git log Êü•ÁúãÊåáÂÆöÊñá‰ª∂ÁöÑÁâàÊú¨Â∫ìÊó•Âøó $ git log Êñá‰ª∂Âêç ÂõûÂà∞ÂΩìÂâçÁâàÊú¨ÔºåÊîæÂºÉÊâÄÊúâÊ≤°ÊúâÊèê‰∫§ÁöÑ‰øÆÊîπ $ git reset --hard HEAD ÂõûÂà∞‰∏ä‰∏Ä‰∏™ÁâàÊú¨ $ git reset --hard HEAD^ ÂõûÂà∞‰πãÂâçÁ¨¨3‰∏™‰øÆËÆ¢ÁâàÊú¨ $ git reset --hard HEAD~3 ÂõûÂà∞ÊåáÂÆöÁâàÊú¨Âè∑ÁöÑÁâàÊú¨ $ git reset --hard e695b67 Êü•ÁúãÂàÜÊîØÂºïÁî®ËÆ∞ÂΩï $ git reflog ‰∏∫‰ªÄ‰πàË¶ÅÁî®Ê∫ê‰ª£Á†ÅÁÆ°ÁêÜÂ∑•ÂÖ∑ ËÉΩËøΩË∏™‰∏Ä‰∏™È°πÁõÆ‰ªéËØûÁîü‰∏ÄÁõ¥Âà∞ÂÆöÊ°àÁöÑËøáÁ®ã ËÆ∞ÂΩï‰∏Ä‰∏™È°πÁõÆÁöÑÊâÄÊúâÂÜÖÂÆπÂèòÂåñ Êñπ‰æøÂú∞Êü•ÈòÖÁâπÂÆöÁâàÊú¨ÁöÑ‰øÆËÆ¢ÊÉÖÂÜµ ÊúÄÂ∏∏Áî®ÁöÑÁâàÊú¨ÊéßÂà∂Â∑•ÂÖ∑ÊòØ‰ªÄ‰πàÔºåËÉΩÂ§ßÊ¶ÇËÆ≤ËÆ≤ÂéüÁêÜ‰πàÔºüÂèÇËÄÉÁ≠îÊ°àÔºö ÊúÄÂ∏∏Áî®ÁöÑÁâàÊú¨ÊéßÂà∂Â∑•ÂÖ∑ÊúâSourceTreeÔºàGITÔºâÂíåCornerStoneÔºàSVNÔºâÔºõ ÂéüÁêÜÊèêÂà∞svnÊòØÈõÜ‰∏≠Âºè‰ª£Á†ÅÁÆ°ÁêÜÔºåËß£Èáä‰∏ãÂÖ∑‰ΩìÊÑèÊÄùÔºågit‰πüËøôÊ†∑ÂõûÁ≠îÂ∞±Ë°å‰∫Ü„ÄÇ ÈõÜ‰∏≠Âºè‰ª£Á†ÅÁÆ°ÁêÜÔºàSVNÔºâÁöÑÊ†∏ÂøÉÊòØÊúçÂä°Âô®ÔºåÊâÄÊúâÂºÄÂèëËÄÖÂú®ÂºÄÂßãÊñ∞‰∏ÄÂ§©ÁöÑÂ∑•‰Ωú‰πãÂâçÂøÖÈ°ª‰ªéÊúçÂä°Âô®Ëé∑Âèñ‰ª£Á†ÅÔºåÁÑ∂ÂêéÂºÄÂèëÔºåÊúÄÂêéËß£ÂÜ≥ÂÜ≤Á™ÅÔºåÊèê‰∫§„ÄÇÊâÄÊúâÁöÑÁâàÊú¨‰ø°ÊÅØÈÉΩÊîæÂú®ÊúçÂä°Âô®‰∏ä„ÄÇÂ¶ÇÊûúËÑ±Á¶ª‰∫ÜÊúçÂä°Âô®ÔºåÂºÄÂèëËÄÖÂü∫Êú¨‰∏äÂèØ‰ª•ËØ¥ÊòØÊó†Ê≥ïÂ∑•‰ΩúÁöÑ„ÄÇ ÂàÜÂ∏ÉÂºèÁöÑÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÂú®Git‰∏≠Âπ∂‰∏çÂ≠òÂú®‰∏ªÂ∫ìËøôÊ†∑ÁöÑÊ¶ÇÂøµÔºåÊØè‰∏Ä‰ªΩÂá∫ÁöÑÂ∫ìÈÉΩÂèØ‰ª•Áã¨Á´ã‰ΩøÁî®Ôºå‰ªª‰Ωï‰∏§‰∏™Â∫ì‰πãÈó¥ÁöÑ‰∏ç‰∏ÄËá¥‰πãÂ§ÑÈÉΩÂèØ‰ª•ËøõË°åÂêàÂπ∂„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS‰ΩìÁ≥ªÁªìÊûÑÂõæ]]></title>
    <url>%2F2018%2F09%2F11%2FiOS%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[ËøôÂº†ÂõæÊòØgithub‰∏ä‰∏Ä‰ΩçÂ§ßÁâõÊâÄÂà∂‰Ωú„ÄÇÂª∫ËÆÆÊâæÂ∑•‰ΩúÁöÑÂêåÂ≠¶ÔºåÊääËøôÂº†ÂõæÊâìÂç∞Âá∫Êù•ÔºåËá™Â∑±ÂØπÁùÄÁúãÔºåÊúâÂì™‰∫õÁü•ËØÜÁÇπÈÅóÂøòÁöÑÔºåËµ∂Á¥ßÂéªÂ§ç‰π†ÔºåÊØèÂ§©Ëøá‰∏ÄÈÅçÔºå‰øùËØÅ‰Ω†Èù¢ËØïÁöÑÊó∂ÂÄôËÉ∏ÊúâÊàêÁ´π„ÄÇ Âú®ËøôÈáåÔºåÊàëÂ∞ÜÊÄªÁªìËøôÊÆµÊó∂Èó¥Êî∂ÈõÜÁöÑÂíåÈù¢ËØïËÆ∞ÂΩï‰∏ãÊù•ÁöÑÂêÑÁ±ªÈóÆÈ¢òÔºåÂä©ÂêÑ‰ΩçÂêåÂ≠¶Èù¢ËØï‰∏ÄËáÇ‰πãÂäõ„ÄÇÊñáÁ´†Â¶ÇÊúâÈóÆÈ¢òÔºåËØ∑ÁïôË®ÄÔºåÊàëÂ∞ÜÂèäÊó∂Êõ¥Ê≠£„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>iOSÈù¢ËØï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈÄüÂ≠¶blockÂú®ARCÂíåMRC‰∏≠ÁöÑ‰ΩøÁî®]]></title>
    <url>%2F2018%2F09%2F04%2F%E9%80%9F%E5%AD%A6block%E5%9C%A8ARC%E5%92%8CMRC%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[1.ARCËΩ¨MRC MRCËΩ¨ARCÈ¶ñÂÖà, ÂÖàË¶Å‰∫ÜËß£‰∏ãARCËΩ¨MRCÂíåMRCËΩ¨ARC.ARCÈ°πÁõÆËΩ¨MRCÂàõÂª∫È°πÁõÆ, ÊâìÂºÄXcode, ÁÇπÂáªÈ°πÁõÆ, ÊâæÂà∞Build Phases‰∏≠ÁöÑCompile Sources, Â∞ÜÈúÄË¶ÅËΩ¨‰∏∫MRCÁöÑ .mÊñá‰ª∂Âä†ÂÖ•ÁºñËØëÊ†áËÆ∞ -fno-objc-arc MRCÈ°πÁõÆËΩ¨ARCÁªôMRCÈ°πÁõÆ‰∏≠.mÊñá‰ª∂Ê∑ªÂä†ARCÊ†áËÆ∞ -fobjc-arc 2.Á§∫‰æãÊºîÁ§∫Example A void exampleA() { char a = 'A'; ^{ printf("%c\n", a); }(); } 1.ARCÂíåMRCÈÉΩÊúâÊïà ?2.Âè™ÊúâARC ÊúâÊïà?3.MRCÊúâÊïà ?4.ÈÉΩÊ≤°ÊúâÊïà? Example B void exampleB_addBlockToArray(NSMutableArray *array) { char b = 'B'; [array addObject:^{ printf("%c\n", b); }]; } void exampleB() { NSMutableArray *array = [NSMutableArray array]; exampleB_addBlockToArray(array); void (^block)(void) = [array objectAtIndex:0]; block(); //MRC Êñ≠ÁÇπÊü•Áúã‰∏ã __NSStackBlock__ NSLog(@"%@", [block class]);// ARC __NSMallocBlock__ } 1.ARCÂíåMRCÈÉΩÊúâÊïà ?2.Âè™ÊúâARC ÊúâÊïà?3.MRCÊúâÊïà ?4.ÈÉΩÊ≤°ÊúâÊïà? Example C void exampleC_addBlockToArray(NSMutableArray *array) { [array addObject:^{ printf("C\n"); }]; } void exampleC() { NSMutableArray *array = [NSMutableArray array]; exampleC_addBlockToArray(array); void (^block)(void) = [array objectAtIndex:0]; block(); NSLog(@"%@", [block class]); // __NSGlobalBlock__ } 1.ARCÂíåMRCÈÉΩÊúâÊïà ?2.Âè™ÊúâARC ÊúâÊïà?3.MRCÊúâÊïà ?4.ÈÉΩÊ≤°ÊúâÊïà? Example D typedef void (^dBlock)(void); dBlock exampleD_getBlock() { char d = 'D'; return ^{ printf("%c\n", d); } ; } void exampleD() { exampleD_getBlock()(); } 1.ARCÂíåMRCÈÉΩÊúâÊïà ?2.Âè™ÊúâARC ÊúâÊïà?3.MRCÊúâÊïà ?4.ÈÉΩÊ≤°ÊúâÊïà? Example E typedef void (^eBlock)(void); eBlock exampleE_getBlock() { char e = 'E'; void (^block)(void) = ^{ printf("%c\n", e); }; return block; } void exampleE() { eBlock block = exampleE_getBlock(); block(); //MRC Êñ≠ÁÇπÊü•Áúã‰∏ã __NSStackBlock__ NSLog(@"%@", [block class]); // ARC __NSMallocBlock__ } 1.ARCÂíåMRCÈÉΩÊúâÊïà ?2.Âè™ÊúâARC ÊúâÊïà?3.MRCÊúâÊïà ?4.ÈÉΩÊ≤°ÊúâÊïà? 3.Ëß£ÊûêExample A: ARCÂíåMRCÈÉΩÊúâÊïà ‰∏çÁÆ°Âú® ARC ËøòÊòØ MRC ‰∏ãÔºå‰∏çËÆ∫ block Â≠òÊîæÂú® stack ËøòÊòØ heap ÂÜÖÂ≠ò‰∏≠ÔºåÂΩìexample A Ë¢´Ë∞ÉÁî®Êó∂Ôºåblock ‰ªçÁÑ∂ÊúâÊïàÔºåÈÉΩËÉΩÊ≠£Â∏∏ÊâßË°å. Example B: Âè™ÊúâARC ÊúâÊïà Âú® MRC ‰∏ãÔºåexampleB_addBlockToArray ‰∏≠ÁöÑ block ÊòØ NSStackBlock Á±ªÂûãÔºåÂ≠òÊîæÂú®stackÂÜÖÂ≠ò‰∏≠„ÄÇÂΩìÊâßË°å exampleB Êó∂Ôºåstack ÂÜÖÂ≠òË¢´ÈáäÊîæÔºåblock Â§±Êïà. Âú® ARC ‰∏ãÔºåblock ÊòØ autoreleased NSMallocBlock Á±ªÂûãÔºåÂ≠òÊîæÂú® heap ÂÜÖÂ≠ò‰∏≠ÔºåÊâÄ‰ª• Exmaple B Âè™ÊúâARC ÊúâÊïà. Example C: ARCÂíåMRCÈÉΩÊúâÊïà ÂΩì block ‰∏çÈúÄË¶Å‰ªéÂ§ñÈÉ®Ëé∑ÂèñÂèòÈáèÊó∂ÔºåÂÆÉ‰∏çÈúÄË¶ÅÂú® runtime ËÆæÁΩÆ‰ªª‰ΩïÁä∂ÊÄÅ„ÄÇÊ≠§Êó∂Ôºåblock Ë¢´ÁºñËØëÊàê NSGlobalBlock Á±ªÂûãÔºåÊîæÂú®ÂÜÖÂ≠ò data ÊÆµÔºåÂ∞±ÂÉè C ÂáΩÊï∞‰∏ÄÊ†∑ÔºåÂ±û‰∫é‰ª£Á†ÅÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÊâÄ‰ª• ARCÂíåMRCÈÉΩÊúâÊïà. Example D: Âè™ÊúâARC ÊúâÊïà ËøôÈ¢òÊúâÁÇπÁ±ª‰ºº‰∫é Example B. Âú® MRC ‰∏ãÔºåexampleD_getBlock ‰∏≠ÁöÑblock ‰ºöË¢´ÂàõÂª∫Âú® stack ÂÜÖÂ≠ò‰∏≠ÔºåÂΩìÂáΩÊï∞ËøîÂõûÊó∂ÔºåblockÈ©¨‰∏äÂ§±Êïà„ÄÇÈâ¥‰∫éÊú¨È¢òÁöÑÈîôËØØÂÆûÂú®Â§™ÊòéÊòæÔºåÁºñËØëÂô®Âú®ÁºñËØëÊó∂ÔºåÂ∞±‰ºöÊäõÂá∫ÈîôËØØ error: returning block that lives on the local stack. ËÄåÂú® ARC ‰∏ãÔºåblock ‰ºöË¢´ÁºñËØëÊàê autoreleased NSMallocBlock Á±ªÂûãÔºåÂ≠òÊîæ‰∫é heap ÂÜÖÂ≠ò‰∏≠„ÄÇÊâÄ‰ª• Âè™ÊúâARC ÊúâÊïà. Example E: Âè™ÊúâARC ÊúâÊïà Êú¨È¢òÁ±ª‰ºº‰∫é Example DÔºåÂå∫Âà´Âú®‰∫éÊú¨È¢ò‰ª£Á†Å‰∏ç‰ºöÂá∫Áé∞ÁºñËØëÈîôËØØÔºåËÄåÊòØÂú®ËøêË°åÊó∂Êâç‰ºöÂ¥©Ê∫É„ÄÇÊõ¥ÊßΩÁ≥ïÁöÑÊòØÔºåÂ¶ÇÊûú‰Ω†ÂÖ≥Èó≠‰∫ÜÁºñËØëÂô®‰ºòÂåñÈÄâÈ°πÔºå‰ª£Á†ÅËøêË°åÊ≠£Â∏∏ÔºåËÄåÊó†Ê≥ïÂèëÁé∞Ëøô‰∏™ÈöêËóèÁöÑbug„ÄÇ ËÄåÂú® ARC ‰∏ãÔºåblock ‰ºöË¢´ÁºñËØëÊàê autoreleased NSMallocBlock Á±ªÂûãÔºåÂ≠òÊîæ‰∫é heap ÂÜÖÂ≠ò‰∏≠„ÄÇÊâÄ‰ª• Âè™ÊúâARC ÊúâÊïà. 4.ÊÄªÁªìÊÄªÁªì1: MRC ‰∏≠block Ê≤°ÊúâÂºïÁî®Â§ñÈÉ®ÂèòÈáè, block‰∏∫ NSGlobalBlock Á±ªÂûã,Â≠òÂÇ®Âú®ÂÖ®Â±ÄÊï∞ÊçÆÂå∫.MRC ‰∏≠block ÂºïÁî®Â§ñÈÉ®ÂèòÈáè,block‰∏∫NSStackBlock Á±ªÂûã,Â≠òÂÇ®Âú®Ê†àÂÜÖÂ≠ò‰∏≠.ÊâÄ‰ª•, Âú®blockÊâÄÂ±ûÁöÑÊ†à‰ΩúÁî®ÂüüÂ§ñ‰ΩøÁî®blockÊó∂, ÈúÄË¶ÅÂ∞ÜË∞ÉÁî®copyÊñπÊ≥ïÂ∞ÜËØ•blockÂ≠òÂÇ®Âú®Â†ÜÂå∫. ÊÄªÁªì2: ARC ‰∏≠ Ê≤°ÊúâÂºïÁî®Â§ñÈÉ®ÂèòÈáè, block‰∏∫ NSGlobalBlock Á±ªÂûã,Â≠òÂÇ®Âú®ÂÖ®Â±ÄÊï∞ÊçÆÂå∫.ARC ‰∏≠ ÂºïÁî®Â§ñÈÉ®ÂèòÈáè, block‰∏∫ autoreleased NSMallocBlock Á±ªÂûã,Â≠òÂÇ®Âú®Â†ÜÂÜÖÂ≠ò‰∏≠. ‰æãÂ§ñ:ÂåøÂêçblock ÂºïÁî®Â§ñÈÉ®ÂèòÈáè Âú®ARC‰∏ãÂÖ∂ÂÆûÂæàÂ∞ëËßÅÂà∞ NSStackBlock Á±ªÁöÑBlockÔºåÂ§ßÂ§öÊï∞ÊÉÖÂÜµÁºñËØëÂô®ÈÉΩ‰øùËØÅ‰∫ÜBlockÊòØÂú®Â†Ü‰∏äÂàõÂª∫ÁöÑ int count = 11; NSLog(@"Stack Block:%@", [^{NSLog(@"Stack Block:%d",count);} class]); //ÊâìÂç∞ÔºöStack Block:__NSStackBlock__ 5.‰ª•‰∏äËøô‰πàÂ§ö‰æãÂ≠êÂëäËØâÊàë‰ª¨‰ªÄ‰πàÔºüÂëäËØâÊàë‰ª¨Ë¶Å‰ΩøÁî®ARCÔºÅÂú®ARC‰∏ãÔºåblockÊÄªËÉΩÊ≠£Á°ÆËøêË°å„ÄÇÂ¶ÇÊûú‰Ω†‰∏çÁî®ARCÔºåÊúÄÂ•ΩËÉΩ‰øùËØÅÂú® stack ÂÜÖÂ≠ò‰∏≠Â£∞ÊòéÂÆö‰πâÁöÑblockÔºåËÉΩÂ§üÊã∑Ë¥ùÂà∞heapÂÜÖÂ≠òÔºå‰øùËØÅblockÁöÑÊ≠£Â∏∏ËøêË°å„ÄÇ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>block</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[markdownËØ≠Ê≥ï]]></title>
    <url>%2F2018%2F08%2F30%2Fmarkdown%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Ê¨¢Ëøé‰ΩøÁî®È©¨ÂÖãÈ£ûË±°@(Á§∫‰æãÁ¨îËÆ∞Êú¨)[È©¨ÂÖãÈ£ûË±°|Â∏ÆÂä©|Markdown] È©¨ÂÖãÈ£ûË±°ÊòØ‰∏ÄÊ¨æ‰∏ì‰∏∫Âç∞Ë±°Á¨îËÆ∞ÔºàEvernoteÔºâÊâìÈÄ†ÁöÑMarkdownÁºñËæëÂô®ÔºåÈÄöËøáÁ≤æÂøÉÁöÑËÆæËÆ°‰∏éÊäÄÊúØÂÆûÁé∞ÔºåÈÖçÂêàÂç∞Ë±°Á¨îËÆ∞Âº∫Â§ßÁöÑÂ≠òÂÇ®ÂíåÂêåÊ≠•ÂäüËÉΩÔºåÂ∏¶Êù•ÂâçÊâÄÊú™ÊúâÁöÑ‰π¶ÂÜô‰ΩìÈ™å„ÄÇÁâπÁÇπÊ¶ÇËø∞Ôºö ÂäüËÉΩ‰∏∞ÂØå ÔºöÊîØÊåÅÈ´ò‰∫Æ‰ª£Á†ÅÂùó„ÄÅLaTeX ÂÖ¨Âºè„ÄÅÊµÅÁ®ãÂõæÔºåÊú¨Âú∞ÂõæÁâá‰ª•ÂèäÈôÑ‰ª∂‰∏ä‰º†ÔºåÁîöËá≥Êà™ÂõæÁ≤òË¥¥ÔºåÂ∑•‰ΩúÂ≠¶‰π†Â•ΩÂ∏ÆÊâãÔºõ ÂæóÂøÉÂ∫îÊâã ÔºöÁÆÄÊ¥ÅÈ´òÊïàÁöÑÁºñËæëÂô®ÔºåÊèê‰æõ[Ê°åÈù¢ÂÆ¢Êà∑Á´Ø][1]‰ª•Âèä[Á¶ªÁ∫øChrome App][2]ÔºåÊîØÊåÅÁßªÂä®Á´Ø WebÔºõ Ê∑±Â∫¶Êï¥Âêà ÔºöÊîØÊåÅÈÄâÊã©Á¨îËÆ∞Êú¨ÂíåÊ∑ªÂä†Ê†áÁ≠æÔºåÊîØÊåÅ‰ªéÂç∞Ë±°Á¨îËÆ∞Ë∑≥ËΩ¨ÁºñËæëÔºåËΩªÊùæÁÆ°ÁêÜ„ÄÇ [TOC] (‰∏çÊîØÊåÅ) MarkdownÁÆÄ‰ªã(hexoÂºïÁî®‰∏ç‰∏ÄÊ†∑) Markdown ÊòØ‰∏ÄÁßçËΩªÈáèÁ∫ßÊ†áËÆ∞ËØ≠Ë®ÄÔºåÂÆÉÂÖÅËÆ∏‰∫∫‰ª¨‰ΩøÁî®ÊòìËØªÊòìÂÜôÁöÑÁ∫ØÊñáÊú¨Ê†ºÂºèÁºñÂÜôÊñáÊ°£ÔºåÁÑ∂ÂêéËΩ¨Êç¢ÊàêÊ†ºÂºè‰∏∞ÂØåÁöÑHTMLÈ°µÈù¢„ÄÇ ‚Äî‚Äî Áª¥Âü∫ÁôæÁßë Ê≠£Â¶ÇÊÇ®Âú®ÈòÖËØªÁöÑËøô‰ªΩÊñáÊ°£ÔºåÂÆÉ‰ΩøÁî®ÁÆÄÂçïÁöÑÁ¨¶Âè∑Ê†áËØÜ‰∏çÂêåÁöÑÊ†áÈ¢òÔºåÂ∞ÜÊüê‰∫õÊñáÂ≠óÊ†áËÆ∞‰∏∫Á≤ó‰ΩìÊàñËÄÖÊñú‰ΩìÔºåÂàõÂª∫‰∏Ä‰∏™ÈìæÊé•Êàñ‰∏Ä‰∏™ËÑöÊ≥®[^demo]„ÄÇ‰∏ãÈù¢Âàó‰∏æ‰∫ÜÂá†‰∏™È´òÁ∫ßÂäüËÉΩÔºåÊõ¥Â§öËØ≠Ê≥ïËØ∑ÊåâCmd + /Êü•ÁúãÂ∏ÆÂä©„ÄÇ ‰ª£Á†ÅÂùó@requires_authorization def somefunc(param1='', param2=0): '''A docstring''' if param1 > param2: # interesting print 'Greater' return (param2 - param1 + 1) or None class SomeClass: pass >>> message = '''interpreter ... prompt''' LaTeX ÂÖ¨Âºè (hexo‰∏çÊîØÊåÅÊ≠§ÂÜôÊ≥ï)ÂèØ‰ª•ÂàõÂª∫Ë°åÂÜÖÂÖ¨ÂºèÔºå‰æãÂ¶Ç $\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$„ÄÇÊàñËÄÖÂùóÁ∫ßÂÖ¨ÂºèÔºö $$ x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a} $$ Ë°®Ê†º (‰∏ç‰∏ÄÊ†∑) Item Value Qty Computer 1600 USD 5 Phone 12 USD 12 Pipe 1 USD 234 ÊµÅÁ®ãÂõæ (hexo‰∏çÊîØÊåÅÊ≠§ÂÜôÊ≥ï)st=>start: Start e=>end op=>operation: My Operation cond=>condition: Yes or No? st->op->cond cond(yes)->e cond(no)->op ‰ª•ÂèäÊó∂Â∫èÂõæ: Alice->Bob: Hello Bob, how are you? Note right of Bob: Bob thinks Bob-->Alice: I am good thanks! ÊèêÁ§∫ÔºöÊÉ≥‰∫ÜËß£Êõ¥Â§öÔºåËØ∑Êü•ÁúãÊµÅÁ®ãÂõæ[ËØ≠Ê≥ï][3]‰ª•ÂèäÊó∂Â∫èÂõæ[ËØ≠Ê≥ï][4]„ÄÇ Â§çÈÄâÊ°Ü‰ΩøÁî® - [ ] Âíå - [x] ËØ≠Ê≥ïÂèØ‰ª•ÂàõÂª∫Â§çÈÄâÊ°ÜÔºåÂÆûÁé∞ todo-list Á≠âÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºö Â∑≤ÂÆåÊàê‰∫ãÈ°π ÂæÖÂäû‰∫ãÈ°π1 ÂæÖÂäû‰∫ãÈ°π2 Ê≥®ÊÑèÔºöÁõÆÂâçÊîØÊåÅÂ∞ö‰∏çÂÆåÂÖ®ÔºåÂú®Âç∞Ë±°Á¨îËÆ∞‰∏≠ÂãæÈÄâÂ§çÈÄâÊ°ÜÊòØÊó†Êïà„ÄÅ‰∏çËÉΩÂêåÊ≠•ÁöÑÔºåÊâÄ‰ª•ÂøÖÈ°ªÂú®È©¨ÂÖãÈ£ûË±°‰∏≠‰øÆÊîπ Markdown ÂéüÊñáÊâçÂèØÁîüÊïà„ÄÇ‰∏ã‰∏™ÁâàÊú¨Â∞Ü‰ºöÂÖ®Èù¢ÊîØÊåÅ„ÄÇ Âç∞Ë±°Á¨îËÆ∞Áõ∏ÂÖ≥Á¨îËÆ∞Êú¨ÂíåÊ†áÁ≠æÈ©¨ÂÖãÈ£ûË±°Â¢ûÂä†‰∫Ü@(Á¨îËÆ∞Êú¨)[Ê†áÁ≠æA|Ê†áÁ≠æB]ËØ≠Ê≥ï, ‰ª•ÈÄâÊã©Á¨îËÆ∞Êú¨ÂíåÊ∑ªÂä†Ê†áÁ≠æ„ÄÇ ÁªëÂÆöË¥¶Âè∑ÂêéÔºå ËæìÂÖ•(Ëá™Âä®‰ºöÂá∫Áé∞Á¨îËÆ∞Êú¨ÂàóË°®ÔºåËØ∑‰ªé‰∏≠ÈÄâÊã©„ÄÇ Á¨îËÆ∞Ê†áÈ¢òÈ©¨ÂÖãÈ£ûË±°‰ºöËá™Âä®‰ΩøÁî®ÊñáÊ°£ÂÜÖÂá∫Áé∞ÁöÑÁ¨¨‰∏Ä‰∏™Ê†áÈ¢ò‰Ωú‰∏∫Á¨îËÆ∞Ê†áÈ¢ò„ÄÇ‰æãÂ¶ÇÊú¨ÊñáÔºåÂ∞±ÊòØÁ¨¨‰∏ÄË°åÁöÑ Ê¨¢Ëøé‰ΩøÁî®È©¨ÂÖãÈ£ûË±°„ÄÇ Âø´Êç∑ÁºñËæë‰øùÂ≠òÂú®Âç∞Ë±°Á¨îËÆ∞‰∏≠ÁöÑÁ¨îËÆ∞ÔºåÂè≥‰∏äËßí‰ºöÊúâ‰∏Ä‰∏™Á∫¢Ëâ≤ÁöÑÁºñËæëÊåâÈíÆÔºåÁÇπÂáªÂêé‰ºöÂõûÂà∞È©¨ÂÖãÈ£ûË±°‰∏≠ÊâìÂºÄÂπ∂ÁºñËæëËØ•Á¨îËÆ∞„ÄÇ Ê≥®ÊÑèÔºöÁõÆÂâçÁî®Êà∑Âú®Âç∞Ë±°Á¨îËÆ∞‰∏≠ÂçïÊñπÈù¢ÂÅöÁöÑ‰ªª‰Ωï‰øÆÊîπÔºåÈ©¨ÂÖãÈ£ûË±°ÊòØÊó†Ê≥ïËá™Âä®ÊÑüÁü•ÂíåÊõ¥Êñ∞ÁöÑ„ÄÇÊâÄ‰ª•ËØ∑Âä°ÂøÖÂõûÂà∞È©¨ÂÖãÈ£ûË±°ÁºñËæë„ÄÇ Êï∞ÊçÆÂêåÊ≠•È©¨ÂÖãÈ£ûË±°ÈÄöËøáÂ∞ÜMarkdownÂéüÊñá‰ª•ÈöêËóèÂÜÖÂÆπ‰øùÂ≠òÂú®Á¨îËÆ∞‰∏≠ÁöÑÁ≤æÂ¶ôËÆæËÆ°ÔºåÂÆûÁé∞‰∫ÜÂØπMarkdownÁöÑÂ≠òÂÇ®ÂíåÂÜçÊ¨°ÁºñËæë„ÄÇÊó¢Ëß£ÂÜ≥‰∫ÜÂÖ∂‰ªñ‰∫ßÂìÅÂè™ÊòØÂçïÂêëÂØºÂá∫HTMLÁöÑÂçïËñÑÔºåÂèàËßÑÈÅø‰∫ÜÊúçÂä°Á´ØÂ≠òÂÇ®MarkdownÂ∏¶Êù•ÁöÑÈöêÁßÅÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇËøôÊ†∑ÔºåÊúçÂä°Á´Ø‰ªÖ‰Ωú‰∏∫ÂØπÂç∞Ë±°Á¨îËÆ∞ APIË∞ÉÁî®ÂíåÊï∞ÊçÆËΩ¨Êç¢‰πãÁî®„ÄÇ ÈöêÁßÅÂ£∞ÊòéÔºöÁî®Êà∑ÊâÄÊúâÁöÑÁ¨îËÆ∞Êï∞ÊçÆÔºåÂùá‰øùÂ≠òÂú®Âç∞Ë±°Á¨îËÆ∞‰∏≠„ÄÇÈ©¨ÂÖãÈ£ûË±°‰∏çÂ≠òÂÇ®Áî®Êà∑ÁöÑ‰ªª‰ΩïÁ¨îËÆ∞Êï∞ÊçÆ„ÄÇ Á¶ªÁ∫øÂ≠òÂÇ®È©¨ÂÖãÈ£ûË±°‰ΩøÁî®ÊµèËßàÂô®Á¶ªÁ∫øÂ≠òÂÇ®Â∞ÜÂÜÖÂÆπÂÆûÊó∂‰øùÂ≠òÂú®Êú¨Âú∞Ôºå‰∏çÂøÖÊãÖÂøÉÁΩëÁªúÊñ≠ÊéâÊàñÊµèËßàÂô®Â¥©Ê∫É„ÄÇ‰∏∫‰∫ÜËäÇÁúÅÁ©∫Èó¥ÂíåÈÅøÂÖçÂÜ≤Á™ÅÔºåÂ∑≤ÂêåÊ≠•Ëá≥Âç∞Ë±°Á¨îËÆ∞Âπ∂‰∏î‰∏çÂÜç‰øÆÊîπÁöÑÁ¨îËÆ∞Â∞ÜÂà†Èô§ÈÉ®ÂàÜÊú¨Âú∞ÁºìÂ≠òÔºå‰∏çËøá‰æùÁÑ∂ÂèØ‰ª•ÈöèÊó∂ÈÄöËøáÊñáÊ°£ÁÆ°ÁêÜÊâìÂºÄ„ÄÇ Ê≥®ÊÑèÔºöËôΩÁÑ∂ÊµèËßàÂô®Â≠òÂÇ®Â§ßÈÉ®ÂàÜÊó∂ÂÄôÈÉΩÊØîËæÉÂèØÈù†Ôºå‰ΩÜÂç∞Ë±°Á¨îËÆ∞‰Ωú‰∏∫‰∏ì‰∏ö‰∫ëÂ≠òÂÇ®ÔºåÊõ¥ÂÄºÂæó‰ø°Ëµñ„ÄÇ‰ª•Èò≤‰∏á‰∏ÄÔºåËØ∑Âä°ÂøÖÁªèÂ∏∏ÂèäÊó∂ÂêåÊ≠•Âà∞Âç∞Ë±°Á¨îËÆ∞„ÄÇ ÁºñËæëÂô®Áõ∏ÂÖ≥ËÆæÁΩÆÂè≥‰æßÁ≥ªÁªüËèúÂçïÔºàÂø´Êç∑ÈîÆCmd + MÔºâÁöÑËÆæÁΩÆ‰∏≠ÔºåÊèê‰æõ‰∫ÜÁïåÈù¢Â≠ó‰Ωì„ÄÅÂ≠óÂè∑„ÄÅËá™ÂÆö‰πâCSS„ÄÅvim/emacs ÈîÆÁõòÊ®°ÂºèÁ≠âÈ´òÁ∫ßÈÄâÈ°π„ÄÇ Âø´Êç∑ÈîÆÂ∏ÆÂä© Cmd + /ÂêåÊ≠•ÊñáÊ°£ Cmd + SÂàõÂª∫ÊñáÊ°£ Cmd + Opt + NÊúÄÂ§ßÂåñÁºñËæëÂô® Cmd + EnterÈ¢ÑËßàÊñáÊ°£ Cmd + Opt + EnterÊñáÊ°£ÁÆ°ÁêÜ Cmd + OÁ≥ªÁªüËèúÂçï Cmd + M Âä†Á≤ó Cmd + BÊèíÂÖ•ÂõæÁâá Cmd + GÊèíÂÖ•ÈìæÊé• Cmd + LÊèêÂçáÊ†áÈ¢ò Cmd + H ÂÖ≥‰∫éÊî∂Ë¥πÈ©¨ÂÖãÈ£ûË±°‰∏∫Êñ∞Áî®Êà∑Êèê‰æõ 10 Â§©ÁöÑËØïÁî®ÊúüÔºåËØïÁî®ÊúüËøáÂêéÈúÄË¶ÅÁª≠Ë¥πÊâçËÉΩÁªßÁª≠‰ΩøÁî®„ÄÇÊú™Ë¥≠‰π∞ÊàñËÄÖÊú™ÂèäÊó∂Áª≠Ë¥πÔºåÂ∞Ü‰∏çËÉΩÂêåÊ≠•Êñ∞ÁöÑÁ¨îËÆ∞„ÄÇ‰πãÂâç‰øùÂ≠òËøáÁöÑÁ¨îËÆ∞‰æùÁÑ∂ÂèØ‰ª•ÁºñËæë„ÄÇ ÂèçÈ¶à‰∏éÂª∫ËÆÆ ÂæÆÂçöÔºö@È©¨ÂÖãÈ£ûË±°Ôºå@GGock ÈÇÆÁÆ±Ôºö&#104;&#x75;&#x73;&#116;&#x67;&#111;&#x63;&#x6b;&#x40;&#x67;&#109;&#97;&#x69;&#108;&#x2e;&#99;&#x6f;&#x6d; ÊÑüË∞¢ÈòÖËØªËøô‰ªΩÂ∏ÆÂä©ÊñáÊ°£„ÄÇËØ∑ÁÇπÂáªÂè≥‰∏äËßíÔºåÁªëÂÆöÂç∞Ë±°Á¨îËÆ∞Ë¥¶Âè∑ÔºåÂºÄÂêØÂÖ®Êñ∞ÁöÑËÆ∞ÂΩï‰∏éÂàÜ‰∫´‰ΩìÈ™åÂêß„ÄÇ [^demo] (hexo‰∏çÊîØÊåÅ) [^demo]: ËøôÊòØ‰∏Ä‰∏™Á§∫‰æãËÑöÊ≥®„ÄÇËØ∑Êü•ÈòÖ MultiMarkdown ÊñáÊ°£ ÂÖ≥‰∫éËÑöÊ≥®ÁöÑËØ¥Êòé„ÄÇ ÈôêÂà∂Ôºö Âç∞Ë±°Á¨îËÆ∞ÁöÑÁ¨îËÆ∞ÂÜÖÂÆπ‰ΩøÁî® [ENML][5] Ê†ºÂºèÔºåÂü∫‰∫é HTMLÔºå‰ΩÜÊòØ‰∏çÊîØÊåÅÊüê‰∫õÊ†áÁ≠æÂíåÂ±ûÊÄßÔºå‰æãÂ¶ÇidÔºåËøôÂ∞±ÂØºËá¥ËÑöÊ≥®ÂíåTOCÊó†Ê≥ïÊ≠£Â∏∏ÁÇπÂáª„ÄÇ (ÊîØÊåÅ) [1]: http://maxiang.info/client_zh [2]: https://chrome.google.com/webstore/detail/kidnkfckhbdkfgbicccmdggmpgogehop [3]: http://adrai.github.io/flowchart.js/ [4]: http://bramp.github.io/js-sequence-diagrams/ [5]: https://dev.yinxiang.com/doc/articles/enml.php]]></content>
      <categories>
        <category>ÂâçÁ´Ø</category>
      </categories>
      <tags>
        <tag>ÊäÄÂ∑ß</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoËØ≠Ê≥ï‰ΩìÈ™å]]></title>
    <url>%2F2018%2F08%2F30%2Fhexo%E8%AF%AD%E6%B3%95%E4%BD%93%E9%AA%8C%2F</url>
    <content type="text"><![CDATA[ImageÂú®ÊñáÁ´†‰∏≠ÊèíÂÖ•ÊåáÂÆöÂ§ßÂ∞èÁöÑÂõæÁâá„ÄÇ Ê†áÁ≠æÊèí‰ª∂ÔºàTag PluginsÔºâÂºïÁî®ÂùóÂú®ÊñáÁ´†‰∏≠ÊèíÂÖ•ÂºïË®ÄÔºåÂèØÂåÖÂê´‰ΩúËÄÖ„ÄÅÊù•Ê∫êÂíåÊ†áÈ¢ò„ÄÇ Âà´Âè∑Ôºö quotecontent [author[source]] [link] [source_link_title] Ê†∑‰æãÊ≤°ÊúâÊèê‰æõÂèÇÊï∞ÔºåÂàôÂè™ËæìÂá∫ÊôÆÈÄöÁöÑ blockquote Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque hendrerit lacus ut purus iaculis feugiat. Sed nec tempor elit, quis aliquam neque. Curabitur sed diam eget dolor fermentum semper at eu lorem. 111111 222222 333 ‰ª£Á†ÅÂùóÂú®ÊñáÁ´†‰∏≠ÊèíÂÖ•‰ª£Á†Å„ÄÇ Âà´ÂêçÔºö codecode snippet Ê†∑‰æãÊôÆÈÄöÁöÑ‰ª£Á†ÅÂùóalert(&#39;Hello World!&#39;); alert(‚ÄòHello World!‚Äô); ÊåáÂÆöËØ≠Ë®Ä[rectangle setX: 10 y: 10 width: 20 height: 20]; [rectangle setX: 10 y: 10 width: 20 height: 20]; [rectangle setX: 10 y: 10 width: 20 height: 20]; ÈôÑÂä†ËØ¥Êòéarray.map(callback[, thisArg]) Array.maparray.map(callback[, thisArg]) ÈôÑÂä†ËØ¥ÊòéÂíåÁΩëÂùÄ_.compact([0, 1, false, 2, &#39;&#39;, 3]); =&gt; [1, 2, 3] _.compactUnderscore.js_.compact([0, 1, false, 2, ‚Äò‚Äô, 3]);=&gt; [1, 2, 3] ÂèçÂºïÂè∑‰ª£Á†ÅÂùóÂè¶‰∏ÄÁßçÂΩ¢ÂºèÁöÑ‰ª£Á†ÅÂùóÔºå‰∏çÂêåÁöÑÊòØÂÆÉ‰ΩøÁî®‰∏â‰∏™ÂèçÂºïÂè∑Êù•ÂåÖË£π„ÄÇ [title] [url] [link text] code snippet LinkÂú®ÊñáÁ´†‰∏≠ÊèíÂÖ•ÈìæÊé•ÔºåÂπ∂Ëá™Âä®ÁªôÂ§ñÈÉ®ÈìæÊé•Ê∑ªÂä† target=‚Äù_blank‚Äù Â±ûÊÄß„ÄÇ text url [external] [title] YoutubeÂú®ÊñáÁ´†‰∏≠ÊèíÂÖ• Youtube ËßÜÈ¢ë„ÄÇ VimeoÂú®ÊñáÁ´†‰∏≠ÊèíÂÖ• Vimeo ËßÜÈ¢ë„ÄÇ ÂºïÁî®ÊñáÁ´†ÂºïÁî®ÂÖ∂‰ªñÊñáÁ´†ÁöÑÈìæÊé•„ÄÇ ÂºïÁî®ËµÑÊ∫êÂºïÁî®ÊñáÁ´†ÁöÑËµÑÊ∫ê„ÄÇ window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdPic":"","bdStyle":"0","bdSize":"16"},"share":{},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"ÂàÜ‰∫´Âà∞Ôºö","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];]]></content>
      <categories>
        <category>ÂâçÁ´Ø</category>
      </categories>
      <tags>
        <tag>ÊäÄÂ∑ß</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂçöÂÆ¢ÂºÄÁØá]]></title>
    <url>%2F2018%2F08%2F30%2F%E5%8D%9A%E5%AE%A2%E5%BC%80%E7%AF%87%2F</url>
    <content type="text"><![CDATA[Áªà‰∫é‰∏ãÂÜ≥ÂøÉË¶ÅÂºÄÂßãÂÜôÂçöÂÆ¢‰∫ÜÔºåÂÅöÁ®ãÂ∫èÂëòÂø´ÂõõÂπ¥‰∫ÜÔºåÂõõÂπ¥ÁöÑÊó∂Èó¥ÈáåÔºåÁî±‰∏Ä‰∏™Â´©Â§¥ÈùíÔºåÊàêÈïø‰∏∫‰∫Ü‰∏Ä‰∏™ËÉΩÂú®ÂÖ¨Âè∏È°πÁõÆÈáåÁã¨Á´ãÂÆåÊàê‰∏Ä‰∫õ‰∏öÂä°ÈÄªËæëÂ§çÊùÇÁöÑÂ§ßÊ®°ÂùóÁöÑ‰∏≠ÂùöÁ®ãÂ∫èÂëò„ÄÇÈ¶ñÂÖàÊàëËøòÊòØÊ¶ÇÊã¨‰∏ãËøôÂá†Âπ¥ÁöÑÊàêÈïøÂéÜÁ®ãÂêß„ÄÇ Áî±‰∫éÊú¨‰∫∫ÁöÑËÑ∏ÈïøÂæóÊØîËæÉÁºìÊÖ¢ÔºåÂàöÂá∫ÈÅìÊó∂ËøòÊòØ‰∏ÄÂº†Â≠©Á´•ËÑ∏ÔºåÁî®Êó∂‰∏ãÊµÅË°åÁöÑ‰∏Ä‰∏™ËØçÊù•ÊèèËø∞ÈÇ£Â∞±ÊòØ‚ÄúËêå‚Äù„ÄÇÂõ†‰∏∫Â§™ËêåÔºåÂàöÂÆâÊéíÂà∞ÂÆ¢Êà∑Áé∞Âú∫ÂÅöÂºÄÂèëÊó∂ÔºåËøòË¢´ÂÆ¢Êà∑ÂºÄÁé©Á¨ëËØ¥‰Ω†‰ª¨ÂÖ¨Âè∏ËøùÊ≥ïÊãõÊî∂Á´•Â∑•ÔºåÊàë‰∏ÄÊÄí‰πã‰∏ãËìÑ‰∫ÜÂá†‰∏™ÊúàËÉ°È°ªÔºåÁïô‰∫ÜÂá†‰∏™ÊúàÈ£òÈÄ∏ÁöÑÈïøÂèëÔºåÊÉ≥ËÆ©Ëá™Â∑±Âú®Â§ñË°®‰∏äÁúã‰∏äÂéªÊõ¥ËÄÅÊàê„ÄÇ‰ΩÜ‰∏çÂ∑ßÁöÑÊòØÔºåÊ≠§Êó∂ÁöÑÊàëÂèà‰∏éÈÇ£Êó∂ÂàöÂá∫ÈÅìÁöÑ‚ÄúÁäÄÂà©Âì•‚ÄùÈ£éÊ†ºÊûÅ‰∏∫Á±ª‰ººÔºåÂèàË¢´ÊàèÁß∞‰∏∫ÁäÄÂà©Á®ãÂ∫èÂì•ÔºåÂÜçÊÄí‰πã‰∏ãÔºåÂºÄÂßãÊΩúÂøÉÂ∑•‰ΩúÔºå‰∏çÂÜçËøΩÊ±ÇË°®Èù¢ÁöÑÊµÆÂ§∏ÔºåÂú®Â∑•‰Ωú‰∏≠ÈÄêÊ∏êÂ±ïÈú≤Â§¥ËßíÔºåÂÆåÊàê‰∫ÜÈ°πÁõÆ‰∏≠Âá†‰∏™ÈáçË¶ÅÈúÄÊ±ÇÁöÑÂºÄÂèëÔºåÂú®ÂêéÊù•ÁöÑÊôÆÈÄâ‰∏≠ÂΩìÈÄâ‰∏∫ÂÖ¨Âè∏Âπ¥Â∫¶‰ºòÁßÄÂëòÂ∑•‰πã‰∏Ä„ÄÇÊúÄËøë1Ôºå2Âπ¥Ê≥¢Êæú‰∏çÊÉäÔºåÂõ†‰∏∫Ëá™Â≠¶Ê≤°ÊúâÊñ≠ËøáÔºåÊäÄÊúØ‰πüÂú®ÈÄêÊ≠•ÁßØÁ¥Ø„ÄÇ ‰∏ãÈù¢ËøõÂÖ•‰∏ªÈ¢òÔºåÂÖ≥‰∫éÊàëÁöÑÂçöÂÆ¢ÔºåÊàëÁî®Ëá™ÈóÆËá™Á≠îÁöÑÊñπÂºèÊù•‰ªãÁªçÔºö 1„ÄÅÊàë‰∏∫‰ªÄ‰πàË¶ÅÂÜôÂçöÂÆ¢Ôºü ÂÅöÁ®ãÂ∫èÂëòËøôÂá†Âπ¥ÔºåÊäÄÊúØ‰∏çÊñ≠ÁßØÁ¥ØÔºåÊÄùÊÉ≥‰∏çÊñ≠Âú®ÂçáÂçéÔºåÊúâ‰∫õÊÄùËÄÉÂíåÊÉ≥Ê≥ïÂú®‰∏éÂêå‰∫ã„ÄÅÊúãÂèãÁöÑ‰∫§ÊµÅ‰∏≠‰ºöËø∏ÂèëÂá∫Êù•„ÄÇÂú®‰∫§ÊµÅÁöÑËøáÁ®ã‰∏≠ÔºåÊàëËßâÂæóÂæàËøáÁòæ„ÄÇÊúâ‰∫õÊ®°Á≥ä‰∏çÊ∏ÖÁöÑ‰∫ãÊÉÖÔºåÈÄöËøá‰∫§ÊµÅÊòéÁ°Æ‰∫ÜÔºåÊúâ‰∫õ‰ª•‰∏∫Ëá™Â∑±ÊääÊè°ÁöÑÂæàÂáÜÁöÑ‰∫ãÊÉÖÔºåÈÄöËøá‰∫§ÊµÅÈ¢†Ë¶Ü‰∫ÜÔºåËÄåÊúâ‰∫õËá™Â∑±Â∑≤ÁªèÊòéÁôΩÁöÑ‰∫ãÊÉÖÔºåÂèàÂºÄÈòî‰∫ÜÊñ∞ÁöÑÊÄùË∑Ø„ÄÇ‰ΩÜ‰∫§ÊµÅÂè™ÊòØÁû¨Êó∂ÁöÑ„ÄÅÂ∑≤ÈÄùÁöÑÔºåÊàë‰ª¨ÁöÑËÆ®ËÆ∫‰∏çÊòØÂõΩÂÆ∂ÊîøË¶ÅÊé•ËßÅÂ§ñÂõΩÈ¢ÜÂØºÔºåÊ≤°Êúâ‰∫∫ÊääÊàë‰ª¨ÁöÑË∞àËØùËÆ∞ÂΩï‰∏ãÊù•„ÄÇÂ∞±ÂÉèÂú®ÂÜÖÂ≠òÈáå‰∏ÄÊ†∑ÔºåÊñ≠ÁîµÂêéÊÅ¢Â§ç‰∏ç‰∫ÜÔºå‰∫ãÂêéÂæàÈöæÂõûÂøÜËµ∑Êù•ÈÇ£‰∫õÊõæÁªèÈó™ÂÖâÁöÑÊÄùÊÉ≥„ÄÇÊâÄ‰ª•ÊàëË¶ÅÊääÊàëÂú®Á®ãÂ∫è‰∫∫Áîü‰∏≠ÂæóÂà∞ÁöÑÊÄùÊÉ≥ÁªôÊåÅ‰πÖÂåñ‰∫ÜÔºåÁªôÂõ∫Âåñ‰∏ãÊù•„ÄÇÂÜç‰∏Ä‰∏™Â∞±ÊòØÔºåÊàëÁöÑÂêå‰∫ã„ÄÅÊúãÂèãÂßãÁªàÊòØÊàëË∫´ËæπÁÜüÊÇâÁöÑ‰∫∫ÔºåÊàëÈúÄË¶Å‰∏Ä‰∏™Êõ¥Â§ßÁöÑ‰∏ñÁïåÔºåÊâÄ‰ª•ÔºåÊàë‰πüÊÉ≥ÈÄöËøáÂçöÂÆ¢‰∏éÂ§ßÂÆ∂‰∫§ÊµÅÔºÅ 2„ÄÅÊàëÁöÑÂçöÂÆ¢ÂÜô‰∫õ‰ªÄ‰πà‰∏úË•øÔºü Ëøô‰∏™ÈóÆÈ¢òÊàëÊÉ≥‰∫ÜÂæà‰πÖÔºå‰ª•ÂâçÊÉ≥ÂÜô‰∫õÂÖ≥‰∫éiOSÁöÑ„ÄÅÂÖ≥‰∫éÂâçÁ´ØÂçöÊñá„ÄÇÊúâÊó∂ÂÄôÂú®ËçâÁ®ø‰∏≠ÂÜôÂ•Ω‰∏ÄÊÆµÊñáÂ≠óÔºåÊúÄÂêé‰∏ÄÊêúÁ¥¢ÔºåÂÖ®‰∏ñÁïåÊã•ÊúâÂêåÊ†∑Áü•ËØÜÁÇπÁöÑÔºåÂêåÊ†∑Ëß£ÂÜ≥ÊñπÊ°àÁöÑÊï∞‰∏çËÉúÊï∞ÔºåÂ§™Â§ö‰∫Ü„ÄÇ‰Ωú‰∏∫‰∏Ä‰∏™ËÆ®ÂéåÈáçÂ§çÁöÑ‰∫∫ÔºåÊàë‰∏çËÉΩÂÜçÁΩóÂàóËøô‰∫õÁΩë‰∏ä‰∏ÄÊäì‰∏ÄÂ§ßÊääÁöÑÊôÆ‰∏ñÊäÄÊúØÁü•ËØÜÁÇπÔºåÊõ¥‰ΩïÂÜµ‰ª•ÊàëÁé∞Âú®ÁöÑÁßØÁ¥ØÔºåËøò‰∏çËÉΩÂÅöÂà∞ÈùûÂ∏∏Â•Ω„ÄÇÂΩìÁÑ∂Êàë‰∏çÊòØËØ¥ÁΩóÂàóÊäÄÊúØÁÇπÊ≤°ÊúâÊäÄÊúØÂê´ÈáèÔºåÊ≠£ÊòØÂõ†‰∏∫ÁΩë‰∏äËøô‰∫õÂ∫ûÂ§ßÁöÑÁü•ËØÜÔºåÊàëÊâçËÉΩÂæàÂø´ÁöÑÊâæÂà∞ÊàëÊÉ≥Ë¶ÅÁöÑÔºåËß£ÂÜ≥ÊàëÁöÑÈóÆÈ¢ò„ÄÇÁªº‰∏äÔºåÊàë‰∏çËÉΩÂÅöÈáçÂ§çÁöÑ‰∫ãÔºå‰πü‰∏çË¶ÅÂõ†‰∏∫ËØ¥ÁöÑ‰∏úË•ø‰∏çÊâéÂÆûËÄåËØØÂØºÂà´‰∫∫„ÄÇÂΩìÁÑ∂‰∫ÜÔºåÂú®Êüê‰∏™ÊäÄÊúØÈ¢ÜÂüüËææÂà∞‰∏ÄÂÆöÂ¢ÉÁïå‰∫ÜÔºåÊàë‰πü‰ºöÂÜôÁ†îÁ©∂ÊäÄÊúØÁªÜËäÇÁöÑÂçöÊñá„ÄÇ ÈÇ£ÊàëÂÜô‰ªÄ‰πàÔºü‰ªÄ‰πàÊòØ‰∏çÈáçÂ§çÁöÑÔºüÈÇ£ÂøÖÈ°ªÊñ©ÈíâÊà™ÈìÅÁöÑËØ¥ÈÇ£Â∞±ÊòØÊàëÁöÑÊÄùÊÉ≥Ôºå‰∏ñ‰∏äÊ≤°Êúâ‰ªª‰Ωï‰∏Ä‰∏™‰∫∫ÂíåÊàëÁöÑ‰∫∫ÁîüËΩ®ËøπÂÆåÂÖ®‰∏ÄÊ†∑ÔºåÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåÊàë‰ºöÊÄùËÄÉÊàë‰ºöÊÄªÁªìÔºåÊàëË¶ÅÊääÊàëÁöÑÊÄùÊÉ≥ÁïôÂ≠ò‰∫é‰∏ñÔºåÂç≥‰ΩøÊúâÊó∂ÂÄô‰ºöÊúâÁõ∏ÂêåÊÄùÊÉ≥ÁöÑ‰∏úË•øÂêåÊó∂Â≠òÂú®ÔºåÈÇ£‰πü‰ºöÂõ†‰∏∫ÊòØÊàë‰∏™‰∫∫ÁöÑÊÄªÁªìÂíåÂèçÊÄùËÄåÊúâÊâÄ‰∏çÂêåÔºÅ 3„ÄÅÂÜôÂçöÂÆ¢ÁöÑËÆ°ÂàíÔºü ‰∏çËøΩÊ±Ç‰∏Ä‰∏™Êúà‰∏ÄÂÆöË¶ÅÂÜôÂá†ÁØáÂá†ÁØáÁöÑÔºåÂΩìÊàëÊúâÊ∑±ÂàªÁöÑÊÑüËß¶ÔºåÂØπ‰∫ãÁâ©Êúâ‰∏çÂêåÁöÑÁêÜËß£ÔºåÊàëÂ∞±ÂÜô‰∏ÄÁØáÔºåËÆ∞ÂΩï‰∏ãÊù•Ôºå‰∏ÄÊ≠•‰∏Ä‰∏™ËÑöÂç∞ÔºåÂêëÂçìË∂äÁ®ãÂ∫èÂëòËøàËøõÔºÅ Â§úÁ©∫ÈúìËôπÔºåÈÉΩÊòØÊàë‰∏çË¶ÅÁöÑÁπÅËç£ÔºåÂÆå„ÄÇ]]></content>
      <categories>
        <category>ÈöèÁ¨î</category>
      </categories>
      <tags>
        <tag>ÂøÉÊÉÖ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[categories]]></title>
    <url>%2Fcategories%2Findex.html</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[links]]></title>
    <url>%2Flinks%2Findex.html</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[tags]]></title>
    <url>%2Ftags%2Findex.html</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[timeline]]></title>
    <url>%2Ftimeline%2Findex.html</url>
    <content type="text"></content>
  </entry>
</search>
