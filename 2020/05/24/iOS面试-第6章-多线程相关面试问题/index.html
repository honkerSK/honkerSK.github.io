<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>





    <link rel="dns-prefetch" href="https://hm.baidu.com"/>



    <link rel="dns-prefetch" href="https://fonts.googleapis.com"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            [iOS面试]第6章 多线程相关面试问题 | 
        
        暮鼓晨钟
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.jpg">
    <link rel="icon" href="/img/favicon.jpg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content=",iOS面试">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/atelier-dune-light.min.css?ZfnESUNClnkZBE6Ec0djTA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="暮鼓晨钟">
    <meta name="msapplication-starturl" content="http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="暮鼓晨钟">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.jpg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="[iOS面试]第6章 多线程相关面试问题 | 暮鼓晨钟">
    <meta property="og:image" content="/img/favicon.jpg">
    <meta property="og:description" content="">
    <meta property="og:article:tag" content="iOS面试"> 

    
        <meta property="article:published_time" content="Sun May 24 2020 00:39:31 GMT+0800">
        <meta property="article:modified_time" content="Sun May 24 2020 01:36:49 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/index.html",
    "headline": "[iOS面试]第6章 多线程相关面试问题",
    "datePublished": "Sun May 24 2020 00:39:31 GMT+0800",
    "dateModified": "Sun May 24 2020 01:36:49 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "暮鼓晨钟",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar2.png"
        },
        "description": "路上有多长 修行有多远 花叶融一钵 香积云外天"
    },
    "publisher": {
        "@type": "Organization",
        "name": "暮鼓晨钟",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.jpg"
        }
    },
    "keywords": ",iOS面试",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?cc539da139de156c41df0dc0f7670373';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#一、GCD"><span class="post-toc-number">1.</span> <span class="post-toc-text">一、GCD</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1、同步-异步-和-串行-并发"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1、同步/异步 和 串行/并发</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1-、同步串行-dispatch-sync-serial-queue-任务"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">(1)、同步串行 dispatch_sync(serial_queue , ^{ //任务 });</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#同步主线程"><span class="post-toc-number">1.1.1.1.</span> <span class="post-toc-text">同步主线程</span></a></li><li class="post-toc-item post-toc-level-6"><a class="post-toc-link" href="#同步串行"><span class="post-toc-number">1.1.1.2.</span> <span class="post-toc-text">同步串行</span></a></li></ol></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2-、同步并发-dispatch-sync-concurrent-queue-任务"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">(2)、同步并发 dispatch_sync(concurrent_queue , ^{ //任务 });</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#3-、异步串行-dispatch-async-serial-queue-任务"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">(3)、异步串行 dispatch_async(serial_queue , ^{ //任务 });</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#4-、异步并发-dispatch-async-concurrent-queue-任务"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text">(4)、异步并发 dispatch_async(concurrent_queue , ^{ //任务 });</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2、dispatch-barrier-async"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2、dispatch_barrier_async()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3、dispatch-group-async"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3、dispatch_group_async()</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#二、NSOperation"><span class="post-toc-number">2.</span> <span class="post-toc-text">二、NSOperation</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#三、NSThread"><span class="post-toc-number">3.</span> <span class="post-toc-text">三、NSThread</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#四、多线程与锁"><span class="post-toc-number">4.</span> <span class="post-toc-text">四、多线程与锁</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#iOS中有哪些锁？"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">iOS中有哪些锁？</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1、-synchronized的使用场景"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">1、 @synchronized的使用场景</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2、atomic"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">2、atomic</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3、OSSpinLock自旋锁"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">3、OSSpinLock自旋锁</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4、-NSLock"><span class="post-toc-number">4.5.</span> <span class="post-toc-text">4、 NSLock</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5、NSRecursiveLock-递归锁"><span class="post-toc-number">4.6.</span> <span class="post-toc-text">5、NSRecursiveLock 递归锁</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#6、dispatch-semaphore-t-信号量"><span class="post-toc-number">4.7.</span> <span class="post-toc-text">6、dispatch_semaphore_t 信号量</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#五-多线程相关面试问题"><span class="post-toc-number">5.</span> <span class="post-toc-text">五 多线程相关面试问题</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                [iOS面试]第6章 多线程相关面试问题
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar2.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>暮鼓晨钟</strong>
        <span>5月 24, 2020</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/iOS面试/">iOS面试</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=[iOS面试]第6章 多线程相关面试问题&url=http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/index.html&pic=http://yoursite.com/img/favicon.jpg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=[iOS面试]第6章 多线程相关面试问题&url=http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/index.html&via=暮鼓晨钟" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=暮鼓晨钟&title=[iOS面试]第6章 多线程相关面试问题&summary=&pics=http://yoursite.com/img/favicon.jpg&url=http://yoursite.com/2020/05/24/iOS面试-第6章-多线程相关面试问题/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <blockquote>
<p>本文主讲多线程相关面试问题：包括GCD、NSOperation、NSThread、多线程与锁。</p>
</blockquote>
<h3 id="一、GCD"><a href="#一、GCD" class="headerlink" title="一、GCD"></a>一、GCD</h3><ul>
<li>同步/异步 和串行/并发</li>
<li>dispatch_barrier_async 异步栅栏调用</li>
<li>dispatch_group</li>
</ul>
<p>01 异步函数+并发队列：开启多条线程，并发执行任务<br>02 异步函数+串行队列：开启一条线程，串行执行任务<br>03 同步函数+并发队列：不开线程，串行执行任务<br>04 同步函数+串行队列：不开线程，串行执行任务<br>05 异步函数+主队列：不开线程，在主线程中串行执行任务<br>06 同步函数+主队列：不开线程，串行执行任务（注意死锁发生）<br>注意同步函数和异步函数在执行顺序上面的差异</p>
<h4 id="1、同步-异步-和-串行-并发"><a href="#1、同步-异步-和-串行-并发" class="headerlink" title="1、同步/异步 和 串行/并发"></a>1、同步/异步 和 串行/并发</h4><p>同步/异步 和 串行/并发</p>
<pre><code>+ 同步分配任务到串行队列 
dispatch_sync(serial_queue,{//任务});    
+ 异步分配任务到串行队列
dispatch_async(serial_queue,{//任务});      
+ 同步分配任务到并发队列
dispatch_sync(concurrent_queue,{//任务}); 
+ 异步分配任务到并发队列
dispatch_async(concurrent_queue,{//任务});
</code></pre><h5 id="1-、同步串行-dispatch-sync-serial-queue-任务"><a href="#1-、同步串行-dispatch-sync-serial-queue-任务" class="headerlink" title="(1)、同步串行 dispatch_sync(serial_queue , ^{ //任务 });"></a>(1)、同步串行 dispatch_sync(serial_queue , ^{ //任务 });</h5><h6 id="同步主线程"><a href="#同步主线程" class="headerlink" title="同步主线程"></a>同步主线程</h6><pre><code>//同步主线程 死锁
- (void)viewDidLoad {
     dispatch_sync(dispatch_get_main_queue(), ^{
        [self doSomething];
    });
}
</code></pre><p><img src="https://upload-images.jianshu.io/upload_images/126164-d8a0f6a02141c772.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="死锁原因"></p>
<p>结果：造成死锁 队列引起的循环等待.<br>在主队列中提交了viewDidLoad，然后又提交了block。因此在执行viewDidLoad过程中，需要调用block，block完成之后，viewDidLoad才能继续往下执行，而block因为队列先进先出的性质必须要等viewDidLoad执行结果才能调用,导致相互等待情况,从而死锁.</p>
<h6 id="同步串行"><a href="#同步串行" class="headerlink" title="同步串行"></a>同步串行</h6><pre><code>- (void)viewDidLoad {
     dispatch_sync(serialQueue, ^{
        [self doSomething];
    });
}
</code></pre><p><img src="https://upload-images.jianshu.io/upload_images/126164-5ee0933781f5bdb3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="同步串行分析"></p>
<blockquote>
<p>结果：顺序执行 都在主线程，不开辟新线程</p>
</blockquote>
<h5 id="2-、同步并发-dispatch-sync-concurrent-queue-任务"><a href="#2-、同步并发-dispatch-sync-concurrent-queue-任务" class="headerlink" title="(2)、同步并发 dispatch_sync(concurrent_queue , ^{ //任务 });"></a>(2)、同步并发 dispatch_sync(concurrent_queue , ^{ //任务 });</h5><pre><code>- (void)viewDidLoad {
  NSLog(@&quot;1&quot;);
  dispatch_sync(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        NSLog(@&quot;2&quot;);
        dispatch_sync(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
            NSLog(@&quot;3&quot;);
        });
        NSLog(@&quot;4&quot;);
    });
    NSLog(@&quot;5&quot;);
}
</code></pre><p>答案:12345 </p>
<ul>
<li><p>顺序执行 都在主线程 不开辟新线程<br>ps：如果2 3 都是添加到同一串行队列 就会造成死锁 23循环等待</p>
</li>
<li><p>只要同步方式提交任务,无论串行还是并发都是在当前线程执行</p>
</li>
<li>dispatch_sync() 在当前主线程执行</li>
</ul>
<h5 id="3-、异步串行-dispatch-async-serial-queue-任务"><a href="#3-、异步串行-dispatch-async-serial-queue-任务" class="headerlink" title="(3)、异步串行 dispatch_async(serial_queue , ^{ //任务 });"></a>(3)、异步串行 dispatch_async(serial_queue , ^{ //任务 });</h5><p>异步主队列</p>
<pre><code>- (void)viewDidLoad {
     dispatch_async(dispatch_get_main_queue(), ^{
        [self doSomething];
    });
}
</code></pre><ul>
<li>顺序执行，都在主线程，不开辟新线程</li>
</ul>
<h5 id="4-、异步并发-dispatch-async-concurrent-queue-任务"><a href="#4-、异步并发-dispatch-async-concurrent-queue-任务" class="headerlink" title="(4)、异步并发 dispatch_async(concurrent_queue , ^{ //任务 });"></a>(4)、异步并发 dispatch_async(concurrent_queue , ^{ //任务 });</h5><pre><code>//腾讯面试题:
- (void)viewDidLoad {
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        NSLog(@&quot;1&quot;);
        [self performSelector:@selector(printLog) withObject:nil afterDelay:0];
        NSLog(@&quot;3&quot;);
    });
}
- (void)printLog{ NSLog(@&quot;2&quot;); }
</code></pre><ul>
<li>输出: 13</li>
<li>该题涉及知识点较多：GCD、线程的Runloop、performSeletor内部实现</li>
<li>异步分派到全局队列中，GCD底层所分派的线程默认是不开启对应runloop的，而performSeletor：即使是延迟0秒，也是需要提交任务到runloop的逻辑，所以performSeletor方法会失效的</li>
<li>performSeletor:方法要想有效执行, 必须是方法调用所属线程是有runloop的,没有就会失效</li>
</ul>
<h4 id="2、dispatch-barrier-async"><a href="#2、dispatch-barrier-async" class="headerlink" title="2、dispatch_barrier_async()"></a>2、dispatch_barrier_async()</h4><p>多读单写方案：dispatch_barrier_async(concurrent_queue , ^{ //写操作 });</p>
<p><img src="https://upload-images.jianshu.io/upload_images/126164-9703c88055fa03a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="多读单写方案"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/126164-866eb29595a88164.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="多读单写实现"></p>
<p>问题:怎么利用GCD实现多读单写？或者说想要实现多读单写，怎么去实现？<br>答:</p>
<ul>
<li>读者与读者并发（读操作添加到并发队列同步访问）</li>
<li>读者与写者、写者与写者互斥 （写操作通过dispatch_barrier_async+ 异步栅栏添加到并发队列中）</li>
</ul>
<pre><code>@interface UserCenter(){
    // 定义一个并发队列
    dispatch_queue_t concurrent_queue;
    // 用户数据中心, 可能多个线程需要数据访问
    NSMutableDictionary *userCenterDic;
}
@end

// 多读单写模型
@implementation UserCenter
- (id)init{
    self = [super init];
    if (self) {
        // 通过宏定义 DISPATCH_QUEUE_CONCURRENT 创建一个并发队列
        concurrent_queue = dispatch_queue_create(&quot;read_write_queue&quot;, DISPATCH_QUEUE_CONCURRENT);
        // 创建数据容器
        userCenterDic = [NSMutableDictionary dictionary];
    }
    return self;
}
- (id)objectForKey:(NSString *)key {
    __block id obj;
    // 同步读取指定数据
    dispatch_sync(concurrent_queue, ^{
        obj = [userCenterDic objectForKey:key];
    });
    return obj;
}
- (void)setObject:(id)obj forKey:(NSString *)key {
    // 异步栅栏调用设置数据
    dispatch_barrier_async(concurrent_queue, ^{
        [userCenterDic setObject:obj forKey:key];
    });
}
@end
</code></pre><h4 id="3、dispatch-group-async"><a href="#3、dispatch-group-async" class="headerlink" title="3、dispatch_group_async()"></a>3、dispatch_group_async()</h4><p>问题:<br>使用GCD实现：A、B、C三个任务并发，完成后执行任务D？<br>答: 所有异步任务添加到并发队列中，然后使用dispatch_group_notify函数，来监听前面多个的任务是否完成，如果完成, 就会调用dispatch_group_notify中的block<br>(参考代码实例)</p>
<h3 id="二、NSOperation"><a href="#二、NSOperation" class="headerlink" title="二、NSOperation"></a>二、NSOperation</h3><p>需要和NSOperationQueue配合使用来实现多线程方案。<br>1、特点：添加任务依赖、任务执行状态监控、最大并发数。<br>2、任务执行状态控制：isReady、isExecuting、isFinished、isCancelled。</p>
<p>3、状态监控</p>
<ul>
<li>如果只重写<code>main</code>方法，底层控制变更任务执行完成状态，以及任务退出。</li>
<li>如果重写<code>start</code>方法，需自行控制任务状态。</li>
</ul>
<p>4、系统是怎样移除一个isFinished=YES的NSOperation的？<br>答:通过KVO的方式，通知对应的NSOprationQueue达到对NSOperation对象进行移除。</p>
<h3 id="三、NSThread"><a href="#三、NSThread" class="headerlink" title="三、NSThread"></a>三、NSThread</h3><p>考查面试题:<br>1&gt; 如何NSThread结合runloop实现常驻线程<br>2&gt; NSThread 的 内部实现机制, start方法实现逻辑流程<br>(结合 gnustep-base-1.24.9 源码分析)</p>
<p><img src="https://upload-images.jianshu.io/upload_images/126164-4e1d23172345d187.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="NSThread启动流程"></p>
<p>问题: NSThread启动流程？<br>答: start() ——&gt;创建pthread线程——&gt;main()——&gt;[target performSelector:selector]——&gt;exit()</p>
<p>问题: 如何通过runloop和NSThread实现一个常驻线程？<br>从下一章runloop中寻找答案</p>
<p>问题: NSThread执行原理是怎样的?<br>答: 实际内部创建一个pthread线程 ,当main()函数或者指定的target 的selector方法执行结束后,系统会为我们进行线程的退出管理操作. 如果需要维护一个常驻线程,需要NSThread所对应的selector方法中维护runloop事件循环。</p>
<h3 id="四、多线程与锁"><a href="#四、多线程与锁" class="headerlink" title="四、多线程与锁"></a>四、多线程与锁</h3><h4 id="iOS中有哪些锁？"><a href="#iOS中有哪些锁？" class="headerlink" title="iOS中有哪些锁？"></a>iOS中有哪些锁？</h4><ul>
<li>@synchronized</li>
<li>atomic</li>
<li>OSSpinLock</li>
<li>NSRecursiveLock</li>
<li>NSLock</li>
<li>dispatch_semaphore_t</li>
</ul>
<h4 id="1、-synchronized的使用场景"><a href="#1、-synchronized的使用场景" class="headerlink" title="1、 @synchronized的使用场景"></a>1、 @synchronized的使用场景</h4><p>一般在创建单例的时候使用，保证在多线程环境下创建的对象是唯一的</p>
<h4 id="2、atomic"><a href="#2、atomic" class="headerlink" title="2、atomic"></a>2、atomic</h4><ul>
<li>修饰属性的关键字</li>
<li>对被修饰的对象进行原子操作（不负责使用，只负责赋值）<pre><code>@property(atomic)NSMutableArray *array;
self.array = [NSMutableArray array];  //array赋值操作,能保证线程安全
[self.array addObject:obj];  // array使用, 不能保证线程安全,需要额外做线程安全保护
</code></pre></li>
</ul>
<h4 id="3、OSSpinLock自旋锁"><a href="#3、OSSpinLock自旋锁" class="headerlink" title="3、OSSpinLock自旋锁"></a>3、OSSpinLock自旋锁</h4><ul>
<li><code>循环等待</code>询问，不释放当前资源</li>
<li>用于轻量级数据访问，简单的int值+1/-1操作</li>
</ul>
<p>没有具体用过,但是可以通过分析runtime源码来学习系统关于OSSpinLock自旋锁的使用情况.</p>
<h4 id="4、-NSLock"><a href="#4、-NSLock" class="headerlink" title="4、 NSLock"></a>4、 NSLock</h4><ul>
<li>一般用于解决细粒度的线程同步问题, 来保证各个线程互斥,进入自己的临界区.</li>
</ul>
<pre><code>- (void)methodA {
  [lock lock];
  [self methodB];
  [lock unlock];
}
- (void)methodB {
  [lock lock];
  //操作逻辑
  [lock unlock];
}
</code></pre><ul>
<li>该写法重入的原因 会导致死锁!</li>
<li>解决: 通过NSRecursiveLock递归所可以解决<h4 id="5、NSRecursiveLock-递归锁"><a href="#5、NSRecursiveLock-递归锁" class="headerlink" title="5、NSRecursiveLock 递归锁"></a>5、NSRecursiveLock 递归锁</h4></li>
<li>NSRecursiveLock 递归锁特性: 可以重入<br><code>`</code></li>
</ul>
<ul>
<li>(void)methodA {<br>[recursiveLock lock];<br>[self methodB];<br>[recursiveLock unlock];<br>}</li>
<li>(void)methodB {<br>[recursiveLock lock];<br>//操作逻辑<br>[recursiveLock unlock];<br>}<br><code>`</code></li>
</ul>
<h4 id="6、dispatch-semaphore-t-信号量"><a href="#6、dispatch-semaphore-t-信号量" class="headerlink" title="6、dispatch_semaphore_t 信号量"></a>6、dispatch_semaphore_t 信号量</h4><ul>
<li><p>dispatch_semaphore_t 信号量 也是用来实现线程同步, 包括对共享资源互斥访问的信号量机制,类似于计算机专业的记录型信号量</p>
</li>
<li><p>创建信号量 dispatch_semaphore_create(1)</p>
<pre><code>//dispatch_semaphore_create内部实现 实例化一个结构体
struct semaphore{
int value;  // 信号量的值
List&lt;thread&gt;; // 线程的进程控制表pcd 或者一些其他线程的一个唯一标识所维护的一个线程列表
}
</code></pre></li>
<li><p>dispatch_semaphore_wait(semaphore,DISPATCH_TIME_FOREVER)<br>信号量-1，阻塞是一个主动行为</p>
<pre><code>//dispatch_semaphore_wait() 实现逻辑
{
S.value = S.value - 1;
if S.value &lt; 0 then Block(S.List); //阻塞是一个主动行为
}
</code></pre></li>
<li>dispatch_semaphore_signal(semaphore)  信号量+1，唤醒是一个被动行为<pre><code>//dispatch_semaphore_signal()实现逻辑
{
S.value = S.value + 1;
if S.value &lt;= 0 then wakeup(S.List); //唤醒是一个被动行为
}
</code></pre></li>
</ul>
<h3 id="五-多线程相关面试问题"><a href="#五-多线程相关面试问题" class="headerlink" title="五 多线程相关面试问题"></a>五 多线程相关面试问题</h3><p>1、怎样用GCD实现多读单写？<br>答: dispatch_barrier_async()的使用.</p>
<ul>
<li>读者与读者并发（读操作添加到并发队列同步访问）</li>
<li>读者与写者、写者与写者互斥 （写操作通过dispatch_barrier_async+ 异步栅栏添加到并发队列中）</li>
</ul>
<p>2、iOS系统为我们提供的几种多线程技术各自的特点是怎么样的？<br>答案：GCD、NSOperation、NSThread。</p>
<ul>
<li>GCD 用来实现简单的线程同步，包括子线程的分派，包括实现多读单写场景的解决</li>
<li>NSOperation及NSOperationQueue  比如AFNetworking、SDWebImage都会涉及到NSOpration,由于它的特点是方便我们对任务的状态进行控制，包括可以控制添加依赖、移除依赖</li>
<li>NSThread 一般用它来实现一个常驻线程</li>
</ul>
<p>3、NSOperation对象在Finished之后是咋样从queue当中移除掉的？<br>答: NSOperation对象在Finished之后, 通过KVO的方式，通知对应的NSOprationQueue达到对NSOperation对象进行移除。</p>
<p>4、你都用过哪些锁？结合实际谈谈你是怎样使用的？<br>答:</p>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 Gitalk -->
<div id="gitalk-comment">
    <!-- Gitalk 评论框 -->
<div id="gitalk-container"></div>

<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script src="/js/md5.min.js"></script>

<script>
    var gitalk = new Gitalk({
            clientID: '831359b6ab3a9f127d1b',
            clientSecret: '0022bff5442e5f0135eeddf065b6d72eff9f5ae3',
            repo: 'honkerSK.github.io',
            owner: 'honkerSK',
            admin: ['honkerSK'],
            // facebook-like distraction free mode
            id: md5(location.pathname),
            distractionFreeMode: false
        })
   gitalk.render('gitalk-container')
</script>

</div>
<style>
    #gitalk-comment {
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2020/05/24/iOS面试-第5章-Block相关面试问题/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar2.png" alt="暮鼓晨钟's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        swift630@sina.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: swift630@sina.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">39</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">3</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Tool/">Tool<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS/">iOS<span class="sidebar_archives-count">32</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS文档/">iOS文档<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS笔记/">iOS笔记<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端/">前端<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/随笔/">随笔<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">tab</i>
                
                标签云
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">send</i>
                
                时间轴
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">56</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;暮鼓晨钟
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- GitTalk -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 0000;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
