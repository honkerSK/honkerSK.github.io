<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>





    <link rel="dns-prefetch" href="https://hm.baidu.com"/>



    <link rel="dns-prefetch" href="https://fonts.googleapis.com"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            [iOS面试]第3章 RunTime相关面试问题 | 
        
        codeTao
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.jpg">
    <link rel="icon" href="/img/favicon.jpg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="">
    <meta name="keywords" content=",iOS面试">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/atelier-dune-light.min.css?ZfnESUNClnkZBE6Ec0djTA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="codeTao">
    <meta name="msapplication-starturl" content="http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="codeTao">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.jpg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="[iOS面试]第3章 RunTime相关面试问题 | codeTao">
    <meta property="og:image" content="/img/favicon.jpg">
    <meta property="og:description" content="">
    <meta property="og:article:tag" content="iOS面试"> 

    
        <meta property="article:published_time" content="Sat May 23 2020 19:25:35 GMT+0800">
        <meta property="article:modified_time" content="Sun May 24 2020 01:36:36 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/index.html",
    "headline": "[iOS面试]第3章 RunTime相关面试问题",
    "datePublished": "Sat May 23 2020 19:25:35 GMT+0800",
    "dateModified": "Sun May 24 2020 01:36:36 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "codeTao",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar2.png"
        },
        "description": "路上有多长 修行有多远 花叶融一钵 香积云外天"
    },
    "publisher": {
        "@type": "Organization",
        "name": "codeTao",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.jpg"
        }
    },
    "keywords": ",iOS面试",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?cc539da139de156c41df0dc0f7670373';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#一-类对象与元类对象"><span class="post-toc-number">1.</span> <span class="post-toc-text">一.类对象与元类对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-objc-object"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1)  objc_object</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-objc-class"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2) objc_class</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-isa指针"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3) isa指针</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-isa指针的指向"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">4) isa指针的指向</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-cache-t"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">5) cache_t</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#6-class-data-bits-t"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">6)class_data_bits_t</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#7-class-rw-t"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">7) class_rw_t</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#8-class-ro-t"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">8) class_ro_t</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#二-runtime整体数据结构"><span class="post-toc-number">2.</span> <span class="post-toc-text">二.runtime整体数据结构</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-method-t"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">1) method_t</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-runtime整体数据结构"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">2)runtime整体数据结构</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#三-实例对象、类对象、元类对象"><span class="post-toc-number">3.</span> <span class="post-toc-text">三 实例对象、类对象、元类对象</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#四-消息传递机制"><span class="post-toc-number">4.</span> <span class="post-toc-text">四 消息传递机制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-消息传递流程"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">1) 消息传递流程</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-缓存查找"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">2) 缓存查找</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-当前类中查找"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">3)当前类中查找</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-父类逐级查找"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">4)父类逐级查找</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#五-消息转发流程"><span class="post-toc-number">5.</span> <span class="post-toc-text">五 消息转发流程</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#六-Method-Swizzling"><span class="post-toc-number">6.</span> <span class="post-toc-text">六 Method-Swizzling</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#七-动态添加方法"><span class="post-toc-number">7.</span> <span class="post-toc-text">七 动态添加方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#八-动态方法解析"><span class="post-toc-number">8.</span> <span class="post-toc-text">八 动态方法解析</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Runtime面试问题总结"><span class="post-toc-number">9.</span> <span class="post-toc-text">Runtime面试问题总结</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                [iOS面试]第3章 RunTime相关面试问题
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar2.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>codeTao</strong>
        <span>5月 23, 2020</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/iOS面试/">iOS面试</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=[iOS面试]第3章 RunTime相关面试问题&url=http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/index.html&pic=http://yoursite.com/img/favicon.jpg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=[iOS面试]第3章 RunTime相关面试问题&url=http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/index.html&via=codeTao" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=codeTao&title=[iOS面试]第3章 RunTime相关面试问题&summary=&pics=http://yoursite.com/img/favicon.jpg&url=http://yoursite.com/2020/05/23/iOS面试-第3章-RunTime相关面试问题/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <blockquote>
<p>本文主讲RunTime相关面试问题，包括数据结构、类对象与元类对象、消息传递、方法缓存、消息转发、Method-Swizzling、动态添加方法、动态方法解析。</p>
</blockquote>
<h3 id="一-类对象与元类对象"><a href="#一-类对象与元类对象" class="headerlink" title="一.类对象与元类对象"></a>一.类对象与元类对象</h3><h4 id="1-objc-object"><a href="#1-objc-object" class="headerlink" title="1)  objc_object"></a>1)  objc_object</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-91688e6303b95cce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="objc_object结构"></p>
<p>实际使用所有对象都是id类型, id对象代表就是objc_object结构体.<br>id = objc_object 分为以下几部分:</p>
<ul>
<li>isa_t  </li>
<li>关于isa操作相关(如:获取isa所指向的类对象 或者 通过类对象isa获取它元类对象一些便利方法)</li>
<li>弱引用相关  (如:标记一个对象是否标记过弱引用指针)</li>
<li>关联对象相关(如: 这个对象设置关联属性)</li>
<li>内存管理相关 (如:MRC retain release , ARC @autoreleasepool)</li>
</ul>
<h4 id="2-objc-class"><a href="#2-objc-class" class="headerlink" title="2) objc_class"></a>2) objc_class</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-aa6884f318419fc7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="objc_class结构"></p>
<p><code>Class</code> = objc_class<br>objc_class 继承自 objc_object, 所以Class也是一个对象</p>
<ul>
<li><code>Class</code> superClass (指向父类对象)</li>
<li><code>cache_t</code> cache (方法缓存结构, 进行消息传递会使用这个数据结构)</li>
<li><code>class_data_bits_t</code> bits (类定义的变量 属性和方法都在这个结构中)</li>
</ul>
<h4 id="3-isa指针"><a href="#3-isa指针" class="headerlink" title="3) isa指针"></a>3) isa指针</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-029f60d4d6c75efd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="isa_t结构"></p>
<p>共用体 isa_t  (问题:isa指针是什么含义?)</p>
<ul>
<li>在32位或64位架构下，都是32或者64个0或者1的二进制数字 ,isa指针分为指针形isa和非指针形isa</li>
<li>指针型isa的<code>值</code>代表Class的地址</li>
<li>非指针型isa的<code>值的部分</code>代表Class的地址</li>
</ul>
<h4 id="4-isa指针的指向"><a href="#4-isa指针的指向" class="headerlink" title="4) isa指针的指向"></a>4) isa指针的指向</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-0f35a9a2bd2bde50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="isa指向"></p>
<ul>
<li>关于<code>对象</code>，其指向<code>类对象</code></li>
<li>关于<code>类对象</code>，其指向<code>元类对象</code></li>
<li><code>元类对象</code>的isa指针都指向根元类对象，而根元类对象对象的isa指针指向根类对象。</li>
</ul>
<p>方法调用时,调用实例方法实际上通过isa指针到类对象中进行方法查找.<br>如果调用类方法, 通过类对象isa这种到元类对象中进行方法查找.</p>
<h4 id="5-cache-t"><a href="#5-cache-t" class="headerlink" title="5) cache_t"></a>5) cache_t</h4><p>cache_t 特点:</p>
<ul>
<li>用于<code>快速</code>查找方法执行函数  (提高消息传递速度)</li>
<li>是可<code>增量扩展</code>的<code>哈希表</code>结构 (提高查找效率)</li>
<li>是<code>局部性原理</code>的最佳应用 </li>
</ul>
<p><img src="https://upload-images.jianshu.io/upload_images/126164-6d726ca367494bd2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cache_t数据结构"></p>
<p>cache_t 理解为一个数组实现的, 里边存储 bucket_t结构体, bucket_t有两个成员变量. key对应OC中 @selector , IMP理解为无类型函数指针.  调用方法时使用SEL, 通过方法选择器名称来寻找具体实现IMP. </p>
<h4 id="6-class-data-bits-t"><a href="#6-class-data-bits-t" class="headerlink" title="6)class_data_bits_t"></a>6)class_data_bits_t</h4><ul>
<li><code>class_data_bits_t</code>主要是对<code>class_rw_t</code>的封装</li>
<li><code>class_rw_t</code> 代表类相关的<code>读写</code>信息, 对class_ro_t的封装</li>
<li><code>class_ro_t</code>代表类相关的<code>只读</code>信息</li>
</ul>
<h4 id="7-class-rw-t"><a href="#7-class-rw-t" class="headerlink" title="7) class_rw_t"></a>7) class_rw_t</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-83d7cd985ec5901e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="class_rw_t数据结构"></p>
<p>为一个类添加分类中的协议 属性 方法都在protocols properties methods 这三个结构中.这三个数据结构是一个二维数组(list_array_tt)</p>
<h4 id="8-class-ro-t"><a href="#8-class-ro-t" class="headerlink" title="8) class_ro_t"></a>8) class_ro_t</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-f17fffe66c9d3806.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="class_ro_t数据结构"></p>
<p>class_ro_t 中一维数组 ivars protocols properties methodList 存储的原始类定义添加的成员变量 协议 属性和方法列表</p>
<h3 id="二-runtime整体数据结构"><a href="#二-runtime整体数据结构" class="headerlink" title="二.runtime整体数据结构"></a>二.runtime整体数据结构</h3><h4 id="1-method-t"><a href="#1-method-t" class="headerlink" title="1) method_t"></a>1) method_t</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-0dcb1eb609e4139f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="method_t结构"></p>
<p>method_t结构体封装了函数四要素，其中名称通过SEL方法选择器表示，返回值和参数则由“Type Encodings”类型的字符串表示，函数体则指代了IMP函数指针。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/126164-610472e04164e9a9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="types结构"></p>
<p>更多关于<a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html" target="_blank" rel="noopener">Type Encodings</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/126164-c268216bbdadfad0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Type Encodings"></p>
<h4 id="2-runtime整体数据结构"><a href="#2-runtime整体数据结构" class="headerlink" title="2)runtime整体数据结构"></a>2)runtime整体数据结构</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-13d5109ba7ee9a98.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="runtime整体数据结构"></p>
<h3 id="三-实例对象、类对象、元类对象"><a href="#三-实例对象、类对象、元类对象" class="headerlink" title="三 实例对象、类对象、元类对象"></a>三 实例对象、类对象、元类对象</h3><ul>
<li><code>类对象</code>存储实例方法列表等信息 的数据结构</li>
<li><code>元类对象</code>存储类方法列表等信息 的数据结构.</li>
</ul>
<p>关于类对象的isa指针指向可以用下图表示：<br><img src="https://upload-images.jianshu.io/upload_images/126164-96a719177e2d13c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="实例对象 类对象 元类对象关系.png"></p>
<ul>
<li>Root class 是根类,分类父类指向nil, 实际指 NSObject这个类</li>
<li>左侧部分指实例对象, 也就是objc_object这个数据结构,实例isa指向实例对象的类对象</li>
<li>右侧部分指元类对象, 任何元类对象isa指针指向根元类对象,根元类对象自身isa指针指向根元类对象.根元类对象superclass指针指向根类对象</li>
<li>当调用类方法从元类对象方法列表中逐级父类往上查找 , 查找到根元类对象(Root class meta)找不到时, 就会去根类(Root class class)对象中查找同名的实例方法实现.</li>
</ul>
<p>问题:类对象和元类对象有什么区别和联系?<br>答: </p>
<ul>
<li>实例对象可以通过isa指针找到它的类对象</li>
<li>类对象存储实例方法列表等信息,类对象可以通过它的isa指针找到它的元类对象,从而可以访问类方法列表等信息.</li>
<li>类对象和元类对象都是objc_class数据结构,objc_class数据结构由于继承objc_object,所以类对象和元类对象才有isa指针.进而实例对象可以通过isa指针找到对应类对象,访问实例方法列表等信息, 类对象通过isa指针找到元类对象,访问类方法列表等信息.</li>
</ul>
<p>问题:如果调用类方法没有对应的实现, 当时有同名的实例方法实现, 这个时候会不会发生崩溃?会不会产生实际调用?<br>答: 由于根元类对象的superclass指针指向了根类对象, 当查找到根元类对象(Root class meta)类方法找不到时, 就会去根类(Root class class)对象中查找同名的实例方法实现,如果找到调用.</p>
<h3 id="四-消息传递机制"><a href="#四-消息传递机制" class="headerlink" title="四 消息传递机制"></a>四 消息传递机制</h3><h4 id="1-消息传递流程"><a href="#1-消息传递流程" class="headerlink" title="1) 消息传递流程"></a>1) 消息传递流程</h4><p>可以用下图展示消息传递的流程：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/126164-d302eb60caa9de4d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="消息传递流程.png"></p>
<p>注意：在消息缓存中查找是通过<code>哈希表</code>来快速定位函数指针，而在当前类方法列表中查找时，对于已经排序好的列表使用二分查找，而对于没有排序的列表采用一般遍历查找法。</p>
<h4 id="2-缓存查找"><a href="#2-缓存查找" class="headerlink" title="2) 缓存查找"></a>2) 缓存查找</h4><p>例 ：给定值是SEL, 目标值是对应的bucket_t中的IMP.<br><img src="https://upload-images.jianshu.io/upload_images/126164-2a28d08deef6f545.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="缓存查找"></p>
<p>问题:缓存查找具体的是怎样的流程和步骤?<br>答:缓存查找实际上就是从 cache_t中 把对应bucket_t找出来.<br>根据给定的方法选择器,通过一个函数来映射出bucket_t在数组中映射的位置, 实际上就是<code>哈希查找</code>. 哈希查找通过给定的值, 经过哈希函数算法算出的值, 实际为给定值在数组中的索引位置.</p>
<h4 id="3-当前类中查找"><a href="#3-当前类中查找" class="headerlink" title="3)当前类中查找"></a>3)当前类中查找</h4><ul>
<li>对于<code>已排序好</code>的列表, 采用<code>二分查找</code>算法查找方法对应执行函数.</li>
<li>对于<code>没有排序</code>的列表, 采用<code>一般遍历</code>查找方法对应执行函数.</li>
</ul>
<h4 id="4-父类逐级查找"><a href="#4-父类逐级查找" class="headerlink" title="4)父类逐级查找"></a>4)父类逐级查找</h4><p><img src="https://upload-images.jianshu.io/upload_images/126164-0da53c157b8ab188.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="父类逐渐查找流程"></p>
<p>问题: 消息传递机制?<br>答:<br>1)缓存是否命中, 当前类方法列表是否命中, 逐级父类方法列表是否命中<br>2)根据三个方面分别讲述具体情况</p>
<h3 id="五-消息转发流程"><a href="#五-消息转发流程" class="headerlink" title="五 消息转发流程"></a>五 消息转发流程</h3><p><img src="https://upload-images.jianshu.io/upload_images/126164-43ee68cfea943e00.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="消息转发流程.png"></p>
<blockquote>
<p>resolvelnstanceMethod方法中为对象动态添加方法，已达到处理消息未被实现的问题。</p>
</blockquote>
<p>当<code>objc_msgSend</code>方法调用找不到响应的函数名称时就会进行消息转发，主要分为3步:<br>1、动态方法解析<br>调用方法+(BOOL)resolveInstanceMethod:(SEL)sel(实例方法动态解析)和+ (BOOL)resolveClassMethod:(SEL)sel(类方法动态解析)。</p>
<p>2、备援接收者<br>调用方法  - (id)forwardingTargetForSelector:(SEL)aSelector</p>
<p>3、完全转发<br>调用方法- (void)forwardInvocation:(NSInvocation <em>)anInvocation和- (NSMethodSignature </em>)methodSignatureForSelector:(SEL)aSelector</p>
<h3 id="六-Method-Swizzling"><a href="#六-Method-Swizzling" class="headerlink" title="六 Method-Swizzling"></a>六 Method-Swizzling</h3><pre><code>+ (void)load{
    //获取test方法
    Method test = class_getInstanceMethod(self, @selector(test));
    //获取otherTest方法
    Method otherTest = class_getInstanceMethod(self, @selector(otherTest));
    //交换两个方法
    method_exchangeImplementations(test, otherTest);
}

- (void)test{
    NSLog(@&quot;test&quot;);
}
- (void)otherTest{
    //实际上是调用test具体实现
    [self otherTest];
    NSLog(@&quot;otherTest&quot;);
}
</code></pre><h3 id="七-动态添加方法"><a href="#七-动态添加方法" class="headerlink" title="七 动态添加方法"></a>七 动态添加方法</h3><p>问题:是否使用过performSelector: 方法?<br>答:</p>
<pre><code>void testImp (void) {
    NSLog(@&quot;test invoke&quot;);
}

+ (BOOL)resolveInstanceMethod:(SEL)sel {
    // 如果是test方法 打印日志
    if (sel == @selector(test)) {
        NSLog(@&quot;resolveInstanceMethod:&quot;);
        // 动态添加test方法的实现
        class_addMethod(self, @selector(test), testImp, &quot;v@:&quot;);
        //解决了实例方法调用 返回YES
        return YES;
    }else{
        // 返回父类的默认调用
        return [super resolveInstanceMethod:sel];
    }
}
</code></pre><h3 id="八-动态方法解析"><a href="#八-动态方法解析" class="headerlink" title="八 动态方法解析"></a>八 动态方法解析</h3><p>@dynamic  (问题:是否使用过@dynamic 关键字?)</p>
<ul>
<li>动态运行时语言将函数决议推迟到运行时<br>(当把属性标识为@dynamic时, 代表着不需要编译器在编译时为属性生成get方法和set方法的具体实现,而是在运行时具体调用get方法或者set方法时,再去添加具体实现)</li>
<li>编译时语言在编译期进行函数决议<br>(在编译期就确定了方法函数体是哪个, 具体运行过程中不能修改)</li>
</ul>
<h3 id="Runtime面试问题总结"><a href="#Runtime面试问题总结" class="headerlink" title="Runtime面试问题总结"></a>Runtime面试问题总结</h3><p><strong>问题: [obj foo] 和 objc_msgSend()函数之间有什么关系?</strong><br>答: 实际上消息传递, 在编译期处理过程后, [obj foo] 就转变成了objc_magSend(obj, @selector(foo)) , 之后开始runtime消息传递过程</p>
<p><strong>问题:runtime如何通过Selector找到对应的IMP地址的?</strong><br>答:考察消息传递机制.</p>
<ul>
<li>首先查找当前实例所对应类对象的缓存是否有Selector对应缓存的IMP实现, 如果缓存命中了,就把命中缓存函数返回给调用方.</li>
<li>如果缓存没有命中,根据当前类方法列表查找Selector对应的IMP实现</li>
<li>如果当前类没有命中, 在根据当前类superclass指针逐级查找父类方法列表,然后查找Selector对应的IMP实现.</li>
</ul>
<p><strong>问题:能否向编译后的类中添加实例变量?</strong><br>答:(两个点 编译后的类,还是动态添加的类?)<br>不能.<br>由于runtime是支持在运行时动态添加类, 编译之前创建的类,已经完成了实例变量的布局, runtime数据结构中 class_ro_t 编译后没有办法修改的.</p>
<p><strong>问题:能否向动态添加的类中添加实例变量?</strong><br>答:可以. 动态添加的类调用注册类方法前,完成实例变量的添加是可以实现的.  </p>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 Gitalk -->
<div id="gitalk-comment">
    <!-- Gitalk 评论框 -->
<div id="gitalk-container"></div>

<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script src="/js/md5.min.js"></script>

<script>
    var gitalk = new Gitalk({
            clientID: '831359b6ab3a9f127d1b',
            clientSecret: '0022bff5442e5f0135eeddf065b6d72eff9f5ae3',
            repo: 'honkerSK.github.io',
            owner: 'honkerSK',
            admin: ['honkerSK'],
            // facebook-like distraction free mode
            id: md5(location.pathname),
            distractionFreeMode: false
        })
   gitalk.render('gitalk-container')
</script>

</div>
<style>
    #gitalk-comment {
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2020/05/23/iOS面试-第4章-内存管理相关面试问题/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2020/05/23/iOS面试-第2章-Objective-C语言特性相关面试问题/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar2.png" alt="codeTao's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        geeksk54@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: geeksk54@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2020/07/">七月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/06/">六月 2020<span class="sidebar_archives-count">32</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/05/">五月 2020<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">39</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">3</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Tool/">Tool<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS/">iOS<span class="sidebar_archives-count">33</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS文档/">iOS文档<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS笔记/">iOS笔记<span class="sidebar_archives-count">40</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端/">前端<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/categories/随笔/">随笔<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">tab</i>
                
                标签云
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">send</i>
                
                时间轴
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">101</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;codeTao
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- GitTalk -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 0000;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
